!function(L,W,y){"use strict";var X="ht",P=L[X],A=P.Default,s=A.isTouchable,z=P.Color,t="px",n="0",$="innerHTML",Z="className",g="position",b="absolute",l="width",j="height",M="left",K="top",a="right",G="bottom",H="max-width",O="max-height",I=null,f="none",h="",R=L.parseInt,Y=L.setTimeout,S=A.getInternal(),k=A.animate,J=z.titleIconBackground,x=function(){return document},i=function(M){return x().createElement(M)},B=function(){return i("div")},V=function(){return i("canvas")},D=function(f,O,T){f.style.setProperty(O,T,I)},q=function(Y,G){return Y.style.getPropertyValue(G)},r=function(z,Y){z.appendChild(Y)},C=function(f,l){f.removeChild(l)},F=A.eventListenerOptionsFalse,U=(A.eventListenerOptionsTrue,function(q,w,A,c){q.addEventListener(w,A,c?F:F)}),u=function(h){var w=h.scrollWidth,o=h.scrollHeight;return h===x().body&&(w=Math.max(w,x().documentElement.scrollWidth),o=Math.max(o,x().documentElement.scrollHeight)),{width:w,height:o}},v=function(q){var T=q.touches[0];return T?T:q.changedTouches[0]};S.addMethod(A,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:J,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:J}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:J},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:J}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:J},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:J}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:J},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:J},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:J},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:J}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:J},{type:"rect",rect:[10,118,268,56],background:J},{type:"rect",rect:[10,213,268,56],background:J}]},panelTitleLabelColor:A.labelSelectColor,panelTitleLabelFont:A.labelFont,panelContentLabelFont:A.labelFont,panelTitleBackground:z.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:y},!0);var Q=P.widget.Panel=function(A){var m=this,u=m._view=S.createView(null,m);m.$1i=0,m.$18i=new P.Notifier,m.$2i="leftTop",D(u,K,n),D(u,M,n),D(u,g,b),D(u,"overflow","hidden"),m._interactor=new e(m),m.setConfig(A),m.addEventListener(function(t){var N=m.getPanelConfig(t.id),J=N.content;("beginRestore"===t.kind||"betweenResize"===t.kind||"endToggle"===t.kind)&&(J&&J.invalidate&&J.invalidate(),N.items&&N.items.forEach(function(y){y&&y.content&&y.content.invalidate&&y.content.invalidate()}))})};A.def(Q,W,{ms_v:1,_dragContainment:"parent",setConfig:function(X){function e(r){r.expanded=!r.expanded,i.togglePanel(r.id,!0,!0)}if(X){for(var i=this,V=i._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);i._config=X,i.$35i=[],X.expanded==I&&(X.expanded=X.expand!=I?X.expand:!0);var M=i._view,q=i.$24i(X,M,!0),P=q[2],z=X.width;i.$35i.push(q[1]),X.items&&X.items.forEach(function(t){t.expanded==I&&(t.expanded=t.expand!=I?t.expand:!0);var G=i.$24i(t,P.children[0]);i.$35i.push(G[1])});var A=B();D(A,l,10+t),D(A,j,10+t),D(A,g,b),D(A,G,n),D(A,a,n),A[Z]="resize-area",r(M,A),i.$10i(),X.flowLayout&&D(M,g,"relative"),D(M,"opacity",n),r(x().body,M),z==I&&(z=M.offsetWidth),D(M,l,z+t),D(M,H,z+t);var k=X.content;k&&k.isSelfViewEvent&&(k.setX(0),k.setY(0),k.setWidth(z-2*(X.borderWidth||0)),k.setHeight(X.contentHeight)),X.items&&X.items.forEach(function(N){e(N)}),X.buttons&&X.buttons.indexOf("toggle")<0||e(X),X.minimized==I&&X.minimize!=I&&(X.minimized=X.minimize),X.minimized&&X.minimizable!==!1&&i.minimize(!0),C(x().body,M),D(M,"opacity",h),V&&r(V,M),i.iv()}},getPanelConfig:function(X){var O=this,A=O._config,z=A.items;if(A.id===X)return A;if(z)for(var m=0;m<z.length;m++){var I=z[m];if(I.id===X)return I}},getPanelView:function(J){for(var x=this,r=x.$35i,A=0;A<r.length;A++){var j=r[A],Y=j.parentNode;if(Y.$15i===J)return Y}},setDragContainment:function(m){this._dragContainment=m},getDragContainment:function(){return this._dragContainment},$20i:function(){var F=this._config,T=F.restoreIconSize||24;return T},$5i:function(o){var W=o.titleIconSize||16;return s&&(W*=1.2),W},$4i:function(h){var C=h.titleHeight||A.widgetTitleHeight;return C},setTitle:function(q,M){if(M==I&&(M=this._config.id),M!=I){var Q=this.getPanelConfig(M),R=this.getPanelView(M);Q.title=q,R.querySelector(".panel-title span").innerHTML=q}},setInnerPanel:function(t){var e,v,F=this,J=t.id,A=F.$35i,h=!1;if(t.expanded==I&&(t.expanded=!0),J!=I){var H=F.getPanelConfig(J);if(H){h=!0;var u,r=F.getPanelView(J),P=r.parentNode,m=r.children[0];if(r!==F._view){F.$11i();for(u in H)delete H.key;for(u in t)H[u]=t[u];e=F.$24i(t,P,!1,r),v=e[1],P.removeChild(r);for(var f=0;f<A.length;f++)if(A[f]===m){A.splice(f,1,v);break}F.$12i(),H.expanded=!H.expanded,F.togglePanel(H.id,!0,!0),F.iv()}}}if(!h){F.$11i(),e=F.$24i(t,F._view.children[1]),v=e[1],A.push(v),F._config.items||(F._config.items=[]);var Z=F._config.items;if(Z.push(t),F.$12i(),Z.length>1){var k=Z[Z.length-2],M=F.getPanelView(k.id).children[0];D(M,"border-bottom",F.$55i(k))}t.expanded=!t.expanded,F.togglePanel(t.id,!0,!0),F.iv()}},removeInnerPanel:function(u){var J,l=this,W=-1,T=l._config.items;if(T)for(J=0;J<T.length;J++){var U=T[J];if(U.id===u){W=J;break}}if(l.$11i(),W>=0){var L=l.$35i,z=l.getPanelView(u),a=z.children[0];for(J=0;J<L.length;J++)if(L[J]===a){L.splice(J,1);break}T.splice(W,1),z.parentNode.removeChild(z)}if(l.$12i(),T.length>0){var x=T[T.length-1],p=l.getPanelView(x.id).children[0];D(p,"border-bottom",l.$55i(x))}},$6i:function(b){D(b,"cursor","pointer"),D(b,"display","inline-block"),D(b,"margin-right",(s?8:4)+t),D(b,"vertical-align",K)},$24i:function(b,m,h,E){var T=this,K=T._config.flowLayout,o=h?m:B(),v=T.$50i(b),w=T.$3i(b,h);o[Z]="ht-widget-panel"+(h?" outer-panel":" inner-panel"),b.borderWidth==I&&(b.borderWidth=h?2:0);var l=b.borderWidth;if(l="0 "+l+t+" "+l+t+" "+l+t+" ",D(o,"border-width",l),D(o,"border-color",b.titleBackground||A.panelTitleBackground),D(o,"border-style","solid"),r(o,w),r(o,v),h||(E?m.insertBefore(o,E):r(m,o)),!K&&h&&b.minimizable!==!1){var i=V(),x=T.$20i(),W=b.restoreToolTip;S.setCanvas(i,x,x),i[Z]="control-button button-minimize button-minimize-restore",T.$6i(i),D(i,"display","none"),r(m,i),i.title=W||""}var M=b.panelBackground||b.titleBackground||A.panelTitleBackground;if(D(o,"background-color",M),b.id==I){for(var e=T.$1i++;T.getPanelConfig(e);)e=T.$1i++;b.id=e}return o.$15i=b.id,b.width&&(o.style.width=b.width+t),[o,w,v]},$9i:function(o){var U=V();U[Z]="control-button button-toggle button-toggle-expand",U.title=o.toggleToolTip||"";var u=this.$4i(o),h=this.$5i(o);return this.$6i(U),S.setCanvas(U,h,u),U},$8i:function(H){var T=V(),e="control-button button-independent-switch";T[Z]=H.independent===!0?e+" button-independent-switch-on":e+" button-independent-switch-off",T.title=H.independentSwitchToolTip||"";var p=this.$4i(H),r=this.$5i(H);return this.$6i(T),S.setCanvas(T,r,p),T},$7i:function(_){var R=V();R[Z]="control-button button-minimize button-minimize-minimize",R.title=_.minimizeToolTip||"";var H=this.$4i(_),X=this.$5i(_);return this.$6i(R),S.setCanvas(R,X,H),R},$55i:function(H){var w=this._config,m=w.items,n=H.separatorWidth||A.panelSeparatorWidth,C=H.titleBackground||A.panelTitleBackground,q=H.expanded!==!1?C:H.separatorColor||A.panelSeparatorColor||A.brighter(C);return(w===H||m&&m.indexOf(H)===m.length-1)&&(n=0),n+t+" solid "+q},$3i:function(u,k){var F=this,p=F._config.flowLayout,X=B(),R=B(),f=F.$4i(u),x=u.titleBackground,N=u.titleColor,c=u.titleIcon,s=u.buttons;if(X[Z]="panel-title",D(X,g,"relative"),D(X,"background",x||A.panelTitleBackground),D(X,"color",N||A.panelTitleLabelColor),D(X,K,n),D(X,"box-sizing","border-box"),D(X,"-moz-box-sizing","border-box"),D(X,"padding","0 5px 0 0"),D(X,l,"100%"),D(X,"cursor","default"),D(X,"white-space","nowrap"),D(X,"font",A.panelTitleLabelFont),c){var w=V();w[Z]="control-button panel-title-icon";var L=F.$4i(u),O=F.$5i(u);F.$6i(w),S.setCanvas(w,O,L),r(X,w)}var d=i("span");D(d,"display","inline-block"),D(d,"margin-left","5px"),d[$]="<span>"+u.title+"</span>",r(X,d),D(X,"line-height",f+t),R[Z]="panel-title-controls",D(R,g,b),D(R,M,n),D(R,a,5+t),D(R,K,n),D(R,G,n),D(R,"text-align",a);var C=function(){var E=F.$9i(u);r(R,E)},H=function(){if(!p&&k&&u.minimizable!==!1){var z=F.$7i(u);r(R,z)}},P=function(){if(!k){var I=F.$8i(u);r(R,I)}},v=function(k){var c=V();c[Z]="control-button custombutton-"+k.name,c.title=k.toolTip||"",c._action=k.action;var d=F.$4i(u),y=F.$5i(u);F.$6i(c),S.setCanvas(c,y,d),r(R,c)};if(s)for(var _=0;_<s.length;_++){var W=s[_];"string"==typeof W?"minimize"===W?H():"independentSwitch"===W?P():"toggle"===W&&C():"object"==typeof W&&v(W)}else H(),C();return r(X,R),X},$50i:function(Y){var M=B(),u=Y.contentHeight,c=B();D(c,g,"relative"),M[Z]="panel-body",D(M,"overflow","hidden");var b=Y.contentBackground;if(b===y&&(b="white"),D(M,"background",b),D(M,"font",A.panelContentLabelFont),r(M,c),Y.content){var m,n=Y.content;n.getView?(r(c,n.getView()),m=c.children[0]):n instanceof Element?(r(c,n),m=c.children[0]):c[$]=n,n.isSelfViewEvent||m&&(D(m,l,"100%"),D(m,j,"100%")),u&&D(c,j,u+t)}return M},$10i:function(){var e=this,Q=e._config,A=e._view,u=A.querySelector(".resize-area").style;u.display=Q.flowLayout||Q.minimized===!0||Q.expanded===!1?f:"block"},$11i:function(){var B=this._view,Z=B.children[1];this.$13i>=0?this.$13i++:this.$13i=1,D(Z,O,h),D(B,H,h)},$12i:function(){var w=--this.$13i;if(0===w){var E=this._view,j=E.children[1];D(j,O,j.scrollHeight+t),D(E,H,E.offsetWidth+t)}},$14i:function(){var j=this._view,t=j.children[0],O=t.children[1].children,v=this._config,A=0;j.$26i=j.offsetWidth,A+=t.children[0].offsetWidth,v.titleIcon&&(A+=t.children[1].offsetWidth,O=t.children[2].children);for(var M=0;M<O.length;M++){var R=O[M];A+=R.offsetWidth+5}j.$51i=A+15},togglePanel:function(e,j,C){function Y(V){var X=V.target,d=X.parentNode,o=x.getPanelConfig(d.$15i);delete d.$19i,X!==z&&x.$12i(),x.$18i.fire({kind:"endToggle",target:x,id:o.id})}for(var x=this,i=x._view,z=i.children[1],T=I,m=x.$35i,S=m.length,F=x._config.exclusive,L=x.$2i,E=[],g=x._config.narrowWhenCollapse,Q=0;S>Q;Q++){var N=m[Q],R=N.parentNode,y=R.$15i,A=x.getPanelConfig(y);y===e&&(T=R),!j&&F&&A.expanded&&R!==i&&y!==e&&A.independent!==!0&&E.push(R)}if(T&&!T.$19i){T.$19i=!0;var p=T.children[1],K=T.querySelector(".button-toggle"),X=x.getPanelConfig(T.$15i);if(!K)return;T===i||X.expanded||X.independent===!0||E.forEach(function(s){x.togglePanel(s.$15i,!0)}),T!==i&&x.$11i();var v=200;if(C&&(v=0),x.$18i.fire({kind:"beginToggle",target:x,id:T.$15i}),X.expanded){var U=function(){K[Z]="control-button button-toggle",K[Z]+=L.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",D(p,l,p.clientWidth+t),X.expanded=!1,D(T.children[0],"border-bottom",x.$55i(X)),k(p).duration(v).set("opacity",n).set(O,n).end(Y),g&&T===i&&k(T).duration(v).set(H,T.$51i+t).end(),T[Z]+=" panel-collapse",k(T).duration(v).set("padding-bottom",n).end(),x.$28i(X,!0),x.$10i()};g&&T===i&&x.$14i(),U()}else K[Z]="control-button button-toggle",K[Z]+=L.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",D(p,l,h),X.expanded=!0,D(T.children[0],"border-bottom",x.$55i(X)),k(p).duration(v).set("opacity","1").set(O,p.scrollHeight+t).end(Y),g&&T===i&&k(T).duration(v).set(H,(T.$26i||T.offsetWidth)+t).end(),T[Z]=T[Z].replace(" panel-collapse",h),k(T).duration(v).end(),x.$28i(X,!0),x.$10i()}},$16i:function(){var $=this._view,m=$.$22i,K=$.$23i,R=this.$2i;return m==I&&(R.indexOf(M)>=0?m=$.$22i=0:R.indexOf(a)>=0&&(m=$.$22i=100)),K==I&&(R.indexOf("Top")>=0?K=$.$23i=0:R.indexOf("Bottom")>=0&&(K=$.$23i=100)),[m,K]},$25i:function(){var A=this,o=A._view,C=o.$21i,T=A.$20i(),x=A.$16i(),B=x[0],p=x[1],$=A.$2i;o.children[0].style.display=f,o.children[1].style.display=f,o.children[2].style.display=h,D(o,"padding",n),D(o,H,T+t),"leftTop"===$?(D(o,M,R(q(o,M))+(C.width-T)*B/100+t),D(o,K,R(q(o,K))+(C.height-T)*p/100+t)):"leftBottom"===$?(D(o,M,R(q(o,M))+(C.width-T)*B/100+t),D(o,G,R(q(o,G))+(C.height-T)*(1-p/100)+t)):"rightTop"===$?(D(o,a,R(q(o,a))+(C.width-T)*(1-B/100)+t),D(o,K,R(q(o,K))+(C.height-T)*p/100+t)):"rightBottom"===$&&(D(o,a,R(q(o,a))+(C.width-T)*(1-B/100)+t),D(o,G,R(q(o,G))+(C.height-T)*(1-p/100)+t)),o[Z]+=" panel-minimized",A.$18i.fire({kind:"endMinimize",target:A,id:o.$15i})},$17i:function(){var B=this,N=B._config,P=B._view;D(P,"-webkit-transform",h),D(P,"-ms-transform",h),D(P,"transform",h),N.minimized?B.$25i():(B.$18i.fire({kind:"endRestore",target:B,id:N.id}),P[Z]=P[Z].replace(" panel-minimized",h)),delete P.$19i},minimize:function(L){var c=this,v=c._view;if(!v.$19i&&v.children[0].style.display!==f){var B=c._config,T=v.getBoundingClientRect(),Q=c.$20i(),t=T.width,p=T.height,q=Q/t,N=Q/p,E=c.$16i(),P=E[0],I=E[1];v.$52i=q,v.$53i=N,v.$21i=T,c.$18i.fire({kind:"beginMinimize",target:c,id:v.$15i});var r=200;L&&(r=0),B.minimized=!0,v.$19i=!0,B.expanded&&(v.$26i=v.offsetWidth);var M=P+"% "+I+"%";D(v,"-webkit-transform-origin",M),D(v,"-ms-transform-origin",M),D(v,"transform-origin",M),k(v).duration(r).scale(q,N).end(function(){c.$17i()}),c.$10i()}},restore:function(){var o,b,V,j,z,p,O,T,N,S,$,c,I=this,n=I._view,s=n.parentNode,L=I._config;if(!n.$19i&&L.minimized){var Z=n.$21i,P=n.$52i,x=n.$53i,m=(L.borderWidth+t,I.$20i()),X=u(s),g=I.$2i;"leftTop"===g?(o=R(q(n,M)),V=R(q(n,K)),z=o,O=V,N=o+Z.width-X.width,S=V+Z.height-X.height,N>0&&(N>=o?o=0:o-=N),S>0&&(S>=V?V=0:V-=S),$=100*((z-o)/(Z.width-m)),c=100*((O-V)/(Z.height-m)),D(n,M,o+t),D(n,K,V+t)):"leftBottom"===g?(o=R(q(n,M)),j=R(q(n,G)),z=o,T=j,N=o+Z.width-X.width,S=j+Z.height-X.height,N>0&&(N>=o?o=0:o-=N),S>0&&(S>=j?j=0:j-=S),$=100*((z-o)/(Z.width-m)),c=100*(1-(T-j)/(Z.height-m)),D(n,M,o+t),D(n,G,j+t)):"rightTop"===g?(b=R(q(n,a)),V=R(q(n,K)),p=b,O=V,N=b+Z.width-X.width,S=V+Z.height-X.height,N>0&&(N>=b?b=0:b-=N),S>0&&(S>=V?V=0:V-=S),$=100*(1-(p-b)/(Z.width-m)),c=100*((O-V)/(Z.height-m)),D(n,a,b+t),D(n,K,V+t)):"rightBottom"===g&&(b=R(q(n,a)),j=R(q(n,G)),p=b,T=j,N=b+Z.width-X.width,S=j+Z.height-X.height,N>0&&(N>=b?b=0:b-=N),S>0&&(S>=j?j=0:j-=S),$=100*(1-(p-b)/(Z.width-m)),c=100*(1-(T-j)/(Z.height-m)),D(n,a,b+t),D(n,G,j+t)),n.children[0].style.display="block",n.children[1].style.display="block",n.children[2].style.display=f,D(n,"-webkit-transform","scale("+P+", "+x+")"),D(n,"-ms-transform","scale("+P+", "+x+")"),D(n,"transform","scale("+P+", "+x+")"),n.$22i=$,n.$23i=c,D(n,"-webkit-transform-origin",$+"% "+c+"%"),D(n,"-ms-transform-origin",$+"% "+c+"%"),D(n,"transform-origin",$+"% "+c+"%"),L.narrowWhenCollapse&&!L.expanded?D(n,H,n.$51i+t):D(n,H,n.$26i+t),I.$18i.fire({kind:"beginRestore",target:I,id:n.$15i}),n.$19i=!0,L.minimized=!1,Y(function(){k(n).scale(1,1).end(function(){I.$17i()})},30),I.$10i()}},addEventListener:function(c,q,T){this.$18i.add(c,q,T)},removeEventListener:function(R,y){this.$18i.remove(R,y)},setPosition:function(e,u){var x=this._view,s=this.$2i;"leftTop"===s?(D(x,M,e+t),D(x,K,u+t),D(x,a,h),D(x,G,h)):"leftBottom"===s?(D(x,M,e+t),D(x,G,u+t),D(x,a,h),D(x,K,h)):"rightTop"===s?(D(x,a,e+t),D(x,K,u+t),D(x,M,h),D(x,G,h)):"rightBottom"===s&&(D(x,a,e+t),D(x,G,u+t),D(x,M,h),D(x,K,h)),delete x.$22i,delete x.$23i},getPosition:function(){var m=this._view,D=this.$2i;return"leftTop"===D?{x:R(q(m,M)),y:R(q(m,K))}:"leftBottom"===D?{x:R(q(m,M)),y:R(q(m,G))}:"rightTop"===D?{x:R(q(m,a)),y:R(q(m,K))}:"rightBottom"===D?{x:R(q(m,a)),y:R(q(m,G))}:void 0},setPositionRelativeTo:function(k){var P=this,A=P._view.querySelectorAll(".button-toggle"),N="control-button button-toggle",J=P.getPosition();P.$2i=k,P.setPosition(J.x,J.y);for(var $=0;$<A.length;$++){var E=A[$],m=P.getPanelConfig(E.parentNode.parentNode.parentNode.$15i);E[Z]=m.expanded?k.indexOf("Bottom")>=0?N+" button-toggle-collapse":N+" button-toggle-expand":k.indexOf("Bottom")>=0?N+" button-toggle-expand":N+" button-toggle-collapse"}P.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(B){var e=this;e._68I||(e._68I=1,A.callLater(e.validate,e,I,B),e.onInvalidated&&e.onInvalidated(),e.fireViewEvent("invalidate"));var R=this._config,k=R.content;k&&k.invalidate&&k.invalidate(),R.items&&R.items.forEach(function(G){G&&G.content&&G.content.invalidate&&G.content.invalidate()})},getIconStretch:function(){var k=this._config.iconStretch||"fill";return k},$27i:function(a,u,X,H,j){var p=S.initContext(a);S.translateAndScale(p,0,0,1),p.clearRect(0,0,X,X);var l=(X-H)/2;A.drawStretchImage(p,A.getImage(u),this.getIconStretch(j),0,l,H,H),p.restore()},$28i:function(z){var Q,l,B,R=this,s=z.id,e=R.getPanelView(s),v=e.querySelector(".button-toggle"),H=R.$2i.indexOf("Bottom")>=0;if(l=H?A.panelCollapseIcon:A.panelExpandIcon,B=H?A.panelExpandIcon:A.panelCollapseIcon,v){Q=z.expanded?A.getImage(B):A.getImage(l);var J=R.$4i(z),F=R.$5i(z);R.$27i(v,Q,J,F,"toggle")}},$29i:function(j){var r,d=this,F=j.id,T=d.getPanelView(F),L=T.querySelector(".button-independent-switch"),U=A.panelUnLockIcon,o=A.panelLockIcon;if(L){r=j.independent!==!0?A.getImage(o):A.getImage(U);var f=d.$4i(j),y=d.$5i(j);d.$27i(L,r,f,y,"switch")}},$30i:function(U){var C=this,s=U.id,j=C.getPanelView(s),o=j.querySelector(".button-minimize-minimize"),D=A.panelMinimizeIcon;if(o){var m=C.$4i(U),p=C.$5i(U);C.$27i(o,A.getImage(D),m,p,"miminize")}},$31i:function(S){var C=this,_=S.id,Z=C.getPanelView(_),l=Z.querySelector(".button-minimize-restore"),d=S.titleIcon||A.panelRestoreIcon;if(l){var G=C.$20i();C.$27i(l,A.getImage(d),G,G,"restore")}},$32i:function($){var K=this,q=$.id,B=K.getPanelView(q);if($.buttons){var T=$.buttons;T.forEach(function(f){var b=f.name,E=f.icon;if(b&&E){var G=B.querySelector(".custombutton-"+b);if(G){var W=K.$4i($),i=K.$5i($)-1;K.$27i(G,A.getImage(E),W,i,"custom")}}})}},$33i:function(o){var t=this,E=o.id,B=t.getPanelView(E),O=B.querySelector(".panel-title-icon"),D=o.titleIcon;if(O&&D){var I=t.$4i(o),x=t.$5i(o);t.$27i(O,A.getImage(D),I,x,"title")}},validateImpl:function(){var e=this,l=e._config;e.$28i(l),e.$30i(l),e.$31i(l),e.$32i(l),e.$33i(l),l.items&&l.items.forEach(function(s){e.$28i(s),e.$29i(s),e.$32i(s)})}});var e=function(S){var w=this,F=S.getView();w.$34i=S,w.addListeners(),U(F,"dblclick",w.$42i.bind(w))};A.def(e,W,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function($){for(var z=this.$34i,X=$.target,W=z.$35i,f=W.length,K=0;f>K;K++){var j=W[K];j.contains(X)&&($.preventDefault(),z.togglePanel(j.parentNode.$15i))}},handle_touchstart:function(L){var G=this,C=G.$34i,O=C._config,o=O.flowLayout,F=L;if(A.preventDefault(L),A.isLeftButton(L)){var b=L.target,$=C.getView().children[0],V=C.getView().querySelector(".button-minimize-restore");s&&(F=v(L));var W=G.$40i={x:F.pageX,y:F.pageY};G.$41i={x:W.x,y:W.y},(!o&&$.contains(b)||V&&V.contains(b))&&(G.$38i=!0,A.startDragging(G,L)),!o&&G.handle_mousemove(L)&&(G.$37i=!0,A.startDragging(G,L),C.$11i())}},handle_mousedown:function(T){this.handle_touchstart(T)},handle_touchend:function(V){var W=this,L=W.$34i,t=V.target,F=L.$35i,G=F.length,M=0,m=L.getView(),C=m.querySelector(".button-minimize"),r=m.querySelector(".button-minimize-restore");if(!W.$39i&&!W.$36i){if(C&&C.contains(t)||r&&r.contains(t))V.preventDefault(),L._config.minimized?L.restore():L.minimize();else for(;G>M;M++){var H=F[M],Q=H.parentNode,$=Q.$15i,k=L.getPanelConfig($),X=H.querySelector(".button-toggle"),l=H.querySelector(".button-independent-switch");if(X===t)V.preventDefault(),L.togglePanel($);else if(l===t){V.preventDefault();var i="button-independent-switch-off",D="button-independent-switch-on";k.independent=k.independent==I?!0:!k.independent,l[Z]=k.independent?l[Z].replace(i,D):l[Z].replace(D,i),L.$29i(k)}else t[Z]&&t[Z].indexOf("control-button custombutton-")>=0&&H.contains(t)&&t._action.call(L,k,L.getPanelView($),V)}delete W.$40i,delete W.$41i}},handle_mouseup:function(y){this.handle_touchend(y)},handleWindowTouchEnd:function(){var Y=this,G=Y.$34i;Y.$37i&&Y.$36i?(G.$18i.fire({kind:"endResize",target:G,id:G.getView().$15i}),G.$12i()):Y.$38i&&Y.$39i&&G.$18i.fire({kind:"endMove",target:G,id:G.getView().$15i}),this.clear()},handleWindowMouseUp:function(F){this.handleWindowTouchEnd(F)},handle_mousemove:function(I){var w=this,$=w.getView(),t=$.querySelector(".resize-area"),Q=t.getBoundingClientRect(),f={x:Q.left,y:Q.top,width:Q.width,height:Q.height};I=s?v(I):I;var F=I.clientX,y=I.clientY,k=w.$34i._config;return k.expanded&&k.minimized!==!0&&A.containsPoint(f,{x:F,y:y})?($.style.cursor="nwse-resize",!0):($.style.cursor=h,void 0)},handleWindowTouchMove:function(U){U.preventDefault();var m=U;s&&(m=v(U));var x=this,W=x.$40i,$=x.$41i;if(!($.x==W.x&&$.y==W.y&&A.getDistance($,{x:m.pageX,y:m.pageY})<=1)){var S=x.$34i,H=x.getView(),p=H.parentNode,V=S._config,C=V.resizeMode||"wh",Z=m.pageX-W.x,g=m.pageY-W.y,y=S.$2i;if(x.$37i){var I=H.children[1].children[0],Y=H.offsetWidth,X=I.offsetHeight,J=Y+Z,r=X+g;J=Math.max(J,100),r=Math.max(r,100),"w"===C?(D(H,l,J+t),V.width=J):"h"===C?(D(I,j,r+t),V.contentHeight=r):"wh"===C&&(D(H,l,J+t),D(I,j,r+t),V.width=J,V.contentHeight=r),y.indexOf("right")>=0&&D(H,a,R(q(H,a))-(J-Y)+t),y.indexOf("Bottom")>=0&&D(H,G,R(q(H,G))-(r-X)+t),W.x=m.pageX,W.y=m.pageY;var T=V.content;T&&T.isSelfViewEvent&&(T.setX(0),T.setY(0),T.setWidth(V.width-2*(V.borderWidth||0)),T.setHeight(V.contentHeight)),x.$36i?S.$18i.fire({kind:"betweenResize",target:S,id:S.getView().$15i}):(x.$36i=!0,S.$18i.fire({kind:"beginResize",target:S,id:S.getView().$15i}))}else if(x.$38i){var L,b,d,i,F,N,h,_,P,O,n=H.getBoundingClientRect(),o=n.width,e=n.height,w=u(p),z=w.width,E=w.height,c=S._dragContainment;"leftTop"===y?(L=R(q(H,M))||0,d=R(q(H,K))||0,F=L+Z,h=d+g,"parent"===c&&(F+o>z&&(F=z-o),h+e>E&&(h=E-e),0>F&&(F=0),0>h&&(h=0)),P=F-L,O=h-d,S.setPosition(F,h),W.x+=P,W.y+=O):"rightBottom"===y?(b=R(q(H,a))||0,i=R(q(H,G))||0,N=b-Z,_=i-g,"parent"===c&&(0>N&&(N=0),0>_&&(_=0),N+o>z&&(N=z-o),_+e>E&&(_=E-e)),P=N-b,O=_-i,S.setPosition(N,_),W.x-=P,W.y-=O):"rightTop"===y?(b=R(q(H,a))||0,d=R(q(H,K))||0,N=b-Z,h=d+g,"parent"===c&&(0>N&&(N=0),0>h&&(h=0),N+o>z&&(N=z-o),h+e>E&&(h=E-e)),P=N-b,O=h-d,S.setPosition(N,h),W.x-=P,W.y+=O):"leftBottom"===y&&(L=R(q(H,M))||0,i=R(q(H,G))||0,F=L+Z,_=i-g,"parent"===c&&(0>F&&(F=0),0>_&&(_=0),F+o>z&&(F=z-o),_+e>E&&(_=E-e)),P=F-L,O=_-i,S.setPosition(F,_),W.x+=P,W.y-=O),x.$39i?S.$18i.fire({kind:"betweenMove",target:S,id:S.getView().$15i}):(x.$39i=!0,S.$18i.fire({kind:"beginMove",target:S,id:S.getView().$15i}))}}},handleWindowMouseMove:function(M){this.handleWindowTouchMove(M)}});var N=P.widget.PanelGroup=function(c){var C=this,r=C._view=S.createView(null,C);r.style.border="1px dashed black",r.style.position="absolute",r.style.background="rgba(120, 120, 120, 0.4)",C.$48i=new P.List,C._tolerance=100,C._config=c||{hGap:0,vGap:0},C.bindHandlePanelMove=C.handlePanelMove.bind(C),C.bindHandlePanelEvent=C.handlePanelEvent.bind(C),C.invalidate()};A.def(N,W,{invalidate:function(){var J=this;J._68I||(J._68I=1,Y(function(){J.validate()},50))},validate:function(){if(this._68I){delete this._68I;var L=this.$48i.get(0);if(L){var h=L.getView().parentNode;h&&(this.layoutPanels(h,"leftTop"),this.layoutPanels(h,"rightTop"),this.layoutPanels(h,"leftBottom"),this.layoutPanels(h,"rightBottom"))}}},setLeftTopPanels:function(){var T=this,v=T.$43i,D=T.$48i;v==I&&(v=T.$43i=new P.List);for(var w=0;w<arguments.length;w++){var m=arguments[w];if("string"==typeof m)v.$49i=m;else{if(m._config.flowLayout)continue;m.setPositionRelativeTo("leftTop"),v.contains(m)||v.add(m),D.contains(m)||T.add(m)}}},setRightTopPanels:function(){var d=this,i=d.$44i,s=d.$48i;i==I&&(i=d.$44i=new P.List);for(var G=0;G<arguments.length;G++){var t=arguments[G];if("string"==typeof t)i.$49i=t;else{if(t._config.flowLayout)continue;t.setPositionRelativeTo("rightTop"),i.contains(t)||i.add(t),s.contains(t)||d.add(t)}}},setLeftBottomPanels:function(){var M=this,i=M.$45i,W=M.$48i;i==I&&(i=M.$45i=new P.List);for(var C=0;C<arguments.length;C++){var o=arguments[C];if("string"==typeof o)i.$49i=o;else{if(o._config.flowLayout)continue;o.setPositionRelativeTo("leftBottom"),i.contains(o)||i.add(o),W.contains(o)||M.add(o)}}},setRightBottomPanels:function(){var r=this,M=r.$46i,E=r.$48i;M==I&&(M=r.$46i=new P.List);for(var i=0;i<arguments.length;i++){var p=arguments[i];if("string"==typeof p)M.$49i=p;else{if(p._config.flowLayout)continue;p.setPositionRelativeTo("rightBottom"),M.contains(p)||M.add(p),E.contains(p)||r.add(p)}}},add:function(K){if(!K._config.flowLayout){var Z=this,H=Z.$48i;H.contains(K)||(K.addEventListener(Z.bindHandlePanelMove),K.addEventListener(Z.bindHandlePanelEvent),H.add(K))}},remove:function(x){var c=this,d=c.$48i;d.contains(x)&&(x.removeEventListener(c.bindHandlePanelMove),x.removeEventListener(c.bindHandlePanelEvent),d.remove(x),c.$43i.contains(x)&&c.$43i.remove(x),c.$44i.contains(x)&&c.$44i.remove(x),c.$45i.contains(x)&&c.$45i.remove(x),c.$46i.contains(x)&&c.$46i.remove(x))},layoutPanels:function(d,c,T){var U=this,J=U._config,u=J.hGap||0,N=J.vGap||0;if(d){var z=U.$43i;if("leftBottom"===c?z=U.$45i:"rightTop"===c?z=U.$44i:"rightBottom"===c&&(z=U.$46i),!z)return;var i=z.$49i,O=u,s=N;if(d.contains(U._view)&&d.removeChild(U._view),z&&z.size()>0)for(var W=0;W<z.size();W++){var q=z.get(W),m=q.getView();d=d||m.parentNode,T!==W?q.setPosition(O,s):("leftTop"===c?(U._view.style.right="",U._view.style.bottom="",U._view.style.left=O+t,U._view.style.top=s+t):"leftBottom"===c?(U._view.style.right="",U._view.style.top="",U._view.style.left=O+t,U._view.style.bottom=s+t):"rightTop"===c?(U._view.style.left="",U._view.style.bottom="",U._view.style.right=O+t,U._view.style.top=s+t):"rightBottom"===c&&(U._view.style.left="",U._view.style.top="",U._view.style.right=O+t,U._view.style.bottom=s+t),U._view.style.width=m.offsetWidth+t,U._view.style.height=m.offsetHeight+t,d.insertBefore(U._view,m)),"h"===i?O+=m.offsetWidth+u:"v"===i&&(s+=m.offsetHeight+N)}}},handlePanelEvent:function(o){if("beginToggle"===o.kind||"endToggle"===o.kind||"beginRestore"===o.kind||"endMinimize"===o.kind||"endResize"===o.kind){var x=this,T=o.target,G=T.getView(),l=G.parentNode,e=x.$43i,K=x.$44i,u=x.$45i,E=x.$46i,Z=x._config,Q=I,v=I,b=T.$47i;if(b==I&&(b=T.$47i=0),"beginToggle"===o.kind?b=T.$47i=b+1:"endToggle"===o.kind&&(b=T.$47i=b-1),e&&e.contains(T)?(Q="leftTop",v=e):u&&u.contains(T)?(Q="leftBottom",v=u):K&&K.contains(T)?(Q="rightTop",v=K):E&&E.contains(T)&&(Q="rightBottom",v=E),"beginToggle"===o.kind&&Q&&1===b){var F=B(),r=F.style,z=v.$49i,p="each";r.fontSize="0",r.position="absolute",r.width="100%","leftTop"===Q?(r.left=0,r.top=0):"leftBottom"===Q?(r.left=0,r.bottom=0,"v"===z&&(p="reverseEach")):"rightTop"===Q?(r.right=0,r.top=0,r.textAlign="right","h"===z&&(p="reverseEach")):"rightBottom"===Q&&(r.right=0,r.bottom=0,r.textAlign="right",p="reverseEach"),v[p](function(S){var A=S.getView(),H=A.style,r=B();H.position="static",r.style.textAlign="left",r.style.position="relative",r.style.display="inline-block","leftTop"===Q?(r.style.marginLeft=Z.hGap+t,r.style.marginTop=Z.vGap+t):"leftBottom"===Q?(r.style.marginLeft=Z.hGap+t,r.style.marginBottom=Z.vGap+t):"rightTop"===Q?(r.style.marginRight=Z.hGap+t,r.style.marginTop=Z.vGap+t):"rightBottom"===Q&&(r.style.marginRight=Z.hGap+t,r.style.marginBottom=Z.vGap+t),r.appendChild(A),F.appendChild(r),"h"===z?r.style.verticalAlign="leftTop"===Q||"rightTop"===Q?"top":"bottom":F.appendChild(i("br"))}),x.$54i=F,l.appendChild(F)}else"endToggle"===o.kind&&Q&&0===b?Y(function(){l=l.parentNode.parentNode,l.removeChild(x.$54i),delete x.$54i,v.each(function(i){var H=i.getView(),n=H.style;n.position="absolute",l.appendChild(H)}),x.layoutPanels(l,Q)},30):("beginRestore"===o.kind||"endMinimize"===o.kind||"endResize"===o.kind)&&Q&&x.layoutPanels(l,Q)}},handlePanelMove:function(i){if(!(i.kind.indexOf("Move")<0)){var G=this,S=G._config,s=S.hGap||0,X=S.vGap||0,H=i.target,m=H._view,B=m.getBoundingClientRect(),t=B.width,A=B.height,g=t/2,z=A/2,J=m.parentNode,M=G.$43i,n=G.$44i,o=G.$45i,d=G.$46i,p=J.getBoundingClientRect(),Y=G._tolerance;if("endMove"===i.kind){var F=G._corner;F&&(H.setPositionRelativeTo(F),G.layoutPanels(J,F)),delete G._corner}if("betweenMove"===i.kind){var L=p.left,j=p.top,K=p.width,y=p.height,D=B.left+t/2,a=B.top+A/2;M==I&&(M=G.$43i=new P.List),o==I&&(o=G.$45i=new P.List),n==I&&(n=G.$44i=new P.List),d==I&&(d=G.$46i=new P.List),delete G._corner,M.contains(H)?(M.remove(H),G.layoutPanels(J,"leftTop")):o.contains(H)?(o.remove(H),G.layoutPanels(J,"leftBottom")):n.contains(H)?(n.remove(H),G.layoutPanels(J,"rightTop")):d.contains(H)&&(d.remove(H),G.layoutPanels(J,"rightBottom"));var E=function(v,q){var F=L+s,A=j+X;if(0===q.size()){var t=F+g,N=A+z;"leftBottom"===v?N=j+y-X-z:"rightTop"===v?t=L+K-s-g:"rightBottom"===v&&(t=L+K-s-g,N=j+y-X-z);var W=D-t,i=a-N,n=Math.sqrt(W*W+i*i);if(Y>n)return G._corner=v,q.add(H),G.layoutPanels(J,v,0),!0}else if(1===q.size()){var l=q.get(0),d=l.getView().getBoundingClientRect(),k=d.left+g,B=d.top+z,o=d.left+d.width+s+g,P=A+z,U=F+g,b=d.top+d.height+X+z;"leftBottom"===v?(B=d.top+d.height-z,P=j+y-X-z,b=d.top-X-z):"rightTop"===v?(k=d.left+d.width-g,o=d.left-s-g,U=L+K-s-g):"rightBottom"===v&&(k=d.left+d.width-g,B=d.top+d.height-z,o=d.left-s-g,P=j+y-X-z,U=L+K-s-g,b=d.top-X-z);var c=D-k,V=a-B,r=D-o,$=a-P,m=D-U,Z=a-b,C=R(Math.sqrt(c*c+V*V)),w=R(Math.sqrt(r*r+$*$)),T=R(Math.sqrt(m*m+Z*Z)),S=[C,w,T];S.sort(function(Z,s){return Z-s});var M=S[0];if(Y>M){if(G._corner=v,M===C)return q.add(H,0),G.layoutPanels(J,v,0),!0;if(M===w)return q.add(H),q.$49i="h",G.layoutPanels(J,v,1),!0;if(M===T)return q.add(H),q.$49i="v",G.layoutPanels(J,v,1),!0}}else if(q.size()>1){for(var h=I,Q={},x=[],p=q.$49i,u=0;u<q.size();u++){var f=q.get(u),e=f.getView(),E=e.getBoundingClientRect(),O=E.left+g,_=E.top+z;"leftBottom"===v?_=E.top+E.height-z:"rightTop"===v?O=E.left+E.width-g:"rightBottom"===v&&(O=E.left+E.width-g,_=E.top+E.height-z),u===q.size()-1&&(h=E);var W=D-O,i=a-_,n=R(Math.sqrt(W*W+i*i));Q[n]=u,x.push(n)}"leftTop"===v&&"h"===p?(t=h.left+h.width+s+g,N=A+z):"leftTop"===v&&"v"===p?(t=F+g,N=h.top+h.height+X+z):"leftBottom"===v&&"h"===p?(t=h.left+h.width+s+g,N=j+y-X-z):"leftBottom"===v&&"v"===p?(t=F+g,N=h.top-X-z):"rightTop"===v&&"h"===p?(t=h.left-s-g,N=A+z):"rightTop"===v&&"v"===p?(t=L+K-s-g,N=h.top+h.height+X+z):"rightBottom"===v&&"h"===p?(t=h.left-s-g,N=j+y-X-z):"rightBottom"===v&&"v"===p&&(t=L+K-s-g,N=h.top-X-z),W=D-t,i=a-N,n=R(Math.sqrt(W*W+i*i)),Q[n]=u,x.push(n),x.sort(function(F,t){return F-t});var M=x[0];if(Y>M)return G._corner=v,q.add(H,Q[M]),G.layoutPanels(J,v,Q[M]),!0}};E("leftTop",M)||E("leftBottom",o)||E("rightTop",n)||E("rightBottom",d)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);