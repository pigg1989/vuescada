!function(U){"use strict";var t="ht",H=U[t],x=H.Default,w=Math,C=(w.PI,w.sin,w.cos,w.atan2,w.sqrt,w.max),E=w.floor,R=(w.round,w.ceil),X=H.Shape,z=(H.Edge,H.List),c=H.Style,n=H.graph,Y=x.getInternal(),o=Y.ui(),A=null,F="prototype",W=U.clearInterval,u=U.setInterval,N=function(J){var E=J.data,l=this.dm();if(E&&"add"===J.kind){var D=l.$1c,G=E instanceof X?"shape.":"edge.";D&&E.s(G+"dash.flow")&&D.indexOf(E)<0&&D.push(E)}"clear"===J.kind&&(l.$1c=[])},B=function(y){var m=y.property,D=y.data,K=y.newValue,E=this.dm().$1c,h=D instanceof X?"s:shape.dash.flow":"s:edge.dash.flow";if(E&&m===h)if(K)E.indexOf(D)<0&&E.push(D);else for(var Y=E.length,A=0;Y>A;A++)if(E[A]===D){E.splice(A,1);break}},h=n.GraphView[F],D=o.EdgeUI[F],s=o.ShapeUI[F],d=s._80o,_=D._80o,i=H.DataModel[F],v=i.prepareRemove,K=h.setDataModel;c["edge.dash.flow.step"]==A&&(c["edge.dash.flow.step"]=3),c["shape.dash.flow.step"]==A&&(c["shape.dash.flow.step"]=3),i.prepareRemove=function(k){v.call(this,k);var V=k._dataModel,D=V.$1c;if(D)for(var h=D.length,$=0;h>$;$++)if(D[$]===k){D.splice($,1);break}},h.setDataModel=function(J){var k=this,u=k._dataModel;if(u!==J){u&&(u.umm(N,k),u.umd(B,k),u.$1c=[]),J.mm(N,k),J.md(B,k);var y=J.$1c=[];J.each(function(V){var q=V instanceof X?"shape.":"edge.";V.s(q+"dash.flow")&&y.indexOf(V)<0&&y.push(V)}),K.call(k,J)}},h.setDashFlowInterval=function($){var M=this,G=M.$2c;M.$2c=$,M.fp("dashFlowInterval",G,$),M.$3c!=A&&(W(M.$3c),delete M.$3c,M.enableDashFlow($))},h.getDashFlowInterval=function(){return this.$2c},h.$4c=function(){var y,n,F,O=this,J=O.tx(),I=O.ty(),U=O._zoom,v=O.getWidth(),P=O.getHeight(),V={x:-J/U,y:-I/U,width:v/U,height:P/U},t=O.dm().$1c,e=O._56I,K=new z;if(t.forEach(function(f){e[f.getId()]&&(y=O.getDataUI(f),y&&(F=y._79o(),F&&K.add(F)))}),0!==K.size()&&(K.each(function(s){x.intersectsRect(V,s)&&(n=x.unionRect(n,s))}),n&&(n&&(x.grow(n,C(1,1/U)),n.x=E(n.x*U)/U,n.y=E(n.y*U)/U,n.width=R(n.width*U)/U,n.height=R(n.height*U)/U,n=x.intersection(V,n)),n))){var f=O._canvas.getContext("2d");f.save(),f.lineCap=x.lineCap,f.lineJoin=x.lineJoin,Y.translateAndScale(f,J,I,U),f.beginPath(),f.rect(n.x,n.y,n.width,n.height),f.clip(),f.clearRect(n.x,n.y,n.width,n.height),O.$5c(f,n),f.restore()}},h.$5c=function(Q,H){var p,e,t=this;t._93db(Q),t.each(function($){t._56I[$._id]&&(p=t.getDataUI($),p&&(e=p._79o(),(!H||x.intersectsRect(H,e))&&(p.$7c=!0,p._42(Q),delete p.$7c)))}),t._92db(Q)},h.enableDashFlow=function(n){var r=this;r.$3c==A&&(r.$3c=u(function(){r.$4c()},n||r.$2c||50))},h.disableDashFlow=function(){var G=this;W(G.$3c),delete G.$3c};var L=function(){var j=this,k=j._data,w=k instanceof X?"shape.":"edge.",g=k.s(w+"dash.pattern"),Y=k.s(w+"dash.flow.reverse");if(g&&k.s(w+"dash")&&k.s(w+"dash.flow")&&j.$7c){var m=j.s(w+"dash.offset")||0,e=k.s(w+"dash.flow.step"),t=k.getStyleMap(),q=0;g.forEach(function(O){q+=O}),Y&&(e=-e),m-=e,m%=q,t||(k._styleMap=t={}),t[w+"dash.offset"]=m}};D._80o=function(y){_.call(this,y),L.call(this)},s._80o=function(S){d.call(this,S),L.call(this)}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);