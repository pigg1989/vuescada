!function(o,r){"use strict";var j="ht",i=o[j],x="px",P="left",p="top",X="bottom",C="right",z="innerHTML",E="className",k="",g="width",G="height",Q="string",n="position",U="absolute",T="0",w="opacity",t="background",v=i.Default,L=v.getInternal(),Z=i.Color,O=v.animate,H=v.isTouchable,h=null,Y=(Math.sqrt,o.parseInt),f=o.setTimeout,K=(Math.round,Z.titleIconBackground),N=function(H){return typeof H===Q||H instanceof String},l=function(){return document},M=function(e){return l().createElement(e)},s=function(){var U=M("div");return U.tabIndex=-1,U.style.outline="none",U},b=function(){return M("canvas")},u=function(K,p){_(K,"-webkit-transform",p),_(K,"-ms-transform",p),_(K,"transform",p)},_=function(W,v,o){W.style.setProperty(v,o,h)},J=function(f,B,C){v.def(i.widget[f],B,C)},c=function(V,o){V.appendChild(o)},F=function(){return l().documentElement},R=function(){return F().clientWidth},m=function(){return F().clientHeight},B=v.eventListenerOptionsFalse,d=(v.eventListenerOptionsTrue,function(J,Y,W,I){J.addEventListener(Y,W,I?B:B)}),I=function(u,x,X,U){u.removeEventListener(x,X,U?B:B)},A=function(A){var w=A.touches[0];return w?w:A.changedTouches[0]};L.addMethod(v,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:K},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:K}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:K},{type:"rect",rect:[10,10,80,20],background:K}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:K},{type:"rect",rect:[10,34,56,14],background:K},{type:"rect",rect:[34,10,56,14],background:K},{type:"rect",rect:[82,10,8,56],background:K},{type:"rect",rect:[66,62,24,8],background:K}]},dialogTitleLabelColor:v.labelSelectColor,dialogTitleLabelFont:(H?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:v.labelFont,dialogTitleBackground:Z.titleBackground,dialogHeaderBackground:Z.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var y=function(Q){var b=this;b.$1d=Q,b.addListeners()};v.def(y,r,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(M){var h=this,p=h.$1d,q=p.$6d,o=p._config,E=p.$7d,P=M,F=M.target;if(E.contains(F)||v.preventDefault(M),v.isLeftButton(M)){H&&(P=A(M));var D=h.$8d={x:P.pageX,y:P.pageY};h.$9d={x:D.x,y:D.y},!o.maximized&&o.draggable&&q.contains(F)&&(h.$4d=!0,v.startDragging(h,M)),h.handle_mousemove(M)&&(h.$2d=!0,v.startDragging(h,M)),E.contains(M.target)||p.$41d.focus()}},handle_mousedown:function(v){this.handle_touchstart(v)},handle_touchend:function(C){if(v.isLeftButton(C)&&!this.$5d&&!this.$3d){var J=this,i=J.$1d,V=C.target,A=i._config,R=i.$18d,Q=i.$16d;for(A.closable&&R.contains(V)&&i.hide(),A.maximizable&&Q.contains(V)&&(A.maximized?i.restore():i.maximize());V&&(V.className||"").indexOf("dialog-button")<0;)V=V.parentNode;V&&V.buttonItem&&i.action&&i.action(V.buttonItem,C),delete J.$8d,delete J.$9d}},handle_mouseup:function(P){this.handle_touchend(P)},handleWindowTouchEnd:function(Y){var i=this,T=i.$1d,K=T.$10d;i.$2d&&i.$3d?K.fire({kind:"endResize",target:T,originEvent:Y}):i.$4d&&i.$5d&&K.fire({kind:"endMove",target:T,originEvent:Y}),this.clear()},handleWindowMouseUp:function(m){this.handleWindowTouchEnd(m)},handle_mousemove:function(F){var M=this.$1d._config;if(M.maximized)return!1;if("w"!==M.resizeMode&&"h"!==M.resizeMode&&"wh"!==M.resizeMode)return!1;var l=this,C=l.getView(),t=C.querySelector(".resize-area"),o=t.getBoundingClientRect(),I={x:o.left,y:o.top,width:o.width,height:o.height};F=H?A(F):F;var O=F.clientX,x=F.clientY,i={x:O,y:x};return v.containsPoint(I,i)?(_(C,"cursor","nwse-resize"),!0):(_(C,"cursor",k),void 0)},handleWindowTouchMove:function(M){M.preventDefault();var t=M;H&&(t=A(M));var u=this,S=u.$8d,f=u.$9d;if(!(f.x==S.x&&f.y==S.y&&v.getDistance(f,{x:t.pageX,y:t.pageY})<=1)){var L=u.$1d,K=L._config,J=L.$21d,$=K.resizeMode||"wh",B=t.pageX-S.x,X=t.pageY-S.y;if(u.$2d){var G=J.offsetWidth,N=J.offsetHeight,W=G+B,Q=N+X;if(W=Math.max(W,50),Q=Math.max(Q,50),"center"===K.position||K.position==h){var C={},z=J.getBoundingClientRect();C.x=z.left,C.y=z.top,K.position=C}"w"===$?(L.setSize(W,N),S.x+=W-G):"h"===$?(L.setSize(G,Q),S.y+=Q-N):"wh"===$&&(L.setSize(W,Q),S.x+=W-G,S.y+=Q-N),u.$3d?L.$10d.fire({kind:"betweenResize",target:L,originEvent:M}):(u.$3d=!0,L.$10d.fire({kind:"beginResize",target:L,originEvent:M}))}else if(u.$4d){var T=J.getBoundingClientRect(),O=T.width,w=T.height,s=R(),F=m(),k=Y(J.style.left)||0,e=Y(J.style.top)||0,V=k+B,g=e+X,c=L.adjustPosition({x:V,y:g},{width:O,height:w},{width:s,height:F});c&&(V=c.x,g=c.y);var d=V-k,a=g-e;_(J,P,V+x),_(J,p,g+x),S.x+=d,S.y+=a,K.position={x:V,y:g},u.$5d?L.$10d.fire({kind:"betweenMove",target:L,originEvent:M}):(u.$5d=!0,L.$10d.fire({kind:"beginMove",target:L,originEvent:M}))}}},handleWindowMouseMove:function(v){this.handleWindowTouchMove(v)},handleWindowResize:function(){var L=this,V=L,q=V._config,r=V.$21d,X=R(),b=m(),C=q.width,S=q.height,u=q.position||"center";q.maximized?(_(r,g,X+x),_(r,G,b+x),_(r,p,T),_(r,P,T)):(_(r,g,C+x),_(r,G,S+x),"center"===u?(_(r,P,(X-C)/2+x),_(r,p,(b-S)/2+x)):(_(r,P,u.x+x),_(r,p,u.y+x))),V.iv()},handle_mousewheel:function(x){x.stopPropagation()},handle_DOMMouseScroll:function(v){v.stopPropagation()}}),i.widget.Dialog=function(V){var j=this,s=j._view=L.createView(null,j);s[E]="ht-widget-dialog",_(s,n,U),v.baseZIndex!=h&&_(s,"z-index",v.baseZIndex+"");var $=j.$11d=new y(j);j.bindingHandleWindowResize=$.handleWindowResize.bind(j),j.$10d=new i.Notifier,V&&j.setConfig(V)},J("Dialog",r,{ms_v:1,ms_fire:1,setTitle:function(J){this._config.title=J,this.getView().querySelector(".dialog-container-title span").innerHTML=J},clearNodes:function(a){if(a)for(;a.firstChild;)a.removeChild(a.firstChild)},$31d:function(){var S=this,q=S.$6d=s(),N=S._config,X=S.$12d=S.$13d();q[E]="dialog-container-title",_(q,"cursor","default"),_(q,"white-space","nowrap"),_(q,"overflow","hidden"),_(q,"font",v.dialogTitleLabelFont),_(q,t,N.titleBackground||v.dialogTitleBackground),_(q,"color",N.titleColor||v.dialogTitleLabelColor);var $=M("span"),L=S.$25d();if(N.titleAlign&&_(q,"text-align",N.titleAlign),N.titleIcon){var H=S.$14d=S.$15d();c(q,H)}if(N.title&&N.title.trim&&(N.title=N.title.trim()),$[z]=N.title||"&nbsp;",c(q,$),N.maximizable){var B=S.$16d=S.$17d();c(X,B)}if(N.closable){var y=S.$18d=S.$19d();c(X,y)}return c(q,X),_(q,"display","block"),_(q,"line-height",L+x),q},$13d:function(){var K=s();return _(K,n,U),_(K,P,T),_(K,C,5+x),_(K,p,T),_(K,X,T),_(K,"text-align",C),_(K,"white-space","nowrap"),K[E]="dialog-title-controls",K},$20d:function(){var M=this.$21d=s(),c=this._config,X=c.borderWidth;return _(M,n,"fixed"),_(M,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),_(M,"padding",T+" "+X+x+" "+X+x+" "+X+x),_(M,"box-sizing","border-box"),_(M,"-moz-box-sizing","border-box"),M[E]="dialog-container",_(M,t,c.titleBackground||v.dialogTitleBackground),M},$22d:function(){var r,e=this,q=e._config,T=e.$7d=s(),$=q.content,S=0,W=q.contentPadding||0;q.buttons!=h&&q.buttons.length>0&&(S=32),N($)?T[z]=$:$.getView?(r=$.getView(),c(T,r)):(r=$,c(T,r)),_(T,n,U),_(T,"font",v.dialogContentLabelFont),i.Default.appendToScreen(T);var b=T.offsetWidth+1,y=T.offsetHeight,m=e.$25d();return q.width==h&&(q.width=b+10+2*W),q.height==h&&(q.height=y+m+S+5+2*W),i.Default.removeHTML(T),r&&(_(r,"box-sizing","border-box"),_(r,"-moz-box-sizing","border-box"),_(r,g,"100%"),_(r,G,"100%")),T[E]="dialog-content",_(T,p,m+W+x),_(T,X,S+W+x),_(T,P,W+x),_(T,C,W+x),_(T,"overflow","hidden"),T},getOverlayDiv:function(){return this.$41d},$23d:function(){var r=this.$41d=s();return r[E]="dialog-overlay",_(r,g,"100%"),_(r,G,"100%"),_(r,n,"fixed"),_(r,p,T),_(r,P,T),_(r,t,"rgba(235, 235, 235, 0.7)"),r},_config:h,setSize:function(W,c){var K=this,E=K._config;E&&(E.width=W,E.height=c,K.isShowing()&&(K.bindingHandleWindowResize(),K.iv()))},getConfig:function(){return this._config},$24d:function(){var Q=this._config,I=Q.titleIconSize||16;return H&&(I*=1.2),I},$25d:function(){var E=this._config,J=E.titleHeight||v.widgetTitleHeight;return J},$26d:function(V){_(V,"cursor","pointer"),_(V,"display","inline-block"),_(V,"margin-right",(H?8:4)+x),_(V,"vertical-align",p)},$27d:function(){var I=this.$30d=s(),t=10;return H&&(t=20),_(I,g,t+x),_(I,G,t+x),_(I,n,U),_(I,X,T),_(I,C,T),I[E]="resize-area",I},$15d:function(){var m=this,x=b();x[E]="dialog-title-control dialog-title-control-icon";var U=m.$25d(),O=m.$24d();return m.$26d(x),L.setCanvas(x,O,U),x},$17d:function(){var R=b();R[E]="dialog-title-control dialog-title-control-maximize";var m=this.$25d(),U=this.$24d();return this.$26d(R),L.setCanvas(R,U,m),R},$19d:function(){var Z=b();Z[E]="dialog-title-control dialog-title-control-close";var k=this.$25d(),u=this.$24d();return this.$26d(Z),L.setCanvas(Z,u,k),Z},$28d:function(){var Z=s();return _(Z,t,"white"),_(Z,g,"100%"),_(Z,G,"100%"),_(Z,n,"relative"),Z},$29d:function(){var A=this,q=s();_(q,"line-height",32+x),_(q,n,U),_(q,X,T),_(q,P,T),_(q,"white-space","nowrap"),_(q,"overflow","hidden"),_(q,C,T),_(q,t,v.dialogHeaderBackground),q[E]="dialog-container-buttons";var l=this._config,w=l.buttonsAlign||C,D=0;return _(q,"text-align",w),A.$42d=[],l.buttons.forEach(function(Q){var o=new i.widget.Button,W=o.getView();W[E]="dialog-button "+Q.className,W.buttonItem=Q,A.$42d.push(o),o.setBorderColor(h),o.setBackground(v.dialogButtonBackground),o.setSelectBackground(v.dialogButtonSelectBackground),o.setLabelColor(v.dialogButtonLabelColor),_(W,n,"relative"),_(W,"display","inline-block"),_(W,"text-align",P),_(W,"height",24+x);var L=H?10:5;w===P||w===C?_(W,"margin-"+w,L+x):0===D||_(W,"margin-"+P,L+x),_(W,"vertical-align","middle");var S=v.getTextSize(o.getLabelFont(),Q.label).width+10;o.onClicked=function(x){Q.action&&Q.action.call(A,Q,x)},o.setLabel(Q.label),o.setDisabled(Q.disabled),_(W,g,S+x),c(q,o.getView()),D++}),q},setConfig:function(H){if(H){var E=this,N=E._view;E._config=H,E.action=H.action,E.clearNodes(N),H.borderWidth==h&&(H.borderWidth=5);var G=E.$23d(),g=E.$28d(),Y=E.$31d(),K=E.$22d(),y=E.$20d(),o=E.$30d=E.$27d();if(c(N,G),c(N,y),c(y,g),c(g,Y),c(g,K),H.buttons!=h&&H.buttons.length>0){var S=E.$29d();c(g,S)}c(y,o),H.maximized?(H.maximized=!1,E.bindingHandleWindowResize(),E.maximize(!0)):E.bindingHandleWindowResize(),E.isShowing()&&E.iv()}},hide:function(){var U=this,V=U.$21d,S=U.$41d,P=U._view;P[E]="ht-widget-dialog",O(V).duration(200).scale(.7).set(w,T).end(function(){U.onHidden&&U.onHidden(),i.Default.removeHTML(P),U.$10d.fire({kind:"hide",target:U})}),O(S).duration(200).set(w,T).end(),I(o,"resize",U.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(h){this.$41d.style.display=h?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var T=this,G=T._config,c=T.$21d;u(c,k),T.iv(),G.maximized?T.$10d.fire({kind:"maximize",target:T}):T.$10d.fire({kind:"restore",target:T})},maximize:function(l){var b=this,s=b.$21d,S=b._config;if(!S.maximized){S.maximized=!0,b.$33d(),b.$16d[E]="dialog-title-control dialog-title-control-minimize";var i=R(),N=m(),t=S.width,e=S.height,M=Y(s.style.left)||0,z=Y(s.style.top)||0;b.$36d=t,b.$37d=e,b.$34d=M,b.$35d=z;var Z=l?0:200;O(s).duration(Z).set(P,T).set(p,T).set(g,i+x).set(G,N+x).end(function(){b.$32d()})}},restore:function(){var S=this,y=S.$34d,J=S.$35d,v=S.$36d,n=S.$37d,t=S._config;if(t.maximized&&(t.maximized=!1,S.$33d(),S.$16d[E]="dialog-title-control dialog-title-control-maximize",S.isShowing()&&y!=h&&J!=h&&v!=h&&n!=h)){var V=S.$21d;O(V).duration(200).set(P,y+x).set(p,J+x).set(g,v+x).set(G,n+x).end(function(){S.$32d()})}delete S.$34d,delete S.$35d,delete S.$36d,delete S.$37d},show:function(){var Q=this,U=Q._view,l=Q._config,K=Q.$21d,z=Q.$41d;l&&l.zIndex!=h&&_(U,"z-index",l.zIndex+k),i.Default.appendToScreen(U),u(K,"scale(0.7)"),_(K,w,T),Q.iv(),Q.validate(),Q._view[E]+=" dialog-show",f(function(){O(K).duration(200).scale(1).set(w,"1").end(function(){_(K,g,K.clientWidth+x),_(K,G,K.clientHeight+x),Q.onShown&&Q.onShown(),Q.$10d.fire({kind:"show",target:Q});var r=l&&l.content;r&&r.iv&&r.iv()}),O(z).duration(200).set(w,"1").end(),d(o,"resize",Q.bindingHandleWindowResize)},30)},setPosition:function($){var K=this.$21d;K.style.left=$.x+"px",K.style.top=$.y+"px"},addEventListener:function(f,t,r){this.$10d.add(f,t,r)},removeEventListener:function(y,n){this.$10d.remove(y,n)},$38d:function(p,n,F,U){var G=L.initContext(p);L.translateAndScale(G,0,0,1),G.clearRect(0,0,F,F);var J=(F-U)/2;v.drawStretchImage(G,v.getImage(n),"fill",0,J,U,U),G.restore()},$33d:function(){var A=this,W=A._config,O=A.$16d,R=W.maximized?v.dialogRestoreIcon:v.dialogMaximizeIcon;if(O&&R){var _=A.$25d(),I=A.$24d();A.$38d(O,v.getImage(R),_,I)}},$39d:function(){var b=this,p=b._config,H=b.$14d,Z=p.titleIcon;if(H&&Z){var Q=b.$25d(),Y=b.$24d();b.$38d(H,v.getImage(Z),Q,Y)}},$40d:function(){var S=this,y=S.$18d,K=v.dialogCloseIcon;if(y&&K){var c=S.$25d(),z=S.$24d();S.$38d(y,v.getImage(K),c,z)}},invalidate:function(b){var V=this,x=V.$42d;V._68I||(V._68I=1,v.callLater(V.validate,V,h,b),V.onInvalidated&&V.onInvalidated(),V.fireViewEvent("invalidate"));var D=V._config.content;D.invalidate&&D.invalidate(),x&&x.forEach(function(i){i.iv()})},validateImpl:function(){var B=this;B.$40d(),B.$33d(),B.$39d();var U=B._config.content;U.initView&&(U.setX(0),U.setY(0),U.setWidth(B.$7d.clientWidth),U.setHeight(B.$7d.clientHeight))},adjustPosition:function(A,l,N){var K=l.width,M=l.height,S=N.width,j=N.height,u=A.x,_=A.y,T=this._config,e=T.minDragSize||20;return"inside"===T.dragMode?(u+K>S&&(u=S-K),_+M>j&&(_=j-M),0>u&&(u=0),0>_&&(_=0)):(null==T.dragMode||"none"===T.dragMode)&&(-K+e>u&&(u=-K+e),u>S-e&&(u=S-e),_>j-e&&(_=j-e),0>_&&(_=0)),{x:u,y:_}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);