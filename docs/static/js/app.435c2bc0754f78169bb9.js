webpackJsonp([2],{"+BTi":function(t,e){},"/LQY":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjgwcHgiIGhlaWdodD0iODBweCIgdmlld0JveD0iMCAwIDgwIDgwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19sYW1wX3N0YXRlNzwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGRlZnM+DQogICAgICAgIDxjaXJjbGUgaWQ9InBhdGgtMSIgY3g9IjI5LjgxMDUyNjMiIGN5PSIzMC4zMTU3ODk1IiByPSIyNi44NDIxMDUzIj48L2NpcmNsZT4NCiAgICAgICAgPGZpbHRlciB4PSItOC43JSIgeT0iLTguNyUiIHdpZHRoPSIxMTcuNCUiIGhlaWdodD0iMTE3LjQlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMiI+DQogICAgICAgICAgICA8ZmVNb3JwaG9sb2d5IHJhZGl1cz0iMy42NTc4OTQ3NCIgb3BlcmF0b3I9ImRpbGF0ZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd1NwcmVhZE91dGVyMSI+PC9mZU1vcnBob2xvZ3k+DQogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIwIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4NCiAgICAgICAgICAgIDxmZUNvbXBvc2l0ZSBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiBpbjI9IlNvdXJjZUFscGhhIiBvcGVyYXRvcj0ib3V0IiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZUNvbXBvc2l0ZT4NCiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjU4NjEzNTY0MyAgIDAgMCAwIDAgMC41ODYxMzU2NDMgICAwIDAgMCAwIDAuNTg2MTM1NjQzICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd09mZnNldE91dGVyMSI+PC9mZUNvbG9yTWF0cml4Pg0KICAgICAgICA8L2ZpbHRlcj4NCiAgICA8L2RlZnM+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjEx54q25oCB5pi+56S65qC35byP5bqTMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTk0Mi4wMDAwMDAsIC00OTEuMDAwMDAwKSI+DQogICAgICAgICAgICA8ZyBpZD0i5YiG57uELTExIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3MC4wMDAwMDAsIDEzOS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImljL2xhbXAvc3RhdGU3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3NzIuMDAwMDAwLCAzNTIuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5oyH56S654Gv5Zu+5bqTIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyLjAwMDAwMCwgMS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5oyH56S654GvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4LjAwMDAwMCwgOC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuakreWchuW9oiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBzdHJva2U9IiNERURFREUiIHN0cm9rZS13aWR0aD0iMy4xNTc4OTQ3NCIgZmlsbD0iIzRGNEY0RiIgZmlsbC1ydWxlPSJldmVub2RkIiBjeD0iMjkuODEwNTI2MyIgY3k9IjMwLjMxNTc4OTUiIHI9IjI4LjQyMTA1MjYiPjwvY2lyY2xlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9IuakreWchuW9oiIgZmlsbD0iIzE1OTBEQyIgY3g9IjMwLjA2MzE1NzkiIGN5PSIzMC4zMTU3ODk1IiByPSIyNS4yNjMxNTc5Ij48L2NpcmNsZT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltYWdlIGlkPSLnu4QtMiIgeD0iNi4wNjMxNTc4OSIgeT0iOS42IiB3aWR0aD0iNDcuNDk0NzM2OCIgaGVpZ2h0PSI0MC40MjEwNTI2IiB4bGluazpocmVmPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUY0QUFBQlFDQVlBQUFDUTJNSWVBQUFBQkdkQlRVRUFBTEdPZlB0Umt3QUFETzFKUkVGVWVBSHQzT21Qbk1VUkJuQWNDTGxJUXNLTnNaRUlJYmVVaTRRYzRtdis2NGprUTZJY1VpSWt2Z0NSRVZkd0hBUTVDQVFDVHYxbTlqRzE3WGRtM2xuUHJ1M3hsbFRiM2RYVjFkMVBWMWYzMit2MW1jdVhMOTkyQTlJbmEwejNGdDlYZkhmeEY0dnZLdjVNOGFlTGJ5KytzL2pENGcrSy8xdjgva0grMzVYK28vanQ0a3ZGZnkrbWMwUFJtUnNFZUVDZlArQ3psUUo4cERNSGdqbWUwblhwVzREWGkxOCs0T3UrRU5jVCtFOFZDRjhwZnFMNGtXTGdod0EzQXZ4UnlUNXhvQ0MvaXFLamZXeEVwZzNRWHkxK3Z2Z3Z4WGJMaWRQMUFQNkJtdVYzaWg4dkJqNEtxSUFhUVkvM2RwMEF1bWc4L09nZ1o0SFl3Q2xIQitqQWY3YjRZdkdKMFVrQy8yak42dnZGRDUvWTdLN3VLQXQ3ZGMweUZQMnBLbDZhcXR5MTdDU0FQMWVEZnJMNC9sMFAvcGpzL2Ezcy9xSDRsV095dnpCN25NQi9vWHA0cXZpeFlwNlc4R0NiSjEvWkt6U0dtSzZUY05ObEdtNlNSMGM3bkQ2azRZUWR1dEZ4VzNxcCtMZkZia2c3cCtNQTNrVEU4TzhWMzlGR25FbEZOSllqbDZwREFWWitTa2FPVXJjc0xYK3VhaHZBWFVtTjFhRXVIL3BmWlp3RndIY0dDRC9PQU9XcGZrcThQZTBhZUY3K2RIRy9EdVpBRzRIb25xK3VUMHErNnlmZjVWMC83YnRlbVZoUTJpUWxCTGIrSGU2K0RYd1RjQkx0M1hxTUdlanlVdUhubVdMZkJwbFBaWTlPdXdUK3NSckdqNHVudk54Z0E0clJBc0hFcHlpQWptRFM3ZUNOYlh0ZDh2cE5QNUVwODNDZ2Y3YllCeHJPZFJiWStMM2lkdzg0K2Q5VStZVmlkcTlwQVhZQlBJQitVT3crUGxJbU84cm5sclZINDZMMThsSmovaytnY3c2Z3UyRjl0OWdGZ095ZFlqSGQxeS8rVi9FL0QxSjFGdUs1NHQ4Vkp5UlZkbnZxM3JsOTYrVmdmMTROSHl3V0F3TklBTy9BUmFhZm5sY09kZjB1NjNZamwwYmVaZktyN0t2VFJqMlAvVTh4eno5YkhGc0FGVjRBN2JuaDlXSmZ2bThWVzVSdkYzKysrSmxpTytGSW5uOHRIbS9BVHhkL3FUaUFWWFpyeW9RMTdIWUMwTllHMXpSSVg4S0tOeDluMGozRjN5aitTVEZaeUZnNEU4OS9xZmpsWWg5WmJ4YmJDWDh0L21XeCtxM0JQeXJ3RGlTZWJ1V1JRV1pTeVNlZFUwK24wOWhXM1dpZmpONUlYVStkY3ZSU1o2ZHpuTThWZTRDN3IvaWg0aWVMN3kzdXBLMWQ4RnF4WjRaWGl4MjJ2UCtONG1lS0xjUlc0QjhsMUJqd1Q0dkZTQjRSeWdRN2FPb2k3L2t1Uy91cGxKNEpTZE5tdEsvZEtGdW5xODY0M3krT1hRZXUvQitMZWYvNWczSWxDN2tkY3E2WXcrVVFOaTRMd2dGL1ZTeHN6UVovVytEcHU3a1lRQWU5aWdzeWVDQ3Nvems2MmtlUFBjREVidEpSUm4rSzZJOTFBQXZuRnBQVWdvanZqeGNINU1vdXhtQTNmS3M0QzBkWHFIMnErTmZGeXJOb0crQk4xRnVMN1JuUUEwS2ZXSi9vbURlbzZQWTY4dGlTUjlHVDc1NlVkcEdsVEErbEhIdmR6bEpqK1RNZUMzQ0xBRFNIcFlOVm5nYzdTTzN3RUF5Y0NWOHZWazhmZjduNGg4Vy9MMlpySTIwRC9GZkxtdFVGdXNtWVdDWloyU3RFRm05TWZmU1Rrb2NDRENEa294TTV2ZGdaODJNNWV0TDAwZTMxK3NnQjFUM1lRZ1I4b0xwdWNyYVF1ZDFmYkVma3FrblBPZkcxNHVlS045SmM0Qmw5cEhoY3pRdytrOVFoV2ZUazQ1bnlLTHBwdTVSK0RIakswVXM1NmFaMnFSLzdTL3VwRlBCWmdBNDh6MWUyMDkyQVFrTFFvOFdYaXQxeUxJQUZPVmZzNENWZlMzT0FkOFd5dGVMcFV3YUJoSFUrRW5sQVNKM0Z5SzZZQW1yVVp3T05mWXkyVTA2NmJQWHhZaXZITmgyTWpNV1lnTHlLbjZ3Nk42QVFYRGpqaThYQkVVYXdjc3V4QzFaU0dxeFNNRWlHcEp1QVp5TVRrUTkxRUpLWGhnTUVmYklRZWNyUlNadm9qUFhra1VVbmFXeWszUFhrRStxa3ZEODdRRXBHNTBmRkFaODl1NEQzWjZ6QnlNM296OFc5anlwK1RKdUFkN2NWMzNRK1VpYkNlRHFPak83WWFlcEdPZDIwNy9rdUk5OUUwZStwTnVrdjhtNW5TZ1k4TzBBS2NDa2JXWkNmVlI3Z1pIQVJqckpJMFhmcmc1MnYza2xhQi95ZDFlSnNzWTcza1lBT3FDa0tnQURGeW9BV2hyelgvS0xZNGx3bzlxeEFwaTRMVU5rRmR1b3N6RlcwRHZoekI5bzZER1dnaWMrUjAwbWNqR3dxTmRseHdzcW85N09VclA4Wlc5cWw3VGdHT3VxbWRIdS95VXZIT1FJMWZRRHg3V0l4L0h6eHM4VVhpejBidUFrRitQUkg1OFhpcTJqVms0R25nQ2VhTmtPWlhCTmYxMnpBT3VxNHNpQjlFcGxuVW5VV2s0TTZUSDJ0Q3lQeVlydEZlZWVBSGFhOFBndFgyUVU5WHo4dDFDRmE1Zkhpa3hEVEIzQ280WWJDVWR1dE1odDdTVmZwSFljY0RoaWdQTjZIRTl5TWhZZUhBenJkVHJDY0JUeHY5N1dXbFJzOWFweDhMeWVmMUFDU2w0YmliVDFOWGRLdUg1azA0NG5kWGljL3RvdCs5Tkl1ZWhtRCt1UjdHam1BZVRuUDFqWk1qdUFWekpUVEx5eGhlZ2o4S1kvM0h0RU5WUEdXcCtBaHpZSjFVSUFjb0xzOCtYc3FzeFo0OGNzS2pkc2xCazdUb3lIZ1RJQ3RNMkZCbzhmN09NanFUYTNzUWJNakoyd2ZoOTBqRDJob2VKVHh6VzBEMjBuZ25kNCtsdUx0QUdJVUpSL1FJbC9XcnY3WjI0MXRVdGZ0Sjk4dHJtdlg5WHJiM2liOVpPejBVai9LbEhzNEdmVlNIdnZxZll3Nnl1cGhlK1c2MnoxZUJhWGVzSXBiVVRyWnF0RUpLSS9qR3N1N0dNSWNtekJleFBvT3ZEdHFEcEZyR1lnQjNJZzBqbXNzNzJMTW0yekMrQkR3dG9JbmdvU1pES0p2SWJMUmNPclY5Ynh5cDlRbFZkZnpLVXZIUHNqV0VUdG9iTmZ0OS94UysvRFAyQmp0VExXTExLazJQUi9MVXpJWUwrVHhlRGNaQSsrRFQwT3k1Q3Q3Vlo1czFDR2JJblpRK3BrcTk3cDErWXdwNmRMeTlNOHBuZDUzejNjTFhSNGJYVFkxdnJUdmVsM21odk51Z0oveTlpajNWRWN4Mk9YcjhyN28rZ09TWFNXa3NSVjI2TEJyUE5oNE1Ibm9LSDJuN1pqT3NUVkhaN1E3cDd4NGFnandDanFhUTNQMFBCajV3cFBPT1RlaVkxRzA4ZjZCN0VRZWdpM01uTDVMYlJiTnNUVkhaMVpuVFFuV1Y5NGMvTE8yVEw3cGJKMEZOdERHczJKclF3Y05MQUoySUFIZjRkUjNRUlZ2T29MMUdSNi9DOUM5VjNnYXpidEZaWGRLbk1MamxBOFFDK0FyOEdaZWdOc1RVMWR0S2ZKTk1aMUhBdjBreUhpQWIyZmxlYmFQYnh6dnFuTGtTZGVOZlpVT09lcjlMeVdIZi9iMnlkL2hQVDRUT0t3K3J4UVE1bW52WG92WEc3K0QrR2FpOTNpOEZiT1ZwVm5GeW00a29FLytXbXRqeTkwcEdMY3p4YTRUZ29STnRHa3VZLzFZWGxvNS9IT09UbTh4cFIvWkdSN3ZNellEN2czSGZMWUpPZEJkRVc4MDR2bHVRaVo0STlPSFBCNmdjMjgwZE1YWDR6cEV5L1Exa1IzSUlTekE0dHAyVGRhT3IvRmx3S001SVlhT0xiMnJxNkorajRNeXppekFuTjE4SE9OWWF6TWVUOG1BK3haTldjckRzZnpOUW5heDNRbDQ4M1FRWjM1OUhwRlY5WUo2SFVIcXljZDhkTW1UNzIza1Vkb212VTJNZHlpTlJBRWJQQStYdjlrSjhGbUE2ejZYL1BPT3JLUUI3UVBJNjRDOUVSYmdnd0MvYnFEN1dzZlpMSUpRMUIzdk9PZkxxWVhzajI1bDREdkFXWVNrdlc1WGVXSDd5bTF3VytCSHo5alhzSlNEMkh6SE9XKzdFREM2NnB6TWRYS09zV3hMS2VvSDc3NHRnTG1GQW43U3lEZWxiTUJsRXB1NXdBUGJCNGxuV1d3UVB0VzlHTG92VHhvditUN1FGSGpaQlVrenp5bmQxQjFLdHdFZTRHZUxIeWpXNGFYaVY0cTlsYy91c0hUM2dlSm9TYmVlVThMR3VvWkFwZ2Y0K3c1U2QzOTUvMERmNG8wclg2SlRXb2ZBSE9DMUIyd1dJR1h2SVlDWHpyV2o3U2tWQW5NQnM2VmNoWG84MXhidzNzTlA4aTVjM2QzOE5BZDRvRHVodlh2NFRWUGltaDBnL054ZGZPcjFCY0kyTkFkNDlnRHZ5ZFYvbk5CLytlR21jMCt4Ti8zVFdGOGd6S1c1d0NmVTVDK1o0L1hhQXgzNHB5Rm5MdXFsdHczd3ZyNzg1c2xmc2drN0lXSEdIelA0WjhpbklTZW9iRWpuQXM5TXdvMi9ldVA1eWtpczUvVVBGdnVURStGbkc3dWxmdXZSM0E4b3lDVGMrRnE5V0F6c3U0cVJXNDMvWUNLL29mSlI1UWFVeGFuc0tYVUV0Z0ZlTytBRDFDRjdxWmgzKytVeWtoZHlBcmduaGVRcmUwb2RnVzFEQXVBVDYzbjlXd2ZsMkhUQUNqblliaER6VCsvNEJjSkkyd0t2dmZEaFk4cWQvclZpTWIrSEZPQS9YSHkyMkFlV0hYRUtmb0hRYWR2MytMVE44NEUzRytIbGZMRmJEWGxJdkxjajNpaDJHTHNSTFg3N1V1a3RUOXZHK0FBbTVQQnk0TDVaYk9jQTNhMG11NGluNTFITmVXQUJUdU4rZ1lDT0NyeTJpZmZBZDdkWGZxUlllQkZha05SaUNEL2kvWVZpWjBRUFRWVzg5U2plZWRTWkExdjQ4RUVGZk1EYUFXNHo2cENkNE1ielVMR0Z2dFkreThUTlQ5Zmk4Wmw5d0pmeVpBdmhyaS8yZTBRTDBPcjdZbGdRM09XcEwvRisweTZBaHhEQWhCQmhKNmtERmZnT1hmMjhVR3duSUljeVdZRFBvV3Zod251OUNFZTkxUlErSzRtSGkrMkFkY0JpZ0h2VnRDaEl6RDliTE80TFUvbHJEd3NYM1N4R2lmYVBqZ040S0NXTVdBUjV4SU96R04rc2ZIWUNvSUVzdFFpZUd5NFcyekhrZTBtQU9BNENNaDV2THhiQmJ2Q3VrNXNQcjNmNDJnVnVRSDZ4NHFOTS9kNENuNE92NW5paXhLczc5UjNDR1JLU3VzNWU1VThhZUR0QU9MbFE3TnFaZjVlVG5XR1hlSXJZNi9oZTgxdkVYT2xKRVlBZHNrRDNGZXNoRFFzemVkTVIzeDJ5V1l6SzdoOGQxK0c2RHFtRUZURWNDeTNpdk4ySGdXNG44SG83WUMvcGVnRGZnY3dpQUZ3ZThmU3BnM2xSdVM4Ly9nL00zdXdQbHptVDBnQUFBQUJKUlU1RXJrSmdnZz09Ij48L2ltYWdlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},"0FUT":function(t,e){},"1DzG":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19ncmlkPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iMTQ0MHg5MDAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iMDPlnIblvaLnn6nlvaLpgInmi6kiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00NTIuMDAwMDAwLCAtNzUuMDAwMDAwKSIgc3Ryb2tlPSIjNjY2NjY2IiBzdHJva2Utd2lkdGg9IjIiPg0KICAgICAgICAgICAgPGcgaWQ9IuW3peWFt+agjyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDYwLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtMTciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ0Ny4wMDAwMDAsIDEwLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuMDAwMDAwLCA1LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oi1jb3B5LTEyNCIgeD0iMjEiIHk9IjIxIiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iLWNvcHktMTIzIiB4PSIxNSIgeT0iMjEiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaItY29weS0xMjIiIHg9IjkiIHk9IjIxIiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iLWNvcHktMTIxIiB4PSIzIiB5PSIyMSIgd2lkdGg9IjYiIGhlaWdodD0iNiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oi1jb3B5LTExOSIgeD0iMjEiIHk9IjE1IiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iLWNvcHktMTE4IiB4PSIxNSIgeT0iMTUiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaItY29weS0xMTciIHg9IjkiIHk9IjE1IiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iLWNvcHktMTE2IiB4PSIzIiB5PSIxNSIgd2lkdGg9IjYiIGhlaWdodD0iNiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oi1jb3B5LTExNCIgeD0iMjEiIHk9IjkiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaItY29weS0xMTMiIHg9IjE1IiB5PSI5IiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iLWNvcHktMTEyIiB4PSI5IiB5PSI5IiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iLWNvcHktMTExIiB4PSIzIiB5PSI5IiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iLWNvcHktMTA5IiB4PSIyMSIgeT0iMyIgd2lkdGg9IjYiIGhlaWdodD0iNiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oi1jb3B5LTEwOCIgeD0iMTUiIHk9IjMiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaItY29weS0xMDciIHg9IjkiIHk9IjMiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaItY29weS0xMDYiIHg9IjMiIHk9IjMiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},"1FBx":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIwcHgiIGhlaWdodD0iMjBweCIgdmlld0JveD0iMCAwIDIwIDIwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19mYWJ1PC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iMTQ0MHg5MDAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iMDTlnIblvaLnn6nlvaLpgInmi6kiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzI1LjAwMDAwMCwgLTIwLjAwMDAwMCkiIGZpbGw9IiM5MUE1RkYiIGZpbGwtcnVsZT0ibm9uemVybyI+DQogICAgICAgICAgICA8ZyBpZD0i55+p5b2iIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzMTguMDAwMDAwLCAxNi4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImljL2ZhYnUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYuOTc2NTYyLCAzLjI1NTM1MikiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE1LjQ5OTQwMTIsMTUuNTAxMDc3OCBMOC45OTk3NjA0OCwxMy41MDA1OTg4IEwxNS40OTk0MDEyLDYuMDAwNzE4NTYgTDYuOTk5MjgxNDQsMTMuNTAwNTk4OCBMMiwxMS41MDAxMTk4IEwxOCwzIEwxNS40OTk0MDEyLDE1LjUwMTA3NzggWiBNOC45OTk3NjA0OCwxOC41MDE3OTY0IEw4Ljk5OTc2MDQ4LDE1LjAwMDk1ODEgTDExLjAwMDIzOTUsMTYuMDAxMTk3NiBMOC45OTk3NjA0OCwxOC41MDE3OTY0IEw4Ljk5OTc2MDQ4LDE4LjUwMTc5NjQgWiIgaWQ9IuW9oueKtiI+PC9wYXRoPg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},"1Q8C":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjgwcHgiIGhlaWdodD0iODBweCIgdmlld0JveD0iMCAwIDgwIDgwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19sYW1wX3N0YXRlMjwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGRlZnM+DQogICAgICAgIDxjaXJjbGUgaWQ9InBhdGgtMSIgY3g9IjI5LjgxMDUyNjMiIGN5PSIzMC4zMTU3ODk1IiByPSIyNi44NDIxMDUzIj48L2NpcmNsZT4NCiAgICAgICAgPGZpbHRlciB4PSItOC43JSIgeT0iLTguNyUiIHdpZHRoPSIxMTcuNCUiIGhlaWdodD0iMTE3LjQlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMiI+DQogICAgICAgICAgICA8ZmVNb3JwaG9sb2d5IHJhZGl1cz0iMy42NTc4OTQ3NCIgb3BlcmF0b3I9ImRpbGF0ZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd1NwcmVhZE91dGVyMSI+PC9mZU1vcnBob2xvZ3k+DQogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIwIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4NCiAgICAgICAgICAgIDxmZUNvbXBvc2l0ZSBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiBpbjI9IlNvdXJjZUFscGhhIiBvcGVyYXRvcj0ib3V0IiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZUNvbXBvc2l0ZT4NCiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjU4NjEzNTY0MyAgIDAgMCAwIDAgMC41ODYxMzU2NDMgICAwIDAgMCAwIDAuNTg2MTM1NjQzICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd09mZnNldE91dGVyMSI+PC9mZUNvbG9yTWF0cml4Pg0KICAgICAgICA8L2ZpbHRlcj4NCiAgICA8L2RlZnM+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjEx54q25oCB5pi+56S65qC35byP5bqTMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEwNDIuMDAwMDAwLCAtMjM1LjAwMDAwMCkiPg0KICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC0xMSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzAuMDAwMDAwLCAxMzkuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJpYy9sYW1wL3N0YXRlMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODcyLjAwMDAwMCwgOTYuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5oyH56S654Gv5Zu+5bqTIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyLjAwMDAwMCwgMS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5oyH56S654GvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4LjAwMDAwMCwgOC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuakreWchuW9oiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBzdHJva2U9IiNERURFREUiIHN0cm9rZS13aWR0aD0iMy4xNTc4OTQ3NCIgZmlsbD0iIzRGNEY0RiIgZmlsbC1ydWxlPSJldmVub2RkIiBjeD0iMjkuODEwNTI2MyIgY3k9IjMwLjMxNTc4OTUiIHI9IjI4LjQyMTA1MjYiPjwvY2lyY2xlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9IuakreWchuW9oiIgZmlsbD0iIzEyQkY1RSIgY3g9IjMwLjA2MzE1NzkiIGN5PSIzMC4zMTU3ODk1IiByPSIyNS4yNjMxNTc5Ij48L2NpcmNsZT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltYWdlIGlkPSLnu4QtMiIgeD0iNi4wNjMxNTc4OSIgeT0iOS42IiB3aWR0aD0iNDcuNDk0NzM2OCIgaGVpZ2h0PSI0MC40MjEwNTI2IiB4bGluazpocmVmPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUY0QUFBQlFDQVlBQUFDUTJNSWVBQUFBQkdkQlRVRUFBTEdPZlB0Umt3QUFETzFKUkVGVWVBSHQzT21Qbk1VUkJuQWNDTGxJUXNLTnNaRUlJYmVVaTRRYzRtdis2NGprUTZJY1VpSWt2Z0NSRVZkd0hBUTVDQVFDVHYxbTlqRzE3WGRtM2xuUHJ1M3hsbFRiM2RYVjFkMVBWMWYzMit2MW1jdVhMOTkyQTlJbmEwejNGdDlYZkhmeEY0dnZLdjVNOGFlTGJ5KytzL2pENGcrSy8xdjgva0grMzVYK28vanQ0a3ZGZnkrbWMwUFJtUnNFZUVDZlArQ3psUUo4cERNSGdqbWUwblhwVzREWGkxOCs0T3UrRU5jVCtFOFZDRjhwZnFMNGtXTGdod0EzQXZ4UnlUNXhvQ0MvaXFLamZXeEVwZzNRWHkxK3Z2Z3Z4WGJMaWRQMUFQNkJtdVYzaWg4dkJqNEtxSUFhUVkvM2RwMEF1bWc4L09nZ1o0SFl3Q2xIQitqQWY3YjRZdkdKMFVrQy8yak42dnZGRDUvWTdLN3VLQXQ3ZGMweUZQMnBLbDZhcXR5MTdDU0FQMWVEZnJMNC9sMFAvcGpzL2Ezcy9xSDRsV095dnpCN25NQi9vWHA0cXZpeFlwNlc4R0NiSjEvWkt6U0dtSzZUY05ObEdtNlNSMGM3bkQ2azRZUWR1dEZ4VzNxcCtMZkZia2c3cCtNQTNrVEU4TzhWMzlGR25FbEZOSllqbDZwREFWWitTa2FPVXJjc0xYK3VhaHZBWFVtTjFhRXVIL3BmWlp3RndIY0dDRC9PQU9XcGZrcThQZTBhZUY3K2RIRy9EdVpBRzRIb25xK3VUMHErNnlmZjVWMC83YnRlbVZoUTJpUWxCTGIrSGU2K0RYd1RjQkx0M1hxTUdlanlVdUhubVdMZkJwbFBaWTlPdXdUK3NSckdqNHVudk54Z0E0clJBc0hFcHlpQWptRFM3ZUNOYlh0ZDh2cE5QNUVwODNDZ2Y3YllCeHJPZFJiWStMM2lkdzg0K2Q5VStZVmlkcTlwQVhZQlBJQitVT3crUGxJbU84cm5sclZINDZMMThsSmovaytnY3c2Z3UyRjl0OWdGZ095ZFlqSGQxeS8rVi9FL0QxSjFGdUs1NHQ4Vkp5UlZkbnZxM3JsOTYrVmdmMTROSHl3V0F3TklBTy9BUmFhZm5sY09kZjB1NjNZamwwYmVaZktyN0t2VFJqMlAvVTh4eno5YkhGc0FGVjRBN2JuaDlXSmZ2bThWVzVSdkYzKysrSmxpTytGSW5uOHRIbS9BVHhkL3FUaUFWWFpyeW9RMTdIWUMwTllHMXpSSVg4S0tOeDluMGozRjN5aitTVEZaeUZnNEU4OS9xZmpsWWg5WmJ4YmJDWDh0L21XeCtxM0JQeXJ3RGlTZWJ1V1JRV1pTeVNlZFUwK24wOWhXM1dpZmpONUlYVStkY3ZSU1o2ZHpuTThWZTRDN3IvaWg0aWVMN3kzdXBLMWQ4RnF4WjRaWGl4MjJ2UCtONG1lS0xjUlc0QjhsMUJqd1Q0dkZTQjRSeWdRN2FPb2k3L2t1Uy91cGxKNEpTZE5tdEsvZEtGdW5xODY0M3krT1hRZXUvQitMZWYvNWczSWxDN2tkY3E2WXcrVVFOaTRMd2dGL1ZTeHN6UVovVytEcHU3a1lRQWU5aWdzeWVDQ3Nvems2MmtlUFBjREVidEpSUm4rSzZJOTFBQXZuRnBQVWdvanZqeGNINU1vdXhtQTNmS3M0QzBkWHFIMnErTmZGeXJOb0crQk4xRnVMN1JuUUEwS2ZXSi9vbURlbzZQWTY4dGlTUjlHVDc1NlVkcEdsVEErbEhIdmR6bEpqK1RNZUMzQ0xBRFNIcFlOVm5nYzdTTzN3RUF5Y0NWOHZWazhmZjduNGg4Vy9MMlpySTIwRC9GZkxtdFVGdXNtWVdDWloyU3RFRm05TWZmU1Rrb2NDRENEa294TTV2ZGdaODJNNWV0TDAwZTMxK3NnQjFUM1lRZ1I4b0xwdWNyYVF1ZDFmYkVma3FrblBPZkcxNHVlS045SmM0Qmw5cEhoY3pRdytrOVFoV2ZUazQ1bnlLTHBwdTVSK0RIakswVXM1NmFaMnFSLzdTL3VwRlBCWmdBNDh6MWUyMDkyQVFrTFFvOFdYaXQxeUxJQUZPVmZzNENWZlMzT0FkOFd5dGVMcFV3YUJoSFUrRW5sQVNKM0Z5SzZZQW1yVVp3T05mWXkyVTA2NmJQWHhZaXZITmgyTWpNV1lnTHlLbjZ3Nk42QVFYRGpqaThYQkVVYXdjc3V4QzFaU0dxeFNNRWlHcEp1QVp5TVRrUTkxRUpLWGhnTUVmYklRZWNyUlNadm9qUFhra1VVbmFXeWszUFhrRStxa3ZEODdRRXBHNTBmRkFaODl1NEQzWjZ6QnlNM296OFc5anlwK1RKdUFkN2NWMzNRK1VpYkNlRHFPak83WWFlcEdPZDIwNy9rdUk5OUUwZStwTnVrdjhtNW5TZ1k4TzBBS2NDa2JXWkNmVlI3Z1pIQVJqckpJMFhmcmc1MnYza2xhQi95ZDFlSnNzWTcza1lBT3FDa0tnQURGeW9BV2hyelgvS0xZNGx3bzlxeEFwaTRMVU5rRmR1b3N6RlcwRHZoekI5bzZER1dnaWMrUjAwbWNqR3dxTmRseHdzcW85N09VclA4Wlc5cWw3VGdHT3VxbWRIdS95VXZIT1FJMWZRRHg3V0l4L0h6eHM4VVhpejBidUFrRitQUkg1OFhpcTJqVms0R25nQ2VhTmtPWlhCTmYxMnpBT3VxNHNpQjlFcGxuVW5VV2s0TTZUSDJ0Q3lQeVlydEZlZWVBSGFhOFBndFgyUVU5WHo4dDFDRmE1Zkhpa3hEVEIzQ280WWJDVWR1dE1odDdTVmZwSFljY0RoaWdQTjZIRTl5TWhZZUhBenJkVHJDY0JUeHY5N1dXbFJzOWFweDhMeWVmMUFDU2w0YmliVDFOWGRLdUg1azA0NG5kWGljL3RvdCs5Tkl1ZWhtRCt1UjdHam1BZVRuUDFqWk1qdUFWekpUVEx5eGhlZ2o4S1kvM0h0RU5WUEdXcCtBaHpZSjFVSUFjb0xzOCtYc3FzeFo0OGNzS2pkc2xCazdUb3lIZ1RJQ3RNMkZCbzhmN09NanFUYTNzUWJNakoyd2ZoOTBqRDJob2VKVHh6VzBEMjBuZ25kNCtsdUx0QUdJVUpSL1FJbC9XcnY3WjI0MXRVdGZ0Sjk4dHJtdlg5WHJiM2liOVpPejBVai9LbEhzNEdmVlNIdnZxZll3Nnl1cGhlK1c2MnoxZUJhWGVzSXBiVVRyWnF0RUpLSS9qR3N1N0dNSWNtekJleFBvT3ZEdHFEcEZyR1lnQjNJZzBqbXNzNzJMTW0yekMrQkR3dG9JbmdvU1pES0p2SWJMUmNPclY5Ynh5cDlRbFZkZnpLVXZIUHNqV0VUdG9iTmZ0OS94UysvRFAyQmp0VExXTExLazJQUi9MVXpJWUwrVHhlRGNaQSsrRFQwT3k1Q3Q3Vlo1czFDR2JJblpRK3BrcTk3cDErWXdwNmRMeTlNOHBuZDUzejNjTFhSNGJYVFkxdnJUdmVsM21odk51Z0oveTlpajNWRWN4Mk9YcjhyN28rZ09TWFNXa3NSVjI2TEJyUE5oNE1Ibm9LSDJuN1pqT3NUVkhaN1E3cDd4NGFnandDanFhUTNQMFBCajV3cFBPT1RlaVkxRzA4ZjZCN0VRZWdpM01uTDVMYlJiTnNUVkhaMVpuVFFuV1Y5NGMvTE8yVEw3cGJKMEZOdERHczJKclF3Y05MQUoySUFIZjRkUjNRUlZ2T29MMUdSNi9DOUM5VjNnYXpidEZaWGRLbk1MamxBOFFDK0FyOEdaZWdOc1RVMWR0S2ZKTk1aMUhBdjBreUhpQWIyZmxlYmFQYnh6dnFuTGtTZGVOZlpVT09lcjlMeVdIZi9iMnlkL2hQVDRUT0t3K3J4UVE1bW52WG92WEc3K0QrR2FpOTNpOEZiT1ZwVm5GeW00a29FLytXbXRqeTkwcEdMY3p4YTRUZ29STnRHa3VZLzFZWGxvNS9IT09UbTh4cFIvWkdSN3ZNellEN2czSGZMWUpPZEJkRVc4MDR2bHVRaVo0STlPSFBCNmdjMjgwZE1YWDR6cEV5L1Exa1IzSUlTekE0dHAyVGRhT3IvRmx3S001SVlhT0xiMnJxNkorajRNeXppekFuTjE4SE9OWWF6TWVUOG1BK3haTldjckRzZnpOUW5heDNRbDQ4M1FRWjM1OUhwRlY5WUo2SFVIcXljZDhkTW1UNzIza1Vkb212VTJNZHlpTlJBRWJQQStYdjlrSjhGbUE2ejZYL1BPT3JLUUI3UVBJNjRDOUVSYmdnd0MvYnFEN1dzZlpMSUpRMUIzdk9PZkxxWVhzajI1bDREdkFXWVNrdlc1WGVXSDd5bTF3VytCSHo5alhzSlNEMkh6SE9XKzdFREM2NnB6TWRYS09zV3hMS2VvSDc3NHRnTG1GQW43U3lEZWxiTUJsRXB1NXdBUGJCNGxuV1d3UVB0VzlHTG92VHhvditUN1FGSGpaQlVrenp5bmQxQjFLdHdFZTRHZUxIeWpXNGFYaVY0cTlsYy91c0hUM2dlSm9TYmVlVThMR3VvWkFwZ2Y0K3c1U2QzOTUvMERmNG8wclg2SlRXb2ZBSE9DMUIyd1dJR1h2SVlDWHpyV2o3U2tWQW5NQnM2VmNoWG84MXhidzNzTlA4aTVjM2QzOE5BZDRvRHVodlh2NFRWUGltaDBnL054ZGZPcjFCY0kyTkFkNDlnRHZ5ZFYvbk5CLytlR21jMCt4Ti8zVFdGOGd6S1c1d0NmVTVDK1o0L1hhQXgzNHB5Rm5MdXFsdHczd3ZyNzg1c2xmc2drN0lXSEdIelA0WjhpbklTZW9iRWpuQXM5TXdvMi9ldVA1eWtpczUvVVBGdnVURStGbkc3dWxmdXZSM0E4b3lDVGMrRnE5V0F6c3U0cVJXNDMvWUNLL29mSlI1UWFVeGFuc0tYVUV0Z0ZlTytBRDFDRjdxWmgzKytVeWtoZHlBcmduaGVRcmUwb2RnVzFEQXVBVDYzbjlXd2ZsMkhUQUNqblliaER6VCsvNEJjSkkyd0t2dmZEaFk4cWQvclZpTWIrSEZPQS9YSHkyMkFlV0hYRUtmb0hRYWR2MytMVE44NEUzRytIbGZMRmJEWGxJdkxjajNpaDJHTHNSTFg3N1V1a3RUOXZHK0FBbTVQQnk0TDVaYk9jQTNhMG11NGluNTFITmVXQUJUdU4rZ1lDT0NyeTJpZmZBZDdkWGZxUlllQkZha05SaUNEL2kvWVZpWjBRUFRWVzg5U2plZWRTWkExdjQ4RUVGZk1EYUFXNHo2cENkNE1ielVMR0Z2dFkreThUTlQ5Zmk4Wmw5d0pmeVpBdmhyaS8yZTBRTDBPcjdZbGdRM09XcEwvRisweTZBaHhEQWhCQmhKNmtERmZnT1hmMjhVR3duSUljeVdZRFBvV3Zod251OUNFZTkxUlErSzRtSGkrMkFkY0JpZ0h2VnRDaEl6RDliTE80TFUvbHJEd3NYM1N4R2lmYVBqZ040S0NXTVdBUjV4SU96R04rc2ZIWUNvSUVzdFFpZUd5NFcyekhrZTBtQU9BNENNaDV2THhiQmJ2Q3VrNXNQcjNmNDJnVnVRSDZ4NHFOTS9kNENuNE92NW5paXhLczc5UjNDR1JLU3VzNWU1VThhZUR0QU9MbFE3TnFaZjVlVG5XR1hlSXJZNi9oZTgxdkVYT2xKRVlBZHNrRDNGZXNoRFFzemVkTVIzeDJ5V1l6SzdoOGQxK0c2RHFtRUZURWNDeTNpdk4ySGdXNG44SG83WUMvcGVnRGZnY3dpQUZ3ZThmU3BnM2xSdVM4Ly9nL00zdXdQbHptVDBnQUFBQUJKUlU1RXJrSmdnZz09Ij48L2ltYWdlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},"3yjV":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMxcHgiIGhlaWdodD0iMzFweCIgdmlld0JveD0iMCAwIDMxIDMxIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19zdW94aWFvPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iMTQ0MHg5MDAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iMDTlnIblvaLnn6nlvaLpgInmi6kiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNDcuMDAwMDAwLCAtNzUuMDAwMDAwKSIgZmlsbD0iIzY2NjY2NiI+DQogICAgICAgICAgICA8ZyBpZD0i5bel5YW35qCPIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgNjAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC0yMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQxLjUwMDAwMCwgMTAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNS4wMDAwMDAsIDQuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAwLjUwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJpYy9zdW94aWFvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjQwMDAwMCwgMC44MDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE2LjIsMjYuNCBDMTAuMDE0NDEwOCwyNi40IDUsMjEuMzg1NTg5MiA1LDE1LjIgQzUsOS4wMTQ0MTA4IDEwLjAxNDQxMDgsNCAxNi4yLDQgQzIyLjM4NTU4OTIsNCAyNy40LDkuMDE0NDEwOCAyNy40LDE1LjIgQzI3LjQsMjEuMzg1NTg5MiAyMi4zODU1ODkyLDI2LjQgMTYuMiwyNi40IFogTTEwLjYsMTQuMDggTDEwLjYsMTYuMzIgTDIxLjgsMTYuMzIgTDIxLjgsMTQuMDggTDEwLjYsMTQuMDggWiIgaWQ9IuWQiOW5tuW9oueKtiI+PC9wYXRoPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},"4ZeD":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjgwcHgiIGhlaWdodD0iODBweCIgdmlld0JveD0iMCAwIDgwIDgwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19sYW1wX3N0YXRlMzwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGRlZnM+DQogICAgICAgIDxjaXJjbGUgaWQ9InBhdGgtMSIgY3g9IjI5LjgxMDUyNjMiIGN5PSIzMC4zMTU3ODk1IiByPSIyNi44NDIxMDUzIj48L2NpcmNsZT4NCiAgICAgICAgPGZpbHRlciB4PSItOC43JSIgeT0iLTguNyUiIHdpZHRoPSIxMTcuNCUiIGhlaWdodD0iMTE3LjQlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMiI+DQogICAgICAgICAgICA8ZmVNb3JwaG9sb2d5IHJhZGl1cz0iMy42NTc4OTQ3NCIgb3BlcmF0b3I9ImRpbGF0ZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd1NwcmVhZE91dGVyMSI+PC9mZU1vcnBob2xvZ3k+DQogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIwIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4NCiAgICAgICAgICAgIDxmZUNvbXBvc2l0ZSBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiBpbjI9IlNvdXJjZUFscGhhIiBvcGVyYXRvcj0ib3V0IiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZUNvbXBvc2l0ZT4NCiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjU4NjEzNTY0MyAgIDAgMCAwIDAgMC41ODYxMzU2NDMgICAwIDAgMCAwIDAuNTg2MTM1NjQzICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd09mZnNldE91dGVyMSI+PC9mZUNvbG9yTWF0cml4Pg0KICAgICAgICA8L2ZpbHRlcj4NCiAgICA8L2RlZnM+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjEx54q25oCB5pi+56S65qC35byP5bqTMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTExNDIuMDAwMDAwLCAtMjM1LjAwMDAwMCkiPg0KICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC0xMSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzAuMDAwMDAwLCAxMzkuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJpYy9sYW1wL3N0YXRlMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTcyLjAwMDAwMCwgOTYuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5oyH56S654Gv5Zu+5bqTIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyLjAwMDAwMCwgMS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5oyH56S654GvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4LjAwMDAwMCwgOC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuakreWchuW9oiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBzdHJva2U9IiNERURFREUiIHN0cm9rZS13aWR0aD0iMy4xNTc4OTQ3NCIgZmlsbD0iIzRGNEY0RiIgZmlsbC1ydWxlPSJldmVub2RkIiBjeD0iMjkuODEwNTI2MyIgY3k9IjMwLjMxNTc4OTUiIHI9IjI4LjQyMTA1MjYiPjwvY2lyY2xlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9IuakreWchuW9oiIgZmlsbD0iIzgxODE4MSIgY3g9IjMwLjA2MzE1NzkiIGN5PSIzMC4zMTU3ODk1IiByPSIyNS4yNjMxNTc5Ij48L2NpcmNsZT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltYWdlIGlkPSLnu4QtMiIgeD0iNi4wNjMxNTc4OSIgeT0iOS42IiB3aWR0aD0iNDcuNDk0NzM2OCIgaGVpZ2h0PSI0MC40MjEwNTI2IiB4bGluazpocmVmPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUY0QUFBQlFDQVlBQUFDUTJNSWVBQUFBQkdkQlRVRUFBTEdPZlB0Umt3QUFETzFKUkVGVWVBSHQzT21Qbk1VUkJuQWNDTGxJUXNLTnNaRUlJYmVVaTRRYzRtdis2NGprUTZJY1VpSWt2Z0NSRVZkd0hBUTVDQVFDVHYxbTlqRzE3WGRtM2xuUHJ1M3hsbFRiM2RYVjFkMVBWMWYzMit2MW1jdVhMOTkyQTlJbmEwejNGdDlYZkhmeEY0dnZLdjVNOGFlTGJ5KytzL2pENGcrSy8xdjgva0grMzVYK28vanQ0a3ZGZnkrbWMwUFJtUnNFZUVDZlArQ3psUUo4cERNSGdqbWUwblhwVzREWGkxOCs0T3UrRU5jVCtFOFZDRjhwZnFMNGtXTGdod0EzQXZ4UnlUNXhvQ0MvaXFLamZXeEVwZzNRWHkxK3Z2Z3Z4WGJMaWRQMUFQNkJtdVYzaWg4dkJqNEtxSUFhUVkvM2RwMEF1bWc4L09nZ1o0SFl3Q2xIQitqQWY3YjRZdkdKMFVrQy8yak42dnZGRDUvWTdLN3VLQXQ3ZGMweUZQMnBLbDZhcXR5MTdDU0FQMWVEZnJMNC9sMFAvcGpzL2Ezcy9xSDRsV095dnpCN25NQi9vWHA0cXZpeFlwNlc4R0NiSjEvWkt6U0dtSzZUY05ObEdtNlNSMGM3bkQ2azRZUWR1dEZ4VzNxcCtMZkZia2c3cCtNQTNrVEU4TzhWMzlGR25FbEZOSllqbDZwREFWWitTa2FPVXJjc0xYK3VhaHZBWFVtTjFhRXVIL3BmWlp3RndIY0dDRC9PQU9XcGZrcThQZTBhZUY3K2RIRy9EdVpBRzRIb25xK3VUMHErNnlmZjVWMC83YnRlbVZoUTJpUWxCTGIrSGU2K0RYd1RjQkx0M1hxTUdlanlVdUhubVdMZkJwbFBaWTlPdXdUK3NSckdqNHVudk54Z0E0clJBc0hFcHlpQWptRFM3ZUNOYlh0ZDh2cE5QNUVwODNDZ2Y3YllCeHJPZFJiWStMM2lkdzg0K2Q5VStZVmlkcTlwQVhZQlBJQitVT3crUGxJbU84cm5sclZINDZMMThsSmovaytnY3c2Z3UyRjl0OWdGZ095ZFlqSGQxeS8rVi9FL0QxSjFGdUs1NHQ4Vkp5UlZkbnZxM3JsOTYrVmdmMTROSHl3V0F3TklBTy9BUmFhZm5sY09kZjB1NjNZamwwYmVaZktyN0t2VFJqMlAvVTh4eno5YkhGc0FGVjRBN2JuaDlXSmZ2bThWVzVSdkYzKysrSmxpTytGSW5uOHRIbS9BVHhkL3FUaUFWWFpyeW9RMTdIWUMwTllHMXpSSVg4S0tOeDluMGozRjN5aitTVEZaeUZnNEU4OS9xZmpsWWg5WmJ4YmJDWDh0L21XeCtxM0JQeXJ3RGlTZWJ1V1JRV1pTeVNlZFUwK24wOWhXM1dpZmpONUlYVStkY3ZSU1o2ZHpuTThWZTRDN3IvaWg0aWVMN3kzdXBLMWQ4RnF4WjRaWGl4MjJ2UCtONG1lS0xjUlc0QjhsMUJqd1Q0dkZTQjRSeWdRN2FPb2k3L2t1Uy91cGxKNEpTZE5tdEsvZEtGdW5xODY0M3krT1hRZXUvQitMZWYvNWczSWxDN2tkY3E2WXcrVVFOaTRMd2dGL1ZTeHN6UVovVytEcHU3a1lRQWU5aWdzeWVDQ3Nvems2MmtlUFBjREVidEpSUm4rSzZJOTFBQXZuRnBQVWdvanZqeGNINU1vdXhtQTNmS3M0QzBkWHFIMnErTmZGeXJOb0crQk4xRnVMN1JuUUEwS2ZXSi9vbURlbzZQWTY4dGlTUjlHVDc1NlVkcEdsVEErbEhIdmR6bEpqK1RNZUMzQ0xBRFNIcFlOVm5nYzdTTzN3RUF5Y0NWOHZWazhmZjduNGg4Vy9MMlpySTIwRC9GZkxtdFVGdXNtWVdDWloyU3RFRm05TWZmU1Rrb2NDRENEa294TTV2ZGdaODJNNWV0TDAwZTMxK3NnQjFUM1lRZ1I4b0xwdWNyYVF1ZDFmYkVma3FrblBPZkcxNHVlS045SmM0Qmw5cEhoY3pRdytrOVFoV2ZUazQ1bnlLTHBwdTVSK0RIakswVXM1NmFaMnFSLzdTL3VwRlBCWmdBNDh6MWUyMDkyQVFrTFFvOFdYaXQxeUxJQUZPVmZzNENWZlMzT0FkOFd5dGVMcFV3YUJoSFUrRW5sQVNKM0Z5SzZZQW1yVVp3T05mWXkyVTA2NmJQWHhZaXZITmgyTWpNV1lnTHlLbjZ3Nk42QVFYRGpqaThYQkVVYXdjc3V4QzFaU0dxeFNNRWlHcEp1QVp5TVRrUTkxRUpLWGhnTUVmYklRZWNyUlNadm9qUFhra1VVbmFXeWszUFhrRStxa3ZEODdRRXBHNTBmRkFaODl1NEQzWjZ6QnlNM296OFc5anlwK1RKdUFkN2NWMzNRK1VpYkNlRHFPak83WWFlcEdPZDIwNy9rdUk5OUUwZStwTnVrdjhtNW5TZ1k4TzBBS2NDa2JXWkNmVlI3Z1pIQVJqckpJMFhmcmc1MnYza2xhQi95ZDFlSnNzWTcza1lBT3FDa0tnQURGeW9BV2hyelgvS0xZNGx3bzlxeEFwaTRMVU5rRmR1b3N6RlcwRHZoekI5bzZER1dnaWMrUjAwbWNqR3dxTmRseHdzcW85N09VclA4Wlc5cWw3VGdHT3VxbWRIdS95VXZIT1FJMWZRRHg3V0l4L0h6eHM4VVhpejBidUFrRitQUkg1OFhpcTJqVms0R25nQ2VhTmtPWlhCTmYxMnpBT3VxNHNpQjlFcGxuVW5VV2s0TTZUSDJ0Q3lQeVlydEZlZWVBSGFhOFBndFgyUVU5WHo4dDFDRmE1Zkhpa3hEVEIzQ280WWJDVWR1dE1odDdTVmZwSFljY0RoaWdQTjZIRTl5TWhZZUhBenJkVHJDY0JUeHY5N1dXbFJzOWFweDhMeWVmMUFDU2w0YmliVDFOWGRLdUg1azA0NG5kWGljL3RvdCs5Tkl1ZWhtRCt1UjdHam1BZVRuUDFqWk1qdUFWekpUVEx5eGhlZ2o4S1kvM0h0RU5WUEdXcCtBaHpZSjFVSUFjb0xzOCtYc3FzeFo0OGNzS2pkc2xCazdUb3lIZ1RJQ3RNMkZCbzhmN09NanFUYTNzUWJNakoyd2ZoOTBqRDJob2VKVHh6VzBEMjBuZ25kNCtsdUx0QUdJVUpSL1FJbC9XcnY3WjI0MXRVdGZ0Sjk4dHJtdlg5WHJiM2liOVpPejBVai9LbEhzNEdmVlNIdnZxZll3Nnl1cGhlK1c2MnoxZUJhWGVzSXBiVVRyWnF0RUpLSS9qR3N1N0dNSWNtekJleFBvT3ZEdHFEcEZyR1lnQjNJZzBqbXNzNzJMTW0yekMrQkR3dG9JbmdvU1pES0p2SWJMUmNPclY5Ynh5cDlRbFZkZnpLVXZIUHNqV0VUdG9iTmZ0OS94UysvRFAyQmp0VExXTExLazJQUi9MVXpJWUwrVHhlRGNaQSsrRFQwT3k1Q3Q3Vlo1czFDR2JJblpRK3BrcTk3cDErWXdwNmRMeTlNOHBuZDUzejNjTFhSNGJYVFkxdnJUdmVsM21odk51Z0oveTlpajNWRWN4Mk9YcjhyN28rZ09TWFNXa3NSVjI2TEJyUE5oNE1Ibm9LSDJuN1pqT3NUVkhaN1E3cDd4NGFnandDanFhUTNQMFBCajV3cFBPT1RlaVkxRzA4ZjZCN0VRZWdpM01uTDVMYlJiTnNUVkhaMVpuVFFuV1Y5NGMvTE8yVEw3cGJKMEZOdERHczJKclF3Y05MQUoySUFIZjRkUjNRUlZ2T29MMUdSNi9DOUM5VjNnYXpidEZaWGRLbk1MamxBOFFDK0FyOEdaZWdOc1RVMWR0S2ZKTk1aMUhBdjBreUhpQWIyZmxlYmFQYnh6dnFuTGtTZGVOZlpVT09lcjlMeVdIZi9iMnlkL2hQVDRUT0t3K3J4UVE1bW52WG92WEc3K0QrR2FpOTNpOEZiT1ZwVm5GeW00a29FLytXbXRqeTkwcEdMY3p4YTRUZ29STnRHa3VZLzFZWGxvNS9IT09UbTh4cFIvWkdSN3ZNellEN2czSGZMWUpPZEJkRVc4MDR2bHVRaVo0STlPSFBCNmdjMjgwZE1YWDR6cEV5L1Exa1IzSUlTekE0dHAyVGRhT3IvRmx3S001SVlhT0xiMnJxNkorajRNeXppekFuTjE4SE9OWWF6TWVUOG1BK3haTldjckRzZnpOUW5heDNRbDQ4M1FRWjM1OUhwRlY5WUo2SFVIcXljZDhkTW1UNzIza1Vkb212VTJNZHlpTlJBRWJQQStYdjlrSjhGbUE2ejZYL1BPT3JLUUI3UVBJNjRDOUVSYmdnd0MvYnFEN1dzZlpMSUpRMUIzdk9PZkxxWVhzajI1bDREdkFXWVNrdlc1WGVXSDd5bTF3VytCSHo5alhzSlNEMkh6SE9XKzdFREM2NnB6TWRYS09zV3hMS2VvSDc3NHRnTG1GQW43U3lEZWxiTUJsRXB1NXdBUGJCNGxuV1d3UVB0VzlHTG92VHhvditUN1FGSGpaQlVrenp5bmQxQjFLdHdFZTRHZUxIeWpXNGFYaVY0cTlsYy91c0hUM2dlSm9TYmVlVThMR3VvWkFwZ2Y0K3c1U2QzOTUvMERmNG8wclg2SlRXb2ZBSE9DMUIyd1dJR1h2SVlDWHpyV2o3U2tWQW5NQnM2VmNoWG84MXhidzNzTlA4aTVjM2QzOE5BZDRvRHVodlh2NFRWUGltaDBnL054ZGZPcjFCY0kyTkFkNDlnRHZ5ZFYvbk5CLytlR21jMCt4Ti8zVFdGOGd6S1c1d0NmVTVDK1o0L1hhQXgzNHB5Rm5MdXFsdHczd3ZyNzg1c2xmc2drN0lXSEdIelA0WjhpbklTZW9iRWpuQXM5TXdvMi9ldVA1eWtpczUvVVBGdnVURStGbkc3dWxmdXZSM0E4b3lDVGMrRnE5V0F6c3U0cVJXNDMvWUNLL29mSlI1UWFVeGFuc0tYVUV0Z0ZlTytBRDFDRjdxWmgzKytVeWtoZHlBcmduaGVRcmUwb2RnVzFEQXVBVDYzbjlXd2ZsMkhUQUNqblliaER6VCsvNEJjSkkyd0t2dmZEaFk4cWQvclZpTWIrSEZPQS9YSHkyMkFlV0hYRUtmb0hRYWR2MytMVE44NEUzRytIbGZMRmJEWGxJdkxjajNpaDJHTHNSTFg3N1V1a3RUOXZHK0FBbTVQQnk0TDVaYk9jQTNhMG11NGluNTFITmVXQUJUdU4rZ1lDT0NyeTJpZmZBZDdkWGZxUlllQkZha05SaUNEL2kvWVZpWjBRUFRWVzg5U2plZWRTWkExdjQ4RUVGZk1EYUFXNHo2cENkNE1ielVMR0Z2dFkreThUTlQ5Zmk4Wmw5d0pmeVpBdmhyaS8yZTBRTDBPcjdZbGdRM09XcEwvRisweTZBaHhEQWhCQmhKNmtERmZnT1hmMjhVR3duSUljeVdZRFBvV3Zod251OUNFZTkxUlErSzRtSGkrMkFkY0JpZ0h2VnRDaEl6RDliTE80TFUvbHJEd3NYM1N4R2lmYVBqZ040S0NXTVdBUjV4SU96R04rc2ZIWUNvSUVzdFFpZUd5NFcyekhrZTBtQU9BNENNaDV2THhiQmJ2Q3VrNXNQcjNmNDJnVnVRSDZ4NHFOTS9kNENuNE92NW5paXhLczc5UjNDR1JLU3VzNWU1VThhZUR0QU9MbFE3TnFaZjVlVG5XR1hlSXJZNi9oZTgxdkVYT2xKRVlBZHNrRDNGZXNoRFFzemVkTVIzeDJ5V1l6SzdoOGQxK0c2RHFtRUZURWNDeTNpdk4ySGdXNG44SG83WUMvcGVnRGZnY3dpQUZ3ZThmU3BnM2xSdVM4Ly9nL00zdXdQbHptVDBnQUFBQUJKUlU1RXJrSmdnZz09Ij48L2ltYWdlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},"4q36":function(t,e,i){(function(t){!function(t,e,i){"use strict";var n,o,a=t.ht,r=a.Default,s=r.eventListenerOptionsFalse,l=(r.eventListenerOptionsTrue,function(t,e,i,n){t.addEventListener(e,i,s)}),c=["transitionend","webkitTransitionEnd"],h=null,d=t.parseInt,g=t.isNaN,u={linear:"cubic-bezier(0.250, 0.250, 0.750, 0.750)",ease:"cubic-bezier(0.250, 0.100, 0.250, 1.000)","ease-in":"cubic-bezier(0.420, 0.000, 1.000, 1.000)","ease-out":"cubic-bezier(0.000, 0.000, 0.580, 1.000)","ease-in-out":"cubic-bezier(0.420, 0.000, 0.580, 1.000)","ease-in-quad":"cubic-bezier(0.550, 0.085, 0.680, 0.530)","ease-in-cubic":"cubic-bezier(0.550, 0.055, 0.675, 0.190)","ease-in-quart":"cubic-bezier(0.895, 0.030, 0.685, 0.220)","ease-in-quint":"cubic-bezier(0.755, 0.050, 0.855, 0.060)","ease-in-sine":"cubic-bezier(0.470, 0.000, 0.745, 0.715)","ease-in-expo":"cubic-bezier(0.950, 0.050, 0.795, 0.035)","ease-in-circ":"cubic-bezier(0.600, 0.040, 0.980, 0.335)","ease-in-back":"cubic-bezier(0.600, -0.280, 0.735, 0.045)","ease-out-quad":"cubic-bezier(0.250, 0.460, 0.450, 0.940)","ease-out-cubic":"cubic-bezier(0.215, 0.610, 0.355, 1.000)","ease-out-quart":"cubic-bezier(0.165, 0.840, 0.440, 1.000)","ease-out-quint":"cubic-bezier(0.230, 1.000, 0.320, 1.000)","ease-out-sine":"cubic-bezier(0.390, 0.575, 0.565, 1.000)","ease-out-expo":"cubic-bezier(0.190, 1.000, 0.220, 1.000)","ease-out-circ":"cubic-bezier(0.075, 0.820, 0.165, 1.000)","ease-out-back":"cubic-bezier(0.175, 0.885, 0.320, 1.275)","ease-in-out-quad":"cubic-bezier(0.455, 0.030, 0.515, 0.955)","ease-in-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1.000)","ease-in-out-quart":"cubic-bezier(0.770, 0.000, 0.175, 1.000)","ease-in-out-quint":"cubic-bezier(0.860, 0.000, 0.070, 1.000)","ease-in-out-sine":"cubic-bezier(0.445, 0.050, 0.550, 0.950)","ease-in-out-expo":"cubic-bezier(1.000, 0.000, 0.000, 1.000)","ease-in-out-circ":"cubic-bezier(0.785, 0.135, 0.150, 0.860)","ease-in-out-back":"cubic-bezier(0.680, -0.550, 0.265, 1.550)"},f=r.animate=function(t){var e,r=this;return r instanceof f?("string"==typeof t&&(t=document.querySelector(t)),n===i&&(n=function(){var t={webkitTransform:"-webkit-transform",msTransform:"-ms-transform",transform:"transform"},e=document.createElement("p");for(var i in t)if(h!=e.style[i])return t[i];return h}()),o===i&&(e=document.body.style,o="transition"in e||"webkitTransition"in e),r._el=t,r.$1m={},r.$2m=[],r.$3m=[],r.duration(),void(r.$4m=new a.Notifier)):new f(t)};r.def(f,e,{transform:function(t){var e=this;return e.$3m.push(t),"-webkit-transform"===n?(e.$5m(n,e.$3m.join(" ")),e.$6m(n),e.$5m("transform",e.$3m.join(" ")),e.$6m("transform")):(e.$5m(n,e.$3m.join(" ")),e.$6m(n)),e},translate:function(t,e){t=t==h?0:t,e=e==h?0:e;var i=g(t)?t:t+"px",n=g(e)?e:e+"px";return this.transform("translate("+i+", "+n+")")},translateX:function(t){return t=g(t=t==h?0:t)?t:t+"px",this.transform("translateX("+t+")")},tx:function(t){this.translateX(t)},translateY:function(t){return t=g(t=t==h?0:t)?t:t+"px",this.transform("translateY("+t+")")},ty:function(t){this.translateY(t)},scale:function(t,e){return t=g(t)?1:t,e=e==h||g(e)?t:e,this.transform("scale("+t+", "+e+")")},scaleX:function(t){return t=g(t)?1:t,this.transform("scaleX("+t+")")},scaleY:function(t){return t=g(t)?1:t,this.transform("scaleY("+t+")")},rotate:function(t){return t=d(t)||0,this.transform("rotate("+t+"deg)")},skew:function(t,e){return t=d(t)||0,e=d(e)||0,this.transform("skew("+t+"deg, "+e+"deg)")},skewX:function(t){return t=d(t)||0,this.transform("skewX("+t+"deg)")},skewY:function(t){return t=d(t)||0,this.transform("skewY("+t+"deg)")},$7m:function(t){this._el.$17m=t;for(var e=0;e<c.length;e++)l(this._el,c[e],t)},$8m:function(t){for(var e=0;e<c.length;e++)i=this._el,n=c[e],o=t,i.removeEventListener(n,o,s);var i,n,o;delete this._el.$17m},$9m:function(t){var e=this,i=e._el;i.$17m&&e.$8m(i.$17m),e.$7m(function n(){e.$8m(n),t.apply(i,arguments)})},$5m:function(t,e){this.$1m[t]=e},$10m:function(){var t=this.$1m,e=this._el.style;for(var i in t){var n=t[i];if(i.indexOf("transition-property")>=0){var o=e.getPropertyValue(i);o&&(o.indexOf(n)>=0?n=o:n.indexOf(o)>=0||(n=o+", "+n))}e.setProperty(i,n)}},$11m:function(t,e){this.$5m("-webkit-"+t,e),this.$5m(t,e)},$12m:function(){var t=this._el.style;t.webkitTransition=t.transition=""},duration:function(t){return g(t)&&(t=200),this.$14m=t,this.$11m("transition-duration",t+"ms"),this},delay:function(t){return t=d(t)||0,this.$11m("transition-delay",t+"ms"),this},ease:function(t){return t=u[t]||t||"ease",this.$11m("transition-timing-function",t),this},$6m:function(t){this.$2m.indexOf(t)<0&&this.$2m.push(t)},set:function(t,e){return this.$5m(t,e),this.$6m(t),this},then:function(t){var e=this,i=this.$4m;if(!(t instanceof f)){var n=new f(e._el);return n.$3m=this.$3m.slice(0),e.then(n),n.$15m=e,e.$16m=n,n}return i.add(function(i){"end"===i.kind&&t.end(e.$13m)}),this},pop:function(){return this.$15m},end:function(t){var e=this,i=e.$4m;e.$11m("transition-property",e.$2m.join(", ")),e.$10m(),t&&(e.$13m=t);var n=function(t){e.$12m(),i.fire({kind:"end"}),e.$16m||e.$13m&&e.$13m.call(e,t)};0!==e.$14m&&o?e.$9m(function(t){r.callLater(function(){n(t)},h,h,0)}):n({target:e._el,mock:1})}})}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object)}).call(e,i("DuR2"))},"4vb3":function(t,e){},"4x85":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19wb2x5Z29uPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iMTQ0MHg5MDAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iMDTlnIblvaLnn6nlvaLpgInmi6kiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNzkuMDAwMDAwLCAtMjcyLjAwMDAwMCkiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIj4NCiAgICAgICAgICAgIDxnIGlkPSLlt6bkvqfmoI8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxMjAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC0xNS1jb3B5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzguMDAwMDAwLCAxNTIuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS4wMDAwMDAsIDAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iaWMvcG9seWdvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTI3LjQyMjY0OTcsNyBMMTIuNTc3MzUwMyw3IEw1LjE1NDcwMDU0LDE5Ljg1NjQwNjUgTDEyLjU3NzM1MDMsMzIuNzEyODEyOSBMMjcuNDIyNjQ5NywzMi43MTI4MTI5IEwzNC44NDUyOTk1LDE5Ljg1NjQwNjUgTDI3LjQyMjY0OTcsNyBaIiBpZD0i5aSa6L655b2iIj48L3BhdGg+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},"5PA5":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Dd8w"),o=i.n(n),a=i("NYxO"),r=(i("Du/2"),i("162o"),{name:"htbox",components:{imgHouse:i("YBLq").default},data:function(){return{showPreview:!1,testHtmlNode:new ht.HtmlNode,htVars:{graphView:"",dataModel:"",historyManager:""},view:"",deviceType:"c8y_MQTTDevice"}},computed:o()({},Object(a.c)(["showImageHouse"])),methods:o()({},Object(a.b)(["m_showImageHouse"]),{makeGraph:function(){this.htVars.graphView=window.graphView=new this.$ht.graph.GraphView,this.htVars.dataModel=window.dataModel=this.htVars.graphView.getDataModel(),this.htVars.historyManager=window.historyManager=new this.$ht.HistoryManager(window.dataModel),this.htVars.graphView.adjustHtmlNodeIndex=!0,this.view=this.htVars.graphView.getView(),this.view.className="graph",this.htVars.historyManager.clear();var t=new ht.graph.XEditInteractor(this.htVars.graphView);this.htVars.graphView.setInteractors(new this.$ht.List([new ht.graph.ScrollBarInteractor(this.htVars.graphView),new ht.graph.SelectInteractor(this.htVars.graphView),t,new ht.graph.MoveInteractor(this.htVars.graphView),new ht.graph.DefaultInteractor(this.htVars.graphView),new ht.graph.TouchInteractor(this.htVars.graphView,{editable:!1})])),this.htVars.graphView.setEditableFunc(function(t){return t.__proto__!==this.testHtmlNode.__proto__}.bind(this));new this.$ht.Node},bindingWindowKey:function(){window.addEventListener("resize",function(t){mainSplitView.iv()}),window.addEventListener("keydown",function(t){ht.Default.isCtrlDown(t)&&ht.Default.isShiftDown(t)&&90===t.keyCode?historyManager.redo():ht.Default.isCtrlDown(t)&&90===t.keyCode&&historyManager.undo()})}}),created:function(){this.makeGraph()},mounted:function(){this.$refs.htbox.appendChild(this.view);window.onresize=function(){console.log(document.body.clientWidth,document.body.clientHeight),console.log(document.body.scrollHeight,document.body.scrollWidth),this.location.reload()},this.htVars.graphView.enableFlow(),this.htVars.graphView.enableDashFlow()}}),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"htbox",staticClass:"htbox"},[this.showImageHouse?e("img-house",{staticClass:"imgHouse"}):this._e()],1)},staticRenderFns:[]};var l=i("VU/8")(r,s,!1,function(t){i("lV/3"),i("jCBT")},"data-v-34a4bd06",null);e.default=l.exports},"6Pkq":function(t,e){},"772a":function(t,e,i){"use strict";(function(t){var n=i("Dd8w"),o=i.n(n),a=i("NYxO"),r=i("YBLq"),s=i("RPa/"),l=i("xV2B");e.a={name:"tab",components:{imgHouse:r.default},computed:o()({},Object(a.c)(["showImageHouse"]),{nodeId:function(){return this.node.id},nodeInfo:function(){return window.dataModel.getDataById(this.node.id)}}),watch:{nodeId:function(){if(console.log("watch nodeid"),this.node.id>0)switch(this.node.type){case"line":this.line.color=this.nodeInfo.getStyle(s.a.attr.line.color),this.line.width=this.nodeInfo.getStyle(s.a.attr.line.width);break;case"standard":this.standard.background=this.nodeInfo.getStyle(s.a.attr.standard.background),this.standard.borderColor=this.nodeInfo.getStyle(s.a.attr.standard.borderColor),this.standard.borderWidth=this.nodeInfo.getStyle(s.a.attr.standard.borderWidth);break;case"pipe":this.pipe.borderWidth=this.nodeInfo.getStyle(s.a.attr.pipe.borderWidth),this.pipe.borderColor=this.nodeInfo.getStyle(s.a.attr.pipe.borderColor),this.pipe.dashWidth=this.nodeInfo.getStyle(s.a.attr.pipe.dashWidth),this.pipe.blockLength=this.nodeInfo.getStyle(s.a.attr.pipe.blockLength)[0],this.pipe.blockSpacing=this.nodeInfo.getStyle(s.a.attr.pipe.blockSpacing)[1],this.pipe.dashColor=this.nodeInfo.getStyle(s.a.attr.pipe.dashColor),this.pipe.flowDirection=this.nodeInfo.getStyle(s.a.attr.pipe.flowDirection);break;case"yezhu":this.yezhu.background=this.nodeInfo.getImage().comps[1].background;break;case"text":this.dom=t(this.nodeInfo.getHtml())[0],this.text.fontSize=parseInt(this.dom.style.fontSize),this.text.color=this.dom.style.color,this.dom.style.fontSize=this.text.fontSize+"px",this.dom.style.color=this.text.color,this.nodeInfo.setHtml(this.dom)}}},props:{node:{type:Object,default:""}},data:function(){return{radio:"属性",dom:"",arrFontSize:function(){for(var t=[],e=12;e<=72;e++)t.push(e);return t}(),supportedMeasurements:[],line:{color:"",width:""},standard:{background:"",borderColor:"",borderWidth:""},pipe:{borderWidth:"",borderColor:"",dashWidth:"",blockLength:"",blockSpacing:"",dashColor:"",flowDirection:"",event:{var:"",max:"",min:""}},yezhu:{background:"",event:{var:"",max:"",min:""}},text:{fontSize:"",color:"",fontWeight:"",fontStyle:"",textDecoration:"",event:{var:""}},state:{event:{var:"",imgVar:[]}},arrFontStyle:[{img:i("RPQ8"),type:"bold",clicked:!1},{img:i("Fwbe"),type:"italic",clicked:!1},{img:i("LNvV"),type:"underline",clicked:!1}],stateEvent:s.a.arrImgHouse[0].children}},created:function(){this.getDeviceList()},methods:o()({},Object(a.b)(["m_showImageHouse"]),{getDeviceList:function(){var t=this;l.a.getDeviceList({type:"c8y_MQTTDevice"}).then(function(e){e.data.managedObjects.length>0&&(console.log("根据类型获取设备列表",e.data.managedObjects),l.a.getSupportedMeasurements(166143,"").then(function(e){console.log("根据设备ID获取支持测量值",e.data.c8y_SupportedMeasurements),e.data.c8y_SupportedMeasurements.length>0&&(e.data.c8y_SupportedMeasurements.map(function(e){t.supportedMeasurements.push(e)}),console.log("supportedMeasurements",t.supportedMeasurements))}))})},handleChange:function(t,e,i){switch(t){case"pipe":switch(e){case"blockLength":this.nodeInfo.setStyle(s.a.attr[t][e],[i,this.nodeInfo.getStyle(s.a.attr[t][e])[1]]);break;case"blockSpacing":this.nodeInfo.setStyle(s.a.attr[t][e],[this.nodeInfo.getStyle(s.a.attr[t][e])[0],i]);break;default:this.nodeInfo.setStyle(s.a.attr[t][e],i)}break;case"yezhu":var n=this.nodeInfo.getImage();n.comps[1].background=i,this.nodeInfo.setImage(n),console.log("img is ",n);break;case"text":this.handleText();break;default:this.nodeInfo.setStyle(s.a.attr[t][e],i)}},handleEvent:function(t,e,i){if(!this.nodeInfo)return"";console.log(t,e,i),this.nodeInfo.setStyle("binding_"+e,i),console.log("after binding is",this.nodeInfo)},changeFontStyle:function(t){switch(console.log(t),t.clicked=!t.clicked,t.type){case"bold":t.clicked?this.text.fontWeight="bold":this.text.fontWeight="normal";break;case"italic":t.clicked?this.text.fontStyle="italic":this.text.fontStyle="normal";break;case"underline":t.clicked?this.text.textDecoration="underline":this.text.textDecoration="none"}console.log("asdfasfa",this.text),this.handleText()},handleText:function(){this.dom=t(this.nodeInfo.getHtml())[0],this.dom.style.fontWeight=this.text.fontWeight,this.dom.style.fontStyle=this.text.fontStyle,this.dom.style.textDecoration=this.text.textDecoration,console.log("this.dom is",this.dom,this.dom.style.fontWeight),this.nodeInfo.setHtml(this.dom)},chooseImg:function(){console.log(this.showImageHouse),this.m_showImageHouse({show:!this.showImageHouse})}})}}).call(e,i("7t+N"))},"7Qep":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMxcHgiIGhlaWdodD0iMzFweCIgdmlld0JveD0iMCAwIDMxIDMxIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19jbG9zZTwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjEx54q25oCB5pi+56S65qC35byP5bqTMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMzQuMDAwMDAwLCAtMTQ1LjAwMDAwMCkiIGZpbGw9IiM5OTk5OTkiPg0KICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC0xMSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzAuMDAwMDAwLCAxMzkuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJpYy9jbG9zZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA2NC4zMTM3MDgsIDYuMzEzNzA4KSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i6Lev5b6EIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBwb2ludHM9IjE0LjM2Mzk2MSAxMy45NDk3NDc1IDE5LjMxMzcwODUgOSAyMC43Mjc5MjIxIDEwLjQxNDIxMzYgMTUuNzc4MTc0NiAxNS4zNjM5NjEgMjAuNzI3OTIyMSAyMC4zMTM3MDg1IDE5LjMxMzcwODUgMjEuNzI3OTIyMSAxNC4zNjM5NjEgMTYuNzc4MTc0NiA5LjQxNDIxMzU2IDIxLjcyNzkyMjEgOCAyMC4zMTM3MDg1IDEyLjk0OTc0NzUgMTUuMzYzOTYxIDggMTAuNDE0MjEzNiA5LjQxNDIxMzU2IDkiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},"7uj/":function(t,e,i){(function(t){!function(t,e,i){"use strict";var n=ht.LiveNode=function(){n.superClass.constructor.apply(this)};ht.Default.def("ht.LiveNode",ht.Node,{_width:100,_height:35,_image:null,_enabled:!0,_editable:!0,_hover:!1,_pressed:!1,isEnabled:function(){return this._enabled},setEnabled:function(t){var e=this._enabled;this._enabled=t,this.fp("enabled",e,t)},isEditable:function(){return this._enabled},setEditable:function(t){var e=this._editable;this._editable=t,this.fp("editable",e,t)},isHover:function(){return this._hover},setHover:function(t){var e=this._hover;this._hover=t,this.fp("hover",e,t)},isPressed:function(){return this._pressed},setPressed:function(t){var e=this._pressed;this._pressed=t,this.fp("pressed",e,t)},getBackground:function(){var t,e=this;return t=e._enabled?e._pressed?"live.background.active":e._hover?"live.background.hover":"live.background":"live.background.disabled",e.s(t)||e.s("live.background")},getForeground:function(){var t,e=this;return t=e._enabled?e._pressed?"live.label.active":e._hover?"live.label.hover":"live.label.color":"live.label.disabled",e.s(t)||e.s("live.label.color")},setRotation:null,getUIClass:function(){return ht.graph.LiveNodeUI}});var o=ht.graph.LiveNodeUI=function(){o.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.LiveNodeUI",ht.Default.getInternal().ui().NodeUI,{freeDraw:function(t,e){var i=this._data,n=ht.Default.getImage(i._image);ht.Default.drawImage(t,n,e.x,e.y,e.width,e.height,i,this.gv)},onKeyDown:function(t){var e=this._data;return 32===t.keyCode||13===t.keyCode?(e.setPressed(!0),!0):void 0},onKeyUp:function(t){var e=this._data;(32===t.keyCode||13===t.keyCode)&&(e.setPressed(!1),e.onClicked&&e.onClicked(t))},onMouseOver:function(){this._data.setHover(!0)},onMouseOut:function(){this._data.setHover(!1)},onMouseDown:function(){this._data.setPressed(!0)},onMouseMove:function(){},onMouseUp:function(t){var e=this._data;e.setPressed(!1),e.onClicked&&e.onClicked(t)}});var a=ht.ButtonNode=function(){a.superClass.constructor.apply(this)};ht.Default.def("ht.ButtonNode",ht.LiveNode,{_image:"button_image"}),ht.Default.setImage("button_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},gradient:{func:"style@live.gradient"},gradientColor:{func:"style@live.gradient.color"},background:{func:"getBackground"},rect:[0,0,1,1],relative:!0},{type:"text",text:{func:"style@live.label"},align:{func:"style@live.label.align"},color:{func:"getForeground"},font:{func:"style@live.label.font"},rect:[0,0,1,1],relative:!0,offsetX:{func:"style@live.label.offset.x"},offsetY:{func:"style@live.label.offset.y"}}]});var r=ht.ToggleButtonNode=function(){r.superClass.constructor.apply(this)};ht.Default.def("ht.ToggleButtonNode",ht.ButtonNode,{_selected:!1,getUIClass:function(){return ht.graph.ToggleButtonNodeUI},getBackground:function(){var t,e=this;return e._enabled?(e._hover&&(t="live.background.hover"),e.s(t)||(t=e._selected?"live.background.active":"live.background")):t="live.background.disabled",e.s(t)||e.s("live.background")},getForeground:function(){var t,e=this;return e._enabled?(e._hover&&(t="live.label.hover"),e.s(t)||(t=e._selected?"live.label.active":"live.label.color")):t="live.label.disabled",e.s(t)||e.s("live.label.color")},isSelected:function(){return this._selected},setSelected:function(t){var e=this,i=e._selected,n=e._buttonGroup;e._selected=t,e.fp("selected",i,t)&&(n&&t&&n._selected!==e&&(n._selected&&n._selected.setSelected(!1),n._selected=e,n.onChanged(e)),e.onChanged(t))},onChanged:function(){}});var s=ht.graph.ToggleButtonNodeUI=function(){s.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.ToggleButtonNodeUI",ht.graph.LiveNodeUI,{rectIntersects:function(){return!0},onKeyDown:function(t){return s.superClass.onKeyDown.call(this,t)?(this.toggleSelect(),!0):void 0},onMouseDown:function(t){s.superClass.onMouseDown.call(this,t),this.toggleSelect()},toggleSelect:function(){var t=this._data;t._buttonGroup?t._selected||t.setSelected(!0):t.setSelected(!t._selected),t.setHover(!1)}});var l=ht.CheckboxNode=function(){var t=this;l.superClass.constructor.apply(t),t.s("live.label.align","left"),t.s("live.background",ht.Color.widgetIconBackground),t.s("live.background.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.CheckboxNode",ht.ToggleButtonNode,{_image:"checkbox_image",getBackground:function(){var t,e=this;return t=e._enabled?e._selected?"live.background.active":"live.background":"live.background.disabled",e.s(t)},getForeground:function(){var t,e=this;return t=e._enabled?e._selected?"live.background.active":"live.background":"live.background.disabled",e.s(t)}}),ht.Default.setImage("checkbox_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},background:{func:"getBackground"},rect:{func:function(t){var e=(t._width,t._height);return{x:.1*e,y:.2*e,width:.6*e,height:.6*e}}}},{type:"shape",points:{func:function(t){var e=(t._width,t._height);return[.3*e,.5*e,.4*e,.6*e,.55*e,.35*e]}},borderWidth:{func:function(t){return.05*t._height}},borderColor:"#FFFFFF",visible:{func:function(t){return t._selected||t._hover}}},{type:"text",text:{func:"style@live.label"},align:{func:"style@live.label.align"},color:{func:"getForeground"},font:{func:"style@live.label.font"},rect:{func:function(t){var e=t._width,i=t._height;return{x:.8*i,y:0,width:e-.8*i,height:i}}},offsetX:{func:"style@live.label.offset.x"},offsetY:{func:"style@live.label.offset.y"}}]});var c=ht.RadioButtonNode=function(){var t=this;c.superClass.constructor.apply(t),t.s("live.label.align","left"),t.s("live.background",ht.Color.widgetIconBackground),t.s("live.background.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.RadioButtonNode",ht.ToggleButtonNode,{_image:"radioButton_image",getUIClass:function(){return ht.graph.RadioButtonNodeUI},getBackground:function(){var t,e=this;return t=e._enabled?e._selected?"live.background.active":"live.background":"live.background.disabled",e.s(t)},getForeground:function(){var t,e=this;return t=e._enabled?e._selected?"live.background.active":"live.background":"live.background.disabled",e.s(t)}}),ht.Default.setImage("radioButton_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:"circle",borderWidth:{func:function(t){return.1*t._height}},borderColor:{func:"getBackground"},rect:{func:function(t){var e=(t._width,t._height);return{x:.1*e,y:.2*e,width:.6*e,height:.6*e}}}},{type:"circle",background:{func:"getBackground"},rect:{func:function(t){var e=(t._width,t._height);return{x:.3*e,y:.4*e,width:.2*e,height:.2*e}}},visible:{func:function(t){return t._selected||t._hover}}},{type:"text",text:{func:"style@live.label"},align:{func:"style@live.label.align"},color:{func:"getBackground"},font:{func:"style@live.label.font"},rect:{func:function(t){var e=t._width,i=t._height;return{x:.8*i,y:0,width:e-.8*i,height:i}}},offsetX:{func:"style@live.label.offset.x"},offsetY:{func:"style@live.label.offset.y"}}]});var h=ht.graph.RadioButtonNodeUI=function(){h.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.RadioButtonNodeUI",ht.graph.ToggleButtonNodeUI,{toggleSelect:function(){this._data._selected||this._data.setSelected(!0)}});var d=ht.SwitchNode=function(){var t=this;d.superClass.constructor.apply(t),t.s("live.background",ht.Color.widgetIconBackground),t.s("live.background.active",ht.Color.widgetIconHighlight),t.s("live.label.color",ht.Color.widgetIconBackground),t.s("live.label.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.SwitchNode",ht.ToggleButtonNode,{_image:"switch_image",getBackground:function(){return this.s(this._selected?"live.background.active":"live.background")},getForeground:function(){return this.s(this._selected?"live.label.active":"live.label.color")}}),ht.Default.setImage("switch_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},background:{func:"style@switch.background"},opacity:{func:function(t){return t._enabled?1:.5}},rect:[0,0,1,1],relative:!0},{type:"circle",background:{func:"getBackground"},opacity:{func:function(t){return t._enabled?1:.5}},rect:{func:function(t){return{x:t._selected?t._width-10-30:10,y:(t._height-30)/2,width:30,height:30}}}},{type:"text",text:{func:function(t){return t.s(t._selected?"switch.text.on":"switch.text.off")}},rect:[17,1,1],relative:!0,offsetX:{func:function(t){return t._selected?-10:10}},color:{func:"getForeground"},font:{func:"style@live.label.font"},align:{func:"style@live.label.align"}}]});var g=ht.ComboboxNode=function(){g.superClass.constructor.apply(this),this.s("live.label.align","left")};ht.Default.def("ht.ComboboxNode",ht.LiveNode,{_image:"combobox_image",_buttonWidth:20,_maxHeight:200,_selectedIndex:-1,getUIClass:function(){return ht.graph.ComboboxNodeUI},getItems:function(){return this._items},setItems:function(t){var e=this._items;this._items=t,this.fp("items",e,t)},getSelectedItem:function(){return this._selectedItem},setSelectedItem:function(t){var e,i=this,n=i._items,o=i._selectedItem;!n||(e=n.indexOf(t))<0||(i._selectedItem=t,i._selectedIndex=e,i.s("live.label",t?i.getItemName(t):""),i.fp("selectedItem",o,t)&&i.onChanged(t))},getSelectedIndex:function(){return this._selectedIndex},setSelectedIndex:function(t){var e=this,i=e._items;!i||0>t||t>=i.length||(e._selectedIndex=t,e.setSelectedItem(i[t]))},getItemName:function(t){return t.label||t},onChanged:function(){}}),ht.Default.setImage("combobox_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},gradient:{func:"style@live.gradient"},gradientColor:{func:"style@live.gradient.color"},background:{func:"getBackground"},rect:[0,0,1,1],relative:!0},{type:"shape",points:{func:function(t){var e=t._buttonWidth,i=t._width,n=t._height;return[i-e+.5*e,.6*n,i-e+.75*e,.4*n,i-e+.25*e,.4*n]}},background:{func:function(t){return t._pressed?"#000000":"#FFFFFF"}}},{type:"text",text:{func:"style@live.label"},align:{func:"style@live.label.align"},color:{func:"getForeground"},font:{func:"style@live.label.font"},rect:[0,0,1,1],relative:!0,offsetX:{func:"style@live.label.offset.x"},offsetY:{func:"style@live.label.offset.y"}}]});var u=ht.graph.ComboboxNodeUI=function(){u.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.ComboboxNodeUI",ht.graph.LiveNodeUI,{rectIntersects:function(){return!0},onKeyDown:function(t){var e,i=this._data,n=0;return(37===t.keyCode||38===t.keyCode)&&(n=-1),(39===t.keyCode||40===t.keyCode)&&(n=1),n?(i._selectedIndex>=0?e=i._selectedIndex+n:i._items&&i._items.length>0&&(e=1===n?0:i.items.length-1),i.setSelectedIndex(e),this._ignore=!0,!0):27===t.keyCode||13===t.keyCode?(this._hidePopup(),!0):void 0},onMouseMove:function(){this._data._pressed&&(this._moved=!0)},onMouseUp:function(t){var e=this;u.superClass.onMouseUp.call(e,t),e._moved||(e._list?e._hidePopup():e._showPopup()),delete e._moved},_42:function(t){if(u.superClass._42.call(this,t),this._list&&this._data._selectedIndex>=0){var e=this._list.getDataModel().getDatas().get(this._data._selectedIndex);this._list.sm().ld()!==e&&this._list.sm().setSelection(e)}},_showPopup:function(){var t,e,i,n,o,a,r,s,l,c,h=this,d=h._data,g=d._items,u=h.gv._view.getBoundingClientRect(),f=(d._position.x-d._width/2)*h.gv._zoom+h.gv.tx()+u.left-h.gv._view.scrollLeft,v=(d._position.y+d._height/2)*h.gv._zoom+h.gv.ty()+u.top-h.gv._view.scrollTop;if(g&&0!==g.length){for(t=new ht.DataModel,(e=this._list=new ht.widget.ListView(t)).getIcon=function(){return null},e.drawRow=function(t,i,n,o,a,r,s){e._focusData===i&&(t.fillStyle=ht.Default.darker(i.s("live.background")),t.beginPath(),t.rect(o,a,r,s),t.fill()),ht.widget.ListView.prototype.drawRow.apply(e,arguments)},i=0;i<g.length;i++)(n=new ht.Data).setName(d.getItemName(g[i])),n._index=i,t.add(n),d._selectedIndex===i&&e.sm().setSelection(n);e.onSelectionChanged=function(){var t=e.sm().ld();t&&!h._ignore&&(d.setSelectedIndex(t._index),h._hidePopup(),delete h._ignore)},e.getSelectBackground=function(t){var i=t.s("live.background");return t===e._focusData?ht.Default.darker(i):i},e.getView().addEventListener("mousemove",function(t){e.setFocusData(e.getDataAt(t)),e.invalidateModel()},ht.Default.eventListenerOptionFalse),s=ht.Default.getWindowInfo(),a=d._width,r=Math.min(e.getRowHeight()*g.length,d._maxHeight,s.height),l=s.width-a-10,c=s.height-r-10,f=f>l?l:f,v=v>c?c:v,f=0>f?0:f,v=0>v?0:v,(o=e.getView().style).left=f+s.left+"px",o.top=v+s.top+"px",o.width=a+"px",o.height=r+"px",o.zIndex=1e4,o.background="white",o.borderWidth="1px",o.borderColor="#DDDDE0",o.borderStyle="solid",o.borderRadius="5px",ht.Default.appendToScreen(e.getView()),x(function(){h._hidePopup()})}},_hidePopup:function(){this._list&&(ht.Default.removeHTML(this._list.getView()),delete this._list)}});var f=ht.ProgressBarNode=function(){var t=this;f.superClass.constructor.apply(t),t.s("label.position",17),t.s("live.background",ht.Color.widgetIconBackground),t.s("live.background.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.ProgressBarNode",ht.LiveNode,{_image:"progressBar_image",_value:0,getValue:function(){return this._value},setValue:function(t){var e=this._value;this._value=t,this.fp("value",e,t)},getName:function(){return this._value+"%"}}),ht.Default.setImage("progressBar_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:"rect",background:{func:"style@live.background"},rect:[0,0,1,1],relative:!0},{type:"rect",background:{func:"style@live.background.active"},rect:{func:function(t){return[0,0,t._value/100,.5]}},relative:!0},{type:"rect",background:{func:function(t){return ht.Default.darker(t.s("live.background.active"))}},rect:{func:function(t){return[0,.5,t._value/100,.5]}},relative:!0}]});var v=ht.SliderNode=function(){var t=this;v.superClass.constructor.apply(t),t.s("label.position",17),t.s("live.background",ht.Color.widgetIconBackground),t.s("live.background.active",ht.Color.widgetIconHighlight)};ht.Default.def("ht.SliderNode",ht.LiveNode,{_image:"slider_image",_orientation:"horizontal",_value:0,_min:0,_max:100,_step:1,getUIClass:function(){return ht.graph.SliderNodeUI},getOrientation:function(){return this._orientation},setOrientation:function(t){var e=this._orientation;this._orientation=t,this.fp("orientation",e,t)},isHorizontal:function(){var t=this._orientation;return"h"===t||"horizontal"===t},getValue:function(){return this._value},setValue:function(t){var e=this,i=e._min,n=e._max,o=e._step;i>t&&(t=i),t>n&&(t=n),t=Math.floor(t/o)*o;var a=e._value;e._value=t,e.fp("value",a,t)&&e.onChanged(t)},getMin:function(){return this._min},setMin:function(t){var e=this._min;this._min=t,this.fp("min",e,t),this.setValue(this._value)},getMax:function(){return this._max},setMax:function(t){var e=this._max;this._max=t,this.fp("max",e,t),this.setValue(this._value)},getStep:function(){return this._step},setStep:function(t){var e=this._step;this._step=t,this.fp("step",e,t),this.setValue(this._value)},getName:function(){return this._value+""},onChanged:function(){}}),ht.Default.setImage("slider_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:"rect",background:{func:"style@live.background.active"},rect:{func:function(t){var e=t.s("slider.bar.size"),i=t.s("slider.thumb.size")+t.s("live.border.width"),n=t._value/(t._max-t._min),o=t.isHorizontal(),a=t._width,r=t._height;return{x:o?i:(a-e)/2,y:o?(r-e)/2:r-i-(r-2*i)*n,width:o?(a-2*i)*n:e,height:o?e:(r-2*i)*n}}}},{type:"rect",background:{func:"style@live.background"},rect:{func:function(t){var e=t.s("slider.bar.size"),i=t.s("slider.thumb.size")+t.s("live.border.width"),n=t._value/(t._max-t._min),o=t.isHorizontal(),a=t._width,r=t._height;return{x:o?i+(a-2*i)*n:(a-e)/2,y:o?(r-e)/2:i,width:o?(a-2*i)*(1-n):e,height:o?e:(r-2*i)*(1-n)}}}},{type:"circle",borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},background:{func:"style@slider.thumb.background"},rect:{func:function(t){var e=t.s("slider.thumb.size"),i=t._value/(t._max-t._min),n=t.isHorizontal(),o=t._width,a=t._height;return{x:n?i*(o-2*e):o/2-e,y:n?a/2-e:(1-i)*(a-2*e),width:2*e,height:2*e}}}}]});var p=ht.graph.SliderNodeUI=function(){p.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.SliderNodeUI",ht.graph.LiveNodeUI,{rectIntersects:function(){return!0},onKeyDown:function(t){var e=this._data,i=e.isHorizontal(),n=0;return(i&&37===t.keyCode||!i&&40===t.keyCode)&&(n=-1),(i&&39===t.keyCode||!i&&38===t.keyCode)&&(n=1),n?(e.setValue(e._value+e._step*n),!0):void 0},onMouseDown:function(t){var e=this,i=e._data,n=ht.Default.getClientPoint(t);e._start=i.isHorizontal()?n.x:n.y,e._startValue=i._value},onDrag:function(t){var e=this;if(e._start===i)return!1;var n=e._data,o=n.isHorizontal(),a=n._step,r=ht.Default.getClientPoint(t),s=o?r.x:r.y,l=n.s("slider.thumb.size")+n.s("live.border.width"),c=o?n._width:n._height-2*l,h=(s-e._start)*(o?1:-1),d=(n._max-n._min)*h/c/e.gv._zoom;return n.setValue(e._startValue+Math.floor(d/a)*a),!0},onMouseUp:function(){delete this._start,delete this._startValue}});var I=ht.SpinnerNode=function(){I.superClass.constructor.apply(this),this._styleMap={},this._styleMap["label.position"]=16};ht.Default.def("ht.SpinnerNode",ht.LiveNode,{_image:"spinner_image",_value:0,_min:0,_max:100,_step:1,getUIClass:function(){return ht.graph.SpinnerNodeUI},getValue:function(){return this._value},setValue:function(t){t<this._min&&(t=this._min),t>this._max&&(t=this._max),t=Math.floor(t/this._step)*this._step;var e=this._value;this._value=t,this.fp("value",e,t)&&this.onChanged(t)},getMin:function(){return this._min},setMin:function(t){var e=this._min;this._min=t,this.fp("min",e,t),this.setValue(this._value)},getMax:function(){return this._max},setMax:function(t){var e=this._max;this._max=t,this.fp("max",e,t),this.setValue(this._value)},getStep:function(){return this._step},setStep:function(t){var e=this._step;this._step=t,this.fp("step",e,t),this.setValue(this._value)},getName:function(){return this._value+""},onChanged:function(){},getForeground:function(){return this.s(this._enabled?"live.label.active":"live.label.color")}}),ht.Default.setImage("spinner_image",{width:{func:"getWidth"},height:{func:"getHeight"},comps:[{type:{func:"style@live.shape"},borderWidth:{func:"style@live.border.width"},borderColor:{func:"style@live.border.color"},gradient:{func:"style@live.gradient"},gradientColor:{func:"style@live.gradient.color"},background:{func:function(t){return t.s(t._enabled?"spinner.background":"live.background.disabled")}},rect:[0,0,1,1],relative:!0},{type:"rect",background:{func:function(t){var e;return e=t._topPressed?"live.background.active":t._topHover?"live.background.hover":"live.background",t.s(e)}},rect:{func:function(t){var e=t.s("spinner.button.width"),i=t.s("live.border.width");return{x:t._width-e,y:i,width:e-i,height:t._height/2-i}}}},{type:"shape",points:{func:function(t){var e=t.s("spinner.button.width"),i=t._width,n=t._height;return[i-e+.5*e,.15*n,i-e+.75*e,.4*n,i-e+.25*e,.4*n]}},background:{func:function(t){return t._topHover?"#000000":"#FFFFFF"}}},{type:"rect",background:{func:function(t){var e;return e=t._bottomPressed?"live.background.active":t._bottomHover?"live.background.hover":"live.background",t.s(e)}},rect:{func:function(t){var e=t.s("spinner.button.width"),i=t.s("live.border.width"),n=t._width,o=t._height;return{x:n-e,y:o/2,width:e-i,height:o/2-i}}}},{type:"shape",points:{func:function(t){var e=t.s("spinner.button.width"),i=t._width,n=t._height;return[i-e+.5*e,.9*n,i-e+.75*e,.65*n,i-e+.25*e,.65*n]}},background:{func:function(t){return t._bottomHover?"#000000":"#FFFFFF"}}}]});var _=ht.graph.SpinnerNodeUI=function(){_.superClass.constructor.apply(this,arguments)};ht.Default.def("ht.graph.SpinnerNodeUI",ht.graph.LiveNodeUI,{_refresh:function(t){var e=this._data,i=e.s("spinner.button.width"),n=this.gv.getLogicalPoint(t),o={x:e._position.x+e._width/2-i,y:e._position.y-e._height/2,width:i,height:e._height/2},a={x:e._position.x+e._width/2-i,y:e._position.y,width:i,height:e._height/2};e._topHover=ht.Default.containsPoint(o,n),e._bottomHover=ht.Default.containsPoint(a,n)},onKeyDown:function(t){var e=this._data,i=0;return 38===t.keyCode&&(i=1),40===t.keyCode&&(i=-1),i?(e.setValue(e._value+e._step*i),!0):void 0},onMouseOut:function(){var t=this._data;t._topHover=!1,t._bottomHover=!1,this.gv.invalidateData(t)},onMouseDown:function(t){var e=this,i=e._data,n=0;e._refresh(t),i._topPressed=i._topHover,i._bottomPressed=i._bottomHover,i._topPressed&&(n=1),i._bottomPressed&&(n=-1),n&&(i.setValue(i._value+i._step*n),e._timer&&clearTimeout(e._timer),e._interval&&clearInterval(e._interval),e._timer=setTimeout(function(){e._interval=setInterval(function(){i.setValue(i._value+i._step*n)},100)},1e3))},onMouseMove:function(t){this._refresh(t),this.gv.invalidateData(this._data)},onMouseUp:function(){var t=this,e=t._data;e._topHover=!1,e._bottomHover=!1,e._topPressed=!1,e._bottomPressed=!1,t.gv.invalidateData(e),t._timer&&(clearTimeout(t._timer),delete t._timer),t._interval&&(clearInterval(t._interval),delete t._interval)}}),ht.ButtonGroup=function(t){this._items=new ht.List,this.addAll(t)},ht.Default.def("ht.ButtonGroup",e,{add:function(t){var e=this;e._items.contains(t)||(e._items.add(t),t._buttonGroup=e,e._selected&&t._selected&&e._selected.setSelected(!1),t._selected&&(e._selected=t))},addAll:function(t){t&&new ht.List(t).each(self.add,self)},remove:function(t){var e=this;e._items.contains(t)&&(e._items.remove(t),delete t._buttonGroup,e._selected===t&&delete e._selected)},getItems:function(){return this._items},clear:function(){var t=this;t._items.each(t.remove,t)},getSelected:function(){return this._selected},onChanged:function(){}});var y=ht.Style,C=ht.Color,m=C.widgetBackground,w=C.widgetIconHighlight,b=ht.Default.labelSelectColor;y["live.shape"]="rect",y["live.border.width"]=1,y["live.border.color"]=C.widgetBorder,y["live.gradient"]="",y["live.gradient.color"]="#FFF",y["live.background"]=w,y["live.background.disabled"]=m,y["live.background.hover"]=ht.Default.brighter(w),y["live.background.active"]=ht.Default.darker(w),y["live.label"]="",y["live.label.offset.x"]=0,y["live.label.offset.y"]=0,y["live.label.align"]="center",y["live.label.font"]=i,y["live.label.color"]=b,y["live.label.disabled"]=C.widgetIconBackground,y["live.label.hover"]=b,y["live.label.active"]=b,y["switch.background"]=m,y["switch.text.on"]="ON",y["switch.text.off"]="OFF",y["slider.bar.size"]=6,y["slider.thumb.size"]=8,y["slider.thumb.background"]=w,y["spinner.background"]="#FFFFFF",y["spinner.button.width"]=20;var A=ht.graph.GraphView.prototype;A.getFocusData=function(){return this._focusData},A.handleKeyUp=function(t){var e=this._focusData,i=e&&this._25I[e._id];e&&e._enabled&&e._editable&&i&&i.onKeyUp&&i.onKeyUp(t)},A.handleMouseDown=function(t,e){this._focusData=e;var i=e&&this._25I[e._id];e&&e._enabled&&e._editable&&i&&i.onMouseDown&&i.onMouseDown(t)},A.handleMouseUp=function(t,e){var i=e&&this._25I[e._id];e&&e._enabled&&e._editable&&i&&i.onMouseUp&&i.onMouseUp(t)},A.handleMouseMove=function(t){var e=this._lastHoverData,i=e&&this._25I[e._id],n=this.getDataAt(t),o=n&&this._25I[n._id];e&&i&&e._enabled&&e._editable&&(e===n?i.onMouseMove&&i.onMouseMove(t):i.onMouseOut&&i.onMouseOut(t)),n&&e!==n&&n._enabled&&n._editable&&o&&o.onMouseOver&&o.onMouseOver(t),this._lastHoverData=n},A._93O=function(t,e){var i=e&&this._25I[e._id];return e&&e._enabled&&e._editable&&i&&i.onDrag&&i.onDrag(t)},(A=ht.graph.DefaultInteractor.prototype).handle_keyup=function(t){this.gv.handleKeyUp&&this.gv.handleKeyUp(t)},A.handle_mousemove=function(t){this.gv.handleMouseMove&&this.gv.handleMouseMove(t)};var M=new ht.List,x=function(t){setTimeout(function(){M.add(t)},0)};t.addEventListener(ht.Default.isTouchable?"touchend":"mouseup",function(){M.size()>0&&setTimeout(function(){M.each(function(t){t()}),M.clear()},0)},ht.Default.eventListenerOptionFalse)}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object)}).call(e,i("DuR2"))},"8FHf":function(t,e,i){t.exports=i.p+"static/img/d3.d1d9b1d.gif"},"8jhb":function(t,e){},"99yV":function(t,e,i){t.exports=i.p+"static/img/ic_fengshan_yuanting.f9577d1.svg"},"9MbH":function(t,e,i){t.exports=i.p+"static/img/ic_fengshan_bianpin.f4f5b94.svg"},"Aps+":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19zaG91cWk8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSIwNOWchuW9ouefqeW9oumAieaLqSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTgyLjAwMDAwMCwgLTgwMS4wMDAwMDApIiBmaWxsPSIjNjY2NjY2Ij4NCiAgICAgICAgICAgIDxnIGlkPSLlt6bkvqfmoI8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxMjAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC03LWNvcHktMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDY3MC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9InNob3VxaSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODIuMDAwMDAwLCAxMS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSLkuInop5LlvaIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2LjAwMDAwMCwgMTUuMDAwMDAwKSByb3RhdGUoLTI3MC4wMDAwMDApIHRyYW5zbGF0ZSgtMTYuMDAwMDAwLCAtMTUuMDAwMDAwKSAiIHBvaW50cz0iMTYgMTEgMjIgMTkgMTAgMTkiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},B0yy:function(t,e,i){(function(t){!function(t,e,i){"use strict";var n=t.ht,o=n.Default,a=n.graph,r=o.getInternal(),s=r.ui(),l=s.NodeUI.prototype,c=s.ShapeUI.prototype,h=a.GraphView.prototype,d=s.EdgeUI.prototype,g=n.Node,u=n.Shape,f=n.Edge,v=n.Group,p=o.isTouchable,I=o.preventDefault,_=t.setTimeout,y=o.grow,C=o.isDragging,m=o.getDistance,w=null,b=n.List,A="undefined"!=typeof Float32Array?Float32Array:Array,M=Math,x=M.PI,D="Crossing",T="No Crossing",N=x/2,S=2*x,z=M.atan2,k=M.sqrt,E=M.pow,V=M.sin,j=M.cos,R=M.min,P=M.max,Z=M.abs,L=M.ceil,B=M.round,O=o.unionPoint,U=o.unionRect,W=o.containsPoint,G=o.clone,F="rgb(52, 152, 219)",Q="red",H={northwest:0,north:1,northeast:2,west:7,east:3,southwest:6,south:5,southeast:4},Y={width:400,height:100,comps:[{type:"shape",points:{func:function(){for(var t=[10,8,162,36,314,37,269,2,398,49,268,98,314,58,161,60,9,91,103,49,10,8],e=0;e<t.length;e++){var i=t[e];i=0==e%2?i/400*Y.width:i/100*Y.height,t[e]=i}return Y.width>120&&(t[4]=Y.width-26,t[6]=Y.width-40,t[10]=Y.width-40,t[12]=Y.width-26,t[18]=33),t}},segments:[1,3,2,2,2,2,3,2,2],background:"white",gradient:"linear.east",gradientColor:"red"}]},J={width:300,height:300,comps:[{type:"circle",rect:[20,0,120,120],background:F,rotation:.61},{type:"circle",rect:[200,120,70,70],background:F,rotation:.61},{type:"circle",rect:[200,220,70,70],background:F,rotation:.61},{type:"shape",points:[80,60,80,155,200,155],borderWidth:20,borderColor:F},{type:"shape",points:[80,60,80,255,200,255],borderWidth:20,borderColor:F}]},X={width:300,height:300,comps:[{type:"shape",points:[114,239,115,106,112,73,149,73,149,73,175,73,177,105,179,261,178,302,147,307,98,308,83,307,72,276,73,260,72,81,74,29,115,21,191,21,221,22,224,53,223,238],segments:[1,2,3,2,3,2,3,2,4,2,3,2,3,2],borderWidth:20,borderColor:Q,rotation:.61}]},$={width:300,height:300,comps:[{type:"circle",rect:[210,0,90,90],background:F},{type:"circle",rect:[0,210,90,90],background:F},{type:"shape",points:[255,45,45,255],borderWidth:20,borderColor:F}]},K={width:300,height:300,comps:[{type:"shape",points:[20,20,280,280],borderWidth:30,borderColor:Q},{type:"shape",points:[280,20,20,280],borderWidth:30,borderColor:Q}]},q={width:300,height:300,comps:[{type:"shape",points:[270,30,30,150,270,270],borderWidth:40,borderColor:F}]},tt={width:300,height:300,comps:[{type:"shape",points:[30,30,270,150,30,270],borderWidth:40,borderColor:Q}]},et=function(t,e,i,n){return z(n-e,i-t)},it=function(t,e){return{x:t.x*e,y:t.y*e}},nt=function(t,e,i){var n,o,a,r,s,l=e,c=this.gv;if(t instanceof u){a=t.getSegments();var h=c.getDataUI(t);s=h._55O.$15l,a&&a.size()||(a=dt(s)),t.isClosePath()&&a.indexOf(5)<0&&(a=new b(a._as)).add(5),o=s[n=jt(t,h,l)]}else{var d=c.getDataUI(t);s=ct(d,t.s("edge.points")),(a=t.s("edge.segments"))&&a.size()||(a=dt(s)),o=(s=s._as)[n=jt(t,d,l)]}if(a&&(r=a.get(l)),2===r||1===r||5===r){var g=s[n+1];return 5===r&&(g=s[0]),at(o,i,g)}return i},ot=function(t,e,i,n){var o=e/2,a=i/2;return[rt(t,-o,-a,n),rt(t,o,-a,n),rt(t,-o,a,n),rt(t,o,a,n),rt(t,0,-a,n),rt(t,o,0,n),rt(t,0,a,n),rt(t,-o,0,n)]},at=function(t,e,i){var n=e.x-t.x,o=e.y-t.y,a=i.x-t.x,r=i.y-t.y,s=k(E(i.x-t.x,2)+E(i.y-t.y,2)),l=a/s,c=r/s,h=n*l+o*c,d=l*h,g=c*h;return{x:t.x+d,y:t.y+g}},rt=function(t,e,i,n){var o=j(n)*e-V(n)*i,a=V(n)*e+j(n)*i;return t?{x:t.x+o,y:t.y+a}:{x:o,y:a}},st=function(t,e,i,n){var o,a,r=m(t,e);return i=n?R(i,r):(a=r)>2*(o=i)?o:a/2,r?i/=r:i=0,{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}},lt=function(t,e){var i,n,o=t.gv,a=t._data,s=a._40I,l=a._41I,c=a.s("edge.offset"),h=a.s("edge.source.position"),d=a.s("edge.target.position"),g=a.s("edge.source.offset.x"),u=a.s("edge.source.offset.y"),f=a.s("edge.target.offset.x"),v=a.s("edge.target.offset.y"),p=a.s("edge.source.anchor.x"),I=a.s("edge.source.anchor.y"),_=a.s("edge.target.anchor.x"),y=a.s("edge.target.anchor.y");if(e?(i=r.getEdgeAgentPosition(o,s,h,g,u,p,I),n=r.getEdgeAgentPosition(o,l,d,f,v,_,y)):(i=r.getEdgeAgentPosition(o,s,h,0,0,p,I),n=r.getEdgeAgentPosition(o,l,d,0,0,_,y)),"points"===a.s("edge.type")&&c&&!a.s("edge.center")&&i){var C=a.s("edge.points")||new b,m=C.size(),w=st(i,m?C.get(0):n,c,m),A=st(n,m?C.get(m-1):i,c,m);i=w,n=A}return[i,n]},ct=function(t,e,i){var n=t._78o,o=t._data.s("edge.type"),a=[n.sourcePoint,n.targetPoint];return"points"===o?i&&(a=lt(t)):a=n.center?o?i?lt(t):lt(t,!0):i?lt(t):[n.c1,n.c2]:i?lt(t):lt(t,!0),(e=new b(e?e._as:w)).add(a[0],0),e.add(a[1]),e},ht=function(t){return(t=new b(t._as)).removeAt(0),t.removeAt(t.size()-1),t},dt=function(t){t._as||(t=new b(t));var e=new b;e.add(1);for(var i=1;i<t.size();i++)e.add(2);return e},gt=function(t,e){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}},ut=function(t,e){return{x:t.x+1*(e.x-t.x)/4,y:t.y+1*(e.y-t.y)/4}},ft=function(t,e){return{x:t.x+3*(e.x-t.x)/4,y:t.y+3*(e.y-t.y)/4}},vt=function(t,e,i,n){var o=e.x+e.width/2,a=e.y+e.height/2,r=k(o*o+a*a),s=z(a,o)+i;return{x:n.x+r*j(s),y:n.y+r*V(s)}},pt=h.validateImpl,It=h.isRectEditable,_t=h.isPointEditable,yt=h._42,Ct=c._79o,mt=d._79o,wt=c._48O,bt=c._47O,At=l._48O,Mt=l._80o,xt=c._80o,Dt=l.getSelectWidth,Tt=l._47O,Nt=d._47O,St=h.isEditable,zt=["northwest","north","northeast","east","southeast","south","southwest","west"],kt=function(t,e,i,n,o,a,r,s,l,c){var h=t.x,d=t.y,g=t.width,u=t.height,f={x:h+g/2,y:d+u/2};n=n||0,e=rt(f,e.x-f.x,e.y-f.y,-n),r&&!s&&(e.x+=l,e.y+=c);var v=.01;if("northwest"===i?(e.x+o>h+g-v&&(e.x=h+g-o-v),e.y+o>d+u-v&&(e.y=d+u-o-v),t=O(e,{x:h+g,y:d+u})):"north"===i?(e.y+o>d+u-v&&(e.y=d+u-o-v),t=O({x:h,y:e.y},{x:h+g,y:d+u})):"northeast"===i?(e.x<h+o+v&&(e.x=h+o+v),e.y+o>d+u-v&&(e.y=d+u-o-v),t=O({x:h,y:e.y},{x:e.x,y:d+u})):"west"===i?(e.x+o>h+g-v&&(e.x=h+g-o-v),t=O({x:e.x,y:d},{x:h+g,y:d+u})):"east"===i?(e.x<h+o+v&&(e.x=h+o+v),t=O({x:h,y:d},{x:e.x,y:d+u})):"southwest"===i?(e.x+o>h+g-v&&(e.x=h+g-o-v),e.y<d+o+v&&(e.y=d+o+v),t=O({x:e.x,y:d},{x:h+g,y:e.y})):"south"===i?(e.y<d+o+v&&(e.y=d+o+v),t=O({x:h,y:d},{x:h+g,y:e.y})):"southeast"===i&&(e.x<h+o+v&&(e.x=h+o+v),e.y<d+o+v&&(e.y=d+o+v),t=O({x:h,y:d},e)),"keepRatio"===a&&(!r&&s||r&&!s)&&("northeast"===i||"southeast"===i||"northwest"===i||"southwest"===i)){var p=t.width,I=t.height,_=R(p/g,I/u);t.width=g*_,t.height=u*_,"northeast"===i?t.y=d+(u-t.height):"northwest"===i?(t.y=d+(u-t.height),t.x=h+(g-t.width)):"southwest"===i&&(t.x=h+(g-t.width))}t.x-=f.x,t.y-=f.y;var y=vt(0,t,n,f);return t.x=y.x-t.width/2,t.y=y.y-t.height/2,t},Et=function(t,e,i,n){var o=t.getRotation(),a=e,r=a.x,s=a.y,l=a.width,c=a.height,h={x:r+a.width/2,y:s+a.height/2};n=rt(h,n.x-h.x,n.y-h.y,-o),"northwest"===i?a=O(n,{x:r+l,y:s+c}):"north"===i?a=O({x:r,y:n.y},{x:r+l,y:s+c}):"northeast"===i?a=O({x:r,y:n.y},{x:n.x,y:s+c}):"west"===i?a=O({x:n.x,y:s},{x:r+l,y:s+c}):"east"===i?a=O({x:r,y:s},{x:n.x,y:s+c}):"southwest"===i?a=O({x:n.x,y:s},{x:r+l,y:n.y}):"south"===i?a=O({x:r,y:s},{x:r+l,y:n.y}):"southeast"===i&&(a=O({x:r,y:s},n)),t.setRect(a),a.x-=h.x,a.y-=h.y;var d=vt(0,a,o,h);t.p(d.x,d.y)},Vt=function(t,e,i,n,o,a,r,s){var l=w;a?((l=rt(w,o.x-e.x,o.y-e.y,-i)).x-=r.x,l.y-=r.y):l=rt(w,o.x-e.x,o.y-e.y,0);var c={x:e.x+l.x,y:e.y+l.y};s&&(c=s(c.x,c.y)),c.e=t.getPoints().get(n).e,t.setPoint(n,c);var h=t.getWidth(),d=t.getHeight(),g=t.p().x-h/2,u=t.p().y-d/2;g-=e.x,u-=e.y;var f=vt(0,{x:g,y:u,width:h,height:d},i,e);t.p(f.x,f.y)},jt=function(t,e,i){var n,o;if(t instanceof u?(n=t.getPoints(),o=t.getSegments()):t instanceof f&&"points"===t.s("edge.type")&&(n=t.s("edge.points"),o=t.s("edge.segments"),n=ct(e,n)),o&&o.size()||(o=dt(n)),t instanceof u&&t.isClosePath()&&o.indexOf(5)<0&&(o=new b(o._as)).add(5),o)for(var a=-1,r=0;r<o.size();r++){if(r===i)return a;var s=o.get(r);1===s?a+=1:2===s?a+=1:3===s?a+=2:4===s&&(a+=3)}},Rt=function(){var t=new A(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Pt=function(t,e){if(e){var i=V(e),n=j(e),o=t[0],a=t[1],r=t[2],s=t[3],l=t[8],c=t[9],h=t[10],d=t[11];t[0]=o*n-l*i,t[1]=a*n-c*i,t[2]=r*n-h*i,t[3]=s*n-d*i,t[8]=o*i+l*n,t[9]=a*i+c*n,t[10]=r*i+h*n,t[11]=s*i+d*n}},Zt=function(t,e){for(var i=t.s("grid.row.count"),n=t.s("grid.column.count"),o=0;i>o;o++)for(var a=0;n>a;a++){var r=t.getCellRect(o,a);if(W(r,e))return{rowIndex:o,columnIndex:a,rect:r,grid:t}}return null},Lt=function(t,e,i,n,o,a){var r={},s=i-t,l=n-e,c=M.sqrt(s*s+l*l),h=s/c,d=l/c,g=(-t+o)*h+(-e+a)*d;return 0>=g?(r.x=t,r.y=e):g>=c?(r.x=i,r.y=n):(r.x=t+g*h,r.y=e+g*d),s=o-r.x,l=a-r.y,r.z=M.sqrt(s*s+l*l),r},Bt=function(t,e){var i,n,o,a,r,s,l=t.getPoints(),c=t.getSegments(),h=t.p(),d=t.getRotation();if(!c||!(c.indexOf(3)>0||c.indexOf(4)>0)){for(s=0;s<=l.size()-1;s++)if(s===l.size()-1?(r=l.get(0),a=l.get(s)):(a=l.get(s),r=l.get(s+1)),a=rt(h,a.x-h.x,a.y-h.y,d),r=rt(h,r.x-h.x,r.y-h.y,d),Lt(a.x,a.y,r.x,r.y,e.x,e.y).z<(t.s("shape.border.width")||10)){n=a,o=r,i=s;break}if(i!=w){var g=Lt(n.x,n.y,o.x,o.y,e.x,e.y);return{attachIndex:i,attachOffset:m(n,g)}}}},Ot=function(t){for(var e=t._data,i=e.p(),n=e.getRotation(),o=e.getPoints(),a=w,r=[],s=0;s<o.size();s++)a=o.get(s),r.push(rt(i,a.x-i.x,a.y-i.y,n));t._55O.$15l=r};o.setImage("xeditinteractor_parentIcon",J),o.setImage("xeditinteractor_hostIcon",X),o.setImage("xeditinteractor_edgeIcon",$),o.setImage("xeditinteractor_removeIcon",K),o.setImage("xeditinteractor_sourceIcon",q),o.setImage("xeditinteractor_targetIcon",tt),o.setImage("xeditinteractor_elevationIcon",{width:300,height:300,comps:[{type:"rect",rect:[125.58,52.76,40,231.96],background:"rgb(0,0,0)",borderWidth:1,borderColor:"#000"},{type:"rect",rect:[27.87,61.06,150,30],background:"rgb(0,0,0)",borderWidth:1,borderColor:"#000",rotation:5.5},{type:"rect",rect:[113.36,61,150,30],background:"rgb(0,0,0)",borderWidth:1,borderColor:"#000",rotation:.79}]}),o.setImage("xeditinteractor_tallIcon",{width:300,height:300,author:"",note:"",comps:[{type:"rect",rect:[135.15,38.76,28.63,82.84],background:"rgb(0,0,0)",borderWidth:1,borderColor:"#000"},{type:"triangle",rect:[94.69,2.35,110,44.77],background:"rgb(0,0,0)",borderWidth:1,borderColor:"#000"},{type:"rect",rect:[31.71,115.72,240,15],background:"rgb(0,0,0)",borderWidth:1,borderColor:"#000"},{type:"rect",rect:[31.71,167.62,240,15],background:"rgb(0,0,0)",borderWidth:1,borderColor:"#000"},{type:"rect",rect:[135.15,177.33,28.63,82.84],background:"rgb(0,0,0)",borderWidth:1,borderColor:"#000"},{type:"triangle",rect:[94.69,251.39,110,44.77],background:"rgb(0,0,0)",borderWidth:1,borderColor:"#000",rotation:3.14}]}),h._editPointSize=p?24:9,h._edgeHelpers=["parent","remove","source","target"],h._leftTopHelpers=["parent"],h._rightTopHelpers=["host"],h._leftBottomHelpers=["edge"],h._rightBottomHelpers=["remove"],zt=zt.concat(zt).concat(zt),d._79o=function(){var t=this,e=t.gv,i=e.getZoom(),n=e._editInteractor,o=mt.call(t);if(!o)return null;var r=lt(t,!0),s=r[0],l=r[1],c={x:o.x,y:o.y,width:o.width,height:o.height},h=O(s,l);if(n instanceof a.XEditInteractor){c=U(c,h);var d=t._55O,g=e.getEditPointSize()/i+2,u=0;d&&d._43O&&y(c,u+=g/2)}return c},d._47O=function(t){this.gv._editInteractor instanceof a.XEditInteractor||Nt.call(this,t)},d.rectIntersects=function(t){var e=this,i=e._data,n=e.gv,o=n.getZoom(),r=e._55O,s=n._editInteractor;if(s instanceof a.XEditInteractor&&n.isEditable(i)&&r&&r._43O&&"points"===i.s("edge.type")){var l=i.s("edge.points"),c=i.s("edge.segments");l=ct(e,l),c&&c.size()||(c=dt(l)),l=l._as;var h=!1,d=p?5:1,g={x:t.x+d,y:t.y+d};if(s._edge===i&&s._hoverSegmentIndex>=0){var u=n._editInteractor._hoverSegmentIndex,f=c.get(u),v=jt(i,e,u);if(v!=w&&v>=0){var I=l[v],_=n.getSegmentHoverWidth()/o;if(2===f||1===f){var y=l[v+1];ee(new Gt(I.x,I.y),new Gt(y.x,y.y),new Gt(g.x-_,g.y-_),new Gt(g.x+2*_,g.y+2*_)).$62l===D&&(h=!0)}else if(3===f){var C=l[v+1];y=l[v+2];Kt(new Gt(I.x,I.y),new Gt(C.x,C.y),new Gt(y.x,y.y),new Gt(g.x-_,g.y-_),new Gt(g.x+2*_,g.y+2*_)).$62l===D&&(h=!0)}else if(4===f){var m=l[v+1],b=l[v+2];y=l[v+3],te(new Gt(I.x,I.y),new Gt(m.x,m.y),new Gt(b.x,b.y),new Gt(y.x,y.y),new Gt(g.x-_,g.y-_),new Gt(g.x+2*_,g.y+2*_)).$62l===D&&(h=!0)}}}if(h)return!0}return w},c._47O=function(t){this.gv._editInteractor instanceof a.XEditInteractor||bt.call(this,t)},c.rectIntersects=function(t){var e=this,i=e._data,n=e.gv,o=n.getZoom(),r=e._55O,s=n._editInteractor;if(s instanceof a.XEditInteractor&&n.isEditable(i)&&r&&r._43O){var l=r.$15l,c=!1,h=p?5:1,d={x:t.x+h,y:t.y+h};if(l&&l.length===i.getPoints().size()||(Ot(e),l=r.$15l),s._shape===i&&s._hoverSegmentIndex>=0){var g=i.getSegments();g&&g.size()||(g=dt(l));var u=n._editInteractor._hoverSegmentIndex,f=g.get(u),v=jt(i,e,u);if(v!=w&&v>=0){var I=l[v],_=n.getSegmentHoverWidth()/o;if(2===f||1===f){var y=l[v+1];ee(new Gt(I.x,I.y),new Gt(y.x,y.y),new Gt(d.x-_,d.y-_),new Gt(d.x+2*_,d.y+2*_)).$62l===D&&(c=!0)}else if(3===f){var C=l[v+1];y=l[v+2];Kt(new Gt(I.x,I.y),new Gt(C.x,C.y),new Gt(y.x,y.y),new Gt(d.x-_,d.y-_),new Gt(d.x+2*_,d.y+2*_)).$62l===D&&(c=!0)}else if(4===f){var m=l[v+1],b=l[v+2];y=l[v+3],te(new Gt(I.x,I.y),new Gt(m.x,m.y),new Gt(b.x,b.y),new Gt(y.x,y.y),new Gt(d.x-_,d.y-_),new Gt(d.x+2*_,d.y+2*_)).$62l===D&&(c=!0)}}}if(c)return!0}return w},c._48O=function(){var t=this;t.gv._editInteractor instanceof a.XEditInteractor?(l._48O.call(t),t._55O._43O&&Ot(t)):wt.call(t)},c._79o=function(){var t=this,e=t.gv,i=e.getZoom(),n=e._editInteractor,o=Ct.call(t);if(o){var r={x:o.x,y:o.y,width:o.width,height:o.height};if(n instanceof a.XEditInteractor){var s=t._55O,l=e.getEditPointSize()/i+2,c=0;s&&s._43O&&y(r,c+=l/2)}return r}},l._47O=function(t){var e=this;if(e.gv._editInteractor instanceof a.XEditInteractor);else{var i=e._55O;i&&i._98o&&Tt.call(e,t)}},l.getSelectWidth=function(){var t=this,e=t.gv,i=e._editInteractor,n=t._data;return e.isEditable(n)&&i instanceof a.XEditInteractor?0:Dt.call(t)},l._80o=function(t){var e=this,i=e.gv._editInteractor;if(Mt.call(e,t),i&&i._debug){t.save(),t.beginPath(),t.lineWidth=1,t.strokeStyle="green";var n=e._79o();n&&(t.rect(n.x,n.y,n.width,n.height),t.stroke()),t.restore()}},c._80o=function(t){var e=this,i=e.gv._editInteractor;if(xt.call(e,t),i&&i._debug){t.save(),t.beginPath(),t.lineWidth=1,t.strokeStyle="green";var n=e._79o();t.rect(n.x,n.y,n.width,n.height),t.stroke(),t.restore()}},l._48O=function(){var t=this,e=t.gv,i=t._data,n=e._editInteractor,o=t._55O,r=i.p(),s=i.getRotation();if(n instanceof a.XEditInteractor){if(o._42O){var l=ot(r,i.getWidth(),i.getHeight(),s),c=l[0],h=l[1],d=l[2],g=l[3],u=l[4],f=l[5],v=l[6],p=l[7];o.$45l=[c,u,h,f,g,v,d,p]}}else At.call(t)},h.getResizeMode=function(){return this.$25l||"normal"},h.setResizeMode=function(t){var e=this.$25l;this.$25l=t,this.fp("resizeMode",e,t)},h.getSnapAngle=function(){return this.$26l||Math.PI/36},h.setSnapAngle=function(t){var e=this.$26l;this.$26l=t,this.fp("snapAngle",e,t)},h.getSnapSpacing=function(){return this.$27l},h.setSnapSpacing=function(t){var e=this.$27l;this.$27l=t,this.fp("snapSpacing",e,t)},h.getPointSnapSpacing=function(){return this._pointSnapSpacing},h.setPointSnapSpacing=function(t){var e=this._pointSnapSpacing;this._pointSnapSpacing=t,this.fp("pointSnapSpacing",e,t)},h.setHelperEditableFunc=function(t){var e=this._helperEditableFunc;this._helperEditableFunc=t,this.fp("helperEditableFunc",e,t)},h.getHelperEditableFunc=function(){return this._helperEditableFunc},h.setLeftTopHelpers=function(t){var e=this._leftTopHelpers;this._leftTopHelpers=t,this.fp("leftTopHelpers",e,t)},h.getLeftTopHelpers=function(){return this._leftTopHelpers},h.setLeftTopHelpersAlign=function(t){var e=this._leftTopHelpersAlign;this._leftTopHelpersAlign=t,this.fp("leftTopHelpersAlign",e,t)},h.getLeftTopHelpersAlign=function(){return this._leftTopHelpersAlign},h.setRightTopHelpers=function(t){var e=this._rightTopHelpers;this._rightTopHelpers=t,this.fp("rightTopHelpers",e,t)},h.getRightTopHelpers=function(){return this._rightTopHelpers},h.setRightTopHelpersAlign=function(t){var e=this._rightTopHelpersAlign;this._rightTopHelpersAlign=t,this.fp("rightTopHelpersAlign",e,t)},h.getRightTopHelpersAlign=function(){return this._rightTopHelpersAlign},h.setLeftBottomHelpers=function(t){var e=this._leftBottomHelpers;this._leftBottomHelpers=t,this.fp("leftBottomHelpers",e,t)},h.getLeftBottomHelpers=function(){return this._leftBottomHelpers},h.setLeftBottomHelpersAlign=function(t){var e=this._leftBottomHelpersAlign;this._leftBottomHelpersAlign=t,this.fp("leftBottomHelpersAlign",e,t)},h.getLeftBottomHelpersAlign=function(){return this._leftBottomHelpersAlign},h.setRightBottomHelpers=function(t){var e=this._rightBottomHelpers;this._rightBottomHelpers=t,this.fp("rightBottomHelpers",e,t)},h.getRightBottomHelpers=function(){return this._rightBottomHelpers},h.setRightBottomHelpersAlign=function(t){var e=this._rightBottomHelpersAlign;this._rightBottomHelpersAlign=t,this.fp("rightBottomHelpersAlign",e,t)},h.getRightBottomHelpersAlign=function(){return this._rightBottomHelpersAlign},h.setEdgeHelpers=function(t){var e=this._edgeHelpers;this._edgeHelpers=t,this.fp("edgeHelpers",e,t)},h.getEdgeHelpers=function(){return this._edgeHelpers},h.isHelperEditable=function(t,e){return(!(t instanceof f)||"host"!==e&&"edge"!==e&&"elevation"!==e&&"tall"!==e)&&((!(t instanceof g)||"source"!==e&&"target"!==e)&&("pointElevation"===e?!!this._helperEditableFunc&&this._helperEditableFunc(t,e):!this._helperEditableFunc||this._helperEditableFunc(t,e)))},h.getEditHelperSize=function(){return this._editHelperSize||(p?28:16)},h.setEditHelperSize=function(t){var e=this._editHelperSize;this._editHelperSize=t,this.fp("editHelperSize",e,t)},h.getEditRectBorderColor=function(){return this.$28l||"rgb(0, 168, 255)"},h.setEditRectBorderColor=function(t){var e=this.$28l;this.$28l=t,this.fp("editRectBorderColor",e,t)},h.getNodeBorderColor=function(){return this.$29l||"#1ABC9C"},h.setNodeBorderColor=function(t){var e=this.$29l;this.$29l=t,this.fp("nodeBorderColor",e,t)},h.getEditRectBorderStyle=function(){return this.$30l||"dashed"},h.setEditRectBorderStyle=function(t){var e=this.$30l;this.$30l=t,this.fp("editRectBorderStyle",e,t)},h.getControlPointBackground=function(){return this.$31l||"#ff0"},h.setControlPointBackground=function(t){var e=this.$31l;this.$31l=t,this.fp("controlPointBackground",e,t)},h.getControlPointBorderColor=function(){return this.$32l||this._editPointBorderColor},h.setControlPointBorderColor=function(t){var e=this.$32l;this.$32l=t,this.fp("controlPointBorderColor",e,t)},h.getJoinPointBackground=function(){return this.$33l||this._editPointBackground},h.setJoinPointBackground=function(t){var e=this.$33l;this.$33l=t,this.fp("joinPointBackground",e,t)},h.getJoinPointBorderColor=function(){return this.$34l||this._editPointBorderColor},h.setJoinPointBorderColor=function(t){var e=this.$34l;this.$34l=t,this.fp("joinPointBorderColor",e,t)},h.getDirectionLineColor=function(){return this.$35l||"#888"},h.setDirectionLineColor=function(t){var e=this.$35l;this.$35l=t,this.fp("directionLineColor",e,t)},h.getSegmentHoverColor=function(){return this.$36l||"rgba(255, 0, 0, 0.3)"},h.setSegmentHoverColor=function(t){var e=this.$36l;this.$36l=t,this.fp("segmentHoverColor",e,t)},h.getSegmentHoverWidth=function(){return this.$22l||(p?16:8)},h.setSegmentHoverWidth=function(t){var e=this.$22l;this.$22l=t,this.fp("segmentHoverWidth",e,t)},h.getSnapPointBorderColor=function(){return this.$38l||"#f00"},h.setSnapPointBorderColor=function(t){var e=this.$38l;this.$38l=t,this.fp("snapPointBorderColor",e,t)},h.getEditRectPadding=function(){return this.$39l!=w?this.$39l:6},h.setEditRectPadding=function(t){var e=this.$39l;this.$39l=t,this.fp("editRectPading",e,t)},h.isRectEditable=function(t){var e=this;return e._editInteractor instanceof a.XEditInteractor?!e._rectEditableFunc||e._rectEditableFunc(t):It.call(e,t)},h.isPointEditable=function(t){var e=this;return e._editInteractor instanceof a.XEditInteractor?!e._pointEditableFunc||e._pointEditableFunc(t):_t.call(e,t)},h.validateImpl=function(){var t=this,e=t.$14l,i=t._editInteractor;if(e){var n=t.getWidth(),o=t.getHeight();(n!==e.clientWidth||o!==e.clientHeight)&&(i&&(i._68I=1),r.setCanvas(e,n,o),t._32I=1)}pt.call(this)},h.isEditable=function(t){var e=St.call(this,t);if(this._editInteractor instanceof a.XEditInteractor&&t instanceof f){if(!t.s("2d.editable"))return!1;var i=this.getEditableFunc();e=!i||i(t)}return e},h._42=function(t,e){var i=this._editInteractor;yt.call(this,t,e),i instanceof a.XEditInteractor&&i._68I&&i._42()},h.isSnapPoint=function(){return!0};var Ut=function(t){arguments.length>0&&this.$58l(t)},Wt=Ut.prototype;Wt.$58l=function(t){this.$62l=t,this.points=new Array},Wt.$56l=function(t){this.points.push(t)},Wt.$57l=function(t){this.points=this.points.concat(t)};var Gt=function(t,e){arguments.length>0&&this.$58l(t,e)},Ft=Gt.prototype;Ft.$58l=function(t,e){this.x=t,this.y=e},Ft.add=function(t){return new Gt(this.x+t.x,this.y+t.y)},Ft.addEquals=function(t){return this.x+=t.x,this.y+=t.y,this},Ft.$55l=function(t){return new Gt(this.x*t,this.y*t)},Ft.eq=function(t){return this.x==t.x&&this.y==t.y},Ft.lt=function(t){return this.x<t.x&&this.y<t.y},Ft.lte=function(t){return this.x<=t.x&&this.y<=t.y},Ft.gt=function(t){return this.x>t.x&&this.y>t.y},Ft.gte=function(t){return this.x>=t.x&&this.y>=t.y},Ft.lerp=function(t,e){return new Gt(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},Ft.distanceFrom=function(t){var e=this.x-t.x,i=this.y-t.y;return k(e*e+i*i)},Ft.min=function(t){return new Gt(R(this.x,t.x),R(this.y,t.y))},Ft.max=function(t){return new Gt(P(this.x,t.x),P(this.y,t.y))},Ft.toString=function(){return this.x+","+this.y};var Qt=function(){this.$58l(arguments)},Ht=Qt.prototype;Qt.TO=1e-6,Qt.AC=6,Ht.$58l=function(t){this.co=new Array;for(var e=t.length-1;e>=0;e--)this.co.push(t[e])},Ht.$55l=function(t){for(var e=new Qt,i=0;i<=this.$50l()+t.$50l();i++)e.co.push(0);for(i=0;i<=this.$50l();i++)for(var n=0;n<=t.$50l();n++)e.co[i+n]+=this.co[i]*t.co[n];return e},Ht.$59l=function(){for(var t=this.$50l();t>=0&&Z(this.co[t])<=Qt.TO;t--)this.co.pop()},Ht.$50l=function(){return this.co.length-1},Ht.$51l=function(){var t;switch(this.$59l(),this.$50l()){case 0:t=new Array;break;case 1:t=this.$52l();break;case 2:t=this.$53l();break;case 3:t=this.$54l();break;case 4:t=this.$63l();break;default:t=new Array}return t},Ht.$52l=function(){var t=new Array,e=this.co[1];return 0!=e&&t.push(-this.co[0]/e),t},Ht.$53l=function(){var t=new Array;if(2==this.$50l()){var e=this.co[2],i=this.co[1]/e,n=i*i-4*(this.co[0]/e);if(n>0){var o=k(n);t.push(.5*(-i+o)),t.push(.5*(-i-o))}else 0==n&&t.push(.5*-i)}return t},Ht.$63l=function(){var t=new Array;if(4==this.$50l()){var e=this.co[4],i=this.co[3]/e,n=this.co[2]/e,o=this.co[1]/e,a=this.co[0]/e,r=new Qt(1,-n,i*o-4*a,-i*i*a+4*n*a-o*o).$54l()[0],s=i*i/4-n+r;if(Z(s)<=Qt.TO&&(s=0),s>0){var l=k(s),c=3*i*i/4-l*l-2*n,h=c+(u=(4*i*n-8*o-i*i*i)/(4*l)),d=c-u;if(Z(h)<=Qt.TO&&(h=0),Z(d)<=Qt.TO&&(d=0),h>=0){var g=k(h);t.push(-i/4+(l+g)/2),t.push(-i/4+(l-g)/2)}if(d>=0){g=k(d);t.push(-i/4+(g-l)/2),t.push(-i/4-(g+l)/2)}}else if(0>s);else{var u;if((u=r*r-4*a)>=-Qt.TO){if(0>u&&(u=0),(c=3*i*i/4-2*n)+(u=2*k(u))>=Qt.TO){var f=k(c+u);t.push(-i/4+f/2),t.push(-i/4-f/2)}if(c-u>=Qt.TO){f=k(c-u);t.push(-i/4+f/2),t.push(-i/4-f/2)}}}}return t},Ht.$54l=function(){var t=new Array;if(3==this.$50l()){var e=this.co[3],i=this.co[2]/e,n=this.co[1]/e,o=(3*n-i*i)/3,a=(2*i*i*i-9*n*i+27*(this.co[0]/e))/27,r=i/3,s=a*a/4+o*o*o/27,l=a/2;if(Z(s)<=Qt.TO&&(s=0),s>0){var c,h=k(s);c=(p=-l+h)>=0?E(p,1/3):-E(-p,1/3),(p=-l-h)>=0?c+=E(p,1/3):c-=E(-p,1/3),t.push(c-r)}else if(0>s){var d=k(-o/3),g=z(k(-s),-l)/3,u=j(g),f=V(g),v=k(3);t.push(2*d*u-r),t.push(-d*(u+v*f)-r),t.push(-d*(u-v*f)-r)}else{var p;p=l>=0?-E(l,1/3):E(-l,1/3),t.push(2*p-r),t.push(-p-r)}}return t};var Yt=function(t,e){arguments.length>0&&this.$58l(t,e)},Jt=Yt.prototype;Jt.$58l=function(t,e){this.x=t,this.y=e},Jt.length=function(){return k(this.x*this.x+this.y*this.y)},Jt.$60l=function(t){return this.x*t.x+this.y*t.y};var Xt=function(t,e,i,n){var o,a=(n.x-i.x)*(t.y-i.y)-(n.y-i.y)*(t.x-i.x),r=(e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x),s=(n.y-i.y)*(e.x-t.x)-(n.x-i.x)*(e.y-t.y);if(0!=s){var l=a/s,c=r/s;l>=0&&1>=l&&c>=0&&1>=c?(o=new Ut(D)).points.push(new Gt(t.x+l*(e.x-t.x),t.y+l*(e.y-t.y))):o=new Ut(T)}else o=new Ut(0==a||0==r?"C":"P");return o},$t=function(t,e,i,n,o){var a,r,s,l,c,h,d,g=n.min(o),u=n.max(o),f=new Ut(T);a=e.$55l(-2),s=t.add(a.add(i)),a=t.$55l(-2),r=e.$55l(2),l=a.add(r),c=new Gt(t.x,t.y),d=new Yt(n.y-o.y,o.x-n.x),h=n.x*o.y-o.x*n.y;for(var v=new Qt(d.$60l(s),d.$60l(l),d.$60l(c)+h).$51l(),p=0;p<v.length;p++){var I=v[p];if(I>=0&&1>=I){var _=t.lerp(e,I),y=e.lerp(i,I),C=_.lerp(y,I);n.x==o.x?g.y<=C.y&&C.y<=u.y&&(f.$62l=D,f.$56l(C)):n.y==o.y?g.x<=C.x&&C.x<=u.x&&(f.$62l=D,f.$56l(C)):C.gte(g)&&C.lte(u)&&(f.$62l=D,f.$56l(C))}}return f},Kt=function(t,e,i,n,o){var a=n.min(o),r=n.max(o),s=new Gt(r.x,a.y),l=new Gt(a.x,r.y),c=$t(t,e,i,a,s),h=$t(t,e,i,s,r),d=$t(t,e,i,r,l),g=$t(t,e,i,l,a),u=new Ut(T);return u.$57l(c.points),u.$57l(h.points),u.$57l(d.points),u.$57l(g.points),u.points.length>0&&(u.$62l=D),u},qt=function(t,e,i,n,o,a){var r,s,l,c,h,d,g,u,f,v,p=o.min(a),I=o.max(a),_=new Ut(T);r=t.$55l(-1),s=e.$55l(3),l=i.$55l(-3),c=r.add(s.add(l.add(n))),h=new Yt(c.x,c.y),r=t.$55l(3),s=e.$55l(-6),l=i.$55l(3),c=r.add(s.add(l)),d=new Yt(c.x,c.y),r=t.$55l(-3),s=e.$55l(3),l=r.add(s),g=new Yt(l.x,l.y),u=new Yt(t.x,t.y),v=new Yt(o.y-a.y,a.x-o.x),f=o.x*a.y-a.x*o.y;for(var y=new Qt(v.$60l(h),v.$60l(d),v.$60l(g),v.$60l(u)+f).$51l(),C=0;C<y.length;C++){var m=y[C];if(m>=0&&1>=m){var w=t.lerp(e,m),b=e.lerp(i,m),A=i.lerp(n,m),M=w.lerp(b,m),x=b.lerp(A,m),N=M.lerp(x,m);o.x==a.x?p.y<=N.y&&N.y<=I.y&&(_.$62l=D,_.$56l(N)):o.y==a.y?p.x<=N.x&&N.x<=I.x&&(_.$62l=D,_.$56l(N)):N.gte(p)&&N.lte(I)&&(_.$62l=D,_.$56l(N))}}return _},te=function(t,e,i,n,o,a){var r=o.min(a),s=o.max(a),l=new Gt(s.x,r.y),c=new Gt(r.x,s.y),h=qt(t,e,i,n,r,l),d=qt(t,e,i,n,l,s),g=qt(t,e,i,n,s,c),u=qt(t,e,i,n,c,r),f=new Ut(T);return f.$57l(h.points),f.$57l(d.points),f.$57l(g.points),f.$57l(u.points),f.points.length>0&&(f.$62l=D),f},ee=function(t,e,i,n){var o=i.min(n),a=i.max(n),r=new Gt(a.x,o.y),s=new Gt(o.x,a.y),l=Xt(o,r,t,e),c=Xt(r,a,t,e),h=Xt(a,s,t,e),d=Xt(s,o,t,e),g=new Ut(T);return g.$57l(l.points),g.$57l(c.points),g.$57l(h.points),g.$57l(d.points),g.points.length>0&&(g.$62l=D),g},ie=a.XEditInteractor=function(t){var e=this._view=document.createElement("canvas");e.className="editCanvas",e.style.position="absolute",ie.superClass.constructor.call(this,t)};o.def(ie,a.Interactor,{ms_edit:1,setUp:function(){var t=this,e=t.gv,i=e.getView(),n=t._view;ie.superClass.setUp.call(t),e.setEditInteractor(t),e.$14l=n,e._79O?i.insertBefore(n,e._79O):i.appendChild(n);var o=t.$49l=t.$11l.bind(t);e.dm().md(o),e.sm().ms(o),e.mp(o)},tearDown:function(){var t=this,e=t.gv,i=e.getView(),n=t.$49l;ie.superClass.tearDown.call(t),e.setEditInteractor(w),e.$14l=w,i.removeChild(t._view),e.dm().umd(n),e.sm().ums(n),e.ump(n)},clear:function(){var t=this,e=t.gv;delete t._hoverSegmentIndex,delete t._edge,delete t._shape,delete e._editing,delete t.$10l,delete t.$13l,delete t.$9l,delete t._removePointIndex,delete t._lp,t.$12l="",delete t.$40l,delete t.$67l,delete t.$72l,delete t.$73l,delete t.$75l,delete t.$1l,delete t.$3l,delete t.$2l,delete t.$92l,delete t.$93l,delete t.$94l,t.clearDragging()},handle_keydown:function(t){this.$48l!==t.shiftKey&&(this.$48l=t.shiftKey,this.handle_mousemove(t,i,!0))},handle_keyup:function(t){this.$48l!==t.shiftKey&&(this.$48l=t.shiftKey,this.handle_mousemove(t,i,!0))},handle_touchstart:function(t){this.handle_mousemove(t),this.handle_mousedown(t)},handle_mousedown:function(t){I(t);var e=this,i=e.$13l,n=e.gv,a=n.dm(),r=n.sm(),s=n.getZoom(),l=n.lp(t),c=o.isDoubleClick(t),h=o.isLeftButton(t),d=e.$7l,u=e._shape,f=e._hoverSegmentIndex,v=e._edge,p=e.$87l,y=e.$88l,C=function(){e._68I||p===e.$87l&&y===e.$88l||e.$43l()};if(7!==e.$67l&&(delete e.$87l,delete e.$88l),h&&(u||v)&&f>=0&&c&&(u&&r.contains(u)||v&&r.contains(v))){var m=nt.call(e,u||v,f,l);return e.addShapePoint(u||v,f,m),void _(function(){e.handle_mousemove(t)},40)}if(h&&(u||v)&&e._removePointIndex>=0&&c)return e.removeShapePoint(),e.$5l=1,void _(function(){e.handle_mousemove(t)},40);if(h&&n._editing){if(u&&i>=0){var w=u.getPoints().get(i),b=u.p(),A=rt(b,w.x-b.x,w.y-b.y,-d+u.getRotation());V=rt(b,l.x-b.x,l.y-b.y,-d),e.$24l={x:V.x-A.x,y:V.y-A.y},e.startDragging(t),a.beginTransaction(),e.fi({kind:"beginEditPoint",event:t,data:u,index:i}),e.$88l=i,e.$87l=u}else if(e.$10l){var M=n.sm().getSelection(),x=e.$6l,D=e.$1l={},T=e.$3l={},N=e.$16l[H[e.$10l]],S={x:x.x,y:x.y},z={x:x.x+x.width/2,y:x.y+x.height/2};e.$24l={x:l.x-N.x/s,y:l.y-N.y/s},e.$2l=G(e.$8l),e.$4l=G(x),M.each(function(t){if(t instanceof g){var e=t.p(),i=t.getWidth(),n=t.getHeight(),o=rt(z,e.x-z.x,e.y-z.y,-d);D[t.getId()]={x:e.x-i/2,y:e.y-n/2,width:i,height:n},T[t.getId()]={x:(o.x-S.x)/x.width,y:(o.y-S.y)/x.height}}}),e.startDragging(t),a.beginTransaction(),e.fi({kind:"beginEditRect",event:t,direction:e.$10l})}else if(v&&i>=0){w=ct(n.getDataUI(v),v.s("edge.points")).get(i);e.$24l={x:l.x-w.x,y:l.y-w.y},e.startDragging(t),a.beginTransaction(),e.fi({kind:"beginEditPoint",event:t,data:v,index:i}),e.$88l=i,e.$87l=v}else if(e.$40l){z={x:(x=e.$6l).x+x.width/2,y:x.y+x.height/2};var k=G(e.$23l);k.x/=s,k.y/=s;var E=rt(z,k.x-z.x,k.y-z.y,-d),V=rt(z,l.x-z.x,l.y-z.y,-d);e.$24l={x:V.x-E.x,y:V.y-E.y},e.startDragging(t),a.beginTransaction(),e.fi({kind:"beginEditRotation",event:t,data:e._rotationNode})}else if([1,2,3,5,6,7,8,9].indexOf(e.$67l)>=0){var j=e.$67l;(7===j||8===j||9===j)&&a.beginTransaction(),e.startDragging(t)}else if(e.$71l&&c&&e.$79l(e.$71l,l)){var R=r.toSelection();a.beginTransaction(),R.each(function(t){a.remove(t)}),a.endTransaction()}C()}else C()},$11l:function(){var t=this;t.gv._editing&&(t.$13l==w||t._shape==w&&t._edge==w)&&(t.$73l==w||1!==t.$67l&&5!==t.$67l&&6!==t.$67l)||(t.$5l=1),t._68I=1},$46l:function(t){var e,i,n=this.gv,o=n.lp(t),a=[];return i=function(t){var e=n.getDataUI(t);if(e){var i=e._79o();W(i,o)&&a.push(t)}},(e=n).reverseEach(function(t){return e.isSelected(t)?i(t):void 0}),a},$47l:function(t){var e=this,i=e.$13l,n=e.gv.dm();e.$10l?(e.fi({kind:"endEditRect",event:t,direction:e.$10l}),n.endTransaction()):e._shape&&i>=0?(e.fi({kind:"endEditPoint",event:t,data:e._shape,index:i}),n.endTransaction()):e._edge&&i>=0?(e.fi({kind:"endEditPoint",event:t,data:e._edge,index:i}),n.endTransaction()):e.$23l&&e.$40l&&(e.fi({kind:"endEditRotation",event:t}),n.endTransaction())},handleWindowTouchEnd:function(t){this.handleWindowMouseUp(t)},handleWindowMouseUp:function(t){var e,o,a=this,r=a.gv,s=r.dm(),l=a._shape,c=a._edge,h=a.$13l,d=a.$40l,u=a.$9l,v=a.$10l,I=a.$67l;if((l||c)&&h>=0&&u>=0)if(l){var _=l.p(),y=l.getRotation();o=(e=l.getPoints()).get(u),Vt(l,_,y,h,o,!1)}else if(o=(e=ct(r.getDataUI(c),c.s("edge.points"),!0)).get(u),0===h){var C=e.get(0);c.s("edge.source.offset.x",o.x-C.x),c.s("edge.source.offset.y",o.y-C.y)}else if(h===e.size()-1){var m=e.get(e.size()-1);c.s("edge.target.offset.x",o.x-m.x),c.s("edge.target.offset.y",o.y-m.y)}else"points"===c.s("edge.type")&&(e.set(h,o),c.s("edge.points",ht(e)));a.$47l(t);var b=a.$73l;1===I?(s.beginTransaction(),b?r.sm().each(function(t){if(t.setHost&&r.isHelperEditable(t,"host")){t.setHost(b);var e=a.$75l,i=a.$74l;e&&(t.s("attach.row.index",e.rowIndex),t.s("attach.column.index",e.columnIndex)),i&&(t.s("attach.index",i.attachIndex),t.s("attach.offset",i.attachOffset),t.s("attach.offset.relative",!1),t.s("attach.offset.opposite",!1))}}):r.sm().each(function(t){t.setHost&&r.isHelperEditable(t,"host")&&(t.setHost(w),t.s("attach.row.index",i),t.s("attach.column.index",i),t.s("attach.index",i),t.s("attach.offset",i),t.s("attach.offset.relative",!1),t.s("attach.offset.opposite",!1))}),s.endTransaction()):2===I?(s.beginTransaction(),b?r.sm().each(function(t){t.setParent&&r.isHelperEditable(t,"parent")&&t.setParent(b)}):r.sm().each(function(t){t.setParent&&r.isHelperEditable(t,"parent")&&t.setParent(w)}),s.endTransaction()):3===I?b&&(s.beginTransaction(),r.sm().each(function(e){if(r.isHelperEditable(e,"edge")&&e instanceof g&&b instanceof g){var i=new n.Edge;s.add(i),i.setSource(e),i.setTarget(b),a.onEdgeCreated&&a.onEdgeCreated(t,i)}}),s.endTransaction()):5===I||6===I?b&&(s.beginTransaction(),r.sm().each(function(t){t instanceof f&&b instanceof g&&(5===I&&r.isHelperEditable(t,"source")?t.setSource(b):6===I&&r.isHelperEditable(t,"source")&&t.setTarget(b))}),s.endTransaction()):(7===I||8===I||9===I)&&s.endTransaction(),(v||d)&&a.$43l(!0),p?(a.clear(),delete a.$64l,a._68I||a.$43l()):(a.handle_mousemove(t,!0),I&&!a._68I&&a.$43l())},handleWindowTouchMove:function(t){this.handleWindowMouseMove(t)},handleWindowMouseMove:function(t){this._78I(t)},handle_mousemove:function(t,e,i){if(!this._pause){if(!i){var n=p?(l=t).touches[0]||l.changedTouches[0]:t;this.$61l={clientX:n.clientX,clientY:n.clientY}}if(!0===e||!C()){var o=this,a=o.gv,r=!1,s=w;o.clear(),a.sm().size()>0&&(s=a.lp(i?o.$61l:t),r=o._79I(t,s)),r&&(a._editing=1),o.$12l!==o.$65l&&(o.$65l=o.$12l,o.setCursor(o.$12l)),o.$40l!==o.$64l&&(o.$64l=o.$40l,o._68I||o.$43l()),o._hoverSegmentIndex!==o.$66l&&(o.$66l=o._hoverSegmentIndex,o._68I||o.$43l())}}var l},_78I:function(t){this.autoScroll(t);var e=this,i=e.gv,n=i.lp(t),a=i.getZoom(),r=e.$13l;if((e._shape||e._edge)&&r>=0){var s,l,c=e._shape,h=e._edge,d=e.$24l,v=i.getPointSnapSpacing(),p=function(t,e){return v==w||isNaN(v)?{x:t,y:e}:{x:B(t/v)*v,y:B(e/v)*v}};if(c){At=c.getPoints();var I=c.p(),y=c.getRotation(),C=0;s=rt(I,n.x-I.x,n.y-I.y,-y),Vt(c,I,y,r,n,!0,d,p),e.fi({kind:"betweenEditPoint",event:t,data:c,index:r})}else if(h){At=ct(i.getDataUI(h),h.s("edge.points"),!0),n.x-=d.x,n.y-=d.y,s=n;var b=h.s("edge.offset"),A=At.size(),M=A>2;if(0===r){var D=At.get(0);b&&(D=st(D,At.get(1),-b,M),n=st(n,At.get(1),-b,M)),l=p(n.x-D.x,n.y-D.y),h.s("edge.source.offset.x",l.x),h.s("edge.source.offset.y",l.y)}else if(r===A-1){var T=At.get(A-1);b&&(T=st(T,At.get(A-2),-b,M),n=st(n,At.get(A-2),-b,M)),l=p(n.x-T.x,n.y-T.y),h.s("edge.target.offset.x",l.x),h.s("edge.target.offset.y",l.y)}else"points"===h.s("edge.type")&&((l=p(n.x,n.y)).e=At.get(r).e,At.set(r,l),h.s("edge.points",ht(At)));e.fi({kind:"betweenEditPoint",event:t,data:h,index:r})}if(delete e.$9l,i.isSnapPoint(c)||i.isSnapPoint(h))for(C=0;C<At.size();C++)if(C!==r){var E=At.get(C);if(m(E,s)<i.getEditPointSize()/a){e.$9l=C;break}}}else if(e.$10l){d=e.$24l;n.x-=d.x,n.y-=d.y;var V=i.sm().getSelection(),j=e.$1l,R=e.$7l,P=e.$10l,L=e.$4l,O=e.$2l,U=i.getEditRectPadding()/a,W=2*U,G=i.getSnapSpacing(),F=G!=w&&!isNaN(G),Q=kt(O,n,P,R,2*U,i.getResizeMode(),F,!0),H=e.$6l;if(F){var Y=Q.width-W,J=Q.height-W,X=B(Y/G)*G-Y,$=B(J/G)*G-J;("west"===P||"northwest"===P||"southwest"===P)&&(X=-X),("north"===P||"northwest"===P||"northeast"===P)&&($=-$),Q=kt(O,n,P,R,2*U,i.getResizeMode(),F,!1,X,$)}e.$8l=Q,H.x=Q.x+U,H.y=Q.y+U,H.width=Q.width-W,H.height=Q.height-W;var K=Q.x+Q.width/2,q=Q.y+Q.height/2,tt=H.x,et=H.y,it=H.width/L.width,nt=H.height/L.height;V.each(function(t){if(t instanceof g&&i.isEditable(t)&&i.isRectEditable(t)){var n=j[t.getId()],o=e.$3l[t.getId()],a={x:n.x+n.width/2,y:n.y+n.height/2},r=0,s=0,l=P,c=180*Z(R-t.getRotation())/x;"northeast"===P?c>=315||45>c?(r=n.width*it+n.x,s=n.height*(1-nt)+n.y,l="northeast"):c>=45&&135>c?(r=n.width*(1-nt)+n.x,s=n.height*(1-it)+n.y,l="northwest"):c>=135&&225>c?(r=n.width*(1-it)+n.x,s=n.height*nt+n.y,l="southwest"):(r=n.width*nt+n.x,s=n.height*it+n.y,l="southeast"):"north"===P?c>=315||45>c?(s=n.height*(1-nt)+n.y,l="north"):c>=45&&135>c?(r=n.width*(1-nt)+n.x,l="west"):c>=135&&225>c?(s=n.height*nt+n.y,l="south"):(r=n.width*nt+n.x,l="east"):"northwest"===P?c>=315||45>c?(r=n.width*(1-it)+n.x,s=n.height*(1-nt)+n.y,l="northwest"):c>=45&&135>c?(r=n.width*(1-nt)+n.x,s=n.height*it+n.y,l="southwest"):c>=135&&225>c?(r=n.width*it+n.x,s=n.height*nt+n.y,l="southeast"):(r=n.width*nt+n.x,s=n.height*(1-it)+n.y,l="northeast"):"west"===P?c>=315||45>c?(r=n.width*(1-it)+n.x,l="west"):c>=45&&135>c?(s=n.height*it+n.y,l="south"):c>=135&&225>c?(r=n.width*it+n.x,l="east"):(s=n.height*(1-it)+n.y,l="north"):"southwest"===P?c>=315||45>c?(r=n.width*(1-it)+n.x,s=n.height*nt+n.y,l="southwest"):c>=45&&135>c?(r=n.width*nt+n.x,s=n.height*it+n.y,l="southeast"):c>=135&&225>c?(r=n.width*it+n.x,s=n.height*(1-nt)+n.y,l="northeast"):(r=n.width*(1-nt)+n.x,s=n.height*(1-it)+n.y,l="northwest"):"east"===P?c>=315||45>c?(r=n.width*it+n.x,l="east"):c>=45&&135>c?(s=n.height*(1-it)+n.y,l="north"):c>=135&&225>c?(r=n.width*(1-it)+n.x,l="west"):(s=n.height*it+n.y,l="south"):"south"===P?c>=315||45>c?(s=n.height*nt+n.y,l="south"):c>=45&&135>c?(r=n.width*nt+n.x,l="east"):c>=135&&225>c?(s=n.height*(1-nt)+n.y,l="north"):(r=n.width*(1-nt)+n.x,l="west"):"southeast"===P&&(c>=315||45>c?(r=n.width*it+n.x,s=n.height*nt+n.y,l="southeast"):c>=45&&135>c?(r=n.width*nt+n.x,s=n.height*(1-it)+n.y,l="northeast"):c>=135&&225>c?(r=n.width*(1-it)+n.x,s=n.height*(1-nt)+n.y,l="northwest"):(r=n.width*(1-nt)+n.x,s=n.height*it+n.y,l="southwest"));var h=rt(a,r-a.x,s-a.y,t.getRotation());Et(t,n,l,{x:h.x,y:h.y});var d={x:tt+H.width*o.x,y:et+H.height*o.y};d=rt({x:K,y:q},d.x-K,d.y-q,R),t.p(d.x,d.y)}}),e.fi({kind:"betweenEditRect",event:t,direction:P})}else if(e.$23l&&e.$40l){var ot=e.$8l,at=ot.width,lt=ot.height,dt=(I={x:ot.x+at/2,y:ot.y+lt/2},d=e.$24l,e.$23l),gt=dt.x/a-I.x,ut=dt.y/a-I.y,ft=k(gt*gt+ut*ut),vt=Math.asin(d.x/ft),pt=i.sm().getSelection(),It=N+z(n.y-I.y,n.x-I.x)-vt,_t=i.getSnapAngle();0>(It=B(It/_t)*_t)&&(It+=S);var yt=It-e.$7l,Ct=[I.x,0,I.y];pt.each(function(t){if(i.isEditable(t)&&i.isRotationEditable(t)&&i.isVisible(t)){var e=(o=t.p3(),a=Ct,[o[0]-a[0],o[1]-a[1],o[2]-a[2]]),n=Rt();Pt(n,-yt),t.setRotation(t.getRotation()+yt),function(t,e){var i=t[0],n=t[1],o=t[2];t[0]=e[0]*i+e[4]*n+e[8]*o+e[12],t[1]=e[1]*i+e[5]*n+e[9]*o+e[13],t[2]=e[2]*i+e[6]*n+e[10]*o+e[14]}(e,n),t.p3(Ct[0]+e[0],Ct[1]+e[1],Ct[2]+e[2])}var o,a}),e.$7l=It,e.fi({kind:"betweenEditRotation",event:t})}else if([1,2,3,5,6].indexOf(e.$67l)>=0)e.$72l=t,e.$78l||(e.$78l=1,_(function(){o.isDragging()&&e.$43l(),delete e.$78l},12));else if(7===e.$67l){if(e.$87l instanceof u){c=e.$87l;var mt=e.$88l,wt=o.clone(c.getPoints().get(mt)),bt=n.y-wt.y;wt.e||(wt.e=0),e.$92l||(e.$92l=wt.e),wt.e=e.$92l-bt,c.setPoint(mt,wt)}else if(e.$87l instanceof f){var At;h=e.$87l,mt=e.$88l,wt=(At=ct(i.getDataUI(h),h.s("edge.points"))).get(mt),bt=n.y-wt.y;wt.e||(wt.e=0),e.$92l||(e.$92l=wt.e),wt.e=e.$92l-bt,At.set(mt,wt),h.s("edge.points",ht(At))}}else if(8===e.$67l){pt=i.sm().getSelection();var Mt=e.$93l;Mt||(Mt=e.$93l={}),pt.each(function(t){if(t.p3){var i=t.p3(),o=Mt[t.getId()];o==w&&(o=Mt[t.getId()]=i[1]),t.p3([i[0],o-(n.y-e.$90l.y/a),i[2]])}})}else if(9===e.$67l){pt=i.sm().getSelection();var xt=e.$94l;xt||(xt=e.$94l={}),pt.each(function(t){if(t.s3){var i=t.s3(),o=xt[t.getId()];o==w&&(o=xt[t.getId()]=i[1]);var r=o-(n.y-e.$91l.y/a);0>r&&(r=.01),t.s3([i[0],r,i[2]])}})}},$79l:function(t,e){var i=this.gv,n=i.getZoom(),o=i.getEditHelperSize(),a=t.x/n,r=t.y/n,s=o/n,l=s/2;return!!W({x:a-l,y:r-l,width:s,height:s},e)||void 0},getHelperCursor:function(){return"crosshair"},_79I:function(t,e){for(var i=this,n=i.gv,o=n.getZoom(),a=n.getEditPointSize()/o,r=a/2,s=i.$46l(t),l=0;l<s.length;l++){var c,h=s[l],d=n.getDataUI(h);if(d&&d._55O){var g=d._55O;if(g._43O&&h instanceof f){if(v=h.s("edge.points"),v=ct(d,v),(c=h.s("edge.segments"))&&c.size()||(c=dt(v)),i.$42l(h,e,v._as,c,"edge"))return!0;if("points"===h.s("edge.type")&&i.$41l(h,e,v._as,c,"edge"))return}if(g._43O&&h instanceof u&&g.$15l&&g.$15l.length===h.getPoints().size()){if(v=g.$15l,(c=h.getSegments())&&c.size()||(c=dt(v)),i.$42l(h,e,v,c,"shape"))return!0;if(i.$41l(h,e,v,c,"shape"))return}}}if(i.$16l){var v,p=i.$16l,I=p[3].x-p[7].x,_=p[3].y-p[7].y,y=k(I*I+_*_),C=p[1].x-p[5].x,m=p[1].y-p[5].y,w=k(C*C+m*m),b={x:e.x*o,y:e.y*o};if(i._80I(b,0,p[0],"northwest",y,w)||i._80I(b,1,p[1],"north",y,w)||i._80I(b,2,p[2],"northeast",y,w)||i._80I(b,7,p[7],"west",y,w)||i._80I(b,3,p[3],"east",y,w)||i._80I(b,6,p[6],"southwest",y,w)||i._80I(b,5,p[5],"south",y,w)||i._80I(b,4,p[4],"southeast",y,w))return!0}if(i.$23l){var A=i.$23l,M=A.x/o,x=A.y/o;if(W({x:M-r,y:x-r,width:a,height:a},e))return i.$40l=1,i.$12l=i.getHelperCursor("rotation")||"crosshair",!0}return i.$68l&&i.$79l(i.$68l,e)?(i.$67l=1,i.$12l=i.getHelperCursor("host")||"crosshair",!0):i.$69l&&i.$79l(i.$69l,e)?(i.$67l=2,i.$12l=i.getHelperCursor("parent")||"crosshair",!0):i.$70l&&i.$79l(i.$70l,e)?(i.$67l=3,i.$12l=i.getHelperCursor("edge")||"crosshair",!0):i.$71l&&i.$79l(i.$71l,e)?(i.$67l=4,i.$12l=i.getHelperCursor("remove")||"crosshair",!0):i.$82l&&i.$79l(i.$82l,e)?(i.$67l=5,i.$12l=i.getHelperCursor("source")||"crosshair",!0):i.$83l&&i.$79l(i.$83l,e)?(i.$67l=6,i.$12l=i.getHelperCursor("target")||"crosshair",!0):i._pointElevationHelperPoint&&i.$79l(i._pointElevationHelperPoint,e)?(i.$67l=7,i.$12l=i.getHelperCursor("pointElevation")||"crosshair",!0):i.$90l&&i.$79l(i.$90l,e)?(i.$67l=8,i.$12l=i.getHelperCursor("elevation")||"crosshair",!0):!(!i.$91l||!i.$79l(i.$91l,e))&&(i.$67l=9,i.$12l=i.getHelperCursor("tall")||"crosshair",!0)},_80I:function(t,e,i,n,o,a){var r=this,s=r.gv,l=s.getEditPointSize(),c=l/2,h=s.sm(),d=s.isDirectionEditable;if(d&&1===h.size()){var u=h.ld();if(d=d.bind(s),u instanceof g){if(!d(u,n))return!1;if("east"===n){if(d(u,"northeast")&&d(u,"southeast")&&2*l>=a)return!1}else if("west"===n){if(d(u,"northwest")&&d(u,"southwest")&&2*l>=a)return!1}else if("north"===n){if(d(u,"northwest")&&d(u,"northeast")&&2*l>=o)return!1}else if("south"===n&&d(u,"southwest")&&d(u,"southeast")&&2*l>=o)return!1}}else{if(2*l>=o&&("north"===n||"south"===n))return!1;if(2*l>=a&&("east"===n||"west"===n))return!1}if(W({x:i.x-c,y:i.y-c,width:l,height:l},t)){if(r.$10l!==n){var f=180*r.$7l/x,v="";f>=337.5||22.5>f?v="north":f>=22.5&&67.5>f?v="northeast":f>=67.5&&112.5>f?v="east":f>=112.5&&157.5>f?v="southeast":f>=157.5&&202.5>f?v="south":f>=202.5&&247.5>f?v="southwest":f>=247.5&&292.5>f?v="west":f>=292.5&&337.5>f&&(v="northwest");var p=zt.indexOf(v);switch(v=zt[e-(1-p)+8]){case"northwest":r.$12l="nwse-resize";break;case"northeast":case"southwest":r.$12l="nesw-resize";break;case"southeast":r.$12l="nwse-resize";break;case"north":r.$12l="ns-resize";break;case"east":r.$12l="ew-resize";break;case"south":r.$12l="ns-resize";break;case"west":r.$12l="ew-resize"}r.$10l=n}return!0}return!1},$42l:function(t,e,i,n,o){var a,r,s=this,l=s.gv,c=l.getEditPointSize()/l.getZoom(),h=-1,d={x:e.x,y:e.y,width:0,height:0},g=function(e){"shape"===o?s._shape=t:s._edge=t,s.$13l=e,s.$12l="crosshair"};for(y(d,c/2),h=i.length-1,a=n.size()-1;a>=0;a--){if(1===(p=n.get(a))||2===p)h-=1;else if(3===p){var u=i[h-1];if(W(d,u))return g(h-1),!0;h-=2}else if(4===p){var f=i[h-1],v=i[h-2];if(W(d,f))return g(h-1),!0;if(W(d,v))return g(h-2),!0;h-=3}}for(h=i.length-1,a=n.size()-1;a>=0;a--){var p=n.get(a),I=i[h];if(W(d,I))return r=h,"shape"===o?s._shape=t:s._edge=t,s._removePointIndex=r,g(h),!0;1===p||2===p?h-=1:3===p?h-=2:4===p&&(h-=3)}return!1},$41l:function(t,e,i,n,o){var a=this,r=a.gv,s=-1,l=0,c={x:e.x,y:e.y,width:0,height:0},h=function(i,n){a._hoverSegmentIndex=n,a._lp=e,"shape"===o?a._shape=t:a._edge=t};for(y(c,r.getSegmentHoverWidth()/2/r.getZoom()),t instanceof u&&t.isClosePath()&&n.indexOf(5)<0&&(n=new b(n._as)).add(5);l<n.size();l++){var d=n.get(l);if(1===d){var g=i[s],f=i[s+1];if(g)if((C=ee(new Gt(g.x,g.y),new Gt(f.x,f.y),new Gt(c.x,c.y),new Gt(c.x+c.width,c.y+c.height))).$62l===D&&C.points.length>0)return h(0,l),!0;s+=1}else if(2===d){g=i[s],f=i[s+1];if((C=ee(new Gt(g.x,g.y),new Gt(f.x,f.y),new Gt(c.x,c.y),new Gt(c.x+c.width,c.y+c.height))).$62l===D&&C.points.length>0)return h(0,l),!0;s+=1}else if(3===d){g=i[s];var v=i[s+1],p=i[s+2];if((C=Kt(new Gt(g.x,g.y),new Gt(v.x,v.y),new Gt(p.x,p.y),new Gt(c.x,c.y),new Gt(c.x+c.width,c.y+c.height))).$62l===D)return h(0,l),!0;s+=2}else if(4===d){g=i[s];var I=i[s+1],_=i[s+2];p=i[s+3];if((C=te(new Gt(g.x,g.y),new Gt(I.x,I.y),new Gt(_.x,_.y),new Gt(p.x,p.y),new Gt(c.x,c.y),new Gt(c.x+c.width,c.y+c.height))).$62l===D)return h(0,l),!0;s+=3}else if(5===d){var C;g=i[s],f=i[0];if(g)if((C=ee(new Gt(g.x,g.y),new Gt(f.x,f.y),new Gt(c.x,c.y),new Gt(c.x+c.width,c.y+c.height))).$62l===D&&C.points.length>0)return h(0,l),!0}}return!1},addShapePoint:function(t,e,i){var n=this,o=n.gv,a=o.dm();if(a.beginTransaction(),0===arguments.length&&(t=n._shape||n._edge,e=n._hoverSegmentIndex,i=n._lp),t instanceof u||t instanceof f){var r=jt(t,o.getDataUI(t),e);if(!isNaN(e)&&i&&!isNaN(r)){var s=i;if(t instanceof u){var l=t.p(),c=t.getRotation(),h=t.toSegments();h&&h.size()||(h=dt(t.getPoints())),t.isClosePath()&&h.indexOf(5)<0&&(h=new b(h._as)).add(5);var d="addPoint",g="removePointAt";if(2===(T=h.get(e))||1===T){var v={x:s.x,y:s.y};h.add(T,e),v=rt(l,v.x-l.x,v.y-l.y,-c),t[d](v,r+1)}else if(3===T){var p=(N=t.getPoints()).get(r),I=N.get(r+2);v={x:s.x,y:s.y};v=rt(l,v.x-l.x,v.y-l.y,-c);var _=gt(p,v),y=gt(v,I);h.removeAt(e),h.add(3,e),h.add(3,e),t.setPoint(r+1,v),t[d](y,r+2),t[d](_,r+1)}else if(4===T){p=(N=t.getPoints()).get(r),I=N.get(r+3),v={x:s.x,y:s.y};v=rt(l,v.x-l.x,v.y-l.y,-c);_=ut(p,v),y=ft(p,v);var C=ut(v,I),m=ft(v,I);h.removeAt(e),h.add(4,e),h.add(4,e),t[g](r+1),t[g](r+1),t[d](v,r+1),t[d](m,r+2),t[d](C,r+2),t[d](y,r+1),t[d](_,r+1)}else if(5===T){v={x:s.x,y:s.y};h.add(2,e),v=rt(l,v.x-l.x,v.y-l.y,-c),t[d](v,r+1)}t.isClosePath()&&h.remove(5),t.setSegments(h);var w=t.getWidth(),A=t.getHeight(),M=t.p().x-w/2,x=t.p().y-A/2;M-=l.x,x-=l.y;var D=vt(0,{x:M,y:x,width:w,height:A},c,l);t.p(D.x,D.y)}else if(t instanceof f){if("points"!==t.s("edge.type"))return void a.endTransaction();var T,N=t.s("edge.points");if(h=t.s("edge.segments"),N=ct(o.getDataUI(t),N),h&&h.size()||(h=dt(N)),h=new b(h._as.slice(0)),N=new b(N._as.slice(0)),2===(T=h.get(e))||1===T){v={x:s.x,y:s.y};h.add(T,e),N.add(v,r+1)}else if(3===T){p=N.get(r),I=N.get(r+2),v={x:s.x,y:s.y},_=gt(p,v),y=gt(v,I);h.removeAt(e),h.add(3,e),h.add(3,e),N.set(r+1,v),N.add(y,r+2),N.add(_,r+1)}else if(4===T){p=N.get(r),I=N.get(r+3),v={x:s.x,y:s.y},_=ut(p,v),y=ft(p,v),C=ut(v,I),m=ft(v,I);h.removeAt(e),h.add(4,e),h.add(4,e),N.removeAt(r+1),N.removeAt(r+1),N.add(v,r+1),N.add(m,r+2),N.add(C,r+2),N.add(y,r+1),N.add(_,r+1)}t.s("edge.points",ht(N)),t.s("edge.segments",h)}}}a.endTransaction()},removeShapePoint:function(t,e){var i=this,n="removeAt",o=i.gv.dm();if(o.beginTransaction(),0===arguments.length&&(t=i._shape||i._edge,e=i._removePointIndex),e>=0&&(t instanceof u||t instanceof f)){var a=function(t,e,i){var n,o;if(t instanceof u?(n=t.getPoints(),o=t.getSegments()):t instanceof f&&"points"===t.s("edge.type")&&(n=t.s("edge.points"),o=t.s("edge.segments"),n=ct(e,n)),o&&o.size()||(o=dt(n)),o)for(var a=-1,r=0;r<o.size();r++){var s=o.get(r);if(1===s?a+=1:2===s?a+=1:3===s?a+=2:4===s&&(a+=3),a===i)return r}}(t,i.gv.getDataUI(t),e),r=e;if(t instanceof u){var s=t.p(),l=t.toSegments();l&&l.size()||(l=dt(t.getPoints()));var c="removePointAt";if(1===(_=l.get(a))&&0===r)if(t.getPoints().size()>1){var h=l.get(a+1);l[n](a+1),3===h?t[c](r+1):4===h&&(t[c](r+2),t[c](r+1)),t[c](r)}else t.dm().remove(t);else 2===_||1===_?(l[n](a),t[c](r)):3===_?(l[n](a),t[c](r),t[c](r-1)):4===_&&(l[n](a),t[c](r),t[c](r-1),t[c](r-2));t.setSegments(l);var d=t.getWidth(),g=t.getHeight(),v=t.p().x-d/2,p=t.p().y-g/2;v-=s.x,p-=s.y;var I=vt(0,{x:v,y:p,width:d,height:g},t.getRotation(),s);t.p(I.x,I.y)}else if(t instanceof f){if("points"!==t.s("edge.type"))return void o.endTransaction();var _,y=t.s("edge.points");if(l=t.s("edge.segments"),y&&(y=ct(i.gv.getDataUI(t),y),l&&l.size()||(l=dt(y))),0===e||e===y.size()-1)return void o.endTransaction();l=new b(l._as.slice(0)),y=new b(y._as.slice(0)),2===(_=l.get(a))||1===_?(l[n](a),y[n](r)):3===_?(l[n](a),y[n](r),y[n](r-1)):4===_&&(l[n](a),y[n](r),y[n](r-1),y[n](r-2)),t.s("edge.segments",l),t.s("edge.points",ht(y))}}o.endTransaction()},changeShapeSegment:function(t,e,i){var n=this,o=n.gv.dm();if(o.beginTransaction(),1!==arguments.length||isNaN(t)||(i=t,t=n._shape||n._edge,e=n._hoverSegmentIndex),t instanceof u||t instanceof f){var a=jt(t,n.gv.getDataUI(t),e);if(!isNaN(e)&&!isNaN(a))if(t instanceof u){var r=t.p(),s=t.toSegments();s&&s.size()||(s=dt(t.getPoints()));var l=s.get(e),c=t.toPoints();if(1===i||2===i)1===l||2===l?s.set(e,i):3===l?(s.set(e,i),c.removeAt(a+1)):4===l&&(s.set(e,i),c.removeAt(a+1),c.removeAt(a+1));else if(3===i){var h=function(){var t=c.get(a),i=c.get(a+1),n=gt(t,i);s.set(e,3),c.add(n,a+1)};2===l||1===l?h():4===l&&(c.removeAt(a+1),c.removeAt(a+1),h())}else if(4===i){var d=function(){var t=c.get(a),i=c.get(a+1),n=ut(t,i),o=ft(t,i);s.set(e,4),c.add(n,a+1),c.add(o,a+2)};2===l||1===l?d():3===l&&(c.removeAt(a+1),d())}t.setSegments(s),t.setPoints(c);var g=t.getWidth(),v=t.getHeight(),p=t.p().x-g/2,I=t.p().y-v/2;p-=r.x,I-=r.y;var _=new vt(t,{x:p,y:I,width:g,height:v},t.getRotation(),r);t.p(_.x,_.y)}else if(t instanceof f){if("points"!==t.s("edge.type"))return void o.endTransaction();c=t.s("edge.points");s=t.s("edge.segments"),c&&(c=ct(n.gv.getDataUI(t),c),s&&s.size()||(s=dt(c))),s=new b(s._as.slice(0)),c=new b(c._as.slice(0));l=s.get(e);if(1===i||2===i)1===l||2===l?s.set(e,i):3===l?(s.set(e,i),c.removeAt(a+1)):4===l&&(s.set(e,i),c.removeAt(a+1),c.removeAt(a+1));else if(3===i){h=function(){var t=c.get(a),i=c.get(a+1),n=gt(t,i);s.set(e,3),c.add(n,a+1)};2===l||1===l?h():4===l&&(c.removeAt(a+1),c.removeAt(a+1),h())}else if(4===i){d=function(){var t=c.get(a),i=c.get(a+1),n=ut(t,i),o=ft(t,i);s.set(e,4),c.add(n,a+1),c.add(o,a+2)};2===l||1===l?d():3===l&&(c.removeAt(a+1),d())}t.s("edge.points",ht(c)),t.s("edge.segments",s)}}o.endTransaction()},getDefaultSegments:function(t){var e=this.gv.getDataUI(t);if(t instanceof f){var i=t.s("edge.points");return i=ct(e,i),dt(i)}if(t instanceof u){i=t.getPoints();var n=t.getSegments();return n&&n.size()>0?n:dt(i)}},$43l:function(t){var e=this;t&&(e.$5l=1),e._68I=1,e._42()},_42:function(){var t=this;if(t._68I){delete t._68I;var e=t.gv,i=t.$5l,a=e.getZoom(),s=e.getEditPointSize(),l=s/2,c=new b,h=t._view,d=t._edge,p=t._shape,I=h.getContext("2d"),_=e.tx(),C=e.ty(),m=w,A=e.getEditPointBackground(),M=e.getControlPointBackground(),x=e.getControlPointBorderColor(),D=e.getEditPointBorderColor(),T=e.getEditRectBorderColor(),N=e.getDirectionLineColor(),z=e.getSegmentHoverColor(),E=e.getSnapPointBorderColor(),V=e.getJoinPointBackground(),j=e.getJoinPointBorderColor(),R=e.getSegmentHoverWidth(),P=e.getEditRectBorderStyle();(function(t,e){t.each(function(i){return t.isSelected(i)?e(i):void 0})})(e,function(t){e.isSelected(t)&&e.isVisible(t)&&c.add(t)}),I.clearRect(0,0,L(h.width),L(h.height)),I.save(),r.translateAndScale(I,_,C,1);var Z=w,B={x:0,y:0,width:0,height:0},W=0,H=0,J=0,X=0,$=0,K=0,q=0,tt=0,nt=0,at=0,st=[];if(i?(delete t.$6l,delete t.$8l,delete t.$7l,delete t.$16l,delete t.$23l):(Z=t.$6l,m=t.$7l),delete t.$68l,delete t.$69l,delete t.$71l,delete t.$70l,delete t.$82l,delete t.$83l,delete t._pointElevationHelperPoint,delete t.$90l,delete t.$91l,delete t.$75l,delete t.$74l,c.each(function(t){var i=e.getDataUI(t);if(i){var n=i._55O;if(e.isEditable(t))n._56O&&t instanceof g&&H++,st.push(t),n._42O&&t instanceof g&&W++,e.isHelperEditable(t,"host")&&X++,e.isHelperEditable(t,"parent")&&J++,e.isHelperEditable(t,"remove")&&$++,e.isHelperEditable(t,"edge")&&K++,e.isHelperEditable(t,"source")&&q++,e.isHelperEditable(t,"target")&&tt++,e.isHelperEditable(t,"elevation")&&nt++,e.isHelperEditable(t,"tall")&&at++;else if(t instanceof v&&t.isExpanded()){var o=!0,a=e.getEditableFunc();a&&(o=a(t)),o&&(e.isHelperEditable(t,"host")&&X++,e.isHelperEditable(t,"parent")&&J++,e.isHelperEditable(t,"remove")&&$++,e.isHelperEditable(t,"edge")&&K++,e.isHelperEditable(t,"source")&&q++,e.isHelperEditable(t,"target")&&tt++,e.isHelperEditable(t,"elevation")&&nt++,e.isHelperEditable(t,"tall")&&at++,st.push(t))}}}),I.beginPath(),I.lineWidth=1,I.strokeStyle=e.getNodeBorderColor(),st.forEach(function(n){var o=e.getDataUI(n)._55O;if(i)if(m==w&&(m=n instanceof f?0:n instanceof v&&n.isExpanded()?0:n.getRotation(),t.$7l=m),Z==w){if(n instanceof v&&n.isExpanded()||n instanceof f)s=(h=e.getDataUIBounds(n)).width,l=h.height,r={x:h.x+s/2,y:h.y+l/2};else r=n.p(),s=n.getWidth(),l=n.getHeight();Z={x:r.x,y:r.y,width:0,height:0},B.x=r.x-s/2,B.y=r.y-l/2,B.width=s,B.height=l,Z=U(Z,B)}else{var r,s,l,c,h,d=Z.x+Z.width/2,u=Z.y+Z.height/2,p={x:d,y:u};if(n instanceof v&&n.isExpanded()||n instanceof f)c=0,s=(h=e.getDataUIBounds(n)).width,l=h.height,r={x:h.x+s/2,y:h.y+l/2};else r=n.p(),s=n.getWidth(),l=n.getHeight(),c=n.getRotation();var _={x:r.x-s/2,y:r.y-l/2,width:s,height:l},y={x:_.x+_.width,y:_.y},C={x:_.x,y:_.y+_.height},b={x:_.x+_.width,y:_.y+_.height},A=rt(r,(A={x:_.x,y:_.y}).x-r.x,A.y-r.y,c),M=(C=rt(r,C.x-r.x,C.y-r.y,c),b=rt(r,b.x-r.x,b.y-r.y,c),y=rt(r,y.x-r.x,y.y-r.y,c),-m),x=rt(p,A.x-p.x,A.y-p.y,M),D=rt(p,y.x-p.x,y.y-p.y,M),T=rt(p,C.x-p.x,C.y-p.y,M),N=rt(p,b.x-p.x,b.y-p.y,M),S=O([x,D,T,N]);(Z=U(Z,S)).x-=d,Z.y-=u;var z=vt(0,Z,m,p);Z.x=z.x-Z.width/2,Z.y=z.y-Z.height/2}if(W>1&&e.isEditable(n)&&e.isRectEditable(n)&&n instanceof g){var k=n.getRect(),E=o.$45l,V=it(E[0],a),j=it(E[2],a),R=it(E[4],a),P=it(E[6],a);n.getRotation()?(I.moveTo(V.x,V.y),I.lineTo(j.x,j.y),I.lineTo(R.x,R.y),I.lineTo(P.x,P.y),I.lineTo(V.x,V.y)):I.rect(k.x*a,k.y*a,k.width*a,k.height*a)}}),I.stroke(),Z){t.$6l=G(Z),y(Z,e.getEditRectPadding()/a);var ht={x:Z.x+Z.width/2,y:Z.y+Z.height/2},gt=ot(ht,Z.width,Z.height,m),ut=gt[0],ft=gt[1],pt=gt[2],It=gt[3],_t=gt[4],yt=gt[5],Ct=gt[6],mt=gt[7];if(ut=it(gt[0],a),ft=it(gt[1],a),pt=it(gt[2],a),It=it(gt[3],a),_t=it(gt[4],a),yt=it(gt[5],a),Ct=it(gt[6],a),mt=it(gt[7],a),t.$8l=Z,W>0&&(t.$16l=[ut,_t,ft,yt,It,Ct,pt,mt],I.beginPath(),I.lineWidth=1,I.strokeStyle=T,"dashed"===P&&I.setLineDash&&I.setLineDash([5,5]),I.moveTo(ut.x,ut.y),I.lineTo(ft.x,ft.y),I.lineTo(It.x,It.y),I.lineTo(pt.x,pt.y),I.lineTo(ut.x,ut.y),I.stroke(),"dashed"===P&&I.setLineDash&&I.setLineDash([])),I.beginPath(),I.lineWidth=1,I.fillStyle=A,I.strokeStyle=D,W>0){var wt=yt.x-mt.x,bt=yt.y-mt.y,At=k(wt*wt+bt*bt),Mt=_t.x-Ct.x,xt=_t.y-Ct.y,Dt=k(Mt*Mt+xt*xt),Tt=2*s;if(e.isDirectionEditable&&1===st.length){var Nt,St,zt,kt,Et=st[0],Vt=e.getDataUI(Et)._55O,Rt=e.isDirectionEditable.bind(e);if(Vt._42O)Rt(Et,"northwest")&&(Nt=!0,I.rect(ut.x-l,ut.y-l,s,s)),Rt(Et,"northeast")&&(St=!0,I.rect(ft.x-l,ft.y-l,s,s)),Rt(Et,"southwest")&&(zt=!0,I.rect(pt.x-l,pt.y-l,s,s)),Rt(Et,"southeast")&&(kt=!0,I.rect(It.x-l,It.y-l,s,s)),Rt(Et,"north")&&(Nt&&St?At>Tt&&I.rect(_t.x-l,_t.y-l,s,s):I.rect(_t.x-l,_t.y-l,s,s)),Rt(Et,"south")&&(kt&&zt?At>Tt&&I.rect(Ct.x-l,Ct.y-l,s,s):I.rect(Ct.x-l,Ct.y-l,s,s)),Rt(Et,"west")&&(zt&&Nt?Dt>Tt&&I.rect(mt.x-l,mt.y-l,s,s):I.rect(mt.x-l,mt.y-l,s,s)),Rt(Et,"east")&&(kt&&St?Dt>Tt&&I.rect(yt.x-l,yt.y-l,s,s):I.rect(yt.x-l,yt.y-l,s,s))}else At>Tt&&(I.rect(_t.x-l,_t.y-l,s,s),I.rect(Ct.x-l,Ct.y-l,s,s)),Dt>Tt&&(I.rect(yt.x-l,yt.y-l,s,s),I.rect(mt.x-l,mt.y-l,s,s)),I.rect(ut.x-l,ut.y-l,s,s),I.rect(ft.x-l,ft.y-l,s,s),I.rect(pt.x-l,pt.y-l,s,s),I.rect(It.x-l,It.y-l,s,s)}if(H>0){var Pt=t.$23l=rt(_t,0,2*-s,m);I.moveTo(Pt.x+l,Pt.y),I.arc(Pt.x,Pt.y,l,0,S,!1)}I.fill(),I.stroke(),t.$40l&&t.$44l(I,Z,m);var Lt,Ot,Ut=e.getLeftTopHelpers(),Wt=e.getRightTopHelpers(),Gt=e.getLeftBottomHelpers(),Ft=e.getRightBottomHelpers(),Qt=e.getEdgeHelpers(),Ht=(ye=e.getEditHelperSize())/2,Yt=function(i,n,o,r){"leftTop"===n?(Lt=Z.x*a-ye-l-("h"===r?o*(ye+l):0)-1,Ot=Z.y*a-ye-l-("v"===r?o*(ye+l):0)-1):"rightTop"===n?(Lt=(Z.x+Z.width)*a+l+("h"===r?o*(ye+l):0)+1,Ot=Z.y*a-ye-l-("v"===r?o*(ye+l):0)-1):"leftBottom"===n?(Lt=Z.x*a-ye-l-("h"===r?o*(ye+l):0)-1,Ot=(Z.y+Z.height)*a+l+("v"===r?o*(ye+l):0)+1):"rightBottom"===n&&(Lt=(Z.x+Z.width)*a+l+("h"===r?o*(ye+l):0)+1,Ot=(Z.y+Z.height)*a+l+("v"===r?o*(ye+l):0)+1);var s=Lt+Ht,c=Ot+Ht,h=(Z.x+Z.width/2)*a,d=(Z.y+Z.height/2)*a,g=rt({x:h,y:d},s-h,c-d,m);if("host"===i){if(X>0)return t.$77l(I,m,g),!0}else if("edge"===i){if(K>0)return t.$80l(I,m,g),!0}else if("remove"===i){if($>0)return st&&1===st.length&&st[0]instanceof f?t.$81l(I,m,{x:h+ye/2+5,y:d}):t.$81l(I,m,g),!0}else if("parent"===i){if(J>0)return st&&1===st.length&&st[0]instanceof f?t.$76l(I,m,{x:h-ye/2-5,y:d}):t.$76l(I,m,g),!0}else if("elevation"===i){if(nt>0)return t.$85l(I,m,g),!0}else if("tall"===i){if(at>0)return t.$86l(I,m,g),!0}else if("source"===i||"target"===i){var u=st[0],v=e.getDataUI(u),p=lt(v,!0),_=p[0],y=p[1];if(q&&"source"===i)return t.$84l(I,Z,_,!0,u.isLooped(),n,o,r),!0;if(tt&&"target"===i)return t.$84l(I,Z,y,!1,u.isLooped(),n,o,r),!0}};if(Ut&&Ut.length>0){var Jt=0;Ut.forEach(function(t){Yt(t,"leftTop",Jt,e.getLeftTopHelpersAlign()||"h")&&Jt++})}if(Wt&&Wt.length>0){Jt=0;Wt.forEach(function(t){Yt(t,"rightTop",Jt,e.getRightTopHelpersAlign()||"h")&&Jt++})}if(Gt&&Gt.length>0){Jt=0;Gt.forEach(function(t){Yt(t,"leftBottom",Jt,e.getLeftBottomHelpersAlign()||"h")&&Jt++})}if(Ft&&Ft.length>0){Jt=0;Ft.forEach(function(t){Yt(t,"rightBottom",Jt,e.getRightBottomHelpersAlign()||"h")&&Jt++})}if(Qt&&Qt.length>0&&!!((q||tt)&&st&&1===st.length&&st[0]instanceof f)){Jt=0;Qt.forEach(function(t){Yt(t,"edge",Jt,"h")&&Jt++})}if(t.$72l){var Xt,$t=t.$67l,Kt=t.$68l,qt=t.$69l,te=(t.$71l,t.$70l),ee=t.$82l,ie=t.$83l;if(1===$t?Xt=Kt:2===$t?Xt=qt:3===$t?Xt=te:5===$t?Xt=ee:6===$t&&(Xt=ie),Xt){var ne=e.lp(t.$72l),oe=e.getDataAt(t.$72l);if(oe&&oe instanceof g){var ae,re,se;if(t.$73l=oe,1===$t)if(oe instanceof n.Grid)ae=t.$75l=Zt(oe,ne);else if(oe instanceof n.Shape){se=t.$74l=Bt(oe,ne);var le=oe.getPoints();if(se){var ce=se.attachIndex,he=jt(oe,e.getDataUI(oe),ce)+1,de=he+1>=le.size()?0:he+1,ge=le.get(he),ue=le.get(de),fe=oe.p(),ve=oe.getRotation();ge=rt(fe,ge.x-fe.x,ge.y-fe.y,ve),ue=rt(fe,ue.x-fe.x,ue.y-fe.y,ve),I.beginPath(),I.strokeStyle=z,I.lineWidth=R,I.moveTo(ge.x*a,ge.y*a),I.lineTo(ue.x*a,ue.y*a),I.stroke()}}ae?re=ae.rect:(re=o.clone(e.getDataUIBounds(oe)),o.grow(re,2)),I.beginPath(),I.rect(re.x*a,re.y*a,re.width*a,re.height*a),I.strokeStyle=1===$t||4===$t||6===$t?Q:F,I.lineWidth=2,I.setLineDash&&I.setLineDash([8,8]),I.stroke()}else delete t.$73l;ne.x=ne.x*a,ne.y=ne.y*a;var pe=et(Xt.x,Xt.y,ne.x,ne.y),Ie=rt(Xt,ne.x-Xt.x,ne.y-Xt.y,-pe).x-Xt.x;I.save(),I.translate(Xt.x,Xt.y),I.rotate(pe),Y.width=Ie,Y.height=40;var _e=F;(1===$t||4===$t||6===$t)&&(_e=Q),Y.comps[0].gradientColor=_e,o.drawImage(I,Y,0,-20,Ie,40),I.restore()}}}if(c.each(function(i){var n=e.getDataUI(i);if(n){var o,r,s=n._55O,c=n._78o;if(s&&s._43O&&i instanceof u?(o=s.$15l,(r=i.getSegments())&&r.size()||(r=dt(o)),i.isClosePath()&&r.indexOf(5)<0&&(r=new b(r._as)).add(5)):s&&c&&s._43O&&(o=i.s("edge.points"),r=i.s("edge.segments"),o=ct(n,o),r&&r.size()||(r=dt(o)),o&&(o=o._as)),o&&r){var h=0,g=r.size(),f=t._hoverSegmentIndex;o=o.slice(0);for(var v=0;v<o.length;v++)o[v]=it(o[v],a);I.beginPath(),I.strokeStyle=N,I.lineWidth=1,h=0;for(v=0;g>v;v++){if(1===(D=r.get(v))||2===D)h++;else if(3===D){var _=o[h-1],y=o[h],C=o[h+1];I.moveTo(_.x,_.y),I.lineTo(y.x,y.y),I.lineTo(C.x,C.y),h+=2}else if(4===D){_=o[h-1];var m=o[h],A=o[h+1];C=o[h+2];I.moveTo(_.x,_.y),I.lineTo(m.x,m.y),I.moveTo(A.x,A.y),I.lineTo(C.x,C.y),h+=3}}if(I.stroke(),p===i||d===i&&"points"===d.s("edge.type")){I.beginPath(),h=0,I.strokeStyle=z,I.lineWidth=R;for(v=0;g>v;v++){if(1===(D=r.get(v))||2===D){if(f===v){_=o[h-1],C=o[h];I.moveTo(_.x,_.y),I.lineTo(C.x,C.y);break}h++}else if(3===D){if(f===v){_=o[h-1],y=o[h],C=o[h+1];I.moveTo(_.x,_.y),I.quadraticCurveTo(y.x,y.y,C.x,C.y);break}h+=2}else if(4===D){if(f===v){_=o[h-1],m=o[h],A=o[h+1],C=o[h+2];I.moveTo(_.x,_.y),I.bezierCurveTo(m.x,m.y,A.x,A.y,C.x,C.y);break}h+=3}else if(5===D&&f===v){_=o[h-1],C=o[0];I.moveTo(_.x,_.y),I.lineTo(C.x,C.y);break}}I.stroke()}I.beginPath(),h=0,I.strokeStyle=j,I.lineWidth=1,I.fillStyle=V;for(v=0;g>v;v++){if(1===(D=r.get(v))||2===D){C=o[h];I.moveTo(C.x+l,C.y),I.arc(C.x,C.y,l,0,S,!0),h++}else if(3===D){C=o[h+1];I.moveTo(C.x+l,C.y),I.arc(C.x,C.y,l,0,S,!0),h+=2}else if(4===D){C=o[h+2];I.moveTo(C.x+l,C.y),I.arc(C.x,C.y,l,0,S,!0),h+=3}}I.fill(),I.stroke(),I.beginPath(),h=0,I.strokeStyle=x,I.lineWidth=1,I.fillStyle=M;for(v=0;g>v;v++){var D;if(1===(D=r.get(v))||2===D)h++;else if(3===D){y=o[h];I.moveTo(y.x+l,y.y),I.arc(y.x,y.y,l,0,S,!0),h+=2}else if(4===D){m=o[h],A=o[h+1];I.moveTo(m.x+l,m.y),I.arc(m.x,m.y,l,0,S,!0),I.moveTo(A.x+l,A.y),I.arc(A.x,A.y,l,0,S,!0),h+=3}}if(I.fill(),I.stroke(),I.beginPath(),h=0,I.strokeStyle=E,I.lineWidth=2,(p===i||d===i)&&t.$9l!=w){C=o[t.$9l];I.moveTo(C.x+l,C.y),I.arc(C.x,C.y,l,0,S,!0),I.stroke()}}}}),t.$87l&&e.sm().contains(t.$87l)){var ye,Ce=t.$87l,me=t.$88l;Ht=(ye=e.getEditHelperSize())/2;if(e.isHelperEditable(Ce,"pointElevation"))if(Ce instanceof u){var we=Ce.getPosition();be=o.clone(Ce.getPoints().get(me)),(be=rt({x:we.x,y:we.y},be.x-we.x,be.y-we.y,Ce.getRotation())).x*=a,be.y*=a,I.translate(be.x,be.y),o.drawImage(I,o.getImage("xeditinteractor_elevationIcon"),Ht,-Ht,ye,ye),I.translate(-be.x,-be.y),t._pointElevationHelperPoint={x:be.x+ye,y:be.y}}else if(Ce instanceof f){var be,Ae=ct(e.getDataUI(Ce),Ce.s("edge.points"));(be=o.clone(Ae.get(me))).x*=a,be.y*=a,I.translate(be.x,be.y),o.drawImage(I,o.getImage("xeditinteractor_elevationIcon"),Ht,-Ht,ye,ye),I.translate(-be.x,-be.y),t._pointElevationHelperPoint={x:be.x+ye,y:be.y}}}I.restore(),t.$5l=0}},$89l:function(t,e,i,n){t.save();var a=this.gv.getEditHelperSize(),r=a/2;t.beginPath(),t.translate(i.x,i.y),t.rotate(e),o.drawImage(t,n,-r,-r,a,a),t.restore()},$85l:function(t,e,i){this.$90l=i,this.$89l(t,e,i,o.getImage("xeditinteractor_elevationIcon"))},$86l:function(t,e,i){this.$91l=i,this.$89l(t,e,i,o.getImage("xeditinteractor_tallIcon"))},$77l:function(t,e,i){this.$68l=i,this.$89l(t,e,i,o.getImage("xeditinteractor_hostIcon"))},$80l:function(t,e,i){this.$70l=i,this.$89l(t,e,i,o.getImage("xeditinteractor_edgeIcon"))},$81l:function(t,e,i){this.$71l=i,this.$89l(t,e,i,o.getImage("xeditinteractor_removeIcon"))},$76l:function(t,e,i){this.$69l=i,this.$89l(t,e,i,o.getImage("xeditinteractor_parentIcon"))},$84l:function(t,e,i,n,a){var r,s=this,l=s.gv,c=l.getZoom(),h=l.getEditHelperSize(),d=h/2;i.x*=c,i.y*=c,a&&(n?i.x-=d+5:i.x+=d+5),i.y-=h-2,n?(s.$82l=i,r=o.getImage("xeditinteractor_sourceIcon")):(s.$83l=i,r=o.getImage("xeditinteractor_targetIcon")),t.beginPath(),t.translate(i.x,i.y),o.drawImage(t,r,-d,-d,h,h),t.translate(-i.x,-i.y)},$44l:function(t,e,i){t.save();var n=this.gv.getZoom(),o=k(E(e.width,2)+E(e.height,2))/2*n+10,a=o+8,r=o+18,s=i,l=e.x+e.width/2,c=e.y+e.height/2;t.translate(l*n,c*n),t.beginPath(),t.strokeStyle="rgb(150, 150, 150)";for(var h=0,d=0,g=0,u=0,f=0,v=0;360>v;v++)h=v*x/180,0==v%5&&(d=j(h)*o,g=V(h)*o,u=j(h)*a,f=V(h)*a,t.moveTo(d,g),t.lineTo(u,f)),0==v%45&&(d=j(h)*o,g=V(h)*o,u=j(h)*r,f=V(h)*r,t.moveTo(d,g),t.lineTo(u,f));t.stroke(),t.beginPath(),t.rotate(-N),t.beginPath(),t.fillStyle="rgba(255, 0, 0, 0.1)",t.strokeStyle="rgb(157, 157, 157)",t.moveTo(0,0),t.arc(0,0,r,0,i,!1),t.fill(),t.beginPath(),t.moveTo(0+r,0),t.arc(0,0,r,0,i,!1),t.stroke(),t.rotate(N),t.font="bold 12px Verdana, Arial";var p=20*V(s),I=20*j(s),_=B(180*s/x)+"°";t.textAlign="center",t.textBaseline="middle",t.beginPath();var y=t.measureText("365.°").width;t.fillStyle="white",t.rect(p-y/2,-I-10,y,20),t.fill(),t.beginPath(),t.fillStyle="rgb(79,79,79)",t.fillText(_,p,-I),t.restore()}})}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object)}).call(e,i("DuR2"))},BNJR:function(t,e){},DSCY:function(t,e){},"Du/2":function(t,e,i){"use strict";e.a={SHOW_IMG_HOUSE:"m_showImageHouse",EDITING_NODE_ID:"m_editingNodeId",GRAPH_VIEW:"m_graphView",SAVE_PREVIEW_DATA:"m_savePreviewData",SHOW_PREVIEW:"m_showPreview"}},F441:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY193YW5nZ2U8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSIwNOWchuW9ouefqeW9oumAieaLqSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTQ1Mi4wMDAwMDAsIC03NS4wMDAwMDApIiBzdHJva2U9IiM2NjY2NjYiIHN0cm9rZS13aWR0aD0iMiI+DQogICAgICAgICAgICA8ZyBpZD0i5bel5YW35qCPIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgNjAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9Iue9keagvCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDQ3LjAwMDAwMCwgMTAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtMTctY29weSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iaWMvd2FuZ2dlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1LjAwMDAwMCwgNS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iLWNvcHktMTI0IiB4PSIyMSIgeT0iMjEiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iLWNvcHktMTIzIiB4PSIxNSIgeT0iMjEiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iLWNvcHktMTIyIiB4PSI5IiB5PSIyMSIgd2lkdGg9IjYiIGhlaWdodD0iNiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaItY29weS0xMjEiIHg9IjMiIHk9IjIxIiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oi1jb3B5LTExOSIgeD0iMjEiIHk9IjE1IiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oi1jb3B5LTExOCIgeD0iMTUiIHk9IjE1IiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oi1jb3B5LTExNyIgeD0iOSIgeT0iMTUiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iLWNvcHktMTE2IiB4PSIzIiB5PSIxNSIgd2lkdGg9IjYiIGhlaWdodD0iNiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaItY29weS0xMTQiIHg9IjIxIiB5PSI5IiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oi1jb3B5LTExMyIgeD0iMTUiIHk9IjkiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iLWNvcHktMTEyIiB4PSI5IiB5PSI5IiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oi1jb3B5LTExMSIgeD0iMyIgeT0iOSIgd2lkdGg9IjYiIGhlaWdodD0iNiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaItY29weS0xMDkiIHg9IjIxIiB5PSIzIiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oi1jb3B5LTEwOCIgeD0iMTUiIHk9IjMiIHdpZHRoPSI2IiBoZWlnaHQ9IjYiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iLWNvcHktMTA3IiB4PSI5IiB5PSIzIiB3aWR0aD0iNiIgaGVpZ2h0PSI2Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oi1jb3B5LTEwNiIgeD0iMyIgeT0iMyIgd2lkdGg9IjYiIGhlaWdodD0iNiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},F4Sw:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMxcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMxIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19sb2NrPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iMTQ0MHg5MDAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iMDTlnIblvaLnn6nlvaLpgInmi6kiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01MTcuMDAwMDAwLCAtNzUuMDAwMDAwKSIgZmlsbD0iIzY2NjY2NiIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSLlt6XlhbfmoI8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCA2MC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MTIuNTAwMDAwLCAxMC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImljL2xvY2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMjAwMDAwLCA1LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTkuMzE3MDI4Myw5LjQyODAzOTc3IEM5LjMxNjk4ODY0LDkuNDIzOTI5MzUgOS4zMTY5Njg3Nyw5LjQxOTgxNDQxIDkuMzE2OTY4NzcsOS40MTU2OTUwMSBDOS4zMTcwNjA1OCw1Ljg3Nzk3Mjg5IDEyLjMxNDkyMjQsMyAxNS45OTk5NDA0LDMgQzE5LjY4NDk3ODMsMyAyMi42ODMwMzEyLDUuODc4MDAzODggMjIuNjgzMDMxMiw5LjQxNTY5NTAxIEMyMi42ODMwMzEyLDkuNDE5ODE0NDEgMjIuNjgzMDExNCw5LjQyMzkyOTM1IDIyLjY4Mjk3MTcsOS40MjgwMzk3NyBMMjIuNjgyOTcxNywxNC4yMjIwODU4IEwyNC42Mzk2MzU4LDE0LjIyMjA4NTggQzI1LjM4NzgzMTcsMTQuMjIyMDg1OCAyNiwxNC44MDk3NDc5IDI2LDE1LjUyODAyNzEgTDI2LDI1LjY5NDAzMDIgQzI2LDI2LjQxMjMwOTMgMjUuMzg3ODMxNywyNyAyNC42Mzk2MzU4LDI3IEw3LjM2MDM2NDE3LDI3IEM2LjYxMjE2ODM0LDI3IDYsMjYuNDEyMzA5MyA2LDI1LjY5NDAzMDIgTDYsMTUuNTI4MDU1NiBDNiwxNC44MDk3NzY1IDYuNjEyMTY4MzQsMTQuMjIyMDg1OCA3LjM2MDM2NDE3LDE0LjIyMjA4NTggTDkuMzE3MDI4MywxNC4yMjIwODU4IEw5LjMxNzAyODMsOS40MjgwMzk3NyBaIE0xMy4xOTk2MTA2LDYuNzI3Mjk5MjMgQzEyLjQ4MjEzOSw3LjQxNjA3MzEyIDEyLjAzNzc1NjYsOC4zNjcwMTk3IDEyLjAzNzc1NjYsOS40MTU2OTUwMSBMMTIuMDM3NzU2NiwxNC4yMjIwODU4IEwxOS45NjIyNDM0LDE0LjIyMjA4NTggTDE5Ljk2MjI0MzQsOS40MTU2OTUwMSBDMTkuOTYyMjQzNCw3LjMxODM2MzQ0IDE4LjE4NDc0NjEsNS42MTE5Mzk2NiAxNi4wMDAwNTk2LDUuNjExOTM5NjYgQzE0LjkwNzYzNzMsNS42MTE5Mzk2NiAxMy45MTcwNDMxLDYuMDM4NTQ5MTMgMTMuMTk5NTU2Miw2LjcyNzMyNjUyIFogTTE3LjEzNTU2OSwyMC40NTEwMyBDMTcuNjY4ODEyMywyMC4xMDQxMDg5IDE4LjAxOTM0NTgsMTkuNTE3ODE4NyAxOC4wMTkzNDU3LDE4Ljg1Mjg0MzkgQzE4LjAxOTM0NTcsMTcuNzg3MzAwOSAxNy4xMTk1ODE1LDE2LjkyMzUxMzggMTYuMDA5NjU4LDE2LjkyMzUxMzggQzE0Ljg5OTc2NDIsMTYuOTIzNTEzOCAxNCwxNy43ODczMDA5IDE0LDE4Ljg1Mjg0MzkgQzE0LDE5LjUxNzc5MDEgMTQuMzUwNTAzNywyMC4xMDQxMDkgMTQuODgzNzQ3LDIwLjQ1MTAwMTQgTDE0Ljg4Mzc0NywyMi45MDA1NDE1IEMxNC44ODM3NDcsMjMuNDg0MDMwNyAxNS4zODEwNTU2LDIzLjk2MTQ1NDQgMTUuOTg4ODQ3NSwyMy45NjE0NTQ0IEwxNi4wMzA0Njg1LDIzLjk2MTQ1NDQgQzE2LjYzODI2MDQsMjMuOTYxNDU0NCAxNy4xMzU1NjksMjMuNDg0MDMwNyAxNy4xMzU1NjksMjIuOTAwNTQxNSBMMTcuMTM1NTY5LDIwLjQ1MTAzIFoiIGlkPSLlkIjlubblvaLnirYiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},Fwbe:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIxcHgiIGhlaWdodD0iMjBweCIgdmlld0JveD0iMCAwIDIxIDIwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19pdGFsaWM8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSIwOOaWh+acrOWxnuaApyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzMzUuMDAwMDAwLCAtNDIyLjAwMDAwMCkiIGZpbGw9IiMzMzMzMzMiIGZpbGwtcnVsZT0ibm9uemVybyI+DQogICAgICAgICAgICA8ZyBpZD0i5YiG57uELTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExNjAuMDAwMDAwLCAxMjAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC04LWNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAuMDAwMDAwLCAyOTcuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtMTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE1MS4wMDAwMDAsIDAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iaWMvaXRhbGljIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0LjYzMDAwMCwgNC42MTIwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQuODEwNjgyNiw1LjUwNCBMMTMuNDQwNzIyMSw1LjYzIEMxMi45NTQ3MTYsNy4wMyAxMi41MTA3MSw4LjQzIDEyLjA1NzgyMzgsOS44NTggTDExLjg0MDI2MDksMTAuNTQ0IEMxMS4zOTYyNTQ4LDExLjk0NCAxMC45NDMzNjg3LDEzLjM3MiAxMC41NDEzNjI3LDE0Ljc3MiBMMTEuODMxNDAyMSwxNC44OTggTDExLjY3NiwxNS4zODggTDcsMTUuMzg4IEw3LjE1NTQwMjExLDE0Ljg5OCBMOC41MjUzNjI2NiwxNC43NzIgQzguOTkyOTI4NjMsMTMuMzg2IDkuNDQxMzc0NzMsMTEuOTcyIDkuODk0MjYwODgsMTAuNTQ0IEwxMC4xMTE4MjM4LDkuODU4IEMxMC41NTU4Mjk5LDguNDU4IDExLjAwNDI3Niw3LjA0NCAxMS40MjQ3MjIxLDUuNjMgTDEwLjEzNDY4MjYsNS41MDQgTDEwLjI5NDUyNDgsNSBMMTQuOTcwNTI0OCw1IEwxNC44MTA2ODI2LDUuNTA0IFoiIGlkPSJJIj48L3BhdGg+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},GXEp:function(t,e){},"Hfg/":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY191cGxvYWQ8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PC9nPg0KPC9zdmc+"},IiOA:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19saW5lPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iMTQ0MHg5MDAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iMDTlnIblvaLnn6nlvaLpgInmi6kiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zNC4wMDAwMDAsIC0xOTEuMDAwMDAwKSIgZmlsbD0iIzMzMzMzMyI+DQogICAgICAgICAgICA8ZyBpZD0i5bem5L6n5qCPIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMTIwLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtMTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM0LjAwMDAwMCwgNzAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImljL2xpbmUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIHg9IjIiIHk9IjE5IiB3aWR0aD0iMzYiIGhlaWdodD0iMiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},Ikmr:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19zZWFyY2g8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSIwNOWchuW9ouefqeW9oumAieaLqSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIxMi4wMDAwMDAsIC04NTEuMDAwMDAwKSIgZmlsbD0iIzY2NjY2NiIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSLlt6bkvqfmoI8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxMjAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC03LWNvcHktMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDcyMC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuW9oueKtiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjEyLjAwMDAwMCwgMTEuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuMzg5MzAxOCwxNy41MTkzODU0IEMxOS40ODgzNzM5LDE3LjU3NzI5NTEgMTkuNTgxNzE5OSwxNy42NDg3MjMzIDE5LjY2NjY2NjcsMTcuNzMzNjcgTDIxLjU5OTY2MzMsMTkuNjY2NjY2NyBDMjIuMTMzNDQ1NiwyMC4yMDA0NDg5IDIyLjEzMzQ0NTYsMjEuMDY1ODgxIDIxLjU5OTY2MzMsMjEuNTk5NjYzMyBDMjEuMDY1ODgxLDIyLjEzMzQ0NTYgMjAuMjAwNDQ4OSwyMi4xMzM0NDU2IDE5LjY2NjY2NjcsMjEuNTk5NjYzMyBMMTcuNzMzNjcsMTkuNjY2NjY2NyBDMTcuNjE5MzMwNiwxOS41NTIzMjczIDE3LjUyOTQ4MzQsMTkuNDIyNzcwNCAxNy40NjQxMjg0LDE5LjI4NDUxNTMgQzE1LjAzNjEwOSwyMC43MzIzNTE0IDExLjkwMTg1OTksMjAuNDAyMzM0MSA5LjgyNzIwNDk2LDE4LjQwODMwNzYgQzguNjU5MjE2NDgsMTcuMjc2ODUyMiA4LDE1LjcyMDk3NiA4LDE0LjA5NTc1NjYgQzgsMTIuNDcwNTM3MSA4LjY1OTIxNjQ4LDEwLjkxNDY2MDkgOS44MjcyMDQ5Niw5Ljc4MzIwNTQ3IEMxMi4yNzk5MjQzLDcuNDA1NTk4MTggMTYuMTgwMjk5Niw3LjQwNTU5ODE4IDE4LjYzMzAxODksOS43ODMyMDU0NyBDMjAuNzY5MTQzNywxMS44NTIxMzEzIDIxLjA0Nzk1OTksMTUuMTM1Mjk1MiAxOS4zODkzMDE4LDE3LjUxOTM4NTQgTDE5LjM4OTMwMTgsMTcuNTE5Mzg1NCBaIE0xMC4xMjk2MDY5LDE0LjA5NTc1NjYgQzEwLjE2NzEzNjEsMTYuMzg3NjYzMSAxMS45OTk3NTE1LDE4LjIxODkwOTUgMTQuMjMyOTY1NSwxOC4xOTYwNDk5IEMxNi40NjM5NjI5LDE4LjIxNTY3MDkgMTguMjkzMDk2NCwxNi4zODUzNTggMTguMzMwNjE3LDE0LjA5NTc1NjYgQzE4LjI5MzA5NjQsMTEuODA2MTU1MSAxNi40NjM5NjI5LDkuOTc1ODQyMjQgMTQuMjMyOTY1NSw5Ljk5NTQ2MzIgQzExLjk5OTc1MTUsOS45NzI2MDM1NiAxMC4xNjcxMzYxLDExLjgwMzg1IDEwLjEyOTYwNjksMTQuMDk1NzU2NiBaIj48L3BhdGg+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},IxJZ:function(t,e){},JC46:function(t,e,i){(function(t){!function(t,e){"use strict";var i=t.ht,n="position",o="absolute",a="px",r="left",s="top",l="innerHTML",c="className",h="width",d="height",g="0",u="display",f="none",v="visibility",p="user-select",I="margin",_="padding",y=null,C=i.Color,m=i.Default,w=m.getInternal(),b=t.setTimeout,A=t.setInterval,M=t.clearTimeout,x=t.clearInterval,D=t.parseInt,T=m.isLeftButton,N=m.isDragging,S=m.startDragging,z=m.getDistance,k=m.isTouchable,E=C.widgetIconHighlight,V=C.widgetIconBorder,j=C.widgetIconGradient,R=function(){return document},P=function(t,e){return t.querySelectorAll(e)},Z=function(t){var e=R().createElement(t);return"ul"===t&&(U(e,n,"relative"),U(e,I,g),U(e,_,g),U(e,"list-style",f),U(e,"box-sizing","border-box"),U(e,"-moz-box-sizing","border-box"),U(e,u,"inline-block"),U(e,"vertical-align","text-bottom"),U(e,"border","1px solid "+m.contextMenuBorderColor),U(e,"box-shadow","0 0 16px 1px "+m.contextMenuShadowColor),U(e,"overflow","hidden"),m.contextMenuBorderRadius&&U(e,"border-radius",m.contextMenuBorderRadius+a)),e},L=function(t){var e=t.touches[0];return e||t.changedTouches[0]},B=function(){return Z("div")},O=function(){return Z("canvas")},U=function(t,e,i){t.style.setProperty(e,i,y)},W=function(t,e){t.appendChild(e)},G=function(t,e){t.removeChild(e)},F=m.eventListenerOptionsFalse,Q=(m.eventListenerOptionsTrue,function(t,e,i,n){t.addEventListener(e,i,F)}),H=function(t,e,i,n){t.removeEventListener(e,i,F)};w.addMethod(m,{contextMenuCheckIcon:{width:16,height:16,comps:[{type:"border",rect:[1,1,14,14],width:1,color:V},{type:"shape",points:[13,3,7,12,4,8],borderWidth:2,borderColor:E}]},contextMenuRadioIcon:{width:16,height:16,comps:[{type:"circle",rect:[2,2,12,12],borderWidth:1,borderColor:V},{type:"circle",rect:[4,4,8,8],borderWidth:1,borderColor:E,gradient:m.imageGradient,gradientColor:j,background:E}]},contextMenuLabelFont:(k?"16":"13")+"px arial, sans-serif",contextMenuLabelColor:"#000",contextMenuBackground:"#fff",contextMenuDisabledLabelColor:"#888",contextMenuHoverBackground:"#648BFE",contextMenuHoverLabelColor:"#fff",contextMenuSeparatorWidth:1,contextMenuSeparatorColor:"#E5E5E5",contextMenuScrollerColor1:"#FDFDFD",contextMenuScrollerColor2:"#D3D3D3",contextMenuScrollerBorderColor:"#C3C3C3",contextMenuBorderColor:"#C3C3C3",contextMenuShadowColor:"rgba(128, 128, 128, 0.5)",contextMenuBorderRadius:5,contextMenuSubmenuMark:"▶"},!0);var Y=function(t){var e=this,i=t._view;if(e.$11b=t,e.addListeners(),Q(i,"contextmenu",function(t){t.preventDefault()}),!k){var n=e.$37b=e.$36b.bind(e);Q(i,"mouseover",n),Q(i,"mouseout",n)}};m.def(Y,e,{ms_listener:1,getView:function(){return this.$11b._view},handle_touchstart:function(t){if(m.preventDefault(t),T(t)){for(var e=this,i=e.$11b,n=e.getView().children,o=0;o<n.length;o++){var a=n[o],r=a.$24b,s=a.$25b;if(r&&r.contains(t.target))return i.scrollUp(a),e.$28b=b(function(){e.$29b=A(function(){i.scrollUp(a)},100)},500),void S(e,t);if(s&&s.contains(t.target))return i.scrollDown(a),e.$28b=b(function(){e.$29b=A(function(){i.scrollDown(a)},100)},500),void S(e,t)}k&&(t=L(t)),e.$30b={x:t.pageX,y:t.pageY}}},handle_mousedown:function(t){this.handle_touchstart(t)},handle_touchend:function(t){if(T(t)){var e=this,i=e.$30b,n=k?{x:L(t).pageX,y:L(t).pageY}:{x:t.pageX,y:t.pageY};if(!i||z(i,n)>1)return void delete e.$30b;for(var o=e.getView(),a=e.$11b,r=t.target,s=y,l=y,c=a._items,h=o.$26b,d=0;d<h.length;d++)if((l=h[d]).contains(r)){s=l.getAttribute("data-id");break}if(s&&c){var g=a.$17b(c,function(t){return t._id===s});if(g){var u=!1;g.disabled instanceof Function?u=g.disabled.call(a,g):!0===g.disabled&&(u=!0),u||(g.items?k&&e.$36b(l,!0):a.$1b(g,t))}}delete e.$30b}},$36b:function(t,e){if(!N()){var i,n=this.$11b,o=this.getView(),l=n.$20b||o.children[0],h=n.$19b,d=o.$26b,g=o.children,u=t.target,f=o.getBoundingClientRect(),p=m.getWindowInfo(),I=p.width,_=p.height,y=function(t){for(var e=0;e<g.length;e++){var i=g[e],n=new RegExp(t+"$"),o=i[c];if(o&&(n.test(o)||o.indexOf(t+" ")>=0))return i}},C=function(t){for(var e=0;e<d.length;e++){var i=d[e],n=new RegExp(t+"$"),o=i[c];if(o&&(n.test(o)||o.indexOf(t+" ")>=0))return i}};if(e)i=t;else{if("mouseover"===t.type){for(var w=0;w<d.length;w++){var b=d[w];if(b.contains(u)){i=b;break}}if(!i&&h){var A=h.parentNode,M=y("submenu"+h.getAttribute("data-id"));(M&&M.contains(u)||A&&A.contains(u))&&(i=h)}}else if("mouseout"===t.type){var x=!1,D=t.relatedTarget;for(w=0;w<g.length;w++){var T=g[w];if("hidden"!==T.style.visibility&&T.contains(D)){x=!0;break}}if(x)return}!i&&l&&(i=C("menu-item"+(l.$45b||"NaN")))}if(i!=h){if(h)for(var S=h;S;){if(S[c]=S[c].replace(" menu-item-hover",""),S[c].indexOf("disabled")<0){var z=n.getItemByProperty("_id",S.getAttribute("data-id"));null!=z.background?z.background instanceof Function?U(S,"background-color",z.background.call(n,z)):U(S,"background-color",z.background):U(S,"background-color",m.contextMenuBackground),U(S,"color",m.contextMenuLabelColor)}var k=y("submenu"+S.getAttribute("data-id"));k&&U(k,v,"hidden");var E=S.parentNode;S=C("menu-item"+(E.$45b||"NaN"))}if(i){for(var V=i,j=[];V;){V[c]+=" menu-item-hover",V[c].indexOf("disabled")<0&&(U(V,"background-color",m.contextMenuHoverBackground),U(V,"color",m.contextMenuHoverLabelColor));var R=y("submenu"+V.getAttribute("data-id"));R&&(U(R,v,"visible"),j.push(R));E=V.parentNode;V=C("menu-item"+(E.$45b||"NaN"))}j.reverse(),j.forEach(function(t){!function(t){var e=C("menu-item"+t.$45b).getBoundingClientRect(),i=e.top-f.top,n=e.left-f.left;U(t,s,i+a),U(t,r,n+e.width+a);var o=t.getBoundingClientRect(),l=o.top,c=o.left,h=o.height,d=o.width,g=l+h+2,u=c+d+2;g>_&&U(t,s,i+_-g+a),u>I&&U(t,r,n-d+a)}(t)})}}n.$19b=i,n.$20b=i?i.parentNode:o.children[0]}},handle_mouseup:function(t){this.handle_touchend(t)},handleWindowTouchEnd:function(){var t=this;t.$28b!=y&&(M(t.$28b),delete t.$28b),t.$29b!=y&&(x(t.$29b),delete t.$29b),delete t.$34b,delete t.$30b,delete t.$35b},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handle_mousemove:function(t){this.handle_touchmove(t)},handle_touchmove:function(t){if(!N()&&T(t)){for(var e=this,i=e.getView().children,n=y,o=0;o<i.length;o++){var a=i[o];if(a.contains(t.target)){n=a;break}}var r=e.$30b,s=k?{x:L(t).pageX,y:L(t).pageY}:{x:t.pageX,y:t.pageY};n&&r&&z(r,s)>2&&(S(e,t),e.$34b=n,e.$35b=n.$18b)}},handleWindowTouchMove:function(t){t.preventDefault();var e=this,i=e.$11b,n=e.$34b,o=e.$35b,a=e.$30b;if(a&&n){var r=(k?{x:L(t).pageX,y:L(t).pageY}:{x:t.pageX,y:t.pageY}).y-a.y;r>0?i.scrollUp(n,n.$18b-(o-r)):i.scrollDown(n,o-r-n.$18b)}},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},$10b:function(t,e){t.preventDefault();for(var i=this.getView().children,n=y,o=0;o<i.length;o++){var a=i[o];if(a.contains(t.target)){n=a;break}}if(n){var r=this.$11b,s=r.getRowHeight();Math.abs(e)>.05&&(e>0?r.scrollUp(n,e*s):0>e&&r.scrollDown(n,-e*s))}},handle_mousewheel:function(t){this.$10b(t,t.wheelDelta/40)},handle_DOMMouseScroll:function(t){this.$10b(t,-t.detail)},$44b:function(t){this.getView().contains(t.target)||this.$11b.hide()},$41b:function(t){this.$11b.show(t)},$4b:function(e,i){var n=this.$11b;if((i=i||n._items)&&i.length&&e.keyCode){var o=[e.keyCode];e.shiftKey&&o.push(16),e.ctrlKey&&o.push(17),e.altKey&&o.push(18),/mac/.test(t.navigator?t.navigator.userAgent.toLowerCase():"")?e.metaKey&&o.push(17):e.metaKey&&o.push(91),o.sort();var a=o.join(),r=n.$17b(i,function(t){if(t.key){var e=t.key.slice(0);return e.sort(),a===e.join()}});if(r){!1!==r.preventDefault&&e.preventDefault();var s=!1;r.disabled instanceof Function?s=r.disabled.call(n,r):!0===r.disabled&&(s=!0),s||n.$1b(r,e)}}},$39b:function(t){var e=L(t);this.$32b={x:e.pageX,y:e.pageY}},$38b:function(t){var e=this,i=L(t);e.$31b={x:i.pageX,y:i.pageY},e.$33b=b(function(){e.$31b&&(e.$32b?z(e.$31b,e.$32b)<10&&e.$11b.show(t):e.$11b.show(t)),delete e.$33b,delete e.$31b,delete e.$32b},600)},$40b:function(){var t=this;t.$33b!=y&&(M(t.$33b),delete t.$33b,delete t.$31b,delete t.$32b)}}),i.widget.ContextMenu=function(t){var e=this,i=e._view=w.createView(null,e);i[c]="ht-widget-contextmenu",e.setItems(t),e.$13b=new Y(e),U(i,"font",m.contextMenuLabelFont),U(i,n,o),U(i,"cursor","default"),U(i,"-webkit-"+p,f),U(i,"-moz-"+p,f),U(i,"-ms-"+p,f),U(i,p,f),U(i,"box-sizing","border-box"),U(i,"-moz-box-sizing","border-box"),m.baseZIndex!=y&&U(i,"z-index",D(m.baseZIndex)+2+""),e.$3b=function(t){e.$13b.$4b(t)}},function(t,e,n){m.def(i.widget[t],e,n)}("ContextMenu",e,{$5b:0,_items:y,$21b:y,_enableGlobalKey:!1,ms_v:1,enableGlobalKey:function(){var t=this;!1===t._enableGlobalKey&&(Q(R(),"keydown",t.$3b),t._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,H(R(),"keydown",this.$3b)},setItems:function(t){this._items=t},getItems:function(){return this._items},setVisibleFunc:function(t){this.$16b=t},setLabelMaxWidth:function(t){this.$43b=t},$1b:function(e,i){var n=this;if("check"===e.type)e.selected=!e.selected;else if("radio"===e.type){var o=e.groupId;n.$17b(n._items,function(t){t.groupId===o&&(t.selected=!1)}),e.selected=!0}if(n.hide(),e.action)e.action.apply(e.scope||n,[e,i]);else if(e.href){var a=e.linkTarget||"_self";t.open(e.href,a)}},getItemById:function(t){return this.getItemByProperty("id",t)},setItemVisible:function(t,e){var i=this.getItemById(t);i&&(i.visible=e)},getItemByProperty:function(t,e,i){return(i=i||this._items)&&0!==i.length&&this.$17b(i,function(i){return i[t]===e})||y},scrollUp:function(t,e){if(0!==(e=D(e=e==y?20:e))){var i=0;t.$18b>e&&(i=t.$18b-e),this.$42b(t,i),t.scrollTop=i,t.$18b=i}},scrollDown:function(t,e){if(0!==(e=D(e=e==y?20:e))){var i=t.$22b,n=t.$23b,o=i-n;n+t.$18b+e<i&&(o=t.$18b+e),this.$42b(t,o),t.scrollTop=o,t.$18b=o}},$42b:function(t,e){e=e==y?t.$18b:e;var i=t.$24b,n=t.$25b;i&&(U(i,"top",e+a),U(i,u,0==e?f:"block")),n&&(U(n,"bottom",-e+a),e==t.$22b-t.$23b?U(n,u,f):U(n,u,"block"))},getRowHeight:function(){return this._view.querySelector(".menu-item").offsetHeight},$17b:function(t,e){for(var i=0;i<t.length;i++){var n=t[i];if(e(n))return n;if(n.items){var o=this.$17b(n.items,e);if(o)return o}}},$2b:function(t,e){for(var r=this,s=0;s<t.length;s++){r.$5b++;var g=t[s];if(!1!==g.visible&&!(m.isFunction(g.visible)&&!1===g.visible()||r.$16b&&!r.$16b.call(r,g))){var f=Z("li"),p=r.$5b+"";if(U(f,"white-space","nowrap"),U(f,u,"block"),"separator"===g||!0===g.separator){var y=B();y[c]="separator",U(y,d,m.contextMenuSeparatorWidth+a),U(y,"background",m.contextMenuSeparatorColor),W(f,y)}else{g._id=p,f.setAttribute("data-id",p);var C=Z("span"),w=Z("span"),b=O(),A=B();if(U(C,u,"inline-block"),U(C,d,"1.2em"),U(w,u,"inline-block"),U(w,d,"1.2em"),U(w,"line-height","1.2em"),b[c]="prefix",U(b,u,"inline-block"),U(b,h,"1em"),U(b,d,"1em"),U(b,"vertical-align","middle"),U(b,I,"0 0.2em"),"check"===g.type&&g.selected?b[c]+=" check-prefix":"radio"===g.type&&g.selected&&(b[c]+=" radio-prefix"),W(f,b),g.icon){var M=O();M[c]="contextmenu-item-icon",U(M,u,"inline-block"),U(M,d,"1.2em"),U(M,h,"1.2em"),U(M,"margin-right","0.2em"),U(M,"float","left"),M.$50b=g.icon,M._item=g,W(C,M)}if(w[l]=g.label,W(C,w),W(f,C),A[c]="suffix",U(A,u,"inline-block"),U(A,"margin-left","1em"),U(A,"margin-right","0.4em"),U(A,"text-align","right"),U(A,"font-size","75%"),g.items&&(A[l]=m.contextMenuSubmenuMark),g.suffix&&(A[l]=g.suffix),W(f,A),f[c]="menu-item menu-item"+p,null!=g.background?g.background instanceof Function?U(f,"background-color",g.background.call(r,g)):U(f,"background-color",g.background):U(f,"background-color",m.contextMenuBackground),U(f,"color",m.contextMenuLabelColor),U(f,_,"3px 0"),g.disabled instanceof Function)g.disabled.call(r,g)&&(f[c]+=" disabled",U(f,"color",m.contextMenuDisabledLabelColor));else g.disabled&&(f[c]+=" disabled",U(f,"color",m.contextMenuDisabledLabelColor));if(g.items){r.$21b||(r.$21b=new i.List);var x=Z("ul");x[c]="submenu"+p,x.$45b=p,U(x,v,"hidden"),U(x,n,o),W(r._view,x),r.$21b.add(x),r.$2b(g.items,x)}}W(e,f)}}},rebuild:function(){var t=this,e=t._items,i=t._view;if(i&&(i[l]="",t.$21b=y,t.$5b=0,t.$19b=y,t.$20b=y,i.$26b=y,e&&0!==e.length)){var n=Z("ul",t._r);W(i,n),t.$2b(e,n)}},addTo:function(t){if(t){var e=this,i=e.$13b;if(e.$12b=t,e.$9b=function(t){i.$44b(t)},e.$27b=function(t){i.$41b(t)},k){var n=e.$6b=function(t){i.$38b(t)},o=e.$7b=function(t){i.$39b(t)},a=e.$8b=function(t){i.$40b(t)};Q(t,"touchstart",n,!0),Q(t,"touchmove",o),Q(t,"touchend",a)}else Q(t,"contextmenu",e.$27b)}},showOnView:function(t,e,i){t=t.getView?t.getView():t;var n=m.getWindowInfo(),o=t.getBoundingClientRect();this.show(o.left+n.left+e,o.top+n.top+i)},show:function(t,e,i){var d=this,f=(i=i==y,d._view);if(f){if(d.invalidate(),1===arguments.length){var v=t;if(k){var p=L(v);t=p.pageX,e=p.pageY}else t=v.pageX,e=v.pageY}var I=m.getWindowInfo(),_=I.width,C=I.height,w=I.left,b=I.top,A={pageX:t,pageY:e,clientX:t-w,clientY:e-b,target:1,originEvent:v},M=A.clientX,x=A.clientY,D=function(t){t.style.height=C-6+a;var e=B(),i=B(),r=function(t){U(t,n,o),U(t,"text-align","center"),U(t,h,"100%"),U(t,"font-size",10+a),U(t,"padding","2px 0"),U(t,"border","0px solid "+m.contextMenuScrollerBorderColor),U(t,"background-color",m.contextMenuScrollerColor1),t.style.backgroundImage="-webkit-linear-gradient(top, "+m.contextMenuScrollerColor1+", "+m.contextMenuScrollerColor2+")",t.style.backgroundImage="linear-gradient(to bottom, "+m.contextMenuScrollerColor1+", "+m.contextMenuScrollerColor2+")"};e[c]="menu-arrow-item menu-arrow-item-top",i[c]="menu-arrow-item menu-arrow-item-bottom",r(e),U(e,"top",g),U(e,"left",g),U(e,"border-bottom-width",1+a),e[l]="▲",r(i),U(i,"bottom",g),U(i,"left",g),U(i,"border-top-width",1+a),i[l]="▼",t.$24b=e,t.$25b=i,t.$18b=t.scrollTop,t.$22b=t.scrollHeight,t.$23b=t.clientHeight,W(t,e),W(t,i),d.$42b(t)};d.beforeShow&&d.beforeShow(A);var T=d._items;if(T&&(v&&v.preventDefault(),T.length)){d.rebuild(),m.appendToScreen(f),f.$26b=P(f,".menu-item");var N=f.children[0];N.offsetHeight>C&&D(N);var S=x+(i?1:0),z=M+(i?1:0),E=function(t){for(var e=0,i=0,n=0,o=d.$43b;n<t.children.length;n++){if((p=t.children[n]).getAttribute("data-id")){var r=p.children[1],s=p.children[2],c=r.children;if(o){var g=c[0];c.length>1&&(g=c[1]),g.offsetWidth>o&&(g[l]="<marquee scrollamount='3'>"+g[l]+"</marquee>",g.children[0].style.verticalAlign="text-bottom",U(g,h,o+a),U(g,u,"inline-block"))}var f=r.offsetWidth,v=s.offsetWidth;f>e&&(e=f),v>i&&(i=v)}}for(n=0;n<t.children.length;n++){var p;if((p=t.children[n]).getAttribute("data-id")){r=p.children[1],s=p.children[2];var I=r.children[0];!r.children[1]&&I.style.width&&U(I,h,e+a),U(r,h,e+a),U(s,h,i+a)}}};E(N);var V=x+3+f.offsetHeight,j=M+3+f.offsetWidth;U(f,s,V>C?S-(V-C)+b+a:S+b+a),U(f,r,j>_?z-(j-_)+w+a:z+w+a);var Z=d.$21b;Z&&Z.each(function(t){E(t),t.offsetHeight>C&&D(t)}),d.$9b&&Q(R(),k?"touchstart":"mousedown",d.$9b,!0),d.afterShow&&d.afterShow(A),d.$47b()}}},isShowing:function(){return!!this._view&&this._view.parentNode!=y},getRelatedView:function(){return this.$12b},hide:function(){var t=this,e=t._view;e&&e.parentNode&&(G(e.parentNode,e),H(R(),k?"touchstart":"mousedown",t.$9b),t.afterHide&&t.afterHide())},dispose:function(){var t=this,e=t.$12b,i=t._view;i&&(i.parentNode&&G(i.parentNode,i),t.disableGlobalKey(),e&&(k?(H(e,"touchstart",t.$6b),H(e,"touchmove",t.$7b),H(e,"touchend",t.$8b)):H(e,"contextmenu",t.$27b)),t._view=t._items=t.$21b=t.$19b=t.$12b=t.beforeShow=t.afterShow=t.afterHide=t.$9b=t.$3b=t.$6b=t.$7b=t.$8b=t.$27b=y)},$46b:function(t,e,i,n,o){var a=w.initContext(t);w.translateAndScale(a,0,0,1),a.clearRect(0,0,i,n),m.drawStretchImage(a,m.getImage(e),"fill",0,0,i,n,o,this),a.restore()},$47b:function(){var t,e,i,n=this._view;if(this.isShowing()){var o=P(n,".check-prefix");for(i=0;i<o.length;i++){var a=o[i];t=a.clientWidth,e=a.clientHeight,a.$48b=t,a.$49b=e,w.setCanvas(a,t,e)}var r=P(n,".radio-prefix");for(i=0;i<r.length;i++){var s=r[i];t=s.clientWidth,e=s.clientHeight,s.$48b=t,s.$49b=e,w.setCanvas(s,t,e)}var l=P(n,".contextmenu-item-icon");for(i=0;i<l.length;i++){var c=l[i];t=c.clientWidth,e=c.clientHeight,c.$48b=t,c.$49b=e,w.setCanvas(c,t,e)}}},validateImpl:function(){var t,e,i,n=this,o=n._view;if(n.isShowing()){var a=P(o,".check-prefix");for(i=0;i<a.length;i++){var r=a[i];t=r.$48b,e=r.$49b,t&&e&&n.$46b(r,m.contextMenuCheckIcon,t,e)}var s=P(o,".radio-prefix");for(i=0;i<s.length;i++){var l=s[i];t=l.$48b,e=l.$49b,t&&e&&n.$46b(l,m.contextMenuRadioIcon,t,e)}var c=P(o,".contextmenu-item-icon");for(i=0;i<c.length;i++){var h=c[i];t=h.$48b,e=h.$49b,t&&e&&n.$46b(h,m.getImage(h.$50b),t,e,h._item)}}}})}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object)}).call(e,i("DuR2"))},JzW8:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMxcHgiIGhlaWdodD0iMzFweCIgdmlld0JveD0iMCAwIDMxIDMxIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19jbG9zZTwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjEx54q25oCB5pi+56S65qC35byP5bqTMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMzQuMDAwMDAwLCAtMTQ1LjAwMDAwMCkiIGZpbGw9IiM5OTk5OTkiPg0KICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC0xMSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzAuMDAwMDAwLCAxMzkuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJpYy9jbG9zZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA2NC4zMTM3MDgsIDYuMzEzNzA4KSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i6Lev5b6EIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBwb2ludHM9IjE0LjM2Mzk2MSAxMy45NDk3NDc1IDE5LjMxMzcwODUgOSAyMC43Mjc5MjIxIDEwLjQxNDIxMzYgMTUuNzc4MTc0NiAxNS4zNjM5NjEgMjAuNzI3OTIyMSAyMC4zMTM3MDg1IDE5LjMxMzcwODUgMjEuNzI3OTIyMSAxNC4zNjM5NjEgMTYuNzc4MTc0NiA5LjQxNDIxMzU2IDIxLjcyNzkyMjEgOCAyMC4zMTM3MDg1IDEyLjk0OTc0NzUgMTUuMzYzOTYxIDggMTAuNDE0MjEzNiA5LjQxNDIxMzU2IDkiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},K7Jg:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjgwcHgiIGhlaWdodD0iODBweCIgdmlld0JveD0iMCAwIDgwIDgwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19sYW1wX3N0YXRlNTwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGRlZnM+DQogICAgICAgIDxjaXJjbGUgaWQ9InBhdGgtMSIgY3g9IjI5LjgxMDUyNjMiIGN5PSIzMC4zMTU3ODk1IiByPSIyNi44NDIxMDUzIj48L2NpcmNsZT4NCiAgICAgICAgPGZpbHRlciB4PSItOC43JSIgeT0iLTguNyUiIHdpZHRoPSIxMTcuNCUiIGhlaWdodD0iMTE3LjQlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMiI+DQogICAgICAgICAgICA8ZmVNb3JwaG9sb2d5IHJhZGl1cz0iMy42NTc4OTQ3NCIgb3BlcmF0b3I9ImRpbGF0ZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd1NwcmVhZE91dGVyMSI+PC9mZU1vcnBob2xvZ3k+DQogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIwIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4NCiAgICAgICAgICAgIDxmZUNvbXBvc2l0ZSBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiBpbjI9IlNvdXJjZUFscGhhIiBvcGVyYXRvcj0ib3V0IiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZUNvbXBvc2l0ZT4NCiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjU4NjEzNTY0MyAgIDAgMCAwIDAgMC41ODYxMzU2NDMgICAwIDAgMCAwIDAuNTg2MTM1NjQzICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd09mZnNldE91dGVyMSI+PC9mZUNvbG9yTWF0cml4Pg0KICAgICAgICA8L2ZpbHRlcj4NCiAgICA8L2RlZnM+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjEx54q25oCB5pi+56S65qC35byP5bqTMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEwNDIuMDAwMDAwLCAtMzYzLjAwMDAwMCkiPg0KICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC0xMSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzAuMDAwMDAwLCAxMzkuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJpYy9sYW1wL3N0YXRlNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODcyLjAwMDAwMCwgMjI0LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuaMh+ekuueBr+WbvuW6kyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMi4wMDAwMDAsIDEuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuaMh+ekuueBryIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDguMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSLmpK3lnIblvaIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTIpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgc3Ryb2tlPSIjREVERURFIiBzdHJva2Utd2lkdGg9IjMuMTU3ODk0NzQiIGZpbGw9IiM0RjRGNEYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY3g9IjI5LjgxMDUyNjMiIGN5PSIzMC4zMTU3ODk1IiByPSIyOC40MjEwNTI2Ij48L2NpcmNsZT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSLmpK3lnIblvaIiIGZpbGw9IiNEQzgwMTUiIGN4PSIzMC4wNjMxNTc5IiBjeT0iMzAuMzE1Nzg5NSIgcj0iMjUuMjYzMTU3OSI+PC9jaXJjbGU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWFnZSBpZD0i57uELTIiIHg9IjYuMDYzMTU3ODkiIHk9IjkuNiIgd2lkdGg9IjQ3LjQ5NDczNjgiIGhlaWdodD0iNDAuNDIxMDUyNiIgeGxpbms6aHJlZj0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFGNEFBQUJRQ0FZQUFBQ1EyTUllQUFBQUJHZEJUVUVBQUxHT2ZQdFJrd0FBRE8xSlJFRlVlQUh0M09tUG5NVVJCbkFjQ0xsSVFzS05zWkVJSWJlVWk0UWM0bXYrNjRqa1E2SWNVaUlrdmdDUkVWZHdIQVE1Q0FRQ1R2MW05akcxN1hkbTNsblBydTN4bGxUYjNkWFYxZDFQVjFmMzIrdjFtY3VYTDk5MkE5SW5hMHozRnQ5WGZIZnhGNHZ2S3Y1TThhZUxieSsrcy9qRDRnK0svMXY4L2tIKzM1WCtvL2p0NGt2RmZ5K21jMFBSbVJzRWVFQ2ZQK0N6bFFKOHBETUhnam1lMG5YcFc0RFhpMTgrNE91K0VOY1QrRThWQ0Y4cGZxTDRrV0xnaHdBM0F2eFJ5VDV4b0NDL2lxS2pmV3hFcGczUVh5MSt2dmd2eFhiTGlkUDFBUDZCbXVWM2loOHZCajRLcUlBYVFZLzNkcDBBdW1nOC9PZ2daNEhZd0NsSEIrakFmN2I0WXZHSjBVa0MvMmpONnZ2RkQ1L1k3Szd1S0F0N2RjMHlGUDJwS2w2YXF0eTE3Q1NBUDFlRGZyTDQvbDBQL3Bqcy9hM3MvcUg0bFdPeXZ6QjduTUIvb1hwNHF2aXhZcDZXOEdDYkoxL1pLelNHbUs2VGNOTmxHbTZTUjBjN25ENms0WVFkdXRGeFczcXArTGZGYmtnN3ArTUEza1RFOE84VjM5RkduRWxGTkpZamw2cERBVlorU2thT1VyY3NMWCt1YWh2QVhVbU4xYUV1SC9wZlpad0Z3SGNHQ0QvT0FPV3Bma3E4UGUwYWVGNytkSEcvRHVaQUc0SG9ucSt1VDBxKzZ5ZmY1VjAvN2J0ZW1WaFEyaVFsQkxiK0hlNitEWHdUY0JMdDNYcU1HZWp5VXVIbm1XTGZCcGxQWlk5T3V3VCtzUnJHajR1bnZOeGdBNHJSQXNIRXB5aUFqbURTN2VDTmJYdGQ4dnBOUDVFcDgzQ2dmN2JZQnhyT2RSYlkrTDNpZHc4NCtkOVUrWVZpZHE5cEFYWUJQSUIrVU93K1BsSW1POHJubHJWSDQ2TDE4bEpqL2srZ2N3Nmd1MkY5dDlnRmdPeWRZakhkMXkvK1YvRS9EMUoxRnVLNTR0OFZKeVJWZG52cTNybDk2K1ZnZjE0Tkh5d1dBd05JQU8vQVJhYWZubGNPZGYwdTYzWWpsMGJlWmZLcjdLdlRSajJQL1U4eHp6OWJIRnNBRlY0QTdibmg5V0pmdm04Vlc1UnZGMysrK0psaU8rRklubjh0SG0vQVR4ZC9xVGlBVlhacnlvUTE3SFlDME5ZRzF6UklYOEtLTng5bjBqM0YzeWorU1RGWnlGZzRFODkvcWZqbFloOVpieGJiQ1g4dC9tV3grcTNCUHlyd0RpU2VidVdSUVdaU3lTZWRVMCtuMDloVzNXaWZqTjVJWFUrZGN2UlNaNmR6bk04VmU0QzdyL2loNGllTDd5M3VwSzFkOEZxeFo0WlhpeDIydlArTjRtZUtMY1JXNEI4bDFCandUNHZGU0I0UnlnUTdhT29pNy9rdVMvdXBsSjRKU2RObXRLL2RLRnVucTg2NDN5K09YUWV1L0IrTGVmLzVnM0lsQzdrZGNxNll3K1VRTmk0THdnRi9WU3hzelFaL1crRHB1N2tZUUFlOWlnc3llQ0Nzb3prNjJrZVBQY0RFYnRKUlJuK0s2STkxQUF2bkZwUFVnb2p2anhjSDVNb3V4bUEzZktzNEMwZFhxSDJxK05mRnlyTm9HK0JOMUZ1TDdSblFBMEtmV0ovb21EZW82UFk2OHRpU1I5R1Q3NTZVZHBHbFRBK2xISHZkemxKaitUTWVDM0NMQURTSHBZTlZuZ2M3U08zd0VBeWNDVjh2Vms4ZmY3bjRoOFcvTDJackkyMEQvRmZMbXRVRnVzbVlXQ1paMlN0RUZtOU1mZlNUa29jQ0RDRGtveE01dmRnWjgyTTVldEwwMGUzMStzZ0IxVDNZUWdSOG9McHVjcmFRdWQxZmJFZmtxa25QT2ZHMTR1ZUtOOUpjNEJsOXBIaGN6UXcrazlRaFdmVGs0NW55S0xwcHU1UitESGpLMFVzNTZhWjJxUi83Uy91cEZQQlpnQTQ4ejFlMjA5MkFRa0xRbzhXWGl0MXlMSUFGT1ZmczRDVmZTM09BZDhXeXRlTHBVd2FCaEhVK0VubEFTSjNGeUs2WUFtclVad09OZll5MlUwNjZiUFh4WWl2SE5oMk1qTVdZZ0x5S242dzZONkFRWERqamk4WEJFVWF3Y3N1eEMxWlNHcXhTTUVpR3BKdUFaeU1Ua1E5MUVKS1hoZ01FZmJJUWVjclJTWnZvalBYa2tVVW5hV3lrM1BYa0UrcWt2RDg3UUVwRzUwZkZBWjg5dTREM1o2ekJ5TTNvejhXOWp5cCtUSnVBZDdjVjMzUStVaWJDZURxT2pPN1lhZXBHT2QyMDcva3VJOTlFMGUrcE51a3Y4bTVuU2dZOE8wQUtjQ2tiV1pDZlZSN2daSEFSanJKSTBYZnJnNTJ2M2tsYUIveWQxZUpzc1k3M2tZQU9xQ2tLZ0FERnlvQVdocnpYL0tMWTRsd285cXhBcGk0TFVOa0ZkdW9zekZXMER2aHpCOW82REdXZ2ljK1IwMG1jakd3cU5kbHh3c3FvOTdPVXJQOFpXOXFsN1RnR091cW1kSHUveVV2SE9RSTFmUUR4N1dJeC9IenhzOFVYaXowYnVBa0YrUFJINThYaXEyalZrNEduZ0NlYU5rT1pYQk5mMTJ6QU91cTRzaUI5RXBsblVuVVdrNE02VEgydEN5UHlZcnRGZWVlQUhhYThQZ3RYMlFVOVh6OHQxQ0ZhNWZIaWt4RFRCM0NvNFliQ1VkdXRNaHQ3U1ZmcEhZY2NEaGlnUE42SEU5eU1oWWVIQXpyZFRyQ2NCVHh2OTdXV2xSczlhcHg4THllZjFBQ1NsNGJpYlQxTlhkS3VINWswNDRuZFhpYy90b3QrOU5JdWVobUQrdVI3R2ptQWVUblAxalpNanVBVnpKVFRMeXhoZWdqOEtZLzNIdEVOVlBHV3ArQWh6WUoxVUlBY29MczgrWHNxc3haNDhjc0tqZHNsQms3VG95SGdUSUN0TTJGQm84ZjdPTWpxVGEzc1FiTWpKMndmaDkwakQyaG9lSlR4elcwRDIwbmduZDQrbHVMdEFHSVVKUi9RSWwvV3J2N1oyNDF0VXRmdEo5OHRybXZYOVhyYjNpYjlaT3owVWovS2xIczRHZlZTSHZ2cWZZdzZ5dXBoZStXNjJ6MWVCYVhlc0lwYlVUclpxdEVKS0kvakdzdTdHTUljbXpCZXhQb092RHRxRHBGckdZZ0IzSWcwam1zczcyTE1tMnpDK0JEd3RvSW5nb1NaREtKdkliTFJjT3JWOWJ4eXA5UWxWZGZ6S1V2SFBzaldFVHRvYk5mdDkveFMrL0RQMkJqdFRMV0xMS2syUFIvTFV6SVlMK1R4ZURjWkErK0RUME95NUN0N1ZaNXMxQ0diSW5aUStwa3E5N3AxK1l3cDZkTHk5TThwbmQ1M3ozY0xYUjRiWFRZMXZyVHZlbDNtaHZOdWdKL3k5aWozVkVjeDJPWHI4cjdvK2dPU1hTV2tzUlYyNkxCclBOaDRNSG5vS0gybjdaak9zVFZIWjdRN3A3eDRhZ2p3Q2pxYVEzUDBQQmo1d3BQT09UZWlZMUcwOGY2QjdFUWVnaTNNbkw1TGJSYk5zVFZIWjFablRRbldWOTRjL0xPMlRMN3BiSjBGTnRER3MySnJRd2NOTEFKMklBSGY0ZFIzUVJWdk9vTDFHUjYvQzlDOVYzZ2F6YnRGWlhkS25NTGpsQThRQytBcjhHWmVnTnNUVTFkdEtmSk5NWjFIQXYwa3lIaUFiMmZsZWJhUGJ4enZxbkxrU2RlTmZaVU9PZXI5THlXSGYvYjJ5ZC9oUFQ0VE9LdytyeFFRNW1udlhvdlhHNytEK0dhaTkzaThGYk9WcFZuRnltNGtvRS8rV210ank5MHBHTGN6eGE0VGdvUk50R2t1WS8xWVhsbzUvSE9PVG04eHBSL1pHUjd2TXpZRDdnM0hmTFlKT2RCZEVXODA0dmx1UWlaNEk5T0hQQjZnYzI4MGRNWFg0enBFeS9RMWtSM0lJU3pBNHRwMlRkYU9yL0Zsd0tNNUlZYU9MYjJycTZKK2o0TXl6aXpBbk4xOEhPTllhek1lVDhtQSt4Wk5XY3JEc2Z6TlFuYXgzUWw0ODNRUVozNTlIcEZWOVlKNkhVSHF5Y2Q4ZE1tVDcyM2tVZG9tdlUyTWR5aU5SQUViUEErWHY5a0o4Rm1BNno2WC9QT09yS1FCN1FQSTY0QzlFUmJnZ3dDL2JxRDdXc2ZaTElKUTFCM3ZPT2ZMcVlYc2oyNWw0RHZBV1lTa3ZXNVhlV0g3eW0xd1crQkh6OWpYc0pTRDJIekhPVys3RURDNjZwek1kWEtPc1d4TEtlb0g3NzR0Z0xtRkFuN1N5RGVsYk1CbEVwdTV3QVBiQjRsbldXd1FQdFc5R0xvdlR4b3YrVDdRRkhqWkJVa3p6eW5kMUIxS3R3RWU0R2VMSHlqVzRhWGlWNHE5bGMvdXNIVDNnZUpvU2JlZVU4TEd1b1pBcGdmNCt3NVNkMzk1LzBEZjRvMHJYNkpUV29mQUhPQzFCMndXSUdYdklZQ1h6cldqN1NrVkFuTUJzNlZjaFhvODF4Ynczc05QOGk1YzNkMzhOQWQ0b0R1aHZYdjRUVlBpbWgwZy9OeGRmT3IxQmNJMk5BZDQ5Z0R2eWRWL25OQi8rZUdtYzAreE4vM1RXRjhnektXNXdDZlU1QytaNC9YYUF4MzRweUZuTHVxbHR3M3d2cjc4NXNsZnNnazdJV0hHSHpQNFo4aW5JU2VvYkVqbkFzOU13bzIvZXVQNXlraXM1L1VQRnZ1VEUrRm5HN3VsZnV2UjNBOG95Q1RjK0ZxOVdBenN1NHFSVzQzL1lDSy9vZkpSNVFhVXhhbnNLWFVFdGdGZU8rQUQxQ0Y3cVpoMysrVXlraGR5QXJnbmhlUXJlMG9kZ1cxREF1QVQ2M245V3dmbDJIVEFDam5ZYmhEelQrLzRCY0pJMndLdnZmRGhZOHFkL3JWaU1iK0hGT0EvWEh5MjJBZVdIWEVLZm9IUWFkdjMrTFROODRFM0crSGxmTEZiRFhsSXZMY2ozaWgyR0xzUkxYNzdVdWt0VDl2RytBQW01UEJ5NEw1WmJPY0EzYTBtdTRpbjUxSE5lV0FCVHVOK2dZQ09DcnkyaWZmQWQ3ZFhmcVJZZUJGYWtOUmlDRC9pL1lWaVowUVBUVlc4OVNqZWVkU1pBMXY0OEVFRmZNRGFBVzR6NnBDZDRNYnpVTEdGdnRZK3k4VE5UOWZpOFpsOXdKZnlaQXZocmkvMmUwUUwwT3I3WWxnUTNPV3BML0YrMHk2QWh4REFoQkJoSjZrREZmZ09YZjI4VUd3bklJY3lXWURQb1d2aHdudTlDRWU5MVJRK0s0bUhpKzJBZGNCaWdIdlZ0Q2hJekQ5YkxPNExVL2xyRHdzWDNTeEdpZmFQamdONEtDV01XQVI1eElPekdOK3NmSFlDb0lFc3RRaWVHeTRXMnpIa2UwbUFPQTRDTWg1dkx4YkJidkN1azVzUHIzZjQyZ1Z1UUg2eDRxTk0vZDRDbjRPdjVuaWl4S3M3OVIzQ0dSS1N1czVlNVU4YWVEdEFPTGxRN05xWmY1ZVRuV0dYZUlyWTYvaGU4MXZFWE9sSkVZQWRza0QzRmVzaERRc3plZE1SM3gyeVdZeks3aDhkMStHNkRxbUVGVEVjQ3kzaXZOMkhnVzRuOEhvN1lDL3BlZ0RmZ2N3aUFGd2U4ZlNwZzNsUnVTOC8vZy9NM3V3UGx6bVQwZ0FBQUFCSlJVNUVya0pnZ2c9PSI+PC9pbWFnZT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},LNvV:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIxcHgiIGhlaWdodD0iMjBweCIgdmlld0JveD0iMCAwIDIxIDIwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY191bmRlcmxpbmU8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZm9udC1mYW1pbHk9IlNvdXJjZUhhblNlcmlmQ04tQm9sZCwgU291cmNlIEhhbiBTZXJpZiBDTiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIHRleHQtZGVjb3JhdGlvbj0idW5kZXJsaW5lIj4NCiAgICAgICAgPGcgaWQ9IjA45paH5pys5bGe5oCnIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTM3Ni4wMDAwMDAsIC00MjIuMDAwMDAwKSIgZmlsbD0iIzMzMzMzMyI+DQogICAgICAgICAgICA8ZyBpZD0i5YiG57uELTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExNjAuMDAwMDAwLCAxMjAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC04LWNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAuMDAwMDAwLCAyOTcuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtMTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE5MS4wMDAwMDAsIDAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iaWMvdW5kZXJsaW5lIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2LjAwMDAwMCwgNC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGV4dCBpZD0iVSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0c3BhbiB4PSI0IiB5PSIxNiI+VTwvdHNwYW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZXh0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},LvBC:function(t,e){},M6RL:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19zaG91cWk8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSIwNOWchuW9ouefqeW9oumAieaLqSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTgyLjAwMDAwMCwgLTg1MS4wMDAwMDApIiBmaWxsPSIjNjY2NjY2Ij4NCiAgICAgICAgICAgIDxnIGlkPSLlt6bkvqfmoI8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxMjAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC03LWNvcHktMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDcyMC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9InNob3VxaSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODIuMDAwMDAwLCAxMS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSLkuInop5LlvaIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE2LjAwMDAwMCwgMTUuMDAwMDAwKSByb3RhdGUoLTI3MC4wMDAwMDApIHRyYW5zbGF0ZSgtMTYuMDAwMDAwLCAtMTUuMDAwMDAwKSAiIHBvaW50cz0iMTYgMTEgMjIgMTkgMTAgMTkiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},MKNn:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19zd2l0Y2g8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSIwNOWchuW9ouefqeW9oumAieaLqSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM0LjAwMDAwMCwgLTQzNi4wMDAwMDApIj4NCiAgICAgICAgICAgIDxnIGlkPSLlt6bkvqfmoI8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxMjAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC0xMy1jb3B5LTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE5LjAwMDAwMCwgMzE2LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTExIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNS4wMDAwMDAsIDAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iaWMvc3dpdGNoIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iaWMvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyLjAwMDAwMCwgMS4wMDAwMDApIiBmaWxsPSIjMzMzMzMzIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0iIzMzMzMzMyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xOC4xMzE2OTA5LDYuOTExMzg4MjIgQzEyLjI2NzM5ODIsNi45MTEzODgyMiA3LjQ5ODgyNDc3LDExLjc0MTE0MzIgNy40OTg4MjQ3NywxNy42ODAzMjU2IEM3LjQ5ODgyNDc3LDIxLjgxMzgwOTEgOS44MTg3NzcwNywyNS41NTU4NzU0IDEzLjQ3MDI4MzMsMjcuMzYxNDk1OCBMMTMuNDcwMjgzMywzMi4wMTcxMDQ0IEMxMy40NzAyODMzLDMzLjMyMjQ1NjMgMTQuMjQzNzY4NywzNC40NTM4OTczIDE1LjM2MDc5NzEsMzQuOTU0MTY1OCBMMTUuMzYwNzk3MSwzNS45NTQ5MzgyIEMxNS4zNjA3OTcxLDM3LjA4NjMwMDggMTYuMjYyODczOCwzOCAxNy4zNzk5NDA5LDM4IEwxOC45MjY2MDE2LDM4IEMyMC4wNDM1NTI2LDM4IDIwLjk0NTgyMywzNy4wODYzNCAyMC45NDU4MjMsMzUuOTU0OTM4MiBMMjAuOTQ1ODIzLDM0Ljk1NDMyMjggQzIyLjA2MjczNTIsMzQuNDUzOTc1OCAyMi44MzYxMDQyLDMzLjMyMjU3NCAyMi44MzYxMDQyLDMyLjAxNzE0MzcgTDIyLjgzNjEwNDIsMjcuMzYxNTM1MSBDMjYuNDY2MjIzOCwyNS41NTU5MTQ3IDI4LjgwNzYwMTYsMjEuODEzODg3NiAyOC44MDc2MDE2LDE3LjY4MDM2NDggQzI4Ljc2NDY3MzIsMTEuNzQxMDY0NyAyMy45OTU5ODM1LDYuOTExMjcwNSAxOC4xMzE3Njg0LDYuOTExMjcwNSBMMTguMTMxNzY4NCw2LjkxMTI3MDUgTDE4LjEzMTY5MDksNi45MTEzODgyMiBaIE0xOC45MDQ3ODg4LDM2LjQ3NzI1OTUgTDE3LjM1ODIwNTUsMzYuNDc3MjU5NSBDMTcuMDc5MTMyNSwzNi40NzcyNTk1IDE2Ljg0MjYwMDMsMzYuMjM3ODE4MSAxNi44NDI2MDAzLDM1Ljk1NTA5NTIgTDE2Ljg0MjYwMDMsMzUuMjM3MDQ1NyBMMTkuNDIwNTQ5LDM1LjIzNzA0NTcgTDE5LjQyMDU0OSwzNS45NTUwOTUyIEMxOS40MjA1NDksMzYuMjM3Nzc4OSAxOS4xODQxMzMsMzYuNDc3MjU5NSAxOC45MDQ3ODg4LDM2LjQ3NzI1OTUgTDE4LjkwNDc4ODgsMzYuNDc3MjU5NSBaIE0xOS42MTM4NDI4LDMzLjcxNDE0ODIgTDE2LjY0OTQ2MTUsMzMuNzE0MTQ4MiBDMTUuNzI1OTU5MywzMy43MTQxNDgyIDE0Ljk3Mzg5OTUsMzIuOTUyNzc4IDE0Ljk3Mzg5OTUsMzIuMDE3MTQzNyBMMTQuOTczODk5NSwzMC4xODk3ODQ0IEwyMS4zMTA5MDc3LDMwLjE4OTc4NDQgTDIxLjMxMDkwNzcsMzIuMDE3MTQzNyBDMjEuMjg5MzI3MywzMi45NTI3Mzg3IDIwLjUzNzQyMjQsMzMuNzE0MTQ4MiAxOS42MTM4MDQxLDMzLjcxNDE0ODIgTDE5LjYxMzgwNDEsMzMuNzE0MTQ4MiBMMTkuNjEzODQyOCwzMy43MTQxNDgyIFogTTE4LjEzMTY5MDksMjIuNjE4ODkyNSBMMTYuNTIwNTYwMiwxOS42Mzg0NzExIEwxOS43MjExNjM3LDE5LjYzODQ3MTEgTDE4LjEzMTY1MjEsMjIuNjE4ODkyNSBMMTguMTMxNjkwOSwyMi42MTg4OTI1IFogTTIxLjc0MDQyMzgsMjYuMTY0OTk1MiBMMjEuMjg5NDA0OCwyNi4zNjA4MDE5IEwyMS4yODk0MDQ4LDI4LjY2NzAwNDcgTDE4Ljg4MzQ3OTYsMjguNjY3MDA0NyBMMTguODgzNDc5NiwyNC4xODUzODU0IEMxOS4wMTI0MTk2LDI0LjA5ODIzMzggMTkuMDk4NDMxMywyMy45Njc4MDA2IDE5LjE4NDI0OTMsMjMuODM3MzY3NSBMMjEuMzc1MjYxNSwxOS43NDcyNDM5IEMyMS41Njg1NTU0LDE5LjQyMDkyNTYgMjEuNTQ3MDUyNCwxOS4wMDc2MTI1IDIxLjM1MzgzNjEsMTguNjgxMjU0OSBDMjEuMTM5MTE2OCwxOC4zMzMxNTg1IDIwLjc1MjI5NjcsMTguMTE1NDU1OSAyMC4zMjI3ODA2LDE4LjExNTQ1NTkgTDE1LjkxOTI1MzIsMTguMTE1NDU1OSBDMTUuNDg5NTQzNCwxOC4xMTU0NTU5IDE1LjEwMjk5NDUsMTguMzMyODgzOCAxNC44ODgyMzY1LDE4LjY4MTI1NDkgQzE0LjY5NDg2NTEsMTkuMDA3NTczMyAxNC42NzMzMjM1LDE5LjM5OTEwODIgMTQuODY2NzcyMywxOS43NDcyNDM5IEwxNy4wNzkzNjQ5LDIzLjg1OTAyNzggQzE3LjE2NTE0NDIsMjMuOTg5MzgyNSAxNy4yNTExNTU5LDI0LjExOTk3MjcgMTcuMzc5OTc5NywyNC4yMDcxMjQzIEwxNy4zNzk5Nzk3LDI4LjY2NzAwNDcgTDE0Ljk3NDEzMTksMjguNjY3MDA0NyBMMTQuOTc0MTMxOSwyNi4zNjA4MDE5IEwxNC41MjMwMzU1LDI2LjE2NDk5NTIgQzExLjE3MjE4MjcsMjQuNzA3NTg5IDkuMDI0MDk4NzcsMjEuMzU3MDU3NiA5LjAyNDA5ODc3LDE3LjY4MDQ4MjUgQzkuMDI0MDk4NzcsMTIuNTg5NTg2NiAxMy4xMjY4NTY1LDguNDM0NDAzNDEgMTguMTUzMzQ4OCw4LjQzNDQwMzQxIEMyMy4xNzk3MjQ4LDguNDM0NDAzNDEgMjcuMjgyNjc2MywxMi41ODk2NjUxIDI3LjI4MjY3NjMsMTcuNjgwNDgyNSBDMjcuMjYxMjUwOCwyMS4zNTcwNTc2IDI1LjA5MTY2NCwyNC42ODU4ODk0IDIxLjc0MDY1NjIsMjYuMTY0OTk1MiBMMjEuNzQwNjU2MiwyNi4xNjQ5OTUyIEwyMS43NDA0MjM4LDI2LjE2NDk5NTIgWiBNMCwxNS41MjgzNzQ1IEwzLjk4Nzg0Mjk5LDE1LjUyODM3NDUgTDMuOTg3ODQyOTksMTcuMDg4MTU3NCBMMCwxNy4wODgxNTc0IEwwLDE1LjUyODM3NDUgWiBNOC4wMTU3NDcyOSw4LjA5MzQwOTM2IEw1LjE5NTk1ODU3LDUuMjM3NTM1MTYgTDYuMjg1MTMwMDUsNC4xMzQ2OTk5OCBMOS4xMDQ5MTg3Nyw2Ljk5MDU3NDE4IEw4LjAxNTc0NzI5LDguMDkzNDA5MzYgTDguMDE1NzQ3MjksOC4wOTM0MDkzNiBaIE0yNi45MzU5MTc0LDYuOTkwNjEzNDIgTDI5Ljc1NTcwNjEsNC4xMzQ3MzkyMiBMMzAuODQ0NjQ1MSw1LjIzNzU3NDQgTDI4LjAyNDg5NTIsOC4wOTM0NDg2IEwyNi45MzU5MTc0LDYuOTkwNjEzNDIgWiBNMzIuMDEyMTk1OCwxNS41MjgzNzQ1IEwzNiwxNS41MjgzNzQ1IEwzNiwxNy4wODgxNTc0IEwzMi4wMTIxOTU4LDE3LjA4ODE1NzQgTDMyLjAxMjE5NTgsMTUuNTI4Mzc0NSBaIE0xNy4yMjk4ODU0LDAgTDE4Ljc2OTk1OTYsMCBMMTguNzY5OTU5Niw0LjAzODgzNzEgTDE3LjIyOTg4NTQsNC4wMzg4MzcxIEwxNy4yMjk4ODU0LDAgWiIgaWQ9IuW9oueKtiI+PC9wYXRoPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjYzNzQ5MiwyNC4zNjM0MTQ4IEwxNy41NzM3OTk3LDIwLjYxMzEwMjIgQzE3LjQzOTM3NjYsMjAuMzcxODg2NCAxNy41MjU5NDkxLDIwLjA2NzM3MSAxNy43NjcxNjQ5LDE5LjkzMjk0NzggQzE3Ljg0MTU4MzgsMTkuODkxNDc2MiAxNy45MjUzNjUyLDE5Ljg2OTcwNzYgMTguMDEwNTU5NSwxOS44Njk3MDc2IEwyMi4xOTA0NTg1LDE5Ljg2OTcwNzYgQzIyLjQ2NjYwMDksMTkuODY5NzA3NiAyMi42OTA0NTg1LDIwLjA5MzU2NTIgMjIuNjkwNDU4NSwyMC4zNjk3MDc2IEMyMi42OTA0NTg1LDIwLjQ1NDkwMTkgMjIuNjY4Njg5OSwyMC41Mzg2ODMzIDIyLjYyNzIxODMsMjAuNjEzMTAyMiBMMjAuNTM3MjY4NywyNC4zNjM0MTQ4IEMyMC40MDI4NDU2LDI0LjYwNDYzMDYgMjAuMDk4MzMwMSwyNC42OTEyMDMxIDE5Ljg1NzExNDQsMjQuNTU2NzggQzE5Ljc3NTk0MzMsMjQuNTExNTQ1NSAxOS43MDg5ODM3LDI0LjQ0NDU4NTkgMTkuNjYzNzQ5MiwyNC4zNjM0MTQ4IFoiIGlkPSLkuInop5LlvaIiIHN0cm9rZT0iIzYxN0VGRSIgc3Ryb2tlLXdpZHRoPSIyLjgiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjYzNzQ5MiwyMy4wMzY1MzIzIEwxOC42MzY3MzY1LDIxLjE5MzYwOCBDMTguNTAyMzEzNCwyMC45NTIzOTIyIDE4LjU4ODg4NTksMjAuNjQ3ODc2OCAxOC44MzAxMDE3LDIwLjUxMzQ1MzYgQzE4LjkwNDUyMDYsMjAuNDcxOTgyIDE4Ljk4ODMwMTksMjAuNDUwMjEzNCAxOS4wNzM0OTYzLDIwLjQ1MDIxMzQgTDIxLjEyNzUyMTcsMjAuNDUwMjEzNCBDMjEuNDAzNjY0MSwyMC40NTAyMTM0IDIxLjYyNzUyMTcsMjAuNjc0MDcxIDIxLjYyNzUyMTcsMjAuOTUwMjEzNCBDMjEuNjI3NTIxNywyMS4wMzU0MDc3IDIxLjYwNTc1MzEsMjEuMTE5MTg5MSAyMS41NjQyODE1LDIxLjE5MzYwOCBMMjAuNTM3MjY4NywyMy4wMzY1MzIzIEMyMC40MDI4NDU2LDIzLjI3Nzc0ODEgMjAuMDk4MzMwMSwyMy4zNjQzMjA2IDE5Ljg1NzExNDQsMjMuMjI5ODk3NSBDMTkuNzc1OTQzMywyMy4xODQ2NjMgMTkuNzA4OTgzNywyMy4xMTc3MDM0IDE5LjY2Mzc0OTIsMjMuMDM2NTMyMyBaIiBpZD0i5LiJ6KeS5b2iLWNvcHkiIGZpbGw9IiNGRkZGRkYiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBmaWxsPSIjNjE3RUZFIiB4PSIxOC44MDIyMTU4IiB5PSIyNSIgd2lkdGg9IjIuNjQ5NzI2OTMiIGhlaWdodD0iNC4xNjY2NTE5Ij48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},MSPr:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});i("wlbC"),i("+BTi");var n,o=i("1ZIF"),a=i.n(o),r=(i("BNJR"),i("fDPO")),s=i.n(r),l=(i("bRYy"),i("eBGF")),c=i.n(l),h=(i("8jhb"),i("RDoK")),d=i.n(h),g=(i("DSCY"),i("LaeV")),u=i.n(g),f=(i("IxJZ"),i("NoPp")),v=i.n(f),p=(i("jZDA"),i("91Nw")),I=i.n(p),_=(i("d7TW"),i("ajQY")),y=i.n(_),C=(i("cwe7"),i("2X9z")),m=i.n(C),w=(i("GXEp"),i("mtrD")),b=i.n(w),A=(i("Yq4J"),i("qubY")),M=i.n(A),x=i("7+uW"),D=(i("tvR6"),i("feh2"),i("pJEz"),i("4q36"),i("a2T/"),i("aHvn"),i("B0yy"),i("ocdw"),i("JC46"),i("Z6b+"),i("iJdf"),i("idlG"),i("VxqK"),i("RKeT"),i("gStz"),i("7uj/"),i("heW6"),i("/w1s"),i("NYxO")),T=i("bOdI"),N=i.n(T),S=i("Du/2"),z=(n={},N()(n,S.a.SHOW_IMG_HOUSE,function(t,e){t.showImageHouse=e.show}),N()(n,S.a.EDITING_NODE_ID,function(t,e){t.editingNodeId=e.id}),N()(n,S.a.GRAPH_VIEW,function(t,e){t.graphView=e.graphView}),N()(n,S.a.SAVE_PREVIEW_DATA,function(t,e){t.previewData=e.previewData}),N()(n,S.a.SHOW_PREVIEW,function(t,e){t.showPreview=e.showPreview}),n),k={},E={getShowImgHouse:function(t){return t.showImgHouse},getEditingNodeId:function(t){return t.editingNodeId}};x.default.use(D.a);var V=new D.a.Store({state:{showImageHouse:!1,editingNodeId:0,previewData:"",showPreview:!1},mutations:z,actions:k,getters:E,strict:!1}),j=i("Dd8w"),R=i.n(j),P={name:"mixins",data:function(){return{node:{id:"",name:"",type:"",position:{tit:"位置",x:0,y:0},size:{tit:"大小",width:0,height:0}},clickNode:""}},computed:R()({},Object(D.c)(["editingNodeId"])),watch:{editingNodeId:function(){this.editingNodeId>0?(this.node.id=this.editingNodeId,this.node.name=window.dataModel.getDataById(this.editingNodeId).getStyle("showName"),this.node.type=window.dataModel.getDataById(this.editingNodeId).getStyle("nodeType")):this.initNodeInfo(),console.log("正在编辑节点信息",this.node)}},created:function(){},mounted:function(){this.handleGraphViewEventListener()},methods:R()({},Object(D.b)(["m_editingNodeId"]),{initNodeInfo:function(){this.node.id=0,this.node.name="",this.node.type="",this.node.position.x=0,this.node.position.y=0,this.node.size.width=0,this.node.size.height=0},listenNodeSizePosition:function(t,e){var i=t.getSize(),n=window.graphView.lp(e);console.log("Node position is ",n,"nodeType is",t.getStyle("nodeType"),i),this.node.position.x=n.x,this.node.position.y=n.y,this.node.size.width=i.width,this.node.size.height=i.height,console.log(this.node)},handleGraphViewEventListener:function(){var t=this;window.graphView.addInteractorListener(function(e){"clickData"===e.kind?(console.log(e.data+"被单击",e,"e.size",e.data.getSize(),"id",e.data.getId(),t),t.clickNode=e.data,t.m_editingNodeId({id:e.data.getId()}),t.listenNodeSizePosition(e.data,e.event)):"doubleClickData"===e.kind?console.log(e.data+"被双击"):"clickBackground"===e.kind?(console.log("单击背景"),t.m_editingNodeId({id:0})):"doubleClickBackground"===e.kind?console.log("双击背景"):"beginRectSelect"===e.kind?console.log("开始框选图元"):"betweenRectSelect"===e.kind?console.log("正在框选图元"):"endRectSelect"===e.kind?console.log("结束框选图元"):"beginMove"===e.kind?console.log("开始移动图元"):"betweenMove"===e.kind?(console.log("正在移动图元"),t.listenNodeSizePosition(t.clickNode,e.event)):"endMove"===e.kind?(console.log("结束移动图元"),t.listenNodeSizePosition(t.clickNode,e.event)):"beginPan"===e.kind?console.log("开始手抓图平移"):"betweenPan"===e.kind?(t.listenNodeSizePosition(t.clickNode,e.event),console.log("正在手抓图平移")):"endPan"===e.kind?(console.log("结束手抓图平移"),t.initNodeInfo()):"beginEditRect"===e.kind?(console.log("开始编辑图元大小和位置"),t.listenNodeSizePosition(t.clickNode,e.event)):"betweenEditRect"===e.kind?(console.log("正在编辑图元大小和位置"),t.listenNodeSizePosition(t.clickNode,e.event)):"endEditRect"===e.kind?console.log("结束编辑图元大小和位置"):"beginEditPoint"===e.kind?console.log("开始编辑多边形Shape或多点Edge的具体点"):"betweenEditPoint"===e.kind?console.log("正在编辑多边形Shape或多点Edge的具体点"):"endEditPoint"===e.kind?console.log("结束编辑多边形Shape或多点Edge的具体点"):"beginEditRotation"===e.kind?console.log("开始旋转图元"):"betweenEditRotation"===e.kind?console.log("正在旋转图元"):"endEditRotation"===e.kind?console.log("结束旋转图元"):"moveLeft"===e.kind?console.log("左方向键左移图元一个像素"):"moveRight"===e.kind?console.log("右方向键右移图元一个像素"):"moveUp"===e.kind?console.log("上方向键上移图元一个像素"):"moveDown"===e.kind?console.log("下方向键下移图元一个像素"):"toggleNote"===e.kind?console.log("切换note标注的展开合并"):"toggleNote2"===e.kind?console.log("切换note2标注的展开合并"):"beginEditPoints"===e.kind?console.log("开始进入曲线的点编辑状态"):"endEditPoints"===e.kind?console.log("结束曲线的点编辑状态"):"hover"===e.kind&&console.log("鼠标停留")})}})},Z={name:"previewBox",components:{preview:i("mGRR").default},data:function(){return{}},computed:R()({},Object(D.c)(["showPreview"])),methods:R()({},Object(D.b)(["m_showPreview"]),{handleClose:function(){this.m_showPreview({showPreview:!1})},handleSubmit:function(){}})},L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"previewBox"},[i("el-dialog",{ref:"preview",staticClass:"preview_box_my",attrs:{visible:t.showPreview,width:"85%"}},[i("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v("\n          画面预览\n      ")]),t._v(" "),i("div",{staticClass:"box"},[i("preview")],1),t._v(" "),i("div",{staticClass:"button"},[i("el-button",{on:{click:function(e){return t.handleClose()}}},[t._v("关闭")]),t._v(" "),i("el-button",{on:{click:function(e){return t.handleSubmit()}}},[t._v("发布")])],1)])],1)},staticRenderFns:[]};var B={name:"titlemy",components:{previewBox:i("VU/8")(Z,L,!1,function(t){i("hx8Q"),i("y73z")},"data-v-1b525b34",null).exports},data:function(){return{rightArr:[{icon:i("pX1U"),title:"预览",func:"preview"},{icon:i("1FBx"),title:"发布",func:"publish"}]}},computed:R()({},Object(D.c)(["showPreview","previewData"])),methods:R()({},Object(D.b)(["m_showPreview","m_savePreviewData"]),{handleClick:function(t){switch(t){case"preview":console.log(this.showPreview),this.m_showPreview({showPreview:!0}),this.m_savePreviewData({previewData:window.dataModel.serialize()}),console.log(this.showPreview,this.previewData)}}})},O={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"titlemy"},[i("el-row",[i("el-col",{staticClass:"left",attrs:{span:4}},[i("i",{staticClass:"el-icon-arrow-left"}),t._v(" "),i("span",[t._v("返回设备")])]),t._v(" "),i("el-col",{staticClass:"middle",attrs:{span:15}},[i("h2",{staticClass:"title"},[t._v("组态设计")])]),t._v(" "),i("el-col",{staticClass:"right",attrs:{span:5}},t._l(t.rightArr,function(e){return i("div",{key:e.icon,on:{click:function(i){return t.handleClick(e.func)}}},[i("img",{staticClass:"icon",attrs:{src:e.icon,alt:""}}),t._v(" "),i("span",[t._v(t._s(e.title))])])}),0)],1),t._v(" "),t.showPreview?i("previewBox"):t._e()],1)},staticRenderFns:[]};var U=i("VU/8")(B,O,!1,function(t){i("rtKH")},"data-v-91ce99c8",null).exports,W={name:"toolbar",data:function(){return{imgArr:[{img:i("pIRn"),func:"historyBack",clicked:!1},{img:i("v/uc"),func:"historyForward",clicked:!1},{img:i("sDNn"),func:"save",clicked:!1},{img:i("3yjV"),func:"reduce",clicked:!1},{img:i("PE4/"),func:"amplify",clicked:!1},{img:i("1DzG"),func:"showGrid",clicked:!1},{img:i("F4Sw"),func:"lock",clicked:!1},{img:i("W/FA"),func:"unlock",clicked:!1}],zoomArr:function(){for(var t=["10","50"],e=100;e<=500;e+=100)t.push(e);return t}(),zoomValue:100,center:{x:0,y:0}}},props:{node:{type:Object,default:{}}},computed:{nodeId:function(){return this.node.id},nodeInfo:function(){return window.dataModel.getDataById(this.node.id)}},created:function(){},mounted:function(){window.GridPainter=new ht.graph.GridPainter(window.graphView)},methods:{handleClick:function(t){switch(t.clicked=!t.clicked,t.func){case"historyBack":window.historyManager.undo();break;case"historyForward":window.historyManager.redo();break;case"showGrid":t.clicked?window.graphView.addBottomPainter(window.GridPainter):window.graphView.removeBottomPainter(window.GridPainter);break;case"reduce":window.graphView.zoomOut(!0);break;case"amplify":window.graphView.zoomIn(!0);break;case"lock":window.graphView.setDisabled(!0);break;case"unlock":window.graphView.setDisabled(!1)}},handleSelect:function(){window.graphView.setZoom(parseInt(this.zoomValue/100),!0,this.center)}}},G={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"toolbar"},[i("el-row",{staticClass:"toolbar_row"},t._l(t.imgArr,function(e){return i("el-col",{key:e.img,class:"reduce"===e.func?"reduce":"",attrs:{span:"reduce"===e.func?2:1}},[i("img",{class:[e.clicked?"clicked":""],attrs:{src:e.img,alt:""},on:{click:function(i){return t.handleClick(e)}}}),t._v(" "),"reduce"===e.func?i("select",{directives:[{name:"model",rawName:"v-model",value:t.zoomValue,expression:"zoomValue"}],staticClass:"select",attrs:{name:"",id:""},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.zoomValue=e.target.multiple?i:i[0]},function(e){return t.handleSelect()}]}},t._l(t.zoomArr,function(e){return i("option",{key:e,domProps:{value:e}},[t._v(t._s(e)+"%")])}),0):t._e()])}),1)],1)},staticRenderFns:[]};var F=i("VU/8")(W,G,!1,function(t){i("ompb")},"data-v-0af555f3",null).exports,Q={name:"palette",data:function(){return{palette:new this.$ht.widget.Palette,view:"",lineNode:[{name:"直线",icon:"ic_line.svg",lineType:"straight"},{name:"曲线",icon:"ic_curve.svg",lineType:"curve"}],standardNode:[{name:"矩形",style:"rect",icon:"ic_rectangle.svg"},{name:"圆形",style:"circle",icon:"ic_circle.svg"},{name:"三角形",style:"triangle",icon:"ic_triangle.svg"},{name:"多边形",style:"hexagon",icon:"ic_polygon.svg"}]}},created:function(){this.initPaletteModel(this.palette.dm()),this.palette.handleDragAndDrop=this.handleDragAndDrop},mounted:function(){this.view=this.palette.getView(),console.log(this.view,this.$refs.palette),this.$refs.palette.appendChild(this.view)},methods:{initPaletteModel:function(t){var e=new this.$ht.Group;e.setName("标准控件"),e.setExpanded(!0),console.log("group",e,t),this.createPaletteLineNode(e,t),this.createPaletteTextNode(e,t),this.createPaletteStandardNode(e,t),this.createPalettePipeNode(e,t),this.createPaletteYezhuNode(e,t),this.createPaletteStateNode(e,t),t.add(e)},createPaletteStandardNode:function(t,e){for(var n=0;n<this.standardNode.length;n++){var o=new ht.Node,a=this.standardNode[n].icon;o.setName(this.standardNode[n].name),o.setStyle("shape",this.standardNode[n].style),o.setStyle("background",null),o.setImage(i("PvXa")("./"+a)),o.setStyle("draggable",!0),o.setStyle("nodeType","standard"),t.addChild(o),e.add(o)}},createPalettePipeNode:function(t,e){var n=new this.$ht.Node;n.setName("管道"),n.setImage(i("rWwZ")),n.setStyle("draggable",!0),n.setStyle("nodeType","pipe"),t.addChild(n),e.add(n)},createPaletteTextNode:function(t,e){var n=new this.$ht.Node;n.setName("文本"),n.setImage(i("VyW9")),n.setStyle("draggable",!0),n.setStyle("nodeType","text"),t.addChild(n),e.add(n)},createPaletteLineNode:function(t,e){this.lineNode.map(function(n){console.log(n);var o=new ht.Node;o.setName(n.name),o.setImage(i("PvXa")("./"+n.icon)),o.setStyle("draggable",!0),o.setStyle("nodeType","line"),o.setStyle("lineType",n.lineType),t.addChild(o),e.add(o)})},createPaletteYezhuNode:function(t,e){var n=new ht.Node;n.setName("液柱"),n.setImage(i("aXn5")),n.s({draggable:!0,nodeType:"yezhu"}),t.addChild(n),e.add(n)},createPaletteStateNode:function(t,e){var n=new ht.Node;n.setName("状态显示"),n.setImage(i("lKIu")),n.s({draggable:!0,nodeType:"state"}),t.addChild(n),e.add(n)},createStateNode:function(t){var e=new this.$ht.Node;return e.setImage(i("q3hF")),e.setStyle("showName","状态显示"),e},createStandardNode:function(t,e){var i=new this.$ht.Node;return i.setStyle("shape.background",null),i.setStyle("shape.border.color","#000"),i.setStyle("shape.border.width","2"),i.setImage(e.getImage()),i.setStyle("showName",e.getName()),i.setStyle("shape",e.getStyle("shape")),i},createYezhuNode:function(t){var e=new this.$ht.Node;return e.setImage({width:100,height:200,comps:[{type:"shape",points:[0,0,0,200,100,200,100,0],segments:[1,2,2,2,5],background:null,borderWidth:"3",borderColor:"#7E83A4"},{type:"shape",points:[0,200,0,100,100,100,100,200],segments:[1,2,2,2,5],background:"#617EFE"}]}),e.setStyle("showName","液柱"),e},createLineNode:function(t,e){var i=new ht.Shape;switch(i.s("shape.border.width",3),i.s("shape.background",null),i.s("shape.border.color","#000"),t){case"straight":i.setPoints(new ht.List([{x:0,y:0},{x:200,y:0}])),i.setSegments(new ht.List([1,2])),i.setStyle("showName","直线");break;default:i.setPoints(new ht.List([{x:0,y:0},{x:50,y:50},{x:100,y:0},{x:150,y:-50},{x:200,y:0}])),i.setSegments(new ht.List([1,3,3])),i.setStyle("showName","曲线")}return i.translate(e.x,e.y),i},createTextNode:function(t){var e=new this.$ht.HtmlNode;return e.setPosition(t.x,t.y),e.setStyle("showName","文本"),e.setHtml('<textarea name="" id="text" cols="30" rows="10" style="font-size:14px;color:#000;background: rgba(0,0,0,0);" }></textarea>'),e},createPipeNode:function(t){var e=new ht.Shape;return e.s("shape.border.width",30),e.s("shape.background",null),e.s("shape.dash",!0),e.s("shape.dash.flow",!0),e.s("shape.dash.width",10),e.s("shape.dash.color","#f00"),e.s("shape.dash.flow.reverse",!1),e.setStyle("shape.border.color","#000"),e.setStyle("showName","管道"),e.setPoints(new ht.List([{x:0,y:0},{x:0,y:150},{x:150,y:150}])),e.setSegments(new ht.List([1,2,2])),e.translate(t.x,t.y),e},dropNodebyType:function(t,e,i){console.log(t.getStyleMap()),window.graphView.dm().add(t),t.setPosition(i.x,i.y),t.setStyle("nodeType",e.getStyle("nodeType"))},handleDragAndDrop:function(t,e){if(console.log(e),"end"===e){var i=graphView.getView().getBoundingClientRect(),n=this.$ht.Default.getClientPoint(t);if(console.log(i,n),console.log(ht.Default.containsPoint({x:i.left,y:i.top,width:i.width,height:i.height},n)),ht.Default.containsPoint({x:i.left,y:i.top,width:i.width,height:i.height},n)){historyManager.beginTransaction();var o,a=this.palette.sm().ld(),r=graphView.lp(t);a.getSize();switch(console.log("paletteNode",a,a.s("nodeType"),"lp is ",r,"size is",a.getSize()),a.s("nodeType")){case"standard":o=this.createStandardNode(r,a);break;case"pipe":o=this.createPipeNode(r);break;case"text":o=this.createTextNode(r);break;case"line":o=this.createLineNode(a.s("lineType"),r);break;case"yezhu":o=this.createYezhuNode(r);break;case"state":o=this.createStateNode(r)}this.dropNodebyType(o,a,r),historyManager.endTransaction()}}}}},H={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"palette",staticClass:"palette"})},staticRenderFns:[]};var Y=i("VU/8")(Q,H,!1,function(t){i("u55h"),i("LvBC")},"data-v-eaea5af6",null).exports,J={name:"position",data:function(){return{clickNode:"",testX:0,arrPS:[{tit:"位置",x:0,y:0},{tit:"大小",width:0,height:0}]}},props:{node:{type:Object,default:""}},watch:{node:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){console.log("监听node si",node)})},mounted:function(){},methods:{handleTest:function(){this.testY=2134324}}},X={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"position"},[i("h3",{staticClass:"title"},[t._v("\n        名称  "),t.node?i("span",[t._v(t._s(t.node.name))]):t._e()]),t._v(" "),i("div",{staticClass:"box"},t._l(t.node,function(e){return i("div",{key:e.tit,staticClass:"content"},["位置"===e.tit?i("div",[i("span",{staticClass:"tit"},[t._v(t._s(e.tit))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.x,expression:"item.x"}],attrs:{type:"number",readonly:""},domProps:{value:e.x},on:{input:function(i){i.target.composing||t.$set(e,"x",i.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.y,expression:"item.y"}],attrs:{type:"number",readonly:""},domProps:{value:e.y},on:{input:function(i){i.target.composing||t.$set(e,"y",i.target.value)}}})]):t._e(),t._v(" "),"大小"===e.tit?i("div",[i("span",{staticClass:"tit"},[t._v(t._s(e.tit))]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.width,expression:"item.width"}],attrs:{type:"number",readonly:""},domProps:{value:e.width},on:{input:function(i){i.target.composing||t.$set(e,"width",i.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.height,expression:"item.height"}],attrs:{type:"number",readonly:""},domProps:{value:e.height},on:{input:function(i){i.target.composing||t.$set(e,"height",i.target.value)}}})]):t._e()])}),0)])},staticRenderFns:[]};var $=i("VU/8")(J,X,!1,function(t){i("wAkX")},"data-v-1cd94122",null).exports,K=i("772a"),q={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tab"},[i("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[i("el-radio-button",{attrs:{label:"属性"}}),t._v(" "),i("el-radio-button",{attrs:{label:"事件"}})],1),t._v(" "),"属性"===t.radio?i("div",{staticClass:"pane proper"},["line"===t.node.type?i("div",[i("el-row",[i("el-col",{attrs:{span:12}},[t._v("\n                 颜色：\n             ")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-color-picker",{staticClass:"row_color_picker",on:{change:function(e){return t.handleChange("line","color",t.line.color)}},model:{value:t.line.color,callback:function(e){t.$set(t.line,"color",e)},expression:"line.color"}})],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[t._v("\n                      粗细：\n                  ")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.line.width,expression:"line.width"}],attrs:{type:"number"},domProps:{value:t.line.width},on:{change:function(e){return t.handleChange("line","width",t.line.width)},input:function(e){e.target.composing||t.$set(t.line,"width",e.target.value)}}})])],1)],1):t._e(),t._v(" "),"standard"===t.node.type?i("div",[i("el-row",[i("el-col",{attrs:{span:12}},[t._v("填充：")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-color-picker",{staticClass:"row_color_picker",on:{change:function(e){return t.handleChange("standard","background",t.standard.background)}},model:{value:t.standard.background,callback:function(e){t.$set(t.standard,"background",e)},expression:"standard.background"}})],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[t._v("描边：")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-color-picker",{staticClass:"row_color_picker",on:{change:function(e){return t.handleChange("standard","borderColor",t.standard.borderColor)}},model:{value:t.standard.borderColor,callback:function(e){t.$set(t.standard,"borderColor",e)},expression:"standard.borderColor"}})],1)],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[t._v("粗细：")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.standard.borderWidth,expression:"standard.borderWidth"}],attrs:{type:"number"},domProps:{value:t.standard.borderWidth},on:{change:function(e){return t.handleChange("standard","borderWidth",t.standard.borderWidth)},input:function(e){e.target.composing||t.$set(t.standard,"borderWidth",e.target.value)}}})])],1)],1):t._e(),t._v(" "),"pipe"===t.node.type?i("div",[i("el-row",[i("el-col",{attrs:{span:12}},[t._v("管径：")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pipe.borderWidth,expression:"pipe.borderWidth"}],attrs:{type:"number"},domProps:{value:t.pipe.borderWidth},on:{change:function(e){return t.handleChange("pipe","borderWidth",t.pipe.borderWidth)},input:function(e){e.target.composing||t.$set(t.pipe,"borderWidth",e.target.value)}}})])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[t._v("颜色：")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-color-picker",{staticClass:"row_color_picker",on:{change:function(e){return t.handleChange("pipe","borderColor",t.pipe.borderColor)}},model:{value:t.pipe.borderColor,callback:function(e){t.$set(t.pipe,"borderColor",e)},expression:"pipe.borderColor"}})],1)],1),t._v(" "),i("div",{staticClass:"line"}),t._v(" "),i("h3",{staticClass:"title"},[t._v("流块")]),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[t._v("块宽（px）：")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pipe.dashWidth,expression:"pipe.dashWidth"}],attrs:{type:"number"},domProps:{value:t.pipe.dashWidth},on:{change:function(e){return t.handleChange("pipe","dashWidth",t.pipe.dashWidth)},input:function(e){e.target.composing||t.$set(t.pipe,"dashWidth",e.target.value)}}})])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[t._v("块长(px)：")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pipe.blockLength,expression:"pipe.blockLength"}],attrs:{type:"number"},domProps:{value:t.pipe.blockLength},on:{change:function(e){return t.handleChange("pipe","blockLength",t.pipe.blockLength)},input:function(e){e.target.composing||t.$set(t.pipe,"blockLength",e.target.value)}}})])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[t._v("块间距(px)：")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pipe.blockSpacing,expression:"pipe.blockSpacing"}],attrs:{type:"number"},domProps:{value:t.pipe.blockSpacing},on:{change:function(e){return t.handleChange("pipe","blockSpacing",t.pipe.blockSpacing)},input:function(e){e.target.composing||t.$set(t.pipe,"blockSpacing",e.target.value)}}})])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[t._v("颜色：")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-color-picker",{staticClass:"row_color_picker",on:{change:function(e){return t.handleChange("pipe","dashColor",t.pipe.dashColor)}},model:{value:t.pipe.dashColor,callback:function(e){t.$set(t.pipe,"dashColor",e)},expression:"pipe.dashColor"}})],1)],1),t._v(" "),i("h3",{staticClass:"title"},[t._v("流向")]),t._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:t.pipe.flowDirection,expression:"pipe.flowDirection"}],on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.pipe,"flowDirection",e.target.multiple?i:i[0])},function(e){return t.handleChange("pipe","flowDirection",t.pipe.flowDirection)}]}},[i("option",{attrs:{value:"true"}},[t._v("正向")]),t._v(" "),i("option",{attrs:{value:"false"}},[t._v("逆向")])])],1):t._e(),t._v(" "),"yezhu"===t.node.type?i("div",[i("el-row",[i("el-col",{attrs:{span:12}},[t._v("填充颜色：")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-color-picker",{staticClass:"row_color_picker",on:{change:function(e){return t.handleChange("yezhu","background",t.yezhu.background)}},model:{value:t.yezhu.background,callback:function(e){t.$set(t.yezhu,"background",e)},expression:"yezhu.background"}})],1)],1)],1):t._e(),t._v(" "),"text"===t.node.type?i("div",{staticClass:"text"},[i("el-row",[i("el-col",{attrs:{span:8}},[t._v("文本字号")]),t._v(" "),i("el-col",{attrs:{span:16}},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.text.fontSize,expression:"text.fontSize"}],staticClass:"size",attrs:{name:"",id:""},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.text,"fontSize",e.target.multiple?i:i[0])},function(e){return t.handleChange("text","fontSize",t.text.fontSize)}]}},t._l(t.arrFontSize,function(e){return i("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}),0)])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[t._v("文本样式")]),t._v(" "),i("el-col",{attrs:{span:4}},[i("el-color-picker",{staticClass:"text_color_picker",on:{change:function(e){return t.handleChange("text","color",t.text.color)}},model:{value:t.text.color,callback:function(e){t.$set(t.text,"color",e)},expression:"text.color"}})],1),t._v(" "),t._l(t.arrFontStyle,function(e){return i("el-col",{key:e.img,attrs:{span:4}},[i("img",{class:[e.clicked?"clicked":""],attrs:{src:e.img,alt:""},on:{click:function(i){return t.changeFontStyle(e)}}})])})],2)],1):t._e(),t._v(" "),"state"===t.node.type?i("div",{staticClass:"state"},[i("el-button",{staticClass:"chooseImg",on:{click:function(e){return t.chooseImg()}}},[t._v("选择样式")])],1):t._e()]):i("div",{staticClass:"pane event"},["pipe"===t.node.type?i("div",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.pipe.event.var,expression:"pipe.event.var"}],attrs:{name:"",id:""},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.pipe.event,"var",e.target.multiple?i:i[0])},function(e){return t.handleEvent("pipe","var",t.pipe.event.var)}]}},[i("option",{attrs:{value:""}},[t._v("请选择变量")]),t._v(" "),t._l(t.supportedMeasurements,function(e){return i("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})],2),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[t._v("动态：")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pipe.event.max,expression:"pipe.event.max"}],attrs:{type:"number"},domProps:{value:t.pipe.event.max},on:{change:function(e){return t.handleEvent("pipe","max",t.pipe.event.max)},input:function(e){e.target.composing||t.$set(t.pipe.event,"max",e.target.value)}}})])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[t._v("静态：")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.pipe.event.min,expression:"pipe.event.min"}],attrs:{type:"number"},domProps:{value:t.pipe.event.min},on:{change:function(e){return t.handleEvent("pipe","min",t.pipe.event.min)},input:function(e){e.target.composing||t.$set(t.pipe.event,"min",e.target.value)}}})])],1)],1):t._e(),t._v(" "),"yezhu"===t.node.type?i("div",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.yezhu.event.var,expression:"yezhu.event.var"}],attrs:{name:"",id:""},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.yezhu.event,"var",e.target.multiple?i:i[0])},function(e){return t.handleEvent("yezhu","var",t.yezhu.event.var)}]}},[i("option",{attrs:{value:""}},[t._v("请选择变量")]),t._v(" "),t._l(t.supportedMeasurements,function(e){return i("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})],2),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[t._v("最大值：")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.yezhu.event.max,expression:"yezhu.event.max"}],attrs:{type:"number"},domProps:{value:t.yezhu.event.max},on:{change:function(e){return t.handleEvent("yezhu","max",t.yezhu.event.max)},input:function(e){e.target.composing||t.$set(t.yezhu.event,"max",e.target.value)}}})])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:12}},[t._v("最小值：")]),t._v(" "),i("el-col",{attrs:{span:12}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.yezhu.event.min,expression:"yezhu.event.min"}],attrs:{type:"number"},domProps:{value:t.yezhu.event.min},on:{change:function(e){return t.handleEvent("yezhu","min",t.yezhu.event.min)},input:function(e){e.target.composing||t.$set(t.yezhu.event,"min",e.target.value)}}})])],1)],1):t._e(),t._v(" "),"text"===t.node.type?i("div",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.text.event.var,expression:"text.event.var"}],attrs:{name:"",id:""},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.text.event,"var",e.target.multiple?i:i[0])},function(e){return t.handleEvent("text","var",t.text.event.var)}]}},[i("option",{attrs:{value:""}},[t._v("请选择变量")]),t._v(" "),t._l(t.supportedMeasurements,function(e){return i("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})],2)]):t._e(),t._v(" "),"state"===t.node.type?i("div",{staticClass:"state"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.state.event.var,expression:"state.event.var"}],attrs:{name:"",id:""},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.state.event,"var",e.target.multiple?i:i[0])},function(e){return t.handleEvent("state","var",t.state.event.var)}]}},[i("option",{attrs:{value:""}},[t._v("请选择变量")]),t._v(" "),t._l(t.supportedMeasurements,function(e){return i("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})],2),t._v(" "),t._l(t.stateEvent,function(e,n){return i("el-row",{key:e.img,staticStyle:{margin:"15px"}},[i("el-col",{attrs:{span:8}},[i("img",{staticClass:"img_event",attrs:{src:e.img,alt:""}})]),t._v(" "),i("el-col",{attrs:{span:16}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.state.event.imgVar[n],expression:"state.event.imgVar[index]"}],attrs:{type:"number"},domProps:{value:t.state.event.imgVar[n]},on:{change:function(i){return t.handleEvent("state","imgVar_"+e.id,t.state.event.imgVar[n])},input:function(e){e.target.composing||t.$set(t.state.event.imgVar,n,e.target.value)}}})])],1)})],2):t._e()]),t._v(" "),t.showImageHouse?i("imgHouse"):t._e()],1)},staticRenderFns:[]};var tt=function(t){i("MSPr"),i("4vb3")},et=i("VU/8")(K.a,q,!1,tt,"data-v-683ebe23",null).exports,it={name:"App",mixins:[P],components:{titlemy:U,toolbar:F,palette:Y,htbox:i("5PA5").default,position:$,tab:et},data:function(){return{}},methods:{}},nt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"App"},[i("titlemy",{staticClass:"titlemy"}),t._v(" "),i("toolbar",{attrs:{node:t.node}}),t._v(" "),i("div",{staticClass:"main_box"},[i("div",{staticClass:"left_box"},[i("palette")],1),t._v(" "),i("div",{staticClass:"middle_box"},[i("htbox")],1),t._v(" "),i("div",{staticClass:"right_box"},[i("position",{ref:"position",attrs:{node:t.node}}),t._v(" "),i("tab",{attrs:{node:t.node}})],1)])],1)},staticRenderFns:[]};var ot=i("VU/8")(it,nt,!1,function(t){i("0FUT")},"data-v-ea1cd7f2",null).exports,at=i("/ocq"),rt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"fof"},[this._v("\n  404\n")])},staticRenderFns:[]};var st=i("VU/8")({name:"fof",data:function(){return{}},methods:{}},rt,!1,function(t){i("csHM")},"data-v-6ef6825c",null).exports;x.default.use(at.a);var lt=new at.a({routes:[{path:"/",name:"htbox",component:function(){return new Promise(function(t){t()}).then(i.bind(null,"5PA5"))}},{path:"/show",name:"show",component:function(){return i.e(0).then(i.bind(null,"i3x7"))}},{path:"/preview",name:"preview",component:function(){return new Promise(function(t){t()}).then(i.bind(null,"mGRR"))}},{path:"/img",name:"imgHouse",component:function(){return new Promise(function(t){t()}).then(i.bind(null,"YBLq"))}},{path:"*",name:"f0f",component:st}]});i("6Pkq");x.default.config.productionTip=!1,x.default.component(M.a.name,M.a),x.default.component(b.a.name,b.a),x.default.component(m.a.name,m.a),x.default.component(y.a.name,y.a),x.default.component(I.a.name,I.a),x.default.component(v.a.name,v.a),x.default.component(u.a.name,u.a),x.default.component(d.a.name,d.a),x.default.component(c.a.name,c.a),x.default.component(s.a.name,s.a),x.default.component(a.a.name,a.a),x.default.prototype.$ht=window.ht,new x.default({el:"#app",router:lt,store:V,components:{App:ot},template:"<App/>"})},P1uN:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19zZWFyY2g8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSIwNOWchuW9ouefqeW9oumAieaLqSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIxMi4wMDAwMDAsIC03OTkuMDAwMDAwKSIgZmlsbD0iIzY2NjY2NiIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSLlt6bkvqfmoI8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxMjAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC03LWNvcHktMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDY3MC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuW9oueKtiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjEyLjAwMDAwMCwgOS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xOS4zODkzMDE4LDE3LjUxOTM4NTQgQzE5LjQ4ODM3MzksMTcuNTc3Mjk1MSAxOS41ODE3MTk5LDE3LjY0ODcyMzMgMTkuNjY2NjY2NywxNy43MzM2NyBMMjEuNTk5NjYzMywxOS42NjY2NjY3IEMyMi4xMzM0NDU2LDIwLjIwMDQ0ODkgMjIuMTMzNDQ1NiwyMS4wNjU4ODEgMjEuNTk5NjYzMywyMS41OTk2NjMzIEMyMS4wNjU4ODEsMjIuMTMzNDQ1NiAyMC4yMDA0NDg5LDIyLjEzMzQ0NTYgMTkuNjY2NjY2NywyMS41OTk2NjMzIEwxNy43MzM2NywxOS42NjY2NjY3IEMxNy42MTkzMzA2LDE5LjU1MjMyNzMgMTcuNTI5NDgzNCwxOS40MjI3NzA0IDE3LjQ2NDEyODQsMTkuMjg0NTE1MyBDMTUuMDM2MTA5LDIwLjczMjM1MTQgMTEuOTAxODU5OSwyMC40MDIzMzQxIDkuODI3MjA0OTYsMTguNDA4MzA3NiBDOC42NTkyMTY0OCwxNy4yNzY4NTIyIDgsMTUuNzIwOTc2IDgsMTQuMDk1NzU2NiBDOCwxMi40NzA1MzcxIDguNjU5MjE2NDgsMTAuOTE0NjYwOSA5LjgyNzIwNDk2LDkuNzgzMjA1NDcgQzEyLjI3OTkyNDMsNy40MDU1OTgxOCAxNi4xODAyOTk2LDcuNDA1NTk4MTggMTguNjMzMDE4OSw5Ljc4MzIwNTQ3IEMyMC43NjkxNDM3LDExLjg1MjEzMTMgMjEuMDQ3OTU5OSwxNS4xMzUyOTUyIDE5LjM4OTMwMTgsMTcuNTE5Mzg1NCBMMTkuMzg5MzAxOCwxNy41MTkzODU0IFogTTEwLjEyOTYwNjksMTQuMDk1NzU2NiBDMTAuMTY3MTM2MSwxNi4zODc2NjMxIDExLjk5OTc1MTUsMTguMjE4OTA5NSAxNC4yMzI5NjU1LDE4LjE5NjA0OTkgQzE2LjQ2Mzk2MjksMTguMjE1NjcwOSAxOC4yOTMwOTY0LDE2LjM4NTM1OCAxOC4zMzA2MTcsMTQuMDk1NzU2NiBDMTguMjkzMDk2NCwxMS44MDYxNTUxIDE2LjQ2Mzk2MjksOS45NzU4NDIyNCAxNC4yMzI5NjU1LDkuOTk1NDYzMiBDMTEuOTk5NzUxNSw5Ljk3MjYwMzU2IDEwLjE2NzEzNjEsMTEuODAzODUgMTAuMTI5NjA2OSwxNC4wOTU3NTY2IFoiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},"PE4/":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMxcHgiIGhlaWdodD0iMzFweCIgdmlld0JveD0iMCAwIDMxIDMxIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19mYW5nZGE8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSIwNOWchuW9ouefqeW9oumAieaLqSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTM4Ni4wMDAwMDAsIC03NS4wMDAwMDApIiBmaWxsPSIjNjY2NjY2Ij4NCiAgICAgICAgICAgIDxnIGlkPSLlt6XlhbfmoI8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCA2MC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTIwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNDEuNTAwMDAwLCAxMC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1LjAwMDAwMCwgNC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDAuNTAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImljL2ZhbmdkYSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTM5LjQwMDAwMCwgMC44MDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE0LjA4LDE0LjA4IEw5LjYsMTQuMDggTDkuNiwxNi4zMiBMMTQuMDgsMTYuMzIgTDE0LjA4LDIwLjggTDE2LjMyLDIwLjggTDE2LjMyLDE2LjMyIEwyMC44LDE2LjMyIEwyMC44LDE0LjA4IEwxNi4zMiwxNC4wOCBMMTYuMzIsOS42IEwxNC4wOCw5LjYgTDE0LjA4LDE0LjA4IFogTTE1LjIsMjYuNCBDOS4wMTQ0MTA4LDI2LjQgNCwyMS4zODU1ODkyIDQsMTUuMiBDNCw5LjAxNDQxMDggOS4wMTQ0MTA4LDQgMTUuMiw0IEMyMS4zODU1ODkyLDQgMjYuNCw5LjAxNDQxMDggMjYuNCwxNS4yIEMyNi40LDIxLjM4NTU4OTIgMjEuMzg1NTg5MiwyNi40IDE1LjIsMjYuNCBaIiBpZD0i5ZCI5bm25b2i54q2LWNvcHkiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},PjIA:function(t,e,i){t.exports=i.p+"static/img/d2.5b56191.jpg"},PvXa:function(t,e,i){var n={"./d1.jpeg":"fPpC","./d2.jpg":"PjIA","./d3.gif":"8FHf","./fan/ic_close.svg":"zliB","./fan/ic_fengshan_bianpin.svg":"9MbH","./fan/ic_fengshan_daiji.svg":"duz5","./fan/ic_fengshan_gongpin.svg":"m2om","./fan/ic_fengshan_guzhang.svg":"cLP8","./fan/ic_fengshan_weitouru.svg":"WR5j","./fan/ic_fengshan_yuanting.svg":"99yV","./ic_back.svg":"ROVI","./ic_beng.svg":"YxaH","./ic_bold.svg":"RPQ8","./ic_chexiao.svg":"pIRn","./ic_circle.svg":"nLm9","./ic_curve.svg":"jksn","./ic_dianci.svg":"iNOA","./ic_fabu.svg":"1FBx","./ic_fangda.svg":"PE4/","./ic_fengji.svg":"rIpE","./ic_grid.svg":"1DzG","./ic_guandao.svg":"rWwZ","./ic_italic.svg":"Fwbe","./ic_line.svg":"IiOA","./ic_lock.svg":"F4Sw","./ic_polygon.svg":"4x85","./ic_qianjin.svg":"v/uc","./ic_rectangle.svg":"YgKf","./ic_rongqi.svg":"RXfB","./ic_save.svg":"sDNn","./ic_search(1).svg":"uY67","./ic_search(2).svg":"P1uN","./ic_search(3).svg":"Ikmr","./ic_search(4).svg":"mmJy","./ic_search.svg":"rAsD","./ic_shouqi(1).svg":"M6RL","./ic_shouqi(2).svg":"bhFX","./ic_shouqi.svg":"Aps+","./ic_state.svg":"lKIu","./ic_suoxiao.svg":"3yjV","./ic_switch.svg":"MKNn","./ic_text.svg":"VyW9","./ic_triangle.svg":"egIV","./ic_underline.svg":"LNvV","./ic_unlock.svg":"W/FA","./ic_upload.svg":"Hfg/","./ic_wangge.svg":"F441","./ic_xiala(1).svg":"WZSQ","./ic_xiala(2).svg":"eaai","./ic_xiala.svg":"YO8/","./ic_yezhu.svg":"aXn5","./ic_yulan.svg":"pX1U","./pilotlamp/ic_close(1).svg":"7Qep","./pilotlamp/ic_close.svg":"JzW8","./pilotlamp/ic_lamp_state1.svg":"q3hF","./pilotlamp/ic_lamp_state2.svg":"1Q8C","./pilotlamp/ic_lamp_state3.svg":"4ZeD","./pilotlamp/ic_lamp_state4.svg":"PyVS","./pilotlamp/ic_lamp_state5.svg":"K7Jg","./pilotlamp/ic_lamp_state6.svg":"YxMS","./pilotlamp/ic_lamp_state7.svg":"/LQY"};function o(t){return i(a(t))}function a(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}o.keys=function(){return Object.keys(n)},o.resolve=a,t.exports=o,o.id="PvXa"},PyVS:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjgwcHgiIGhlaWdodD0iODBweCIgdmlld0JveD0iMCAwIDgwIDgwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19sYW1wX3N0YXRlNDwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGRlZnM+DQogICAgICAgIDxjaXJjbGUgaWQ9InBhdGgtMSIgY3g9IjI5LjgxMDUyNjMiIGN5PSIzMC4zMTU3ODk1IiByPSIyNi44NDIxMDUzIj48L2NpcmNsZT4NCiAgICAgICAgPGZpbHRlciB4PSItOC43JSIgeT0iLTguNyUiIHdpZHRoPSIxMTcuNCUiIGhlaWdodD0iMTE3LjQlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMiI+DQogICAgICAgICAgICA8ZmVNb3JwaG9sb2d5IHJhZGl1cz0iMy42NTc4OTQ3NCIgb3BlcmF0b3I9ImRpbGF0ZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd1NwcmVhZE91dGVyMSI+PC9mZU1vcnBob2xvZ3k+DQogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIwIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4NCiAgICAgICAgICAgIDxmZUNvbXBvc2l0ZSBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiBpbjI9IlNvdXJjZUFscGhhIiBvcGVyYXRvcj0ib3V0IiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZUNvbXBvc2l0ZT4NCiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjU4NjEzNTY0MyAgIDAgMCAwIDAgMC41ODYxMzU2NDMgICAwIDAgMCAwIDAuNTg2MTM1NjQzICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd09mZnNldE91dGVyMSI+PC9mZUNvbG9yTWF0cml4Pg0KICAgICAgICA8L2ZpbHRlcj4NCiAgICA8L2RlZnM+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjEx54q25oCB5pi+56S65qC35byP5bqTMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTk0Mi4wMDAwMDAsIC0zNjMuMDAwMDAwKSI+DQogICAgICAgICAgICA8ZyBpZD0i5YiG57uELTExIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3MC4wMDAwMDAsIDEzOS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImljL2xhbXAvc3RhdGU0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3NzIuMDAwMDAwLCAyMjQuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5oyH56S654Gv5Zu+5bqTIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyLjAwMDAwMCwgMS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5oyH56S654GvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4LjAwMDAwMCwgOC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuakreWchuW9oiI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBzdHJva2U9IiNERURFREUiIHN0cm9rZS13aWR0aD0iMy4xNTc4OTQ3NCIgZmlsbD0iIzRGNEY0RiIgZmlsbC1ydWxlPSJldmVub2RkIiBjeD0iMjkuODEwNTI2MyIgY3k9IjMwLjMxNTc4OTUiIHI9IjI4LjQyMTA1MjYiPjwvY2lyY2xlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9IuakreWchuW9oiIgZmlsbD0iI0RGQjIyMCIgY3g9IjMwLjA2MzE1NzkiIGN5PSIzMC4zMTU3ODk1IiByPSIyNS4yNjMxNTc5Ij48L2NpcmNsZT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltYWdlIGlkPSLnu4QtMiIgeD0iNi4wNjMxNTc4OSIgeT0iOS42IiB3aWR0aD0iNDcuNDk0NzM2OCIgaGVpZ2h0PSI0MC40MjEwNTI2IiB4bGluazpocmVmPSJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUY0QUFBQlFDQVlBQUFDUTJNSWVBQUFBQkdkQlRVRUFBTEdPZlB0Umt3QUFETzFKUkVGVWVBSHQzT21Qbk1VUkJuQWNDTGxJUXNLTnNaRUlJYmVVaTRRYzRtdis2NGprUTZJY1VpSWt2Z0NSRVZkd0hBUTVDQVFDVHYxbTlqRzE3WGRtM2xuUHJ1M3hsbFRiM2RYVjFkMVBWMWYzMit2MW1jdVhMOTkyQTlJbmEwejNGdDlYZkhmeEY0dnZLdjVNOGFlTGJ5KytzL2pENGcrSy8xdjgva0grMzVYK28vanQ0a3ZGZnkrbWMwUFJtUnNFZUVDZlArQ3psUUo4cERNSGdqbWUwblhwVzREWGkxOCs0T3UrRU5jVCtFOFZDRjhwZnFMNGtXTGdod0EzQXZ4UnlUNXhvQ0MvaXFLamZXeEVwZzNRWHkxK3Z2Z3Z4WGJMaWRQMUFQNkJtdVYzaWg4dkJqNEtxSUFhUVkvM2RwMEF1bWc4L09nZ1o0SFl3Q2xIQitqQWY3YjRZdkdKMFVrQy8yak42dnZGRDUvWTdLN3VLQXQ3ZGMweUZQMnBLbDZhcXR5MTdDU0FQMWVEZnJMNC9sMFAvcGpzL2Ezcy9xSDRsV095dnpCN25NQi9vWHA0cXZpeFlwNlc4R0NiSjEvWkt6U0dtSzZUY05ObEdtNlNSMGM3bkQ2azRZUWR1dEZ4VzNxcCtMZkZia2c3cCtNQTNrVEU4TzhWMzlGR25FbEZOSllqbDZwREFWWitTa2FPVXJjc0xYK3VhaHZBWFVtTjFhRXVIL3BmWlp3RndIY0dDRC9PQU9XcGZrcThQZTBhZUY3K2RIRy9EdVpBRzRIb25xK3VUMHErNnlmZjVWMC83YnRlbVZoUTJpUWxCTGIrSGU2K0RYd1RjQkx0M1hxTUdlanlVdUhubVdMZkJwbFBaWTlPdXdUK3NSckdqNHVudk54Z0E0clJBc0hFcHlpQWptRFM3ZUNOYlh0ZDh2cE5QNUVwODNDZ2Y3YllCeHJPZFJiWStMM2lkdzg0K2Q5VStZVmlkcTlwQVhZQlBJQitVT3crUGxJbU84cm5sclZINDZMMThsSmovaytnY3c2Z3UyRjl0OWdGZ095ZFlqSGQxeS8rVi9FL0QxSjFGdUs1NHQ4Vkp5UlZkbnZxM3JsOTYrVmdmMTROSHl3V0F3TklBTy9BUmFhZm5sY09kZjB1NjNZamwwYmVaZktyN0t2VFJqMlAvVTh4eno5YkhGc0FGVjRBN2JuaDlXSmZ2bThWVzVSdkYzKysrSmxpTytGSW5uOHRIbS9BVHhkL3FUaUFWWFpyeW9RMTdIWUMwTllHMXpSSVg4S0tOeDluMGozRjN5aitTVEZaeUZnNEU4OS9xZmpsWWg5WmJ4YmJDWDh0L21XeCtxM0JQeXJ3RGlTZWJ1V1JRV1pTeVNlZFUwK24wOWhXM1dpZmpONUlYVStkY3ZSU1o2ZHpuTThWZTRDN3IvaWg0aWVMN3kzdXBLMWQ4RnF4WjRaWGl4MjJ2UCtONG1lS0xjUlc0QjhsMUJqd1Q0dkZTQjRSeWdRN2FPb2k3L2t1Uy91cGxKNEpTZE5tdEsvZEtGdW5xODY0M3krT1hRZXUvQitMZWYvNWczSWxDN2tkY3E2WXcrVVFOaTRMd2dGL1ZTeHN6UVovVytEcHU3a1lRQWU5aWdzeWVDQ3Nvems2MmtlUFBjREVidEpSUm4rSzZJOTFBQXZuRnBQVWdvanZqeGNINU1vdXhtQTNmS3M0QzBkWHFIMnErTmZGeXJOb0crQk4xRnVMN1JuUUEwS2ZXSi9vbURlbzZQWTY4dGlTUjlHVDc1NlVkcEdsVEErbEhIdmR6bEpqK1RNZUMzQ0xBRFNIcFlOVm5nYzdTTzN3RUF5Y0NWOHZWazhmZjduNGg4Vy9MMlpySTIwRC9GZkxtdFVGdXNtWVdDWloyU3RFRm05TWZmU1Rrb2NDRENEa294TTV2ZGdaODJNNWV0TDAwZTMxK3NnQjFUM1lRZ1I4b0xwdWNyYVF1ZDFmYkVma3FrblBPZkcxNHVlS045SmM0Qmw5cEhoY3pRdytrOVFoV2ZUazQ1bnlLTHBwdTVSK0RIakswVXM1NmFaMnFSLzdTL3VwRlBCWmdBNDh6MWUyMDkyQVFrTFFvOFdYaXQxeUxJQUZPVmZzNENWZlMzT0FkOFd5dGVMcFV3YUJoSFUrRW5sQVNKM0Z5SzZZQW1yVVp3T05mWXkyVTA2NmJQWHhZaXZITmgyTWpNV1lnTHlLbjZ3Nk42QVFYRGpqaThYQkVVYXdjc3V4QzFaU0dxeFNNRWlHcEp1QVp5TVRrUTkxRUpLWGhnTUVmYklRZWNyUlNadm9qUFhra1VVbmFXeWszUFhrRStxa3ZEODdRRXBHNTBmRkFaODl1NEQzWjZ6QnlNM296OFc5anlwK1RKdUFkN2NWMzNRK1VpYkNlRHFPak83WWFlcEdPZDIwNy9rdUk5OUUwZStwTnVrdjhtNW5TZ1k4TzBBS2NDa2JXWkNmVlI3Z1pIQVJqckpJMFhmcmc1MnYza2xhQi95ZDFlSnNzWTcza1lBT3FDa0tnQURGeW9BV2hyelgvS0xZNGx3bzlxeEFwaTRMVU5rRmR1b3N6RlcwRHZoekI5bzZER1dnaWMrUjAwbWNqR3dxTmRseHdzcW85N09VclA4Wlc5cWw3VGdHT3VxbWRIdS95VXZIT1FJMWZRRHg3V0l4L0h6eHM4VVhpejBidUFrRitQUkg1OFhpcTJqVms0R25nQ2VhTmtPWlhCTmYxMnpBT3VxNHNpQjlFcGxuVW5VV2s0TTZUSDJ0Q3lQeVlydEZlZWVBSGFhOFBndFgyUVU5WHo4dDFDRmE1Zkhpa3hEVEIzQ280WWJDVWR1dE1odDdTVmZwSFljY0RoaWdQTjZIRTl5TWhZZUhBenJkVHJDY0JUeHY5N1dXbFJzOWFweDhMeWVmMUFDU2w0YmliVDFOWGRLdUg1azA0NG5kWGljL3RvdCs5Tkl1ZWhtRCt1UjdHam1BZVRuUDFqWk1qdUFWekpUVEx5eGhlZ2o4S1kvM0h0RU5WUEdXcCtBaHpZSjFVSUFjb0xzOCtYc3FzeFo0OGNzS2pkc2xCazdUb3lIZ1RJQ3RNMkZCbzhmN09NanFUYTNzUWJNakoyd2ZoOTBqRDJob2VKVHh6VzBEMjBuZ25kNCtsdUx0QUdJVUpSL1FJbC9XcnY3WjI0MXRVdGZ0Sjk4dHJtdlg5WHJiM2liOVpPejBVai9LbEhzNEdmVlNIdnZxZll3Nnl1cGhlK1c2MnoxZUJhWGVzSXBiVVRyWnF0RUpLSS9qR3N1N0dNSWNtekJleFBvT3ZEdHFEcEZyR1lnQjNJZzBqbXNzNzJMTW0yekMrQkR3dG9JbmdvU1pES0p2SWJMUmNPclY5Ynh5cDlRbFZkZnpLVXZIUHNqV0VUdG9iTmZ0OS94UysvRFAyQmp0VExXTExLazJQUi9MVXpJWUwrVHhlRGNaQSsrRFQwT3k1Q3Q3Vlo1czFDR2JJblpRK3BrcTk3cDErWXdwNmRMeTlNOHBuZDUzejNjTFhSNGJYVFkxdnJUdmVsM21odk51Z0oveTlpajNWRWN4Mk9YcjhyN28rZ09TWFNXa3NSVjI2TEJyUE5oNE1Ibm9LSDJuN1pqT3NUVkhaN1E3cDd4NGFnandDanFhUTNQMFBCajV3cFBPT1RlaVkxRzA4ZjZCN0VRZWdpM01uTDVMYlJiTnNUVkhaMVpuVFFuV1Y5NGMvTE8yVEw3cGJKMEZOdERHczJKclF3Y05MQUoySUFIZjRkUjNRUlZ2T29MMUdSNi9DOUM5VjNnYXpidEZaWGRLbk1MamxBOFFDK0FyOEdaZWdOc1RVMWR0S2ZKTk1aMUhBdjBreUhpQWIyZmxlYmFQYnh6dnFuTGtTZGVOZlpVT09lcjlMeVdIZi9iMnlkL2hQVDRUT0t3K3J4UVE1bW52WG92WEc3K0QrR2FpOTNpOEZiT1ZwVm5GeW00a29FLytXbXRqeTkwcEdMY3p4YTRUZ29STnRHa3VZLzFZWGxvNS9IT09UbTh4cFIvWkdSN3ZNellEN2czSGZMWUpPZEJkRVc4MDR2bHVRaVo0STlPSFBCNmdjMjgwZE1YWDR6cEV5L1Exa1IzSUlTekE0dHAyVGRhT3IvRmx3S001SVlhT0xiMnJxNkorajRNeXppekFuTjE4SE9OWWF6TWVUOG1BK3haTldjckRzZnpOUW5heDNRbDQ4M1FRWjM1OUhwRlY5WUo2SFVIcXljZDhkTW1UNzIza1Vkb212VTJNZHlpTlJBRWJQQStYdjlrSjhGbUE2ejZYL1BPT3JLUUI3UVBJNjRDOUVSYmdnd0MvYnFEN1dzZlpMSUpRMUIzdk9PZkxxWVhzajI1bDREdkFXWVNrdlc1WGVXSDd5bTF3VytCSHo5alhzSlNEMkh6SE9XKzdFREM2NnB6TWRYS09zV3hMS2VvSDc3NHRnTG1GQW43U3lEZWxiTUJsRXB1NXdBUGJCNGxuV1d3UVB0VzlHTG92VHhvditUN1FGSGpaQlVrenp5bmQxQjFLdHdFZTRHZUxIeWpXNGFYaVY0cTlsYy91c0hUM2dlSm9TYmVlVThMR3VvWkFwZ2Y0K3c1U2QzOTUvMERmNG8wclg2SlRXb2ZBSE9DMUIyd1dJR1h2SVlDWHpyV2o3U2tWQW5NQnM2VmNoWG84MXhidzNzTlA4aTVjM2QzOE5BZDRvRHVodlh2NFRWUGltaDBnL054ZGZPcjFCY0kyTkFkNDlnRHZ5ZFYvbk5CLytlR21jMCt4Ti8zVFdGOGd6S1c1d0NmVTVDK1o0L1hhQXgzNHB5Rm5MdXFsdHczd3ZyNzg1c2xmc2drN0lXSEdIelA0WjhpbklTZW9iRWpuQXM5TXdvMi9ldVA1eWtpczUvVVBGdnVURStGbkc3dWxmdXZSM0E4b3lDVGMrRnE5V0F6c3U0cVJXNDMvWUNLL29mSlI1UWFVeGFuc0tYVUV0Z0ZlTytBRDFDRjdxWmgzKytVeWtoZHlBcmduaGVRcmUwb2RnVzFEQXVBVDYzbjlXd2ZsMkhUQUNqblliaER6VCsvNEJjSkkyd0t2dmZEaFk4cWQvclZpTWIrSEZPQS9YSHkyMkFlV0hYRUtmb0hRYWR2MytMVE44NEUzRytIbGZMRmJEWGxJdkxjajNpaDJHTHNSTFg3N1V1a3RUOXZHK0FBbTVQQnk0TDVaYk9jQTNhMG11NGluNTFITmVXQUJUdU4rZ1lDT0NyeTJpZmZBZDdkWGZxUlllQkZha05SaUNEL2kvWVZpWjBRUFRWVzg5U2plZWRTWkExdjQ4RUVGZk1EYUFXNHo2cENkNE1ielVMR0Z2dFkreThUTlQ5Zmk4Wmw5d0pmeVpBdmhyaS8yZTBRTDBPcjdZbGdRM09XcEwvRisweTZBaHhEQWhCQmhKNmtERmZnT1hmMjhVR3duSUljeVdZRFBvV3Zod251OUNFZTkxUlErSzRtSGkrMkFkY0JpZ0h2VnRDaEl6RDliTE80TFUvbHJEd3NYM1N4R2lmYVBqZ040S0NXTVdBUjV4SU96R04rc2ZIWUNvSUVzdFFpZUd5NFcyekhrZTBtQU9BNENNaDV2THhiQmJ2Q3VrNXNQcjNmNDJnVnVRSDZ4NHFOTS9kNENuNE92NW5paXhLczc5UjNDR1JLU3VzNWU1VThhZUR0QU9MbFE3TnFaZjVlVG5XR1hlSXJZNi9oZTgxdkVYT2xKRVlBZHNrRDNGZXNoRFFzemVkTVIzeDJ5V1l6SzdoOGQxK0c2RHFtRUZURWNDeTNpdk4ySGdXNG44SG83WUMvcGVnRGZnY3dpQUZ3ZThmU3BnM2xSdVM4Ly9nL00zdXdQbHptVDBnQUFBQUJKUlU1RXJrSmdnZz09Ij48L2ltYWdlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},RKeT:function(t,e,i){(function(t){!function(t){"use strict";var e=t.ht,i=function(){return document},n=function(){return i().body},o=function(t,e,i){t.style.setProperty(e,i,null)},a=function(t){return i().createElement(t)},r=function(){return a("div")},s=function(t,e){o(t,"-webkit-transform",e),o(t,"-ms-transform",e),o(t,"transform",e)},l=function(t,e){t.appendChild(e)},c=t.parseInt,h=e.Default,d=h.eventListenerOptionsFalse,g=(h.eventListenerOptionsTrue,function(t,e,i,n){t.addEventListener(e,i,d)}),u=h.getInternal(),f=Math.PI,v="white-space",p="visibility",I="left",_="top",y="width",C="height",m="position",w="display",b="z-index",A="px",M="absolute",x="visible",D="hidden",T="none",N="block",S="nowrap";h.setImage("node_dragger","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAN9JREFUeNrsV9sNhDAMKyzQVdgARmGzrMJNUFZhAh6nfkVcG9PQgHSR8lEksJs6pnGuLCimSRzAa0yyBK9O4gy8GokU+O0kJOAwiQYg0LP1xNYDW3+0CfBYNb7VOuN4LAGpiOaYUhFDas9F2NPHDELNENJqaHgBgSQJ3ufakfQJqckERcOiK+Ae1FGWBNKGh9oX5WPpLpdNYfffijbsxTHh7VKP7388n1g1h7OKUoUuyGpJakQEuhwkZAKcDXVOdWcrOrL/feBVBHI/q8fcjE1nA9PpyHQ+NJ2Qi8A3AQYAOtS27fCoRY0AAAAASUVORK5CYII=");var z=e.graph.GraphView.prototype,k=z._42;z.adjustHtmlNodeIndex=!0,z._42=function(t,e){if(k.call(this,t,e),this.adjustHtmlNodeIndex)for(var i=this.getDataModel()._datas._as,n=i.length,a=1,r=0;n>r;r++){var s=i[r];if(s instanceof V){var l=this.getDataUI(s);o(l.$2f,b,a+""),o(l.$3f,b,a+1+""),a+=2}}};var E=e.HtmlNodeUI=function(t,e){var i=this;E.superClass.constructor.call(i,t,e);var n=i.$2f=r(),s=i.$3f=a("canvas");o(n,m,M),o(n,p,D),o(n,v,S),s.draggable=!1,o(s,m,M),o(s,w,T),function(t,e){o(t,"-webkit-transform-origin",e),o(t,"-ms-transform-origin",e),o(t,"transform-origin",e)}(s,"0 0"),g(n,"change",function(t){var n=t.target,o=n.bind||n.getAttribute("bind"),a=n.type&&"checkbox"===n.type?n.checked:n.value,r=e.getContext();o&&r&&(r[o]=a,i.$4f=JSON.stringify(r))}),["mousedown","touchstart","keydown","mousewheel","DOMMouseScroll"].forEach(function(t){g(n,t,this.$9f.bind(this))},i)};h.def(E,u.ui().NodeUI,{_visible:!0,$11f:function(){var t=this.$3f,e=this._data,i=e.getDraggerImageWidth(),n=e.getDraggerImageHeight(),o=e.getDraggerImage(),a=u.initContext(t);a.beginPath(),u.setCanvas(t,i,n),u.translateAndScale(a,0,0,1),a.clearRect(0,0,i,n),h.drawImage(a,h.getImage(o),0,0,i,n),a.restore()},_80o:function(t){E.superClass._80o.call(this,t);var e=this,i=e._data,n=2*i._padding,a=e.$2f,h=e.$3f,d=e.gv,g=d.getZoom(),u=d.getTranslateX(),v=d.getTranslateY(),S=d.getView(),z=e._83o,k=i._width,V=i._height,j=z.position,R=z.rotation,P=(k-n)/i.$5f*g,Z=(V-n)/i.$6f*g,L=e._html,B=i._html,O=i.getHtmlType();if("html"===O){var U=i.getContext()||{},W=e.$4f,G=i.$10f,F=JSON.stringify(U);L&&W&&L===B&&W===F||(e.$4f=F,e._html=B,a.innerHTML=G?G(U):B)}else if(null!=O){var Q=i.getHtml();"ht"===O&&(Q=Q.getView()),L&&L===Q&&a.contains(L)||(e._html=Q,a.innerHTML="",l(a,Q))}if(!a.parentNode){var H=d.$1f;if(!H){var Y=r();o(Y,m,M),o(Y,b,"0"),H=d.$1f=Y;var J=d._canvas.nextSibling;J?S.insertBefore(Y,J):l(S,Y)}l(H,a),l(H,h),i.onContentInitialized&&i.onContentInitialized(a)}if(i._scalable){var X=i.$5f,$=i.$6f;s(a,"rotate("+R/f*180+"deg) scale("+P+","+Z+")"),o(a,y,""),o(a,C,""),o(a,I,(j.x-X/g/2)*g+u+A),o(a,_,(j.y-$/g/2)*g+v+A)}else{var K=c(a.style.width),q=c(a.style.height),tt=c((k-n)*g),et=c((V-n)*g),it=a.children[0];o(it,y,"100%"),o(it,C,"100%"),(K!==tt||q!==et)&&(o(a,y,tt+A),o(a,C,et+A),"ht"===O&&B.invalidate()),s(a,"rotate("+R/f*180+"deg)"),o(a,I,(j.x-tt/g/2)*g+u+A),o(a,_,(j.y-et/g/2)*g+v+A)}var nt=e.dragRect;d.isMovable(i)&&d.isSelected(i)&&nt?(t.save(),t.fillStyle="rgba(0, 0, 0, 0.005)",t.fillRect(nt.x,nt.y,nt.width,nt.height),t.restore(),o(h,I,nt.x*g+u+A),o(h,_,nt.y*g+v+A),s(h,"scale("+g+","+g+")"),o(h,w,N),e.$11f()):o(h,w,T),o(a,p,this._visible?x:D)},dispose:function(){var t=this.gv.$1f;this.$2f.parentNode===t&&t.removeChild(this.$2f),this.$3f.parentNode===t&&t.removeChild(this.$3f)},_84o:function(t){this._visible=t,o(this.$2f,p,t?x:D),o(this.$3f,w,t?N:T)},_3O:function(){var t=this,e=t.gv,i=t._data;E.superClass._3O.call(t);var n=i.getRect();e.isEditable(i)&&(t.dragRect={x:n.x+n.width+i._padding,y:n.y+10,width:i.getDraggerImageWidth(),height:i.getDraggerImageHeight()},t._68o(t.dragRect))},rectIntersects:function(t){var i=this._79o();return!!e.Default.intersection(i,t)||void 0},$9f:function(t){var e=this.gv,i=this._data;e.sm().contains(i)&&t.stopPropagation()}});var V=e.HtmlNode=function(){V.superClass.constructor.call(this)};e.Default.def(V,e.Node,{ms_ac:["html","context","scalable","padding","draggerImage","draggerImageWidth","draggerImageHeight"],_padding:e.Default.isTouchable?12:6,_image:null,_scalable:!0,_draggerImage:"node_dragger",_draggerImageWidth:20,_draggerImageHeight:20,setHtml:function(e){var i=this,n=i._html;i._html=e,"html"===i.getHtmlType()&&"Handlebars"in t&&(i.$10f=Handlebars.compile(e)),i.$13f(),i.fp("html",n,e)},setContext:function(t){var e=this,i=e._context;e._context=t,e.fp("context",i,t),e.$13f()},setScalable:function(t){var e=this,i=e._scalable;e._scalable=t,e.fp("scalable",i,t),e.$13f()},getHtmlType:function(){var t=this._html;return t?"string"==typeof t?"html":t.getView?"ht":"dom":null},$13f:function(){var t=this,e=t._html,i=t.$10f;if(e){var a=r(),s=!1,c=t.getHtmlType();if(o(a,m,M),o(a,v,S),o(a,p,D),"html"===c?(a.innerHTML=i?i(t.getContext()||{}):e,s=!0):"ht"===c?(l(a,e.getView()),s=!0):"dom"===c&&(l(a,e),s=!0),s){var h=2*t._padding;l(n(),a),t.$5f=a.scrollWidth,t.$6f=a.scrollHeight,t._width=t.$5f+h,t._height=t.$6f+h,t._originWidth=t._width,t._originHeight=t._height,function(t,e){t.removeChild(e)}(n(),a)}}},getUIClass:function(){return e.HtmlNodeUI}})}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object)}).call(e,i("DuR2"))},ROVI:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIwcHgiIGhlaWdodD0iMjBweCIgdmlld0JveD0iMCAwIDIwIDIwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19iYWNrPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iMTQ0MHg5MDAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iMDTlnIblvaLnn6nlvaLpgInmi6kiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNi4wMDAwMDAsIC0yMC4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIj4NCiAgICAgICAgICAgIDxnIGlkPSLnn6nlvaIiPg0KICAgICAgICAgICAgICAgIDxnIGlkPSJpYy9iYWNrIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi4wMDAwMDAsIDIwLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUuNSwyLjUyNDA0MzU2IEw3LjkxNzg5NjY4LDEwLjQ0NDQ0NDQgTDE1LjUsMTguMzY0ODQ1MyBMMTQuMDQxMDUxNywxOS44ODg4ODg5IEw1LDEwLjQ0NDQ0NDQgTDE0LjA0MTA1MTcsMSBMMTUuNSwyLjUyNDA0MzU2IFoiIGlkPSLlkIjlubblvaLnirYiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},RPQ8:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIxcHgiIGhlaWdodD0iMjBweCIgdmlld0JveD0iMCAwIDIxIDIwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19ib2xkPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iMTQ0MHg5MDAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGZvbnQtZmFtaWx5PSJTb3VyY2VIYW5TZXJpZkNOLUJvbGQsIFNvdXJjZSBIYW4gU2VyaWYgQ04iIGZvbnQtc2l6ZT0iMTQiIGZvbnQtd2VpZ2h0PSJib2xkIj4NCiAgICAgICAgPGcgaWQ9IjA45paH5pys5bGe5oCnIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTI5NS4wMDAwMDAsIC00MjIuMDAwMDAwKSIgZmlsbD0iIzMzMzMzMyI+DQogICAgICAgICAgICA8ZyBpZD0i5YiG57uELTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExNjAuMDAwMDAwLCAxMjAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC04LWNvcHktNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAuMDAwMDAwLCAyOTcuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJidG4iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDExMS4wMDAwMDAsIDAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iaWMvYm9sZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNS4wMDAwMDAsIDQuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRleHQgaWQ9IkIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHNwYW4geD0iNSIgeT0iMTYiPkI8L3RzcGFuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGV4dD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},"RPa/":function(t,e,i){"use strict";e.a={arrImgHouse:[{id:1,name:"风机",img:i("q3hF"),selected:!0,children:[{id:2,img:i("q3hF")},{id:3,img:i("1Q8C")},{id:4,img:i("4ZeD")},{id:5,img:i("PyVS")},{id:6,img:i("K7Jg")},{id:7,img:i("YxMS")}]},{id:8,name:"风机",img:i("9MbH"),selected:!1,children:[{id:9,img:i("9MbH")},{id:10,img:i("m2om")},{id:11,img:i("cLP8")},{id:12,img:i("WR5j")},{id:13,img:i("99yV")},{id:14,img:i("duz5")}]}],attr:{line:{color:"shape.border.color",width:"shape.border.width"},standard:{background:"shape.background",borderColor:"shape.border.color",borderWidth:"shape.border.width"},pipe:{borderWidth:"shape.border.width",borderColor:"shape.border.color",dashWidth:"shape.dash.width",blockLength:"shape.dash.pattern",blockSpacing:"shape.dash.pattern",dashColor:"shape.dash.color",flowDirection:"shape.dash.flow.reverse"},text:{fontSize:"fontSize",color:"color",fontWeight:"fontWeight",fontStyle:"fontStyle"},yezhu:{background:"shape.background"}}}},RXfB:function(t,e,i){t.exports=i.p+"static/img/ic_rongqi.934ba7d.svg"},VxqK:function(t,e,i){(function(t){!function(t,e){"use strict";var i=t.ht,n="px",o="left",a="top",r="bottom",s="right",l="innerHTML",c="className",h="width",d="height",g="position",u="absolute",f="0",v="opacity",p="background",I=i.Default,_=I.getInternal(),y=i.Color,C=I.animate,m=I.isTouchable,w=null,b=(Math.sqrt,t.parseInt),A=t.setTimeout,M=(Math.round,y.titleIconBackground),x=function(){return document},D=function(t){return x().createElement(t)},T=function(){var t=D("div");return t.tabIndex=-1,t.style.outline="none",t},N=function(){return D("canvas")},S=function(t,e){z(t,"-webkit-transform",e),z(t,"-ms-transform",e),z(t,"transform",e)},z=function(t,e,i){t.style.setProperty(e,i,w)},k=function(t,e){t.appendChild(e)},E=function(){return x().documentElement},V=function(){return E().clientWidth},j=function(){return E().clientHeight},R=I.eventListenerOptionsFalse,P=(I.eventListenerOptionsTrue,function(t,e,i,n){t.addEventListener(e,i,R)}),Z=function(t){var e=t.touches[0];return e||t.changedTouches[0]};_.addMethod(I,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:M},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:M}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:M},{type:"rect",rect:[10,10,80,20],background:M}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:M},{type:"rect",rect:[10,34,56,14],background:M},{type:"rect",rect:[34,10,56,14],background:M},{type:"rect",rect:[82,10,8,56],background:M},{type:"rect",rect:[66,62,24,8],background:M}]},dialogTitleLabelColor:I.labelSelectColor,dialogTitleLabelFont:(m?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:I.labelFont,dialogTitleBackground:y.titleBackground,dialogHeaderBackground:y.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var L=function(t){this.$1d=t,this.addListeners()};I.def(L,e,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(t){var e=this,i=e.$1d,n=i.$6d,o=i._config,a=i.$7d,r=t,s=t.target;if(a.contains(s)||I.preventDefault(t),I.isLeftButton(t)){m&&(r=Z(t));var l=e.$8d={x:r.pageX,y:r.pageY};e.$9d={x:l.x,y:l.y},!o.maximized&&o.draggable&&n.contains(s)&&(e.$4d=!0,I.startDragging(e,t)),e.handle_mousemove(t)&&(e.$2d=!0,I.startDragging(e,t)),a.contains(t.target)||i.$41d.focus()}},handle_mousedown:function(t){this.handle_touchstart(t)},handle_touchend:function(t){if(I.isLeftButton(t)&&!this.$5d&&!this.$3d){var e=this,i=e.$1d,n=t.target,o=i._config,a=i.$18d,r=i.$16d;for(o.closable&&a.contains(n)&&i.hide(),o.maximizable&&r.contains(n)&&(o.maximized?i.restore():i.maximize());n&&(n.className||"").indexOf("dialog-button")<0;)n=n.parentNode;n&&n.buttonItem&&i.action&&i.action(n.buttonItem,t),delete e.$8d,delete e.$9d}},handle_mouseup:function(t){this.handle_touchend(t)},handleWindowTouchEnd:function(t){var e=this,i=e.$1d,n=i.$10d;e.$2d&&e.$3d?n.fire({kind:"endResize",target:i,originEvent:t}):e.$4d&&e.$5d&&n.fire({kind:"endMove",target:i,originEvent:t}),this.clear()},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handle_mousemove:function(t){var e=this.$1d._config;if(e.maximized)return!1;if("w"!==e.resizeMode&&"h"!==e.resizeMode&&"wh"!==e.resizeMode)return!1;var i=this.getView(),n=i.querySelector(".resize-area").getBoundingClientRect(),o={x:n.left,y:n.top,width:n.width,height:n.height},a={x:(t=m?Z(t):t).clientX,y:t.clientY};return I.containsPoint(o,a)?(z(i,"cursor","nwse-resize"),!0):void z(i,"cursor","")},handleWindowTouchMove:function(t){t.preventDefault();var e=t;m&&(e=Z(t));var i=this,r=i.$8d,s=i.$9d;if(!(s.x==r.x&&s.y==r.y&&I.getDistance(s,{x:e.pageX,y:e.pageY})<=1)){var l=i.$1d,c=l._config,h=l.$21d,d=c.resizeMode||"wh",g=e.pageX-r.x,u=e.pageY-r.y;if(i.$2d){var f=h.offsetWidth,v=h.offsetHeight,p=f+g,_=v+u;if(p=Math.max(p,50),_=Math.max(_,50),"center"===c.position||c.position==w){var y={},C=h.getBoundingClientRect();y.x=C.left,y.y=C.top,c.position=y}"w"===d?(l.setSize(p,v),r.x+=p-f):"h"===d?(l.setSize(f,_),r.y+=_-v):"wh"===d&&(l.setSize(p,_),r.x+=p-f,r.y+=_-v),i.$3d?l.$10d.fire({kind:"betweenResize",target:l,originEvent:t}):(i.$3d=!0,l.$10d.fire({kind:"beginResize",target:l,originEvent:t}))}else if(i.$4d){var A=h.getBoundingClientRect(),M=A.width,x=A.height,D=V(),T=j(),N=b(h.style.left)||0,S=b(h.style.top)||0,k=N+g,E=S+u,R=l.adjustPosition({x:k,y:E},{width:M,height:x},{width:D,height:T});R&&(k=R.x,E=R.y);var P=k-N,L=E-S;z(h,o,k+n),z(h,a,E+n),r.x+=P,r.y+=L,c.position={x:k,y:E},i.$5d?l.$10d.fire({kind:"betweenMove",target:l,originEvent:t}):(i.$5d=!0,l.$10d.fire({kind:"beginMove",target:l,originEvent:t}))}}},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowResize:function(){var t=this,e=t._config,i=t.$21d,r=V(),s=j(),l=e.width,c=e.height,g=e.position||"center";e.maximized?(z(i,h,r+n),z(i,d,s+n),z(i,a,f),z(i,o,f)):(z(i,h,l+n),z(i,d,c+n),"center"===g?(z(i,o,(r-l)/2+n),z(i,a,(s-c)/2+n)):(z(i,o,g.x+n),z(i,a,g.y+n))),t.iv()},handle_mousewheel:function(t){t.stopPropagation()},handle_DOMMouseScroll:function(t){t.stopPropagation()}}),i.widget.Dialog=function(t){var e=this,n=e._view=_.createView(null,e);n[c]="ht-widget-dialog",z(n,g,u),I.baseZIndex!=w&&z(n,"z-index",I.baseZIndex+"");var o=e.$11d=new L(e);e.bindingHandleWindowResize=o.handleWindowResize.bind(e),e.$10d=new i.Notifier,t&&e.setConfig(t)},function(t,e,n){I.def(i.widget[t],e,n)}("Dialog",e,{ms_v:1,ms_fire:1,setTitle:function(t){this._config.title=t,this.getView().querySelector(".dialog-container-title span").innerHTML=t},clearNodes:function(t){if(t)for(;t.firstChild;)t.removeChild(t.firstChild)},$31d:function(){var t=this,e=t.$6d=T(),i=t._config,o=t.$12d=t.$13d();e[c]="dialog-container-title",z(e,"cursor","default"),z(e,"white-space","nowrap"),z(e,"overflow","hidden"),z(e,"font",I.dialogTitleLabelFont),z(e,p,i.titleBackground||I.dialogTitleBackground),z(e,"color",i.titleColor||I.dialogTitleLabelColor);var a=D("span"),r=t.$25d();if(i.titleAlign&&z(e,"text-align",i.titleAlign),i.titleIcon){var s=t.$14d=t.$15d();k(e,s)}if(i.title&&i.title.trim&&(i.title=i.title.trim()),a[l]=i.title||"&nbsp;",k(e,a),i.maximizable){var h=t.$16d=t.$17d();k(o,h)}if(i.closable){var d=t.$18d=t.$19d();k(o,d)}return k(e,o),z(e,"display","block"),z(e,"line-height",r+n),e},$13d:function(){var t=T();return z(t,g,u),z(t,o,f),z(t,s,5+n),z(t,a,f),z(t,r,f),z(t,"text-align",s),z(t,"white-space","nowrap"),t[c]="dialog-title-controls",t},$20d:function(){var t=this.$21d=T(),e=this._config,i=e.borderWidth;return z(t,g,"fixed"),z(t,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),z(t,"padding","0 "+i+n+" "+i+n+" "+i+n),z(t,"box-sizing","border-box"),z(t,"-moz-box-sizing","border-box"),t[c]="dialog-container",z(t,p,e.titleBackground||I.dialogTitleBackground),t},$22d:function(){var t,e,f=this,v=f._config,p=f.$7d=T(),_=v.content,y=0,C=v.contentPadding||0;v.buttons!=w&&v.buttons.length>0&&(y=32),"string"==typeof(e=_)||e instanceof String?p[l]=_:_.getView?(t=_.getView(),k(p,t)):k(p,t=_),z(p,g,u),z(p,"font",I.dialogContentLabelFont),i.Default.appendToScreen(p);var m=p.offsetWidth+1,b=p.offsetHeight,A=f.$25d();return v.width==w&&(v.width=m+10+2*C),v.height==w&&(v.height=b+A+y+5+2*C),i.Default.removeHTML(p),t&&(z(t,"box-sizing","border-box"),z(t,"-moz-box-sizing","border-box"),z(t,h,"100%"),z(t,d,"100%")),p[c]="dialog-content",z(p,a,A+C+n),z(p,r,y+C+n),z(p,o,C+n),z(p,s,C+n),z(p,"overflow","hidden"),p},getOverlayDiv:function(){return this.$41d},$23d:function(){var t=this.$41d=T();return t[c]="dialog-overlay",z(t,h,"100%"),z(t,d,"100%"),z(t,g,"fixed"),z(t,a,f),z(t,o,f),z(t,p,"rgba(235, 235, 235, 0.7)"),t},_config:w,setSize:function(t,e){var i=this,n=i._config;n&&(n.width=t,n.height=e,i.isShowing()&&(i.bindingHandleWindowResize(),i.iv()))},getConfig:function(){return this._config},$24d:function(){var t=this._config.titleIconSize||16;return m&&(t*=1.2),t},$25d:function(){return this._config.titleHeight||I.widgetTitleHeight},$26d:function(t){z(t,"cursor","pointer"),z(t,"display","inline-block"),z(t,"margin-right",(m?8:4)+n),z(t,"vertical-align",a)},$27d:function(){var t=this.$30d=T(),e=10;return m&&(e=20),z(t,h,e+n),z(t,d,e+n),z(t,g,u),z(t,r,f),z(t,s,f),t[c]="resize-area",t},$15d:function(){var t=this,e=N();e[c]="dialog-title-control dialog-title-control-icon";var i=t.$25d(),n=t.$24d();return t.$26d(e),_.setCanvas(e,n,i),e},$17d:function(){var t=N();t[c]="dialog-title-control dialog-title-control-maximize";var e=this.$25d(),i=this.$24d();return this.$26d(t),_.setCanvas(t,i,e),t},$19d:function(){var t=N();t[c]="dialog-title-control dialog-title-control-close";var e=this.$25d(),i=this.$24d();return this.$26d(t),_.setCanvas(t,i,e),t},$28d:function(){var t=T();return z(t,p,"white"),z(t,h,"100%"),z(t,d,"100%"),z(t,g,"relative"),t},$29d:function(){var t=this,e=T();z(e,"line-height",32+n),z(e,g,u),z(e,r,f),z(e,o,f),z(e,"white-space","nowrap"),z(e,"overflow","hidden"),z(e,s,f),z(e,p,I.dialogHeaderBackground),e[c]="dialog-container-buttons";var a=this._config,l=a.buttonsAlign||s,d=0;return z(e,"text-align",l),t.$42d=[],a.buttons.forEach(function(a){var r=new i.widget.Button,u=r.getView();u[c]="dialog-button "+a.className,u.buttonItem=a,t.$42d.push(r),r.setBorderColor(w),r.setBackground(I.dialogButtonBackground),r.setSelectBackground(I.dialogButtonSelectBackground),r.setLabelColor(I.dialogButtonLabelColor),z(u,g,"relative"),z(u,"display","inline-block"),z(u,"text-align",o),z(u,"height",24+n);var f=m?10:5;l===o||l===s?z(u,"margin-"+l,f+n):0===d||z(u,"margin-"+o,f+n),z(u,"vertical-align","middle");var v=I.getTextSize(r.getLabelFont(),a.label).width+10;r.onClicked=function(e){a.action&&a.action.call(t,a,e)},r.setLabel(a.label),r.setDisabled(a.disabled),z(u,h,v+n),k(e,r.getView()),d++}),e},setConfig:function(t){if(t){var e=this,i=e._view;e._config=t,e.action=t.action,e.clearNodes(i),t.borderWidth==w&&(t.borderWidth=5);var n=e.$23d(),o=e.$28d(),a=e.$31d(),r=e.$22d(),s=e.$20d(),l=e.$30d=e.$27d();if(k(i,n),k(i,s),k(s,o),k(o,a),k(o,r),t.buttons!=w&&t.buttons.length>0){var c=e.$29d();k(o,c)}k(s,l),t.maximized?(t.maximized=!1,e.bindingHandleWindowResize(),e.maximize(!0)):e.bindingHandleWindowResize(),e.isShowing()&&e.iv()}},hide:function(){var e,n,o,a=this,r=a.$21d,s=a.$41d,l=a._view;l[c]="ht-widget-dialog",C(r).duration(200).scale(.7).set(v,f).end(function(){a.onHidden&&a.onHidden(),i.Default.removeHTML(l),a.$10d.fire({kind:"hide",target:a})}),C(s).duration(200).set(v,f).end(),e=t,n="resize",o=a.bindingHandleWindowResize,e.removeEventListener(n,o,R)},isShowing:function(){return!!this._view.parentNode},setModal:function(t){this.$41d.style.display=t?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var t=this,e=t._config,i=t.$21d;S(i,""),t.iv(),e.maximized?t.$10d.fire({kind:"maximize",target:t}):t.$10d.fire({kind:"restore",target:t})},maximize:function(t){var e=this,i=e.$21d,r=e._config;if(!r.maximized){r.maximized=!0,e.$33d(),e.$16d[c]="dialog-title-control dialog-title-control-minimize";var s=V(),l=j(),g=r.width,u=r.height,v=b(i.style.left)||0,p=b(i.style.top)||0;e.$36d=g,e.$37d=u,e.$34d=v,e.$35d=p;var I=t?0:200;C(i).duration(I).set(o,f).set(a,f).set(h,s+n).set(d,l+n).end(function(){e.$32d()})}},restore:function(){var t=this,e=t.$34d,i=t.$35d,r=t.$36d,s=t.$37d,l=t._config;if(l.maximized&&(l.maximized=!1,t.$33d(),t.$16d[c]="dialog-title-control dialog-title-control-maximize",t.isShowing()&&e!=w&&i!=w&&r!=w&&s!=w)){var g=t.$21d;C(g).duration(200).set(o,e+n).set(a,i+n).set(h,r+n).set(d,s+n).end(function(){t.$32d()})}delete t.$34d,delete t.$35d,delete t.$36d,delete t.$37d},show:function(){var e=this,o=e._view,a=e._config,r=e.$21d,s=e.$41d;a&&a.zIndex!=w&&z(o,"z-index",a.zIndex+""),i.Default.appendToScreen(o),S(r,"scale(0.7)"),z(r,v,f),e.iv(),e.validate(),e._view[c]+=" dialog-show",A(function(){C(r).duration(200).scale(1).set(v,"1").end(function(){z(r,h,r.clientWidth+n),z(r,d,r.clientHeight+n),e.onShown&&e.onShown(),e.$10d.fire({kind:"show",target:e});var t=a&&a.content;t&&t.iv&&t.iv()}),C(s).duration(200).set(v,"1").end(),P(t,"resize",e.bindingHandleWindowResize)},30)},setPosition:function(t){var e=this.$21d;e.style.left=t.x+"px",e.style.top=t.y+"px"},addEventListener:function(t,e,i){this.$10d.add(t,e,i)},removeEventListener:function(t,e){this.$10d.remove(t,e)},$38d:function(t,e,i,n){var o=_.initContext(t);_.translateAndScale(o,0,0,1),o.clearRect(0,0,i,i);var a=(i-n)/2;I.drawStretchImage(o,I.getImage(e),"fill",0,a,n,n),o.restore()},$33d:function(){var t=this,e=t._config,i=t.$16d,n=e.maximized?I.dialogRestoreIcon:I.dialogMaximizeIcon;if(i&&n){var o=t.$25d(),a=t.$24d();t.$38d(i,I.getImage(n),o,a)}},$39d:function(){var t=this,e=t._config,i=t.$14d,n=e.titleIcon;if(i&&n){var o=t.$25d(),a=t.$24d();t.$38d(i,I.getImage(n),o,a)}},$40d:function(){var t=this,e=t.$18d,i=I.dialogCloseIcon;if(e&&i){var n=t.$25d(),o=t.$24d();t.$38d(e,I.getImage(i),n,o)}},invalidate:function(t){var e=this,i=e.$42d;e._68I||(e._68I=1,I.callLater(e.validate,e,w,t),e.onInvalidated&&e.onInvalidated(),e.fireViewEvent("invalidate"));var n=e._config.content;n.invalidate&&n.invalidate(),i&&i.forEach(function(t){t.iv()})},validateImpl:function(){var t=this;t.$40d(),t.$33d(),t.$39d();var e=t._config.content;e.initView&&(e.setX(0),e.setY(0),e.setWidth(t.$7d.clientWidth),e.setHeight(t.$7d.clientHeight))},adjustPosition:function(t,e,i){var n=e.width,o=e.height,a=i.width,r=i.height,s=t.x,l=t.y,c=this._config,h=c.minDragSize||20;return"inside"===c.dragMode?(s+n>a&&(s=a-n),l+o>r&&(l=r-o),0>s&&(s=0),0>l&&(l=0)):(null==c.dragMode||"none"===c.dragMode)&&(-n+h>s&&(s=-n+h),s>a-h&&(s=a-h),l>r-h&&(l=r-h),0>l&&(l=0)),{x:s,y:l}}})}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object)}).call(e,i("DuR2"))},VyW9:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY190ZXh0PC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iMTQ0MHg5MDAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iMDTlnIblvaLnn6nlvaLpgInmi6kiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNzkuMDAwMDAwLCAtMzU0LjAwMDAwMCkiIGZpbGw9IiMzMzMzMzMiIGZpbGwtcnVsZT0ibm9uemVybyI+DQogICAgICAgICAgICA8ZyBpZD0i5bem5L6n5qCPIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMTIwLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtMTUtY29weS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzkuMDAwMDAwLCAyMzQuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtMTAiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImljL3RleHQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNy42MDgzMDg2LDYgTDIyLjM5MTY5MTQsNiBMMzMsMzQgTDI4LjQ4NjY0NjksMzQgTDI1LjkwMjA3NzIsMjYuNzg0MzEzNyBMMTQuMDU5MzQ3MiwyNi43ODQzMTM3IEwxMS40NzQ3Nzc0LDM0IEw3LDM0IEwxNy42MDgzMDg2LDYgWiBNMTUuMzMyMzQ0MiwyMy4yNTQ5MDIgTDI0LjYyOTA4MDEsMjMuMjU0OTAyIEwyMC4wNzcxNTEzLDEwLjU4ODIzNTMgTDE5LjkyMjg0ODcsMTAuNTg4MjM1MyBMMTUuMzMyMzQ0MiwyMy4yNTQ5MDIgWiIgaWQ9IkEiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},"W/FA":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY191bmxvY2s8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSIwNOWchuW9ouefqeW9oumAieaLqSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU4My4wMDAwMDAsIC03NS4wMDAwMDApIiBmaWxsPSIjNjY2NjY2IiBmaWxsLXJ1bGU9Im5vbnplcm8iPg0KICAgICAgICAgICAgPGcgaWQ9IuW3peWFt+agjyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDYwLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtMTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU3OC4wMDAwMDAsIDEwLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iaWMvdW5sb2NrIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0LjIwMDAwMCwgNS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yNC42Mzk2MzU4LDE0LjIyMjA4NTggQzI1LjM4NzgzMTcsMTQuMjIyMDg1OCAyNiwxNC44MDk3NDc5IDI2LDE1LjUyODAyNzEgTDI2LDI1LjY5NDAzMDIgQzI2LDI2LjQxMjMwOTMgMjUuMzg3ODMxNywyNyAyNC42Mzk2MzU4LDI3IEw3LjM2MDM2NDE3LDI3IEM2LjYxMjE2ODM0LDI3IDYsMjYuNDEyMzA5MyA2LDI1LjY5NDAzMDIgTDYsMTUuNTI4MDU1NiBDNiwxNC44MDk3NzY1IDYuNjEyMTY4MzQsMTQuMjIyMDg1OCA3LjM2MDM2NDE3LDE0LjIyMjA4NTggTDkuMzE3MDI4MywxNC4yMjIwODU4IEw5LjMxNzAyODMsOS40MTU2OTUwMSBDOS4zMTcwMjgzLDUuODc4MDAzODggMTIuMzE0OTAyNiwzIDE1Ljk5OTk0MDQsMyBDMTkuNjg0OTc4MywzIDIyLjY4MzAzMTIsNS44NzgwMDM4OCAyMi42ODMwMzEyLDkuNDE1Njk1MDEgQzIyLjY4MzAzMTIsMTAuMTM2OTE4IDIyLjA3MzkyOTQsMTAuNzIxNjY0OCAyMS4zMjI2NjcxLDEwLjcyMTY2NDggQzIwLjU3MTQwNDgsMTAuNzIxNjY0OCAxOS45NjIzMDI5LDEwLjEzNjkxOCAxOS45NjIzMDI5LDkuNDE1Njk1MDEgQzE5Ljk2MjMwMjksNy4zMTgzNjM0NCAxOC4xODQ3NzU5LDUuNjExOTM5NjYgMTUuOTk5OTQwNCw1LjYxMTkzOTY2IEMxMy44MTUyNTM5LDUuNjExOTM5NjYgMTIuMDM3NzU2Niw3LjMxODM2MzQ0IDEyLjAzNzc1NjYsOS40MTU2OTUwMSBMMTIuMDM3NzU2NiwxNC4yMjIwODU4IEwyNC42Mzk2MzU4LDE0LjIyMjA4NTggWiBNMTcuMTI1OTQwOCwyMC40NTEwMyBDMTcuNjU5MTg0LDIwLjEwNDEwODkgMTguMDA5NzE3NSwxOS41MTc4MTg3IDE4LjAwOTcxNzUsMTguODUyODQzOSBDMTguMDA5NzE3NSwxNy43ODczMDA5IDE3LjEwOTk1MzMsMTYuOTIzNTEzOCAxNi4wMDAwMjk4LDE2LjkyMzUxMzggQzE0Ljg5MDEzNiwxNi45MjM1MTM4IDEzLjk5MDM3MTgsMTcuNzg3MzAwOSAxMy45OTAzNzE4LDE4Ljg1Mjg0MzkgQzEzLjk5MDM3MTgsMTkuNTE3NzkwMSAxNC4zNDA4NzU1LDIwLjEwNDEwOSAxNC44NzQxMTg3LDIwLjQ1MTAwMTQgTDE0Ljg3NDExODcsMjIuOTAwNTQxNSBDMTQuODc0MTE4NywyMy40ODQwMzA3IDE1LjM3MTQyNzQsMjMuOTYxNDU0NCAxNS45NzkyMTkzLDIzLjk2MTQ1NDQgTDE2LjAyMDg0MDMsMjMuOTYxNDU0NCBDMTYuNjI4NjMyMiwyMy45NjE0NTQ0IDE3LjEyNTk0MDgsMjMuNDg0MDMwNyAxNy4xMjU5NDA4LDIyLjkwMDU0MTUgTDE3LjEyNTk0MDgsMjAuNDUxMDMgWiIgaWQ9IuWQiOW5tuW9oueKti1jb3B5LTIiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},WR5j:function(t,e,i){t.exports=i.p+"static/img/ic_fengshan_weitouru.590f3be.svg"},WZSQ:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY194aWFsYTwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjA05ZyG5b2i55+p5b2i6YCJ5oupIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtODQuMDAwMDAwLCAtMTI5LjAwMDAwMCkiIGZpbGw9IiM2NjY2NjYiPg0KICAgICAgICAgICAgPGcgaWQ9IuW3puS+p+agjyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEyMC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTciPg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5LiJ6KeS5b2iIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4NC4wMDAwMDAsIDkuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNS4wMDAwMDAsIDE1LjAwMDAwMCkgcm90YXRlKC0xODAuMDAwMDAwKSB0cmFuc2xhdGUoLTE1LjAwMDAwMCwgLTE1LjAwMDAwMCkgIiBwb2ludHM9IjE1IDExIDIxIDE5IDkgMTkiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},YBLq:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Dd8w"),o=i.n(n),a=i("NYxO"),r=i("RPa/"),s={name:"imgHouse",data:function(){return{imgArr:r.a.arrImgHouse,children:[],show:!0}},computed:o()({},Object(a.c)(["showImageHouse","editingNodeId","graphView"])),updated:function(){},created:function(){this.handleOpen()},mounted:function(){this.$refs.dialog.open(this.handleOpen),this.$refs.dialog.close(this.handleColse)},methods:o()({},Object(a.b)(["m_showImageHouse"]),{handleColse:function(){this.m_showImageHouse({show:!1})},handleOpen:function(){var t=this;this.imgArr.map(function(e){e.selected&&t.clickStyle(e.id)})},handleSave:function(){console.log(this.editingNodeId,graphView,dataModel.getDataById(this.editingNodeId)),dataModel.getDataById(this.editingNodeId);var t=dataModel.getDataById(this.editingNodeId);this.imgArr.map(function(e){e.selected&&t.setImage(e.img)}),this.handleColse()},clickStyle:function(t){var e=this;this.children=[],this.imgArr.map(function(i){i.id===t?(console.log(i),i.selected=!0,e.children=i.children):i.selected=!1}),console.log(this.children)}})},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"imgHouse"},[i("el-dialog",{ref:"dialog",staticClass:"el_dialog_my",attrs:{visible:t.showImageHouse,width:"85%"}},[i("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v("\n      样式库\n  ")]),t._v(" "),i("div",{staticClass:"box"},[i("div",{staticClass:"left"},[i("el-row",t._l(t.imgArr,function(e){return i("el-col",{key:e.img,attrs:{span:4}},[i("div",{class:["img",e.selected?"selected":""],on:{click:function(i){return t.clickStyle(e.id)}}},[i("img",{attrs:{src:e.img,alt:""}}),t._v(" "),i("h3",[t._v(t._s(e.name))])])])}),1)],1),t._v(" "),i("div",{staticClass:"right"},[t.children.length>0?i("el-row",t._l(t.children,function(t){return i("el-col",{key:t.img,attrs:{span:8}},[i("div",{staticClass:"img"},[i("img",{attrs:{src:t.img,alt:""}})])])}),1):t._e()],1)]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.handleColse()}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSave()}}},[t._v("保存")])],1)])],1)},staticRenderFns:[]};var c=i("VU/8")(s,l,!1,function(t){i("rEy2"),i("uI+q")},"data-v-d61857da",null);e.default=c.exports},"YO8/":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMxcHgiIGhlaWdodD0iMzFweCIgdmlld0JveD0iMCAwIDMxIDMxIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY194aWFsYTwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjA05ZyG5b2i55+p5b2i6YCJ5oupIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzQ1LjAwMDAwMCwgLTc0LjAwMDAwMCkiIGZpbGw9IiM2NjY2NjYiPg0KICAgICAgICAgICAgPGcgaWQ9IuW3peWFt+agjyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDYwLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtMjAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0MS41MDAwMDAsIDEwLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuMDAwMDAwLCA0LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC02IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMC41MDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMyLjAwMDAwMCwgMC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImljL3hpYWxhIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2Ny4wMDAwMDAsIDAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5LiJ6KeS5b2iIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNS4wMDAwMDAsIDE1LjAwMDAwMCkgcm90YXRlKC0xODAuMDAwMDAwKSB0cmFuc2xhdGUoLTE1LjAwMDAwMCwgLTE1LjAwMDAwMCkgIiBwb2ludHM9IjE1IDExIDIxIDE5IDkgMTkiPjwvcG9seWdvbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},YgKf:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19yZWN0YW5nbGU8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSIwNOWchuW9ouefqeW9oumAieaLqSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEwNy4wMDAwMDAsIC0yNzIuMDAwMDAwKSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiPg0KICAgICAgICAgICAgPGcgaWQ9IuW3puS+p+agjyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEyMC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTE0LWNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNy4wMDAwMDAsIDE1Mi4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC01Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJpYy9yZWN0YW5nbGUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaItY29weS0xMDQiIHg9IjMiIHk9IjkiIHdpZHRoPSIzNCIgaGVpZ2h0PSIyMiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},Yq4J:function(t,e){},YxMS:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjgwcHgiIGhlaWdodD0iODBweCIgdmlld0JveD0iMCAwIDgwIDgwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19sYW1wX3N0YXRlNjwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGRlZnM+DQogICAgICAgIDxjaXJjbGUgaWQ9InBhdGgtMSIgY3g9IjI5LjgxMDUyNjMiIGN5PSIzMC4zMTU3ODk1IiByPSIyNi44NDIxMDUzIj48L2NpcmNsZT4NCiAgICAgICAgPGZpbHRlciB4PSItOC43JSIgeT0iLTguNyUiIHdpZHRoPSIxMTcuNCUiIGhlaWdodD0iMTE3LjQlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMiI+DQogICAgICAgICAgICA8ZmVNb3JwaG9sb2d5IHJhZGl1cz0iMy42NTc4OTQ3NCIgb3BlcmF0b3I9ImRpbGF0ZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd1NwcmVhZE91dGVyMSI+PC9mZU1vcnBob2xvZ3k+DQogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIwIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4NCiAgICAgICAgICAgIDxmZUNvbXBvc2l0ZSBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiBpbjI9IlNvdXJjZUFscGhhIiBvcGVyYXRvcj0ib3V0IiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZUNvbXBvc2l0ZT4NCiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjU4NjEzNTY0MyAgIDAgMCAwIDAgMC41ODYxMzU2NDMgICAwIDAgMCAwIDAuNTg2MTM1NjQzICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd09mZnNldE91dGVyMSI+PC9mZUNvbG9yTWF0cml4Pg0KICAgICAgICA8L2ZpbHRlcj4NCiAgICA8L2RlZnM+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjEx54q25oCB5pi+56S65qC35byP5bqTMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTExNDIuMDAwMDAwLCAtMzYzLjAwMDAwMCkiPg0KICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC0xMSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzAuMDAwMDAwLCAxMzkuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSJpYy9sYW1wL3N0YXRlNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTcyLjAwMDAwMCwgMjI0LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuaMh+ekuueBr+WbvuW6kyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMi4wMDAwMDAsIDEuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuaMh+ekuueBryIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOC4wMDAwMDAsIDguMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSLmpK3lnIblvaIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSBmaWxsPSJibGFjayIgZmlsbC1vcGFjaXR5PSIxIiBmaWx0ZXI9InVybCgjZmlsdGVyLTIpIiB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgc3Ryb2tlPSIjREVERURFIiBzdHJva2Utd2lkdGg9IjMuMTU3ODk0NzQiIGZpbGw9IiM0RjRGNEYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY3g9IjI5LjgxMDUyNjMiIGN5PSIzMC4zMTU3ODk1IiByPSIyOC40MjEwNTI2Ij48L2NpcmNsZT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSLmpK3lnIblvaIiIGZpbGw9IiM5QjE1REMiIGN4PSIzMC4wNjMxNTc5IiBjeT0iMzAuMzE1Nzg5NSIgcj0iMjUuMjYzMTU3OSI+PC9jaXJjbGU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWFnZSBpZD0i57uELTIiIHg9IjYuMDYzMTU3ODkiIHk9IjkuNiIgd2lkdGg9IjQ3LjQ5NDczNjgiIGhlaWdodD0iNDAuNDIxMDUyNiIgeGxpbms6aHJlZj0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFGNEFBQUJRQ0FZQUFBQ1EyTUllQUFBQUJHZEJUVUVBQUxHT2ZQdFJrd0FBRE8xSlJFRlVlQUh0M09tUG5NVVJCbkFjQ0xsSVFzS05zWkVJSWJlVWk0UWM0bXYrNjRqa1E2SWNVaUlrdmdDUkVWZHdIQVE1Q0FRQ1R2MW05akcxN1hkbTNsblBydTN4bGxUYjNkWFYxZDFQVjFmMzIrdjFtY3VYTDk5MkE5SW5hMHozRnQ5WGZIZnhGNHZ2S3Y1TThhZUxieSsrcy9qRDRnK0svMXY4L2tIKzM1WCtvL2p0NGt2RmZ5K21jMFBSbVJzRWVFQ2ZQK0N6bFFKOHBETUhnam1lMG5YcFc0RFhpMTgrNE91K0VOY1QrRThWQ0Y4cGZxTDRrV0xnaHdBM0F2eFJ5VDV4b0NDL2lxS2pmV3hFcGczUVh5MSt2dmd2eFhiTGlkUDFBUDZCbXVWM2loOHZCajRLcUlBYVFZLzNkcDBBdW1nOC9PZ2daNEhZd0NsSEIrakFmN2I0WXZHSjBVa0MvMmpONnZ2RkQ1L1k3Szd1S0F0N2RjMHlGUDJwS2w2YXF0eTE3Q1NBUDFlRGZyTDQvbDBQL3Bqcy9hM3MvcUg0bFdPeXZ6QjduTUIvb1hwNHF2aXhZcDZXOEdDYkoxL1pLelNHbUs2VGNOTmxHbTZTUjBjN25ENms0WVFkdXRGeFczcXArTGZGYmtnN3ArTUEza1RFOE84VjM5RkduRWxGTkpZamw2cERBVlorU2thT1VyY3NMWCt1YWh2QVhVbU4xYUV1SC9wZlpad0Z3SGNHQ0QvT0FPV3Bma3E4UGUwYWVGNytkSEcvRHVaQUc0SG9ucSt1VDBxKzZ5ZmY1VjAvN2J0ZW1WaFEyaVFsQkxiK0hlNitEWHdUY0JMdDNYcU1HZWp5VXVIbm1XTGZCcGxQWlk5T3V3VCtzUnJHajR1bnZOeGdBNHJSQXNIRXB5aUFqbURTN2VDTmJYdGQ4dnBOUDVFcDgzQ2dmN2JZQnhyT2RSYlkrTDNpZHc4NCtkOVUrWVZpZHE5cEFYWUJQSUIrVU93K1BsSW1POHJubHJWSDQ2TDE4bEpqL2srZ2N3Nmd1MkY5dDlnRmdPeWRZakhkMXkvK1YvRS9EMUoxRnVLNTR0OFZKeVJWZG52cTNybDk2K1ZnZjE0Tkh5d1dBd05JQU8vQVJhYWZubGNPZGYwdTYzWWpsMGJlWmZLcjdLdlRSajJQL1U4eHp6OWJIRnNBRlY0QTdibmg5V0pmdm04Vlc1UnZGMysrK0psaU8rRklubjh0SG0vQVR4ZC9xVGlBVlhacnlvUTE3SFlDME5ZRzF6UklYOEtLTng5bjBqM0YzeWorU1RGWnlGZzRFODkvcWZqbFloOVpieGJiQ1g4dC9tV3grcTNCUHlyd0RpU2VidVdSUVdaU3lTZWRVMCtuMDloVzNXaWZqTjVJWFUrZGN2UlNaNmR6bk04VmU0QzdyL2loNGllTDd5M3VwSzFkOEZxeFo0WlhpeDIydlArTjRtZUtMY1JXNEI4bDFCandUNHZGU0I0UnlnUTdhT29pNy9rdVMvdXBsSjRKU2RObXRLL2RLRnVucTg2NDN5K09YUWV1L0IrTGVmLzVnM0lsQzdrZGNxNll3K1VRTmk0THdnRi9WU3hzelFaL1crRHB1N2tZUUFlOWlnc3llQ0Nzb3prNjJrZVBQY0RFYnRKUlJuK0s2STkxQUF2bkZwUFVnb2p2anhjSDVNb3V4bUEzZktzNEMwZFhxSDJxK05mRnlyTm9HK0JOMUZ1TDdSblFBMEtmV0ovb21EZW82UFk2OHRpU1I5R1Q3NTZVZHBHbFRBK2xISHZkemxKaitUTWVDM0NMQURTSHBZTlZuZ2M3U08zd0VBeWNDVjh2Vms4ZmY3bjRoOFcvTDJackkyMEQvRmZMbXRVRnVzbVlXQ1paMlN0RUZtOU1mZlNUa29jQ0RDRGtveE01dmRnWjgyTTVldEwwMGUzMStzZ0IxVDNZUWdSOG9McHVjcmFRdWQxZmJFZmtxa25QT2ZHMTR1ZUtOOUpjNEJsOXBIaGN6UXcrazlRaFdmVGs0NW55S0xwcHU1UitESGpLMFVzNTZhWjJxUi83Uy91cEZQQlpnQTQ4ejFlMjA5MkFRa0xRbzhXWGl0MXlMSUFGT1ZmczRDVmZTM09BZDhXeXRlTHBVd2FCaEhVK0VubEFTSjNGeUs2WUFtclVad09OZll5MlUwNjZiUFh4WWl2SE5oMk1qTVdZZ0x5S242dzZONkFRWERqamk4WEJFVWF3Y3N1eEMxWlNHcXhTTUVpR3BKdUFaeU1Ua1E5MUVKS1hoZ01FZmJJUWVjclJTWnZvalBYa2tVVW5hV3lrM1BYa0UrcWt2RDg3UUVwRzUwZkZBWjg5dTREM1o2ekJ5TTNvejhXOWp5cCtUSnVBZDdjVjMzUStVaWJDZURxT2pPN1lhZXBHT2QyMDcva3VJOTlFMGUrcE51a3Y4bTVuU2dZOE8wQUtjQ2tiV1pDZlZSN2daSEFSanJKSTBYZnJnNTJ2M2tsYUIveWQxZUpzc1k3M2tZQU9xQ2tLZ0FERnlvQVdocnpYL0tMWTRsd285cXhBcGk0TFVOa0ZkdW9zekZXMER2aHpCOW82REdXZ2ljK1IwMG1jakd3cU5kbHh3c3FvOTdPVXJQOFpXOXFsN1RnR091cW1kSHUveVV2SE9RSTFmUUR4N1dJeC9IenhzOFVYaXowYnVBa0YrUFJINThYaXEyalZrNEduZ0NlYU5rT1pYQk5mMTJ6QU91cTRzaUI5RXBsblVuVVdrNE02VEgydEN5UHlZcnRGZWVlQUhhYThQZ3RYMlFVOVh6OHQxQ0ZhNWZIaWt4RFRCM0NvNFliQ1VkdXRNaHQ3U1ZmcEhZY2NEaGlnUE42SEU5eU1oWWVIQXpyZFRyQ2NCVHh2OTdXV2xSczlhcHg4THllZjFBQ1NsNGJpYlQxTlhkS3VINWswNDRuZFhpYy90b3QrOU5JdWVobUQrdVI3R2ptQWVUblAxalpNanVBVnpKVFRMeXhoZWdqOEtZLzNIdEVOVlBHV3ArQWh6WUoxVUlBY29MczgrWHNxc3haNDhjc0tqZHNsQms3VG95SGdUSUN0TTJGQm84ZjdPTWpxVGEzc1FiTWpKMndmaDkwakQyaG9lSlR4elcwRDIwbmduZDQrbHVMdEFHSVVKUi9RSWwvV3J2N1oyNDF0VXRmdEo5OHRybXZYOVhyYjNpYjlaT3owVWovS2xIczRHZlZTSHZ2cWZZdzZ5dXBoZStXNjJ6MWVCYVhlc0lwYlVUclpxdEVKS0kvakdzdTdHTUljbXpCZXhQb092RHRxRHBGckdZZ0IzSWcwam1zczcyTE1tMnpDK0JEd3RvSW5nb1NaREtKdkliTFJjT3JWOWJ4eXA5UWxWZGZ6S1V2SFBzaldFVHRvYk5mdDkveFMrL0RQMkJqdFRMV0xMS2syUFIvTFV6SVlMK1R4ZURjWkErK0RUME95NUN0N1ZaNXMxQ0diSW5aUStwa3E5N3AxK1l3cDZkTHk5TThwbmQ1M3ozY0xYUjRiWFRZMXZyVHZlbDNtaHZOdWdKL3k5aWozVkVjeDJPWHI4cjdvK2dPU1hTV2tzUlYyNkxCclBOaDRNSG5vS0gybjdaak9zVFZIWjdRN3A3eDRhZ2p3Q2pxYVEzUDBQQmo1d3BQT09UZWlZMUcwOGY2QjdFUWVnaTNNbkw1TGJSYk5zVFZIWjFablRRbldWOTRjL0xPMlRMN3BiSjBGTnRER3MySnJRd2NOTEFKMklBSGY0ZFIzUVJWdk9vTDFHUjYvQzlDOVYzZ2F6YnRGWlhkS25NTGpsQThRQytBcjhHWmVnTnNUVTFkdEtmSk5NWjFIQXYwa3lIaUFiMmZsZWJhUGJ4enZxbkxrU2RlTmZaVU9PZXI5THlXSGYvYjJ5ZC9oUFQ0VE9LdytyeFFRNW1udlhvdlhHNytEK0dhaTkzaThGYk9WcFZuRnltNGtvRS8rV210ank5MHBHTGN6eGE0VGdvUk50R2t1WS8xWVhsbzUvSE9PVG04eHBSL1pHUjd2TXpZRDdnM0hmTFlKT2RCZEVXODA0dmx1UWlaNEk5T0hQQjZnYzI4MGRNWFg0enBFeS9RMWtSM0lJU3pBNHRwMlRkYU9yL0Zsd0tNNUlZYU9MYjJycTZKK2o0TXl6aXpBbk4xOEhPTllhek1lVDhtQSt4Wk5XY3JEc2Z6TlFuYXgzUWw0ODNRUVozNTlIcEZWOVlKNkhVSHF5Y2Q4ZE1tVDcyM2tVZG9tdlUyTWR5aU5SQUViUEErWHY5a0o4Rm1BNno2WC9QT09yS1FCN1FQSTY0QzlFUmJnZ3dDL2JxRDdXc2ZaTElKUTFCM3ZPT2ZMcVlYc2oyNWw0RHZBV1lTa3ZXNVhlV0g3eW0xd1crQkh6OWpYc0pTRDJIekhPVys3RURDNjZwek1kWEtPc1d4TEtlb0g3NzR0Z0xtRkFuN1N5RGVsYk1CbEVwdTV3QVBiQjRsbldXd1FQdFc5R0xvdlR4b3YrVDdRRkhqWkJVa3p6eW5kMUIxS3R3RWU0R2VMSHlqVzRhWGlWNHE5bGMvdXNIVDNnZUpvU2JlZVU4TEd1b1pBcGdmNCt3NVNkMzk1LzBEZjRvMHJYNkpUV29mQUhPQzFCMndXSUdYdklZQ1h6cldqN1NrVkFuTUJzNlZjaFhvODF4Ynczc05QOGk1YzNkMzhOQWQ0b0R1aHZYdjRUVlBpbWgwZy9OeGRmT3IxQmNJMk5BZDQ5Z0R2eWRWL25OQi8rZUdtYzAreE4vM1RXRjhnektXNXdDZlU1QytaNC9YYUF4MzRweUZuTHVxbHR3M3d2cjc4NXNsZnNnazdJV0hHSHpQNFo4aW5JU2VvYkVqbkFzOU13bzIvZXVQNXlraXM1L1VQRnZ1VEUrRm5HN3VsZnV2UjNBOG95Q1RjK0ZxOVdBenN1NHFSVzQzL1lDSy9vZkpSNVFhVXhhbnNLWFVFdGdGZU8rQUQxQ0Y3cVpoMysrVXlraGR5QXJnbmhlUXJlMG9kZ1cxREF1QVQ2M245V3dmbDJIVEFDam5ZYmhEelQrLzRCY0pJMndLdnZmRGhZOHFkL3JWaU1iK0hGT0EvWEh5MjJBZVdIWEVLZm9IUWFkdjMrTFROODRFM0crSGxmTEZiRFhsSXZMY2ozaWgyR0xzUkxYNzdVdWt0VDl2RytBQW01UEJ5NEw1WmJPY0EzYTBtdTRpbjUxSE5lV0FCVHVOK2dZQ09DcnkyaWZmQWQ3ZFhmcVJZZUJGYWtOUmlDRC9pL1lWaVowUVBUVlc4OVNqZWVkU1pBMXY0OEVFRmZNRGFBVzR6NnBDZDRNYnpVTEdGdnRZK3k4VE5UOWZpOFpsOXdKZnlaQXZocmkvMmUwUUwwT3I3WWxnUTNPV3BML0YrMHk2QWh4REFoQkJoSjZrREZmZ09YZjI4VUd3bklJY3lXWURQb1d2aHdudTlDRWU5MVJRK0s0bUhpKzJBZGNCaWdIdlZ0Q2hJekQ5YkxPNExVL2xyRHdzWDNTeEdpZmFQamdONEtDV01XQVI1eElPekdOK3NmSFlDb0lFc3RRaWVHeTRXMnpIa2UwbUFPQTRDTWg1dkx4YkJidkN1azVzUHIzZjQyZ1Z1UUg2eDRxTk0vZDRDbjRPdjVuaWl4S3M3OVIzQ0dSS1N1czVlNVU4YWVEdEFPTGxRN05xWmY1ZVRuV0dYZUlyWTYvaGU4MXZFWE9sSkVZQWRza0QzRmVzaERRc3plZE1SM3gyeVdZeks3aDhkMStHNkRxbUVGVEVjQ3kzaXZOMkhnVzRuOEhvN1lDL3BlZ0RmZ2N3aUFGd2U4ZlNwZzNsUnVTOC8vZy9NM3V3UGx6bVQwZ0FBQUFCSlJVNUVya0pnZ2c9PSI+PC9pbWFnZT4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},YxaH:function(t,e,i){t.exports=i.p+"static/img/ic_beng.f9b430c.svg"},"Z6b+":function(t,e,i){(function(t){!function(t){"use strict";var e=t.ht,i=e.Default,n=Math,o=(n.PI,n.sin,n.cos,n.atan2,n.sqrt,n.max),a=n.floor,r=(n.round,n.ceil),s=e.Shape,l=(e.Edge,e.List),c=e.Style,h=e.graph,d=i.getInternal(),g=d.ui(),u=null,f="prototype",v=t.clearInterval,p=t.setInterval,I=function(t){var e=t.data,i=this.dm();if(e&&"add"===t.kind){var n=i.$1c,o=e instanceof s?"shape.":"edge.";n&&e.s(o+"dash.flow")&&n.indexOf(e)<0&&n.push(e)}"clear"===t.kind&&(i.$1c=[])},_=function(t){var e=t.property,i=t.data,n=t.newValue,o=this.dm().$1c;if(o&&e===(i instanceof s?"s:shape.dash.flow":"s:edge.dash.flow"))if(n)o.indexOf(i)<0&&o.push(i);else for(var a=o.length,r=0;a>r;r++)if(o[r]===i){o.splice(r,1);break}},y=h.GraphView[f],C=g.EdgeUI[f],m=g.ShapeUI[f],w=m._80o,b=C._80o,A=e.DataModel[f],M=A.prepareRemove,x=y.setDataModel;c["edge.dash.flow.step"]==u&&(c["edge.dash.flow.step"]=3),c["shape.dash.flow.step"]==u&&(c["shape.dash.flow.step"]=3),A.prepareRemove=function(t){M.call(this,t);var e=t._dataModel.$1c;if(e)for(var i=e.length,n=0;i>n;n++)if(e[n]===t){e.splice(n,1);break}},y.setDataModel=function(t){var e=this,i=e._dataModel;if(i!==t){i&&(i.umm(I,e),i.umd(_,e),i.$1c=[]),t.mm(I,e),t.md(_,e);var n=t.$1c=[];t.each(function(t){var e=t instanceof s?"shape.":"edge.";t.s(e+"dash.flow")&&n.indexOf(t)<0&&n.push(t)}),x.call(e,t)}},y.setDashFlowInterval=function(t){var e=this,i=e.$2c;e.$2c=t,e.fp("dashFlowInterval",i,t),e.$3c!=u&&(v(e.$3c),delete e.$3c,e.enableDashFlow(t))},y.getDashFlowInterval=function(){return this.$2c},y.$4c=function(){var t,e,n,s=this,c=s.tx(),h=s.ty(),g=s._zoom,u={x:-c/g,y:-h/g,width:s.getWidth()/g,height:s.getHeight()/g},f=s.dm().$1c,v=s._56I,p=new l;if(f.forEach(function(e){v[e.getId()]&&((t=s.getDataUI(e))&&((n=t._79o())&&p.add(n)))}),0!==p.size()&&(p.each(function(t){i.intersectsRect(u,t)&&(e=i.unionRect(e,t))}),e&&(e&&(i.grow(e,o(1,1/g)),e.x=a(e.x*g)/g,e.y=a(e.y*g)/g,e.width=r(e.width*g)/g,e.height=r(e.height*g)/g,e=i.intersection(u,e)),e))){var I=s._canvas.getContext("2d");I.save(),I.lineCap=i.lineCap,I.lineJoin=i.lineJoin,d.translateAndScale(I,c,h,g),I.beginPath(),I.rect(e.x,e.y,e.width,e.height),I.clip(),I.clearRect(e.x,e.y,e.width,e.height),s.$5c(I,e),I.restore()}},y.$5c=function(t,e){var n,o,a=this;a._93db(t),a.each(function(r){a._56I[r._id]&&((n=a.getDataUI(r))&&(o=n._79o(),(!e||i.intersectsRect(e,o))&&(n.$7c=!0,n._42(t),delete n.$7c)))}),a._92db(t)},y.enableDashFlow=function(t){var e=this;e.$3c==u&&(e.$3c=p(function(){e.$4c()},t||e.$2c||50))},y.disableDashFlow=function(){v(this.$3c),delete this.$3c};var D=function(){var t=this,e=t._data,i=e instanceof s?"shape.":"edge.",n=e.s(i+"dash.pattern"),o=e.s(i+"dash.flow.reverse");if(n&&e.s(i+"dash")&&e.s(i+"dash.flow")&&t.$7c){var a=t.s(i+"dash.offset")||0,r=e.s(i+"dash.flow.step"),l=e.getStyleMap(),c=0;n.forEach(function(t){c+=t}),o&&(r=-r),a-=r,a%=c,l||(e._styleMap=l={}),l[i+"dash.offset"]=a}};C._80o=function(t){b.call(this,t),D.call(this)},m._80o=function(t){w.call(this,t),D.call(this)}}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object)}).call(e,i("DuR2"))},"a2T/":function(t,e,i){(function(t){!function(t,e,i){"use strict";var n="px",o="innerHTML",a="className",r=ht.Default,s=ht.Color,l=ht.Node,c="top",h=r.animate,d=r.getInternal(),g="0",u="none",f="max-height",v="font",p="background",I="border-box",_="user-select",y="box-sizing",C="overflow",m=r.isTouchable,w=(d=r.getInternal(),s.titleIconBackground),b=r.scrollBarInteractiveSize,A=/msie 9/.test(t.navigator?t.navigator.userAgent.toLowerCase():""),M=null,x=function(){return document},D=function(t){return x().createElement(t)},T=function(){return D("div")},N=function(){return D("canvas")},S=function(){return document.body},z=function(t,e,i){t.style.setProperty(e,i,M)},k=function(t,e){t.appendChild(e)},E=function(t,e){t.removeChild(e)},V=r.eventListenerOptionsFalse,j=(r.eventListenerOptionsTrue,function(t,e,i,n){t.addEventListener(e,i,V)});d.addMethod(r,{paletteExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:w,rotation:3.14}]},paletteCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:w}]},paletteTitleLabelColor:r.labelSelectColor,paletteTitleLabelFont:r.labelFont,paletteContentLabelFont:r.labelFont,paletteContentLabelColor:"#777",paletteContentBackground:"#fff",paletteTitleHeight:r.widgetTitleHeight,paletteTitleBackground:s.titleBackground,paletteTitleHoverBackground:s.titleBackground,paletteSeparatorWidth:1,paletteSeparatorColor:void 0,paletteItemHoverBorderColor:s.highlight,paletteItemSelectBackground:s.highlight},!0);var R=".palette-item:hover{border: 1px solid "+r.paletteItemHoverBorderColor+" !important} .palette-header:hover{background: "+r.paletteTitleHoverBackground+" !important}",P=document.createElement("style");m||(P.styleSheet?P.styleSheet.cssText=R:P.appendChild(x().createTextNode(R))),x().getElementsByTagName("head")[0].appendChild(P);var Z=function(t){this.$22h=t,this.addListeners()};r.def(Z,e,{ms_listener:1,getView:function(){return this.$22h.getView()},$26h:function(){var t=this;t.$36h&&S().removeChild(t.$36h),t.$23h=t.$24h=t.$25h=t.$35h=t.$36h=M},handle_touchstart:function(t){for(var e,i=this,n=i.$22h,o=t.target,s=n.sm(),l=n.dm(),c="palette-header",h="palette-item",d=!1,g=!1,u=!1;o&&(o[a]||"").indexOf(c)<0&&(o[a]||"").indexOf(h)<0;)o=o.parentNode;if(o&&o[a].indexOf("palette-header-tool")>=0?d=!0:o&&o[a].indexOf(c)>=0?u=!0:o&&o[a].indexOf(h)>=0&&(g=!0),r.isLeftButton(t))if(i.$27h(t))i.$24h=r.getClientPoint(t),i.$25h=n.ty();else if(d){r.preventDefault(t),e=o.parentNode.$11h;var f=(v=l.getDataById(e)).s("tools")[o.toolIndex];f.action&&f.action.call(n)}else if(u){var v;r.preventDefault(t),e=o.$11h,(v=l.getDataById(e)).isExpanded()?v.setExpanded(!1):v.setExpanded(!0)}else if(g){e=o.$11h;var p=l.getDataById(e);s.ss(p),n.handleDragAndDrop&&(r.preventDefault(t),p.s("draggable")&&(n.handleDragAndDrop(t,"prepare"),i.$35h=0)),p.s("draggable")||(r.preventDefault(t),i.$24h=r.getClientPoint(t),i.$25h=n.ty())}else r.preventDefault(t),i.$24h=r.getClientPoint(t),i.$25h=n.ty();else i.$26h(t)},handle_mousedown:function(t){this.handle_touchstart(t)},handle_mousewheel:function(t){this.handleScroll(t,t.wheelDelta/40,t.wheelDelta!==t.wheelDeltaX)},handle_DOMMouseScroll:function(t){this.handleScroll(t,-t.detail,1)},handleScroll:function(t,e,i){var n=this.$22h;r.preventDefault(t),i&&n._41o()&&n.ty(n.ty()+20*e)},handle_mouseup:function(t){this.handle_touchend(t)},handle_touchend:function(t){this.$37h(t),this.$26h(t)},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handleWindowTouchEnd:function(t){this.$37h(t),this.$26h(t)},$37h:function(t){var e=this,i=e.$22h;2===e.$35h&&(e.$35h=3,i.handleDragAndDrop(t,"end"))},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowTouchMove:function(t){var e=this,i=e.$22h,o=e.$23h,a=e.$24h,s=e.$25h,l=r.getClientPoint(t),c=i._29I,h=e.$36h;if(1===e.$35h||2===e.$35h){if(e.$35h=2,i.handleDragAndDrop(t,"between"),m){var d=t.touches[0];t=d||t.changedTouches[0]}h.style.left=t.pageX-parseInt(h.width)/2+n,h.style.top=t.pageY-parseInt(h.height)/2+n}else"p"===o?i.ty(s+l.y-a.y):"v"===o&&i.ty(s+(a.y-l.y)/c.height*i._59I)},handle_mousemove:function(t){this.handle_touchmove(t)},handle_touchmove:function(t){if(!r.isDragging()&&r.isLeftButton(t)){var e=this,i=e.$22h,o=e.$27h(t);if(e.$24h){if(!e.$23h){if(r.getDistance(r.getClientPoint(t),e.$24h)<2)return;e.$23h=o?"v":"p",r.startDragging(e)}}else if(o)i._43o();else if(0===e.$35h){if(e.$35h=1,i.handleDragAndDrop(t,"begin"),m){var a=t.touches[0];t=a||t.changedTouches[0]}var s=e.$36h=new Image,l=i.$10h[i.sm().ld().getId()].querySelector(".image-box"),c=parseInt(l.style.width),h=parseInt(l.style.height);s.draggable=!1,s.src=l.toDataURL(),s.width=c,s.height=h,s.style.position="absolute",s.style.left=t.pageX-c/2+n,s.style.top=t.pageY-h/2+n,S().appendChild(s),r.startDragging(e)}}},$27h:function(t){var e=this.$22h,i=e.getView(),n=i.getBoundingClientRect(),o=e._29I,a=t.clientX-n.left+i.scrollLeft;return e._41o()&&o.x+o.width-a<b}}),ht.widget.Palette=function(t){var e=this,i=e._view=d.createView(null,e);e.$9h={},e.$10h={},e.$4h={},e._29I={x:0,y:0,width:0,height:0},e._59I=0,e.dm(t||new ht.DataModel),i[a]="ht-widget-palette",e.$29h=new Z(e),z(i,p,r.paletteContentBackground),z(i,C,"auto"),z(i,y,I),z(i,"-moz-"+y,I),z(i,"-webkit-"+_,u),z(i,"-moz-"+_,u),z(i,"-ms-"+_,u),z(i,_,u),z(i,"position","absolute"),z(i,"overflow","hidden"),k(i,e._79O=function(){var t=T(),e=t.style;return e.msTouchAction=u,e.cursor="default",m&&e.setProperty("-webkit-tap-highlight-color","rgba(0, 0, 0, 0)",M),e.position="absolute",e.left=g,e.top=g,t}()),j(i,"dragstart",function(t){t.dataTransfer&&(t.dataTransfer.setData("Text","nodeid:"+t.target.$11h),t.dataTransfer.effectAllowed="all",e.$29h.$26h())})},function(t,e,i){r.def(ht.widget[t],e,i)}("Palette",e,{ms_v:1,ms_fire:1,ms_dm:1,ms_sm:1,ms_vs:1,ms_ac:["itemImageWidth","itemImageHeight","itemImagePadding","itemMargin","layout","autoHideScrollBar","scrollBarSize","scrollBarColor"],$30h:0,_itemImagePadding:4,_itemImageWidth:70,_itemImageHeight:50,_itemMargin:10,_layout:"largeicons",_autoHideScrollBar:r.autoHideScrollBar,_scrollBarSize:r.scrollBarSize,_scrollBarColor:r.scrollBarColor,getViewRect:function(){return this._29I},ty:function(t){return t==M?this.getTranslateY():void this.setTranslateY(t)},setTranslateY:function(t){if(this.$32h==M){var e=this,i=e.$33h(t),n=e.$30h;e.$30h=i,e.fp("translateY",n,i)}},getTranslateY:function(){return this.$30h},setLayout:function(t){var e,i,n=this,o=n._layout;n._layout=t,"smallicons"===t?e=i=20:"iconsonly"===t?e=i=50:(e=70,i=50),n.setItemImageWidth(e),n.setItemImageHeight(i),n.setItemImagePadding(4),n.fp("layout",o,t)},getDataAt:function(t){for(var e=t.target;e&&e.$11h==M;)e=e.parentNode;return e&&e.$11h!=M?this.getDataModel().getDataById(e.$11h):void 0},$20h:function(){var t=16;return m&&(t*=1.2),t},$19h:function(){return r.paletteTitleHeight},$18h:function(){var t=r.paletteSeparatorWidth,e=r.paletteTitleBackground,i=r.paletteSeparatorColor||r.brighter(e);return t+n+" solid "+i},$17h:function(t){z(t,"cursor","pointer"),z(t,"display","inline-block"),z(t,"margin-right",(m?8:4)+n),z(t,"vertical-align",c)},$1h:function(t){var e=this,i=T(),s=T(),l=D("span");i[a]="palette-header",z(i,"position","relative"),z(i,p,r.paletteTitleBackground),z(i,"color",r.paletteTitleLabelColor),z(i,c,g),z(i,y,I),z(i,"-moz-"+y,I),z(i,"padding","0 5px 0 0"),z(i,"border-top",e.$18h()),z(i,"width","100%"),z(i,"cursor","pointer"),z(i,"white-space","nowrap"),z(i,C,"hidden"),z(i,v,r.paletteTitleLabelFont),z(i,"line-height",e.$19h()+n),i.$11h=t.getId();var h=N(),u=e.$19h(),f=e.$20h();e.$17h(h),d.setCanvas(h,f,u),k(i,h);var _=t.s("tools");if(_)for(var m=0;m<_.length;m++){var w=N();e.$17h(w),d.setCanvas(w,f,u),w[a]="palette-header-tool palette-header-tool"+t.getId()+"-"+m,w.style.position="absolute",w.style.right=(f+10)*m+"px",w.toolIndex=m,k(i,w)}return h[a]="palette-toggle-icon-"+t.getId(),s[a]="palette-content",z(s,"max-height",0+n),z(s,v,r.paletteContentLabelFont),z(s,C,"hidden"),s.$11h=t.getId(),e.$9h[t.getId()]=s,l[o]=t.getName(),z(l,v,r.paletteTitleLabelFont),k(i,h),k(i,l),[i,s]},$2h:function(t){var e=this,i=e._layout,s=A&&t.s("draggable")?D("a"):T(),l=N(),h=T(),g=t.getName()||"",f=t.s("title")||t.getToolTip()||g,v=e._itemMargin;l[a]="image-box";var p=e.getItemImageWidth(),I=e.getItemImageHeight();return d.setCanvas(l,p,I),k(s,l),h[o]=g,h[a]="label-box","iconsonly"!==i&&k(s,h),s[a]="palette-item",z(s,"vertical-align",c),z(s,"cursor","pointer"),z(s,"border-radius",5+n),z(s,"border","1px solid transparent"),z(s,"text-align","center"),z(s,"display","inline-block"),z(s,"margin-left",v+n),z(s,"margin-top",v+n),z(s,"color",r.paletteContentLabelColor),"smallicons"===i?(z(l,"vertical-align","middle"),z(s,"margin-left",2+n),z(s,"margin-top",2+n),z(s,"padding",2+n),z(s,"text-align","left"),z(h,"display","inline-block"),z(h,"min-width",e.$21h+e._itemMargin+n)):"largeicons"===i&&(z(h,"max-width",p+n),z(h,"overflow","hidden")),s.$11h=t.getId(),f&&(s.title=f),t.s("draggable")&&!e.handleDragAndDrop&&(A?(s.href="#",z(s,"text-decoration",u)):s.draggable="true"),s},$16h:function(t,e,i,n){var o=d.initContext(t);d.translateAndScale(o,0,0,1),o.clearRect(0,0,i,i);var a=(i-n)/2;r.drawStretchImage(o,r.getImage(e),"fill",0,a,n,n),o.restore()},$15h:function(t){var e=this,i=t.getId(),n=e._view.querySelector(".palette-toggle-icon-"+i),o=t.isExpanded()?r.paletteCollapseIcon:r.paletteExpandIcon;if(n&&o){var a=e.$19h(),s=e.$20h();e.$16h(n,o,a,s)}},_drawToolsIcon:function(t){var e=this,i=t.s("tools");if(i)for(var n=0;n<i.length;n++){var o=e._view.querySelector(".palette-header-tool"+t.getId()+"-"+n),a=i[n].icon,r=e.$19h(),s=e.$20h();e.$16h(o,a,r,s)}},$14h:function(t){var e=this,i=t.getId(),n=e.$10h[i].querySelector(".image-box"),o=t.getImage(),a=t.s("image.stretch");if(n&&o){var s=d.initContext(n),l=e.getItemImagePadding();l="smallicons"===e._layout?l/2:l;var c=e.getItemImageWidth()-2*l,h=e.getItemImageHeight()-2*l;d.translateAndScale(s,0,0,1),s.clearRect(0,0,c,h),r.drawStretchImage(s,r.getImage(o),a,l,l,c,h,t,e),s.restore()}},validateImpl:function(){var t,e,i,a=this,s=a.$9h,c=a._layout,d=a.$10h,u=a.$4h,v=a._view,p=a.dm();if(a.$13h&&(delete a.$13h,u={},p.each(function(t){u[t.getId()]=t})),"smallicons"===c)for(var I in u){var _=u[I];if(_ instanceof l){var y=_.getName()||"",C=r.getTextSize(r.paletteContentLabelFont,y).width;a.$21h!=M&&a.$21h>C||(a.$21h=C)}}for(var I in u){var m,w;if(i=u[I],p.contains(i)){if(i instanceof ht.Group){var b,A=a.$1h(i),x=d[i.getId()];x&&(b=x.nextSibling,E(v,b),E(v,x)),e=p.getSiblings(i).indexOf(i);var T=v.children[2*e]||a._79O;T&&T.parentNode?(v.insertBefore(A[0],T),v.insertBefore(b||A[1],T)):(v.appendChild(A[0]),v.appendChild(b||A[1])),d[i.getId()]=A[0],t=s[i.getId()]=b||A[1],w=i.$12h;var N=i.s("promptText");w||(i.$12h=D("div"),i.$12h[o]=N||"",w=i.$12h),0===i.getChildren().size()?t.contains(w)||k(t,w):t.contains(w)&&E(t,w)}else if(m=i.getParent()){var S=a.$2h(i),z=d[i.getId()];t=s[m.getId()],z&&E(z.parentNode,z),e=p.getSiblings(i).indexOf(i);var V=t.children[e];V?t.insertBefore(S,V):k(t,S),d[i.getId()]=S,a.$14h(i)}}else{var j=d[i.getId()],R=j.parentNode;if(i instanceof ht.Group){var P=j.nextSibling;E(v,j),E(v,P),delete s[i.getId()]}else E(R,j),0===R.children.length&&((m=p.getDataById(R.$11h))&&((w=m.$12h)&&!R.contains(w)&&k(R,w)));delete d[i.getId()]}}a.$4h={};var Z=function(){var t=a._59I,e=0;a.$32h!=M&&(clearInterval(a.$32h),e=0,delete a.$32h),a.$32h=setInterval(function(){a.$31h(),t===a._59I?++e>=2&&(clearInterval(a.$32h),delete a.$32h):(e=0,t=a._59I)},30)};for(var L in s)if(t=s[L],i=p.getDataById(s[L].$11h),a.$15h(i),a._drawToolsIcon(i),i.isExpanded()){if(t.style.maxHeight===0+n){var B=t.scrollHeight+a._itemMargin+n;h(t).duration(200).set(f,B).set("padding-bottom",a._itemMargin+n).end(function(){Z()})}else t.style.maxHeight=t.scrollHeight+n;t.style.paddingBottom=a._itemMargin+n}else t.style.maxHeight!==0+n&&h(t).duration(200).set(f,g).set("padding-bottom",g).end(function(){Z()});a.$28h(),a.$31h()},$31h:function(){for(var t=this,e=t._view,i=0,o=e.children,a=0;a<o.length;a++){var r=o[a];r.className&&r.className.indexOf("palette-")>=0&&(i+=r.offsetHeight)}t._59I=i,t.$30h=t.$33h(t.ty());var s=t.ty();e.scrollTop=-s,t._29I={x:0,y:-s,width:e.clientWidth,height:e.clientHeight},z(t._79O,c,-s+n),t._93I()},$33h:function(t){var e=this._29I.height-this._59I;return e>t&&(t=e),t>0?0:Math.round(t)},redraw:function(){this.$13h||(this.$13h=1,this.iv())},onPropertyChanged:function(t){["autoHideScrollBar","scrollBarSize","scrollBarColor","translateY"].indexOf(t.property)<0&&this.redraw(),"translateY"===t.property&&(this.iv(),this._43o())},findDataByName:function(t){for(var e=this.dm().getDatas(),i=0;i<e.size();i++){var n=e.get(i);if(n.getName()===t)return n}},setDataModel:function(t){var e=this,i=e._dataModel,n=e._selectionModel;i!==t&&(i&&(i.umm(e.$6h,e),i.umd(e.$8h,e),i.umh(e.$7h,e),n||i.sm().ums(e.$28h,e)),e._dataModel=t,t.mm(e.$6h,e),t.md(e.$8h,e),t.mh(e.$7h,e),n?n._21I(t):t.sm().ms(e.$28h,e),e.sm().setSelectionMode("single"),e.fp("dataModel",i,t))},$6h:function(t){var e=this,i=e._view,n=t.data,a=e.$4h;"add"===t.kind?a[n.getId()]=n:"remove"===t.kind?a[n.getId()]=n:"clear"===t.kind&&(e.$10h={},e.$9h={},e.$4h={},i[o]=""),e.iv()},$7h:function(t){var e=t.data;this.$4h[e.getId()]=e,this.iv()},$8h:function(t){var e=this,i=t.data;"expanded"===t.property?e.iv():(e.$4h[i.getId()]=i,e.iv())},$28h:function(){var t,e=this,i=e.sm().ld();this.dm().each(function(n){var o;(t=e.$10h[n.getId()])&&t[a].indexOf("palette-item")>=0&&(n===i?z(t,p,r.paletteItemSelectBackground):(o=p,t.style.removeProperty(o)))})}})}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object)}).call(e,i("DuR2"))},aHvn:function(t,e,i){(function(t){!function(t,e,i){"use strict";var n="ht.widget.",o=t.ht,a=o.Color,r=o.widget,s=a.widgetBorder,l=a.widgetBackground,c=a.widgetIconBorder,h=a.transparent,d=a.background,g=a.highlight,u=o.Default,f=u.eventListenerOptionsFalse,v=(u.eventListenerOptionsTrue,function(t,e,i,n){t.addEventListener(e,i,f)}),p=function(t,e,i,n){t.removeEventListener(e,i,f)},I=u.def,_=u.widgetRowHeight,y=u.removeHTML,C=u.drawText,m=u.getTextSize,w=u.isLeftButton,b=u.getWindowInfo,A=u.getImage,M=u.drawCenterImage,x=u.preventDefault,D=u.getLogicalPoint,T=u.labelFont,N=u.labelColor,S=u.labelSelectColor,z=u.widgetIndent,k=u.startDragging,E=u.createElement,V=u.getClientPoint,j=u.scrollBarInteractiveSize,R=u.getInternal(),P=(R.createView,R.createDiv),Z=R.createCanvas,L=R.createImage,B=R.setCanvas,O=R.initContext,U=R.translateAndScale,W=R.isString,G=R.drawBorder,F=R.getImageWidth,Q=R.getImageHeight,H=R.fillRect,Y=R.layout,J=R.addMethod,X=R.isH,$=u.isTouchable,K=Math.round,q="readonly",tt=$?"touchstart":"mousedown",et={x:0,y:0,width:0,height:0},it=function(t,e){return t.querySelector(e)},nt=function(t,e){var i=u.getLogicalPoint(e,t._canvas||t._view);return i.x>=0&&i.y>=0&&i.x<=t.getWidth()&&i.y<=t.getHeight()};J(u,{textFieldFont:T,textFieldColor:N,textFieldBorderColor:s,textAreaFont:T,textAreaColor:N,textAreaBorderColor:s,radioButtonLabelFont:T,radioButtonLabelColor:N,radioButtonPressBackground:s,checkBoxLabelFont:T,checkBoxLabelColor:N,checkBoxPressBackground:s,buttonLabelFont:T,buttonLabelColor:N,buttonLabelSelectColor:S,buttonBackground:l,buttonBorderColor:s,buttonSelectBackground:g,sliderBackground:a.widgetIconBackground,sliderLeftBackground:a.widgetIconHighlight,sliderThickness:3,sliderPadding:4,sliderButton:L(14,14,{type:"circle",rect:[0,0,14,14],borderWidth:1,borderColor:c,gradient:"linear.northeast",gradientColor:a.widgetIconGradient,background:l}),comboBoxMaxHeight:-1,comboBoxLabelFont:T,comboBoxLabelColor:N,comboBoxLabelSelectColor:S,comboBoxShadowColor:h,comboBoxBorderColor:s,comboBoxBackground:d,comboBoxSelectBackground:g,comboBoxDropDownIcon:L(12,16,{type:"shape",points:[1,5,6,11,11,5],borderWidth:2,borderColor:c}),imageBorderColor:i,imageBackground:i,formPaneLabelColor:N,formPaneLabelFont:T,formPaneLabelAlign:"left",formPaneLabelVAlign:"middle",formPaneHPadding:8,formPaneVPadding:8,formPaneLabelHPadding:2,formPaneLabelVPadding:0,formPaneHGap:6,formPaneVGap:6},!0);var ot=function(t,e){var i=this;(i._view=R.createView(null,i)).appendChild(i._element=E(t,e)),i.setHeight(_),i.setWidth(80),i.iv()};I(ot,e,{ms_v:1,ms_fire:1,ms_tip:1,ms_ac:["toolTip"],onPropertyChanged:function(){this.iv()},getToolTip:function(){return this._toolTip||this.getText()},getElement:function(){return this._element},getText:function(){return this._element.value},setText:function(t){this._element.value=t},getValue:function(){return this.getText()},setValue:function(t){this.setText(t)},getColor:function(){return this._element.style.color},setColor:function(t){this._element.style.color=t},getBackground:function(){return this._element.style.background},setBackground:function(t){this._element.style.background=t},getBorder:function(){return this._element.style.border},setBorder:function(t){this._element.style.border=t},getFont:function(){return this._element.style.font},setFont:function(t){this._element.style.font=t},isEditable:function(){return this._element.hasAttribute(q)},setEditable:function(t){var e=this._element;t?e.removeAttribute(q):e.setAttribute(q,!0)},validateImpl:function(){var t=this;Y(t._element,0,0,t.getWidth(),t.getHeight())},setFocus:function(){return u.setFocus(this._element),this.fireViewEvent("focus"),!0}}),r.TextField=function(){r.TextField.superClass.constructor.call(this,"input",u.textFieldBorderColor),this.setColor(u.textFieldLabelColor),this.setFont(u.textFieldLabelFont)},I(n+"TextField",ot,{getType:function(){return this._element.getAttribute("type")},setType:function(t){var e=this._element,i=u.numberListener;e.setAttribute("type",t),p(e,"keydown",i),"number"===t&&v(e,"keydown",i,!1)}}),r.TextArea=function(){r.TextArea.superClass.constructor.call(this,"textarea",u.textAreaBorderColor),this.setColor(u.textAreaLabelColor),this.setFont(u.textAreaLabelFont)},I(n+"TextArea",ot,{}),r.Button=function(){var t=this,e=t._view=R.createView(null,t);t.setHeight(_),t.setWidth(80),t._canvas=Z(e),new at(t),t.iv()},I(n+"Button",e,{ms_v:1,ms_fire:1,ms_tip:1,ms_ac:["groupId","label","icon","iconColor","orientation","toolTip","labelFont","labelColor","labelSelectColor","borderColor","background","selectBackground","togglable","selected","pressed","clickable"],_clickable:!0,_togglable:!1,_selected:!1,_pressed:!1,_orientation:"h",_labelFont:u.buttonLabelFont,_labelColor:u.buttonLabelColor,_labelSelectColor:u.buttonLabelSelectColor,_borderColor:u.buttonBorderColor,_background:u.buttonBackground,_selectBackground:u.buttonSelectBackground,onClicked:function(){},onSelectedChanged:function(){},getValue:function(){return this.isSelected()},setValue:function(t){this.setSelected(t)},onValueChanged:function(){},onPropertyChanged:function(t){var e=this,i=e._view.parentNode;e.iv(),"selected"===t.property&&(null!=e.getGroupId()&&i&&i.handleGroupSelectedChanged&&i.handleGroupSelectedChanged(e),e.onSelectedChanged(),e.onValueChanged(t.oldValue,t.newValue))},getToolTip:function(){return this._toolTip||this._label},getCurrentBackground:function(){return this._pressed||this._selected?this._selectBackground:this._background},getCurrentBorderColor:function(){return this._borderColor},validateImpl:function(){var t=this,e=t._canvas,i=t.getWidth(),n=t.getHeight(),o=t._pressed||t._selected,a=t.getCurrentBackground();B(e,i,n);var r=O(e);U(r,0,0,1),r.clearRect(0,0,i,n),a&&H(r,0,0,i,n,a),G(r,t.getCurrentBorderColor(),0,0,i,n);var s=t._iconColor,l=A(t._icon,s),c=F(l),h=Q(l),d=t._label,g=t.getLabelFont(),u=o?t._labelSelectColor:t._labelColor,f=null==d?et:m(g,d),v=f.width,p=f.height;X(t)?(c&&M(r,l,i/2-(c+v)/2+c/2,n/2,t,t,s),v&&C(r,d,g,u,i/2-(c+v)/2+c,0,v,n,"center")):(c&&M(r,l,i/2,n/2-(h+p)/2+h/2,t,t,s),v&&C(r,d,g,u,i/2-v/2,n/2-(h+p)/2+h,v,p,"center")),r.restore()}});var at=function(t){this.button=t,this.addListeners()};I(at,e,{ms_listener:1,getView:function(){return this.button._view},handle_mousedown:function(t){w(t)&&this.handle_touchstart(t)},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handle_touchstart:function(t){x(t),this.button.isClickable()&&(k(this,t),this.button.setPressed(!0))},handleWindowTouchMove:function(){},handleWindowTouchEnd:function(t){var e=this.button;e.setPressed(!1),nt(e,t)&&(e.isTogglable()&&(null!=e.getGroupId()?e.setSelected(!0):e.setSelected(!e.isSelected())),e.onClicked(t))}});var rt=function(){var t=this,e=t._view=R.createView(null,t);t.setHeight(_),t.setWidth(80),t._canvas=Z(e),new st(t),t.iv()};I(rt,e,{ms_v:1,ms_fire:1,ms_tip:1,ms_ac:["label","labelFont","labelColor","toolTip","icon","iconColor","selected","pressed","pressBackground","padding"],_padding:0,_selected:!1,_pressed:!1,onClicked:function(){},onSelectedChanged:function(){},onValueChanged:function(){},getValue:function(){return this.isSelected()},setValue:function(t){this.setSelected(t)},onPropertyChanged:function(t){var e=this;e.iv(),"selected"===t.property&&(e.onSelectedChanged(),e.onValueChanged(t.oldvalue,t.newValue))},getToolTip:function(){return this._toolTip||this._label},validateImpl:function(){var t=this,e=t._canvas,i=t.getWidth(),n=t.getHeight(),o=t.getCheckIcon;B(e,i,n);var a=O(e);U(a,0,0,1),a.clearRect(0,0,i,n);var r=t._padding,s=t._iconColor,l=A(o?t.getCheckIcon():t.getRadioIcon()),c=F(l),h=Q(l);t._pressed&&(a.fillStyle=t._pressBackground,a.beginPath(),o?a.rect(r,n/2-h/2,c,h):a.arc(r+c/2,n/2,Math.min(c,h)/2,0,2*Math.PI,!0),a.fill()),M(a,l,r+c/2,n/2,t,t),r+=c+1,l=A(t.getIcon(),s),c=F(l),M(a,l,r+c/2,n/2,t,t,s),r+=c,C(a,t._label,t._labelFont,t._labelColor,r,0,0,n),a.restore()}});var st=function(t){this.c=t,this.addListeners()};I(st,e,{ms_listener:1,getView:function(){return this.c._view},handle_mousedown:function(t){w(t)&&this.handle_touchstart(t)},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handle_touchstart:function(t){x(t),k(this,t),this.c.setPressed(!0)},handleWindowTouchMove:function(){},handleWindowTouchEnd:function(t){var e=this.c;e.setPressed(!1),nt(e,t)&&(e.handleClick(t),e.onClicked(t))}}),r.CheckBox=function(){r.CheckBox.superClass.constructor.call(this)},I(n+"CheckBox",rt,{_labelFont:u.checkBoxLabelFont,_labelColor:u.checkBoxLabelColor,_pressBackground:u.checkBoxPressBackground,getCheckIcon:function(){return this._selected?"check":"uncheck"},handleClick:function(){this.setSelected(!this.isSelected())}}),r.RadioButton=function(){r.RadioButton.superClass.constructor.call(this)},I(n+"RadioButton",rt,{ms_ac:["groupId"],_pressBackground:u.radioButtonPressBackground,_labelFont:u.radioButtonLabelFont,_labelColor:u.radioButtonLabelColor,getRadioIcon:function(){return this._selected?"radioOn":"radioOff"},onPropertyChanged:function(t){var e=this,i=e._view.parentNode;e.iv(),null!=e.getGroupId()&&"selected"===t.property&&(i&&i.handleGroupSelectedChanged&&i.handleGroupSelectedChanged(e),e.onSelectedChanged(),e.onValueChanged(t.oldValue,t.newValue))},handleClick:function(){this.setSelected(!0)}}),r.Slider=function(){var t=this,e=t._view=R.createView(null,t);t.setHeight(_),t.setWidth(80),t._canvas=Z(e),new lt(t),t.iv(),t.enableToolTip()},I(n+"Slider",e,{ms_v:1,ms_fire:1,ms_tip:1,ms_ac:["value","min","max","step","button","toolTip","instant","thickness","padding","background","leftBackground"],_min:0,_max:100,_value:50,_step:i,_instant:!0,_button:u.sliderButton,_thickness:u.sliderThickness,_padding:u.sliderPadding,_background:u.sliderBackground,_leftBackground:u.sliderLeftBackground,onPropertyChanged:function(t){var e=this,i=t.property;("min"===i||"max"===i||"step"===i)&&e.setValue(e._value),e.iv()},adjustValue:function(t){null==t&&(t=0);var e=this,i=e._min,n=e._max,o=e._step;return i>t&&(t=i),t>n&&(t=n),o>0&&(t=Math.floor((t-i)/o)*o+i),t},getToolTip:function(){return this._toolTip||this._value},getValue:function(){return this._value},setValue:function(t){var e=this,i=e._value;i!==(t=e.adjustValue(t))&&(e._value=t,e.fp("value",i,t),e.onValueChanged(i,t))},onValueChanged:function(){},onBeginValueChanged:function(){},onEndValueChanged:function(){},drawBackground:function(t,e,i,n,o){H(t,e,i,n,o,this.getBackground())},drawLeftBackground:function(t,e,i,n,o){var a=this.getLeftBackground();a&&H(t,e,i,n,o,a)},drawButton:function(t,e,i,n,o){M(t,A(this._button),e+n/2,i+o/2,this,this)},getButtonWidth:function(){var t=A(this._button);return t?t.width:0},validateImpl:function(){var t=this,e=t._canvas,i=t._min,n=t._max,o=t._value,a=t._padding,r=t._thickness,s=t.getWidth(),l=t.getHeight(),c=t.getButtonWidth(),h=(l-r)/2,d=c/2+(o-i)/(n-i)*(s-2*a-c);B(e,s,l);var g=O(e);U(g,0,0,1),g.clearRect(0,0,s,l),t.drawBackground(g,a,h,s-2*a,r),t.drawLeftBackground(g,a,h,d,r),t.drawButton(g,a+d-c/2,0,c,l),g.restore()}});var lt=function(t){this.slider=t,this.addListeners()};I(lt,e,{ms_listener:1,getView:function(){return this.slider._view},handle_mousedown:function(t){w(t)&&this.handle_touchstart(t)},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},setValue:function(t){var e=this.slider,i=e.getPadding()+e.getButtonWidth()/2,n=e.getMin();e.setValue(n+(D(t,e._canvas).x-i)/(e.getWidth()-2*i)*(e.getMax()-n))},handle_touchstart:function(t){var e=this;x(t),e.slider.onBeginValueChanged(),e.setValue(t),k(e,t),u.showToolTip(t,e.slider.getToolTip(t))},handleWindowTouchMove:function(t){this.setValue(t),u.showToolTip(t,this.slider.getToolTip(t))},handleWindowTouchEnd:function(t){this.setValue(t),this.slider.onEndValueChanged(),u.hideToolTip()}}),r.ComboBox=function(){var t=this,e=t._view=R.createView(null,t),i=t._listView=new r.ListView,n=t._canvas=Z(e),o=i._view,a=i.sm();t.setHeight(_),t.setWidth(80),a.setSelectionMode("single"),i.drawRow=function(e,i,n,o,a,r,s){t.drawRow(e,i,n,o,a,r,s)},e.style.display="inline-block",R.setBorder(e,u.comboBoxBorderColor),o.style.boxShadow="0px 0px 10px "+u.comboBoxShadowColor,null!=u.baseZIndex&&(o.style.zIndex=parseInt(u.baseZIndex)+1+""),v(o,"mousemove",function(t){a.ss(i.getDataAt(t))},!1),v(o,"keydown",function(e){if(R.isEnter(e)){var i=a.ld();i&&(t.setValue(i.value),t.close())}R.isEsc(e)&&t.close()},!1),v(e,"keydown",function(e){(R.isDown(e)||R.isUp(e))&&t.open()},!1),i.onDataClicked=function(e){t.setValue(e.value),t.close()},v(e,tt,function(i){if(w(i)){var o=i.target;(o===n||o===e)&&(x(i),t.toggle())}},!1),t._handleWindowClick=function(i){if(w(i)){var n=i.target;n===t._input||o.contains(n)||n===e||(t._input?t.setInputValue(t._input):t.close())}},t.iv()},u.def(n+"ComboBox",e,{ms_v:1,ms_fire:1,ms_tip:1,ms_ac:["dropDownIcon","dropDownWidth","dropDownBackground","toolTip","strict","indent","background","labelFont","labelColor","labelSelectColor","maxHeight","selectBackground","value","values","labels","icons","editable"],_strict:!0,_editable:!1,_maxHeight:u.comboBoxMaxHeight,_labelFont:u.comboBoxLabelFont,_labelColor:u.comboBoxLabelColor,_labelSelectColor:u.comboBoxLabelSelectColor,_background:u.comboBoxBackground,_dropDownWidth:i,_dropDownIcon:u.comboBoxDropDownIcon,_dropDownBackground:u.comboBoxBackground,_selectBackground:u.comboBoxSelectBackground,_indent:z,getInput:function(){return this._input},getListView:function(){return this._listView},onPropertyChanged:function(t){this.iv(),"value"===t.property&&this.onValueChanged(t.oldValue,t.newValue)},onValueChanged:function(){},getToolTip:function(){return this._toolTip||this.toLabel(this._value)},getLabelColor:function(t,e){return e?this._labelSelectColor:this._labelColor},isEqual:function(t,e){return this._strict?t===e:t==e},toLabel:function(t){var e=this,i=e._values,n=e._labels;if(n&&i&&n.length===i.length)for(var o=0;o<i.length;o++)if(e.isEqual(i[o],t))return n[o];return null==t?"":t+""},toIcon:function(t){var e=this,i=e._values,n=e._icons;if(n&&i&&n.length===i.length)for(var o=0;o<i.length;o++)if(e.isEqual(i[o],t))return n[o];return null},drawValue:function(t,e,i,n,o,a,r){var s=this,l=s._indent,c=s.toLabel(e),h=A(s.toIcon(e));h&&(M(t,h,n+l/2,o+r/2),n+=l),c&&C(t,c,s.getLabelFont(e,i),s.getLabelColor(e,i),n,o,0,r)},drawRow:function(t,e,i,n,o,a,r){var s=this,l=e.value,c=s._indent;i&&H(t,n,o,a,r,s._selectBackground),s.drawValue(t,l,i,n,o,a-c,r)},validateImpl:function(){var t=this,e=t._canvas,i=t._indent,n=t.getWidth(),o=t.getHeight(),a=n-i,r=t._background||"";t._view.style.background=r,t._listView._view.style.background=t._dropDownBackground,B(e,n,o);var s=O(e);U(s,0,0,1),s.clearRect(0,0,n,o),M(s,A(t._dropDownIcon),a+i/2,o/2,t,t),s.beginPath(),s.rect(0,0,a,o),s.clip(),t.drawValue(s,t._value,!1,0,0,a,o),s.restore()},isOpened:function(){return!!this._listView._view.parentNode},open:function(){var e=this,i=e._listView,n=i.dm(),a=e._values||[],r=a.length;if(!e.isOpened()){n.clear();for(var s=0;r>s;s++){var l=new o.Data,c=a[s];l.setName(e.toLabel(c)),l.value=c,n.add(l),e.isEqual(c,e._value)&&n.sm().ss(l)}var h=b(),d=h.left,g=h.top,f=h.height,p=e._view.getBoundingClientRect(),I=p.left+d,_=p.top+g,y=p.height,C=e.getIndent(),m=e.getWidth(),w=e.getHeight(),A=I+1,M=_+y,x=e.getDropDownWidth()||m,D=r*w;if(e._maxHeight>0&&(D=Math.min(D,e._maxHeight)),i.setRowHeight(w),M+D>g+f&&(_-g>g+f-_-y?M=_-(D=Math.min(D,_-g)):D=g+f-M),e._editable){var T=e._input=u.createElement("input",e.getSelectBackground(),e.getLabelFont(),e.toLabel(e._value));T.className="ht-widget-combobox-input",o.Default.appendToScreen(T),Y(T,I,_+1,m-C,w),v(T,"keydown",function(t){R.isEnter(t)?e.setInputValue(T):R.isEsc(t)&&e.close()},!1),e.onInputCreated(T)}i.getView().className="ht-widget-combobox-popup",o.Default.appendToScreen(i.getView()),Y(i,A,M,x,D),i.setFocus(),o.Default.callLater(function(){v(t,tt,e._handleWindowClick,!1)}),e.onOpened&&e.onOpened(),R.closePopup(e)}},onInputCreated:function(){},setInputValue:function(t){var e=this,i=e._labels,n=e._values,o=t.value;if(i)for(var a=0;a<i.length;a++)o===i[a]&&(o=n[a]);"string"==typeof o&&n&&n.length&&"number"==typeof n[0]&&(o=parseFloat(o)),e.setValue(o),e.close()},close:function(){var e=this;e.isOpened()&&(y(e._listView._view),e._input&&(y(e._input),delete e._input),p(t,tt,e._handleWindowClick),e.onClosed&&e.onClosed(),u.popup===e&&delete u.popup),e.setFocus()},toggle:function(){var t=this;t.isOpened()?t.close():t.open()}}),r.BaseDropDownTemplate=function(t){this._master=t},u.def(n+"BaseDropDownTemplate",e,{ms_ac:["master"],getView:function(){},onOpened:function(){},onClosed:function(){},getValue:function(){},getWidth:function(){},getHeight:function(){}}),r.MultiComboBox=function(){var t=this,e=t._view=R.createView(null,t),i=t._canvas=Z(e);t.setHeight(_),t.setWidth(80),e.style.display="inline-block",R.setBorder(e,u.comboBoxBorderColor),v(e,"keydown",function(e){(R.isDown(e)||R.isUp(e))&&t.open()},!1),v(e,tt,function(n){if(w(n)){var o=n.target;(o===i||o===e)&&(x(n),t.toggle())}},!1),t._handleWindowClick=function(i){if(w(i)){var n=i.target,o=t._dropDownComponentInstanceView;n===t._input||n===e||o&&o.contains(n)||t.close()}},t.iv()},u.def(n+"MultiComboBox",e,{ms_v:1,ms_fire:1,ms_tip:1,ms_ac:["dropDownIcon","toolTip","background","labelFont","labelColor","value","editable","indent","dropDownComponent"],_editable:!1,_background:u.comboBoxBackground,_dropDownIcon:u.comboBoxDropDownIcon,_indent:z,_labelFont:u.comboBoxLabelFont,_labelColor:u.comboBoxLabelColor,onPropertyChanged:function(t){this.iv(),"value"===t.property&&this.onValueChanged(t.oldValue,t.newValue)},onValueChanged:function(){},getDropDownComponentInstance:function(){return this._dropDownComponentInstance},getToolTip:function(){return this._toolTip},validateImpl:function(){var t=this,e=t._canvas,i=t._indent,n=t.getWidth(),o=t.getHeight(),a=n-i,r=t._background||"";t._view.style.background=r,B(e,n,o);var s=O(e);U(s,0,0,1),s.clearRect(0,0,n,o),M(s,A(t._dropDownIcon),a+i/2,o/2,t,t),s.beginPath(),s.rect(0,0,a,o),s.clip(),this.drawValue(s,0,0,a,o),t._input&&t._input.value!==t._value&&(t._input.value=null==t._value?"":t._value),s.restore()},drawValue:function(t,e,i,n,o){C(t,this._value,this.getLabelFont(),this.getLabelColor(),e+1,i,0,o)},isOpened:function(){return!!this._dropDownComponentInstanceView},open:function(){var e=this;if(!e.isOpened()){var i=u.getClass(e._dropDownComponent),n=e._dropDownComponentInstance=new i(e),a=e._dropDownComponentInstanceView=n.getView(),r=b(),s=r.left,l=r.top,c=r.width,h=r.height,d=e._view.getBoundingClientRect(),g=d.left+s,f=d.top+l,p=(d.width,d.height),I=e.getIndent(),_=e.getWidth(),y=e.getHeight(),C=g,m=f+p,w=n.getWidth()||_,A=n.getHeight();if(m+A>l+h&&f-l>l+h-f-p&&(m=f-A),C+w>s+c&&(C-=C+w-s-c),e._editable){var M=e._input=u.createElement("input",u.comboBoxSelectBackground,e.getLabelFont(),e._value);o.Default.appendToScreen(M),Y(M,g,f+1,_-I,y),v(M,"keydown",function(t){R.isEnter(t)?(e.setValue(M.value),e.close(!0)):R.isEsc(t)&&e.close(!0)},!1),e.onInputCreated(M)}a.style.boxShadow="0px 0px 10px "+u.toolTipShadowColor,a.style.position="absolute",null!=u.baseZIndex&&(a.style.zIndex=parseInt(u.baseZIndex)+1+""),o.Default.appendToScreen(a),o.Default.setFocus(a),Y(n,C,m,w,A),n.onOpened&&n.onOpened(e._value),v(t,tt,e._handleWindowClick,!1),e.onOpened&&e.onOpened(),R.closePopup(e),e.fireViewEvent("open")}},onInputCreated:function(){},close:function(e){var i=this;if(i.isOpened()){e||i.setValue(i._dropDownComponentInstance.getValue());var n=i._dropDownComponentInstance,o=i._dropDownComponentInstanceView;n.onClosed&&n.onClosed(),y(o),delete i._dropDownComponentInstanceView,delete i._dropDownComponentInstance,i._input&&(y(i._input),delete i._input),p(t,tt,i._handleWindowClick),i.onClosed&&i.onClosed(),u.popup===i&&delete u.popup,i.fireViewEvent("close")}i.setFocus()},toggle:function(){var t=this;t.isOpened()?t.close():t.open()}}),r.Image=function(){var t=this,e=t._view=R.createView(null,t);e.onmousedown=x,t.setHeight(_),t.setWidth(80),t._canvas=Z(e),new ct(t),t.iv()},I(n+"Image",e,{ms_v:1,ms_fire:1,ms_tip:1,ms_ac:["icon","iconColor","stretch","toolTip","borderColor","background"],_borderColor:u.imageBorderColor,_background:u.imageBackground,_stretch:"centerUniform",onClicked:function(){},onPropertyChanged:function(){this.iv()},validateImpl:function(){var t=this,e=t._canvas,i=t.getWidth(),n=t.getHeight(),o=t._iconColor,a=A(t._icon,o),r=t._background;B(e,i,n);var s=O(e);U(s,0,0,1),s.clearRect(0,0,i,n),r&&H(s,0,0,i,n,r),this.drawImage(s,a,0,0,i,n,o),G(s,t._borderColor,0,0,i,n),s.restore()},drawImage:function(t,e,i,n,o,a,r){e&&u.drawStretchImage(t,e,this._stretch,i,n,o,a,null,this,r)}});var ct=function(t){this.image=t,this.addListeners()};I(ct,e,{ms_listener:1,getView:function(){return this.image._view},handle_mousedown:function(t){w(t)&&this.handle_touchstart(t)},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handle_touchstart:function(t){x(t),k(this,t)},handleWindowTouchMove:function(){},handleWindowTouchEnd:function(t){var e=this.image;nt(e,t)&&e.onClicked(t)}});r.ColorPicker=function(){var t=this;r.ColorPicker.superClass.constructor.call(t),t.setEditable(!0),t.setDropDownComponent(r.ColorPickerTemp)},I(n+"ColorPicker",r.MultiComboBox,{ms_ac:["instant","clearButtonVisible","paletteColors"],_clearButtonVisible:!0,setValue:function(t){var e=this;if(t!==i){var n=e._value;e._value=t,e.fp("value",n,t)}},drawValue:function(t,e,i,n,o){this._value&&(t.beginPath(),t.rect(e+2,i+2,20,o-4),t.fillStyle=this._value,t.fill()),C(t,this._value,this.getLabelFont(),this.getLabelColor(),e+23,i,0,o)}}),r.ColorPickerTemp=function(t){var e=this,i=e._view=R.createView(null,e),n=e.$10o=document.createElement("div"),a=e.$12o=P(),s=e._paletteColorsDiv=P(),l=n.style;e._h=360,e._s=100,e._v=100,i.className="colorPickerPopup ht-widget-colorpicker-popup",i.style.position="absolute",i.style.background="white",r.ColorPickerTemp.superClass.constructor.call(e,t);var c='<div style="border: 1px solid rgba(0, 0, 0, 0); position: absolute; width: 40px; height: 20px; top: 5px; left: 5px; bottom: 5px; background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAIAAAACUFjqAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA6SURBVChTY/iPCk6DwRkYoKv0sWPHjiIBBohyCADKQVXBAIr0kSNHoMIwwAC1BAyApkGFYYAS6f//AVzgDAPz1XkAAAAAAElFTkSuQmCC) repeat;"></div>                      <div class= "preview" style="border: 1px solid black; position: absolute; width: 40px; height: 20px; top: 5px; left: 5px; bottom: 5px;"></div>                      <div style="margin-left: 50px; font: '+u.labelFont+'; line-height: 30px;" >                             <span>R:</span><input class="color_R" style="width: 28px;" type="'+($?"number":"text")+'">                             <span>G:</span><input class="color_G" style="width: 28px" type="'+($?"number":"text")+'">                             <span>B:</span><input class="color_B" style="width: 28px" type="'+($?"number":"text")+'">                             <span>A:</span><input class="color_A" style="width: 28px" value="1" type="'+($?"number":"text")+'">                      </div>';l.font=u.labelFont,l.height="30px",l.lineHeight="30px",l.position="relative",l.whiteSpace="nowrap",n.innerHTML=c,a.innerHTML='<div>        <div class="satval" style="position: absolute;cursor:crosshair;margin-left:5px;top: 6px;border:1px solid black;width:128px;height:128px;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNmlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjarY6xSsNQFEDPi6LiUCsEcXB4kygotupgxqQtRRCs1SHJ1qShSmkSXl7VfoSjWwcXd7/AyVFwUPwC/0Bx6uAQIYODCJ7p3MPlcsGo2HWnYZRhEGvVbjrS9Xw5+8QMUwDQCbPUbrUOAOIkjvjB5ysC4HnTrjsN/sZ8mCoNTIDtbpSFICpA/0KnGsQYMIN+qkHcAaY6addAPAClXu4vQCnI/Q0oKdfzQXwAZs/1fDDmADPIfQUwdXSpAWpJOlJnvVMtq5ZlSbubBJE8HmU6GmRyPw4TlSaqo6MukP8HwGK+2G46cq1qWXvr/DOu58vc3o8QgFh6LFpBOFTn3yqMnd/n4sZ4GQ5vYXpStN0ruNmAheuirVahvAX34y/Axk/96FpPYgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6AAAUggAARVYAAA6lwAAF2/XWh+QAAA2MUlEQVR42uxddYwsafW9jbu7u7sTHIIGDRYsSLAgQYIECbBBggQJEixIsABL0KBBFgm++C6wLMsuLCyysMh7u/vmvan6/fGbntT75sq597tfdfVMTfIyb6qrq3t6+px7zrn3+3rR931PRD39/5f23TrWA7d5jiG3tfzXVZzjOY4ci5yz6p+j52S9rpFzWvzzvretYwjetGOHfV90XTcTwMgEMCDdKRAAZRPA4PdrRgDAa4i89uI/7TzutvIYU1i3jw1vk44Nv5bHtrC6/f/Nzc2eiKjruv7QoUM9EdHy+4EDB/ozzzyzJyL63//+1xMR/eMf/+iJiI455pieiOiII46YCWAmgJkA9jQBbF1kTxKA8WbogOcyGQvQ9/0oEr8S3CECVB5T+t0JOCcC5h0/MwAujx0Gcu625dcQ4Mufl8eG/9/c3OwPHTq0TQAHDx7sNzY2toFPRHTGGWf0+/bt64mITjvttJ6I6C9/+UtPRHTsscf2RERHHnnkTAAzAcwEsKcJYEsyrDUBKEAmmmgIaLypUyyAATSXBfASzNZjm7+HAExI6nOvoQLozgNoTsaXYOe+M//fQQAS2JfnL8G+ubl5GOiXgD906FB/6NCh/uDBgz0R0cbGRr8E/lL279+/v19K/3/+8589EdEpp5zSExEdd9xxPRHRUUcdNRPATAAzAexpAti6yKQJoPiDjRUK1gRLGRaAFDC7JXzEIoAEAgF56+/YeYNR7jgD4A6Q8R0I9ijQWVnPhXoc2IeksAT+EPRL2b8kgIMHD24TwDDwO+OMM7YJ4D//+U9PRPSvf/2rJyL661//2hMRnXDCCT0R0dFHHz0TwEwAMwHsaQLYCg8mQQBc62SVbUCgZaQBncBwK2wBPABVQjyqIQDNykikA4CdO4+kv8nwcRRQdxGgW8Dnji0BrbXwSgIoQ77hv6HsX4Z+ZfC3JIDTTz+9JyLat29f/9///vewEPBvf/tbT0R00kknbYeBiy3vMDoBFGBf2RyAAvKqLoBwXVgBgEk5RVN6SxE4byck3xAqdYf6deFcjgBIOgclAAv0HAmU4B+CfJjqD8Feev6SAIZVf0gAGxsbhxHAsvIvCWD//v07CGA5B3DyySf3RETHH3/8TAAzAcwEsKcJYEs6NCcAA/DNCQCcACNvBuAAOmIBzES+AcDJe3/OuiDgHrxear6hSHqVADRPX5xDUeAjX6Wn58A/7O8P0/6yz1/6/iEBLJP/IQEsv+/bt2+7C7AkgLIbcOKJJ84EMBPATAB7mgC27tCMAJg/+CiTgAmzAR1wPTTtJ0fghyT2kk0gFLCWZTACPArKe5EABaCTJPU1AhBkfqck94dJdgn03PFS8g/BLwV9XOA3nOcvgW8RwJlnnrkjBBzOASy7AUsCWIaBJ598cr/YukM6AQxeTKTaVxOAAFCqUAyeQSAC7+sehFF+vyxPT2BF74zhG2TQRgP7YedJIOa8vkQABWi7qL8nQwYMSaD0+xIBDBfySIn/EvwlASz9/1ABaASwzAKW7cBlFnDKKafMBDATwEwAe5oA9u/f34IAOOmfTgAMKDLtAtQF8FgDBezktQCAR+9rJD+weKbzgFsBcOfo2XcCyMvjxAC8A8Fuevyyn89Jf40AuBFfiQCGsn+JrYMHD/YHDhzY7gIMLcBwEGi5GKjsBgytwGLrpCwCoGJyL50AsqYC0XXhxv086/57JynAakTy+MbATemzzfsbP/dAmAcpAG2YRzgH9fdVwJcqfkkIXNBXgr9cy48QwBLwQxUgEcDpp5++TQBLJfDvf/97hxJYbN2YQQA1gZ9JAAapZACeAiDunI8BLYfdAgV5JggFRUDo+QYBkEUAQMBHgrTvkEpvSHyEALqyikcSfqnaD8lgON47HO0dkoDW81/+/+DBg9vHNjY2DrMAw6W/3Cjw6aef3m+peyrDwCURnHrqqTMBzAQwE8CeJoAtf1BLAOSY44cJoCCUUduBYAgI5QfAhhZuC6D18Z2Ap4jkZ1p1LAFE5L4S6nWatDdkf6e19TQ2sFp9mvTnlvcOCWBoATgCGFoAbvlvSQDDMHBJAGUWMLQCiy1WCBGAkPRXE4BjTDitIwCu6CNgIQ9EHoFFNFQR4pGUCRihHinJPBTwAeFe5xjP7TQFwO2rt/xv13Wdp+Jrq/g40GvDPqUK4BTAcIefof8vx39L/y8pgDPOOKMfLgzilMBpp502E8BMADMB7GkC2JIDUQtAxnp9NwGAOUJaW9BYDEQVUp/QxN/KDsAx2z4AcHYOQEjsO2MnnQ7o26OtPY4UiOsCDOU96bvydFG/PyQDRP5z037cWn9p7Hdzc3Mb/JIFKG1AaQE4AuCswGKrNxghAKnXHyIA59xAX9MaNABHnv0AhOzDu6UVOkOvrb6DB3PACq6O7Ar3J40ANEKw2n0l0IeFp6zuXIuv20KqJ/njKn4526+BnwP98Jg298+1AbVBoJIIhgRQZgFDJbDY6gmujACUiUHvIFAN8Mkr44194z33tToD5JyzJ6dkJ5AQyoU8kLwfAtWyAMD3zurpS/39rkzyKib8pN18pGEfKQAsLYAWAh46dGiHBRjOAQztwJIAhkNBw+/DCcHF1lQQTAAMYMMEAIDf6hDUAJ8CQz7k3KTSzAyELa3NoRvOo1uTeca4bYcM9QgKgEB/Xz5niQA6YZutDkn4uRYfRwAaGXDg5yq/tthH2uKLIwEuA4goAI4ANCUwE8BMADMB7GUCOPXUU70WwBr3hQjA0eOnROAT+Xv5pJ0jPIZrU0uyt7k21wtoHl4byy1DQGvprdbjLy0ZRxrIgM/Q0zPHd8z5D/w9C+zhOeguPlbgZ438cgt+pIU/5RLgYQjIdQG4HYGGNmBpC8o9AjgrsNhaGTQqATiTfq1D0AL4ntu9qwHZdqNQbcnKCQKTegTO6ZM1xCNdT1qko6T4UAbApf1DZRCd60dm/L1tPykDGJLAEOwlGXAKYJgBcAQwVAESAXBKYPH3v/8dIoBCrsMbgoCBHzoKnNIRQMJAAMSkLNvthOdv7ggEjvmSUtG9KT4ZoR+sACx5z230oZECI+c7AeSdFOhxIeASlJ7kHyUArvXHyX9uDmC49JcjgNICDENBjgC48eDh93379vWLrd1BEAVAYPVGlwp7CICc1ZqieYAxtkseSW9UbXE5LMnbX8NzAECbDvL0WgsPHN9V/X4p6yNpP9MG5IZ4OmRZr+b5OSKQ/g09fkkA5e4/ZReA2xOgHAuWCGBoBbjx4FIJzAQwE8BMAHuZALY+LWQMAnAN+4AdAjgYREhHSPgJHaZR1tZL3t5M38GEvmaUl1BC0Pr+noEeLfArp/aEDIAUeS+BvEO37/as+NMIoBwF5mYBhkNAZRZQjgKXHYFhBlCuECyHgrjv+/fv7xdbO4S2JoDQJiGI7w+An8g31GNtwkHA5hyk+PSOeY0sMIdCPmSQZ/hclZSfpLagFvoJO/N2UluPaeftCPu2wNhZm3hqXcDyk3zQ1F8bACrHfTklYE0ClmQgEYA1FagpgcXWZ4arwDd6/y0IgBzAbgF8ArbEstp9hFoAZScdstbaAxWcEEJAb+eur4z5dgjYy4ouzPaTlPYvbYSR8Hdar1/bzlsL/6T2H9cGLNf/W4uBlmAvQ8Al+LnlwdxMALdOYJsA/vznP/eByu8hAOTDPYmcHwbaAPzISj8CvDqR/hl25Ozfcy061/r8FoAvF/Ewt5sWQBjuIWn/vjLtl8Z8rQygbPFx1d4a9+X2/Surv7YACF0LMMwENAXAbRKiLRRafl9sfUzQVAiAHF6dorZAez5CCEiGN0d8PSkWgJwBn7hPPxrqgYAnadUeZzkifp9byGMN/KBDPkUfv4t6fyT84zb+4Db+LBcDDfcD1AiAywM4AtCygOGU4DYB/OlPf2pFAJ7EX0v6yajCMDlYz4WT8cDUXg/6etYCKPKelIDPSv1Jq+CRCl++HuAATweEe6IF0IDuXdvf/f+XutxXG/m1PuWnlPza1t/SYiBtFJjLA8q5AIkANCswE8BMADMB7GUC+OMf/7hqAiBj3p4agJ8cSb/2GB1ABlpSz12DLH8vLa31LNbhCMGzlBcA+477cD1/oYdvAr2cA/Au70W3946k/1zwF10MVNoAjgDKluCQCDQCOPPMM/vFSSed1IIAPJ7eGvShRPDDYaDQBTArOpIBWEoD8O9I2y9CCCS07KztuUjYsJNVDZIqKIlCGvhhAjwzBNzc3OyYXMDsACAkwO36uySBLAIolYClADgC4IhgceKJJzYhAHDoBwE3jQR+Amb0kVRfSu09FkBbukvKYh7StuNySv7emgOwugDcqj5tjp+Y/fsKMHeSvLdCwCUBoOGfteHH8tol+KUhIIkAyjBQIoBSCUgKACGAIREs/vCHP6j7/Qk9edJSfwOU5FjkY9mDHvDpLmLg9vVDJD54jmUBpBYf2xo02nraqC5Zi3kckp/IuTe/RBJWvz/6tQU0dhLQkv2W70fmALQcoFwZWE4HclOB0mhwSQBDEhAJ4IQTTlgZAQDDPqY98ILfmwUI4NMyAAI27OwNgKtDPsbqPIooAFTyS+cL4O+0DT2s7bwEC0CcZeB6+8hKP236T/uI7+U5ZfAXIQBpb4BSAXA2gNsrQFohWG4hduDAgX7x+9//Pp0AgKk/Avr11ihwDfhNYghkAKR4eMgCAIEeaWvtEUvAKQAr5VckPymZgLaDz44pPmnkV7IAXI9fW+67fBxE9ktKQLIEXPpfzgGU8wDSZODQAgzVAacApM1CUAVw4MCBfnH88cdnEYBn7NcaDoJUBJDSeyS/CmJE0ittPJcFQEhBaQOStQOvJOFrJD8BH8wphHidNduvzfxbGcAAsJ0k+1Hvr9kBiQTKKs99LsDQ/0sWgAsEue3CNALgpgUXv/vd78YkAMnTE+GfBai2DA0Zj4LfXA2Y+bNGLFy1J/0jtBFPT9pkH5rySwQhhICELPPN8v3MOG+Hen8O6JIaQOYArFFgiwRKyc+tE+AUwNAycC3CAwcO9IvjjjsujQDAlYLVBOABv3QbSApiq1Dp4Us7+LgsgBUCGltycRLfrOgWwC1wI2v3pbFfYY+/kgU6YQPPLrLTj7XbjzYCLJEAB3iu6i/PHY4CczbAWiFYkkO5bRinAA4jgN/+9rdjEQAyG2CSgzYsFFAF5Ez2SWjPkRHimRZAauFx1ZeMTTURgBP4MVxa6GdZAI40ymEhrgsgbfAh9fuV4yYJWCv/SqCXSoBrA5YgL/cCkHIBrhvgJQBNAbAE8Jvf/CaDACTP7iEAMsZ1CQRlLfjJ2OzDI+VR/45UeykEhAEe8fQaQShLfYmMT+yJyn7aud13r80AlBkANwhkDf9o3h8J/7gdgbghIG2nYE9HAFUAGxsb/eLXv/71GASAhHoawN0g9xw3knxCOgXaKK9mGXrsQzWRyi8NAkFtPkQBGF0B5P/cuv3OI/Wlpb5S1R8M7HTcUmAN7Ijvl1qAyG5AUmeA2x0oQgCWAtjY2OgXxx57bAoBCJ4aIQDSQKbcpqoCJ/jhJF8BNClr85H9AAic0+cqPiGpv9DmI6TtZ435agl/uZintADF9QmR+lwbUFrjXy4Gsj7nTwoBEd/v3RKsDAK14SCODLiWoKQAypxgY2OjXxxzzDGalycj8U8lgIg1qCEFZFhImPVXVwx6pT5Q4XdkB8p6fDdBIADnwEz6J/eaE30Z6f+QMEpgW95f6/1LAaClBLgtwdAVgdZ0oJcASgXAEsCvfvWr3qj8asvPSO25Ck7kC/8IAGILRSAl/NEMgKQ98YxuAUn77VmA1lL8qAIwdvYhQ/J30nBPWdHLzoC1sk+bAVhaAKn1Z5EAYgesOQCOBLgwUJsNsDYM4ZYMl+sCSiJY/PKXvxyFACyFoIV/Rr++lSLoGGlvZQCkLN6RrtlZVqEEq7fiI5IeUQAlcLmMQFMJmtznbIFD6qsZwHIOQFv7L7UDUe8v2YES5FxLMIMANAWgKYHFL37xi1URgNbeM2+rJQXrmNCykzoF8H0D4V70mAhgrwIoW3Pefj8q/w1rQNLIL0cMZa9/GAJKg0C1JGBtCIIMBWURABcMsgTw85//vBUBSAGeRQCIZehRUoiAXwEnafP21n1BuW9ZgCYVH1nYwygAMwTMsABoBsCl/Jzk1/r/mveX8oAyAOTmAKxdgrnVgOVHhnHLhTULwO0lUA4LLX72s59VE4Di3QlM9jWQUxT86LkCIUjyXvX9EmCNxJ+cY71wxbcGe5g2H6sIrNCP+T8SAnLXVS2A0AYMZwBeEkCXAy+PS1Wf2zCUmw1ACcD6HAFOARw8eLBf/PSnP40SgOXRIwQAKQalImeoBKvFJ1Z0w+tD0t2a/BNmBdSKD1R31zmKAiBN6kvnIPKfI4bhkA8n/4uq3WmAzyKB8kNBJe+PEkBpA6QxYe4ciAB+8pOfrIwAHCBvAnRDDXBbdYkZAODpCZH7WsAHVHhXxfcoAmNhD3F7Apa2YOjVqdjTP2IBhtfVpP8wA5BSfy7xt45p4R/XApTUgZcAuJWCXBYgWYDDCODoo49uQQCkLOwxQV5BAK5jFiEIIHZ5fQ+QPdXb09MP+H3PvH848BOIBEr7NQsg7Adgtv6iJCBtCiIRgDYfwJFACXKEALjVgywB/PjHP25KAOBkHyVU/1RCALoEkDJwSH8o0OMqtpHqmz97FAB3u7HdF0kr/xzz/ywxSNt8ax0Ba/6fk/6o95esQGkDuAlBZDpQWyocJoAf/ehHUyUAAroC0LGIGlB29RElvdEdIG2k1yPvM1RAjRKwqjwxG3gg1Z6Uz/orx3k5y6ApgdoQ0EsC2iCQhwBqFIBkAYbHFz/84Q/HIoCILVD3BwBbh1FCkD7cw5TvUrYgrerjEn5DOXCqQGoLWim/WeGFkK/TWn7ImK9AEvA+/5K/55TAcFtwj/TXSEAiAGtVYGkRkOlAjgC429wE8IMf/CBMAMLtVn+fHNVfXUfgALuLEIwq7skAKDDQQ4C8N7ODrLQf/D8J+/VxNsO91U8RKpK3BbgkCe8QUGkREBVQ5gHWTABKAFxLkFMAQ1KQLMBhBPD973/fSwDW8l8PASAyn6LARu5ndRUcOQHc2/cm/MD3HXZE2rEH8fxKVwGu+N6ev0UMnFpAMgDPJiAS4D0k4CUAaTiIWxTE5QDc4iBuclAkgO9973tNCEACuEMVqLsDSysLteTeSRCdIyewwj5SZvphRWCFesbobzj1N9p+pE35ccA2ugImKTAgZ9cCWBkAWvWtWQBrDkDbHozbOFQbD+YUQHmbRQBDZbD47ne/OzUCkEDtArvl3y2CUGR8NOyDvD0Ibtd3bbafk+ekfES3p+KXpMAFfqj8L0EMhoNmBqB1AqJWoAQ3FwpKW4ZrBKApgOFtLgL4zne+k0UAkMS3sgUBoC5gg+cgZOBSCRG5j1R8ZYMR1Oez1/SEfAHw77iGtczX0+7TiEHb9UfaCIQjBmtBkKUEhr1+qTOAkIEUCErqALUAhw4d6hff/va3WxMAUtFJ2ywkG+zWNSIqAcwGTLnPVXwkA/BYAoBAIMnvSf2Lpb+EzAFYn/bDVXdrxR+zkhDOANAuANfus1qDHNiH9x9Wee1zBd0E8K1vfWs0AtBIQQJlBNxgn9/6uRMAbIaFyn1NsAOgF+/nSPulUJCy5D4y5CPdjwMr2gXgOgBbIDMzANQOZKkACezaXEAJfEkBSF2CHQTwzW9+M50AgBafp9JTA3AjP3fGDICmEqxsQMwFwGouenwE4EC7T7QI0pQfAm5plLfsDGheX+r3a/J/OCughXycMvBUfe5nZBDIagtqtkBTANycwA4COOqoo0IEoCzkcRFA0CqghFD1M6ISgFSf0Hl+qQVnzQpYAOem9DRJb1X/Us6T8AEfEoAlErC8vtTv57oAHvkvSX1U+nsIQNsrUDtmKYAwAXzjG9/oDeBb03+k+Hmo0hvApjHAbvT5iQOqMMVHtHPPfms60AX2SCZQhnxaus91CZDlvsKWYBaAOwTo0rLf8hrWp/5qfh8ZArJIAWkDchUfVQEc4LU1AxxhDG9ffP3rX58kAaCzAkk/k7Igx60ShEEgCMiIBbDOQTMAowsgen+NICSVgFqAsqJrZIHKf2sOwLICSCvQagNqk4AeFZBOAF/72tdGIYCg/zf3HQQn/dzkIIEYsQho4IfaCEa+WwuEzD6/FvZ5U3/OEjj6++V1d/h1Tf4jU4DLayIhoKcViPxctvq8OUB5njQUVNqDUuqXt20TwFe/+tVVEoC4aAghALSaV5KFSCJoX98a+kEUgZH4Q5kAmgFYikGa8iP+M/5I2vlHsgBcB0BrEXKrAcuf0eQftQIeAuCsgTYJGFEA0qIhkwC+8pWvpBEAA3JzAMgI+pqBH034kTagNQykVG3EFpjncM/P8PyQBdBCP6vnbw3+KOeQtMNPtAPgzQA8SgDJArS1ARwBSOPBHOCt80wC+PKXvzwlArCqfybArXM77Tw07beIBSEFxDp4Aa8FgFaFB7sA7nM8g0CoBUAyALT9F+kKlDKf6wxIE4HckJCHALiJwR0E8KUvfamGACyZHxoZBo65AO+cBZDmANC+vhQgQtUesAVIq4+Aa7gtALKwByUNNO3npL63DVjmCh47gPh/5DZN+mukUB5DOgQuAvjiF7/YnACkVN+zVBioxjAZKLKdkOrOVW+rqjvS/JoMAAa8NgRkDfpohICeY1kADsTCKDELbjQHsOR9DSFY3QDpmLQ+wAoNpQxA6gJsbm72iy984QtTIQAp6afa6o8C3vLwXqlvZAYiKZQJvpILuAHPgdlo/UGEABCG2wJofl87bg0DaZVf8/+RQJCr9lqHQMsDvAoAIoDPf/7zqyAA2OujE4EBwKthoiTjI+Gfs9qbLUCUEIy2oKYm1LX8UsLPXMNc4osSBUoCZW7ArQWwpgFrQc8RAKcMrOlAzhakE8DnPvc5FwEwtxHZHxWOhobiHgOgn4cBrrT4kDYgZBUiYEeqO9mbd5gS36r4VsKPZgCIJUASf+1cLfzTdv1BQ0EtBEQCQHSlIPez1SasJoDPfvazCAGQktpbBIBUewuchFZ7DbDWbQjoAElfBX5krBcFPO38rD4t9Rfn/qU+vjLXb6mIkNxvTQLaYJAEeu02qQOg2QBrWlDqBGiZgdQG3Nzc7Bef+cxnUghAGfSpkv/Biu8GPDIH4CAIdo2A0vKDq721+MdK9RWf3kvLea05AMliIICXcgEh0OskgFskoM0BSJ2BiArQhoG45B9VBdKSYanaW+pgmwA+/elPr5IAzKS/RuJXdA6IC+esdN5b2aVjUk9fkf9aBqCGeBKgtfX9AnBVwAOrASkSAHLEILUBtcqvrRFAB4BKcuC8PtINQABvWQCYAD71qU9FCUACb5gAgIVCZHl6J8hDKb9WeZUpQDcheJUDF9JlSH7JvxuEYI0Cp5EA0gHwyP9MFSCFfdqMgPdnbxZwGAF88pOfnCoBIFOCIYlvKQkj3LPAK60RkBQDl3izbUArJ/AM8hgZAmmf5GsMBhG6PLiszBqZcBuFeEkADf60ToBH+lvdAGkgyPtzFQF84hOfSCEA0B6gYLcIIAvwhPp41NN75T+iKhAbYN1HquDSMc0yIOsAaqq91R1ggKouBvJYgAwSGDwmRADIeLB0ewlslBS2CeDII48cnQACXr8G8CEyMMBNWs9fqNaqlPf4eaSCa9eIhoCagkDAjdgEJOyT1gJI1d9LAN6hIFT+W14fUQXpBPDxj398txMA/H/Q3yO3d+h90DagYBMIVQDKaj9CR321jEADsjIZCCsCyS7UWAAPCSCg51QD19fXyEFaDCTdLoFd2kdgBwF87GMfa0oAyGgvEPZF5b87AHT4f1UloIThlfuoxHcqBBOsZKz1jygCtKprtkDJEapJoAR1CwXgDQbTCeCjH/3oqgnAAnhqxY8QgEQszmQfkvscGJWVgGZbD/X0jtV/JuizLAD3aT/aDMDw76MNA0WDP2voRyIEZA6gxgJYYOeIYpsAPvKRj1QTgGNuQOwMOOV/OuAd4HbdXlHtYb8PAN7MBDTPX0sIFklIQOfOy7IAFgl4QsDyeE0OYAWD6QTw4Q9/OEMBSFuEhQmAex7Bil+TDViEgXQK3G1A7xyAlehbmUBU0kfmABAFIHn9DAvgAX6t/C8JB8kBLFugKQMJ7CoBfOhDH5oSAXjbhtDtSMWPWgDQPiByvpcAbVR8M8SzEn6gNQj3/bPOKcHn6QJELECkLYiQgdUG9HYGIgTAKYVtAvjgBz/oIgCwgpMCADM/MAjAI/mj3QC1ukvThlzFdqb96voAS5JrJOKxCAAZWIRjZgDeToBV6TXvP7xvRgiIjAtHBoGQzgBiIVwE8IEPfGA0AkDlvjMkdEn+YDfAZRGEUWSznYck/GDFhz2/BHAt9UcUgTYKrJ1TAh3pAqCrAT0tQMTne7oAHnVg+XxtnYGbAN7//vdDBFBUb2jcFyELcMkvZVT8LPB7qrOVDWgKApkDqJH8VoXXUn6LELhzpD39EKsgEQN3f8nPR32/RAhWRwBtAyKgtkLD0t9r3YPDCOB973ufRgAkyHeJAMixNgBp99EIFT8aAGphH5ruk8ffWxIfCQI9cwARSxDJALykwHUNpJ2A0CDQsgLeGQFEBXhyAWkmQCMAjRS2CeC9733v1AgAagNGgj3LaiiJfZU9AG4zfwZzgkjolwJ6zt9HSUCT8qjMZ8DZocCPVH6NDFCgo8GgpQhcBPCe97xnLAKAg0EjT6gBtes+EbWAZAOIgrDICCGKBgoAHgJC24DacA8a+Ennah2ADOCjZOAlACT4SyOAd7/73TUEQEDF1gJBKxeA5gESyQGt4GQRRI3cBxSBWfm1Pr9GAMjt1vNABn8ybAHSBdBUglcRWIM/SBfAsgdS68+jCDRS2EEA73rXu5oQgCfwA4FKTskfAT1p6bwU9oEdgCq1oFVzi1g8qb9V9aNS3lIAFtClqUEtHNTOiSoCdEioZg7AIoooAXCKYPHOd75z8gSQWNVd54FkYc0QuAJD8GerC9BUASA/Z5ACA6jOU/2j4R9ynmcMWBsi8hAAaglcBPCOd7xjZQQA5AQehZBODppCAGcBTMIoz9XAu2oFAIaGbpJA/L9nBgDpAGiZgQZyz0QgB1YrH9AWAyH3cRPA29/+9moCAGYA4FzAGB12AbuGHJBrOio6GhiGFIFlDzIUQJbsl6S9Vf29rUCODFDgW4GfJwdABoA8gaGWCZTghgjgbW97WxYBaOEeQgBu+R8AeFUYaIWN6H0tC1GCEanwqDpwEACaC8BgR2wCV80R8HPHpSEgr+z3dgRQGxAlAG3Bj5sA3vrWt0IEAE4J9o7zvQSQBmxnBoAsBqKIAkDzAvR+no5BMAT0KIw+4uuRxUBWDqBN+EWAj4aAlg0ob/d0BlACsGzBDgJ4y1ve0oIA4LUAyBxAQ8lPaGIP3I62Dc3zWyqCWgWQXfERj1+TA0RagN6w0OvzvcSAjPaGCeDNb35zEwJIsgXmz7W3IQEgB1QORFpo5+gOqLMEEjmhQWFGLx8hpYi019J+73EkB6iV/1oWYLUDvXLfqw5gAnjTm97UmgDMxN+q6p5BIQvYzvuHLECWAsgghAwCQKt5+TtZQR7yf8nvIx7fYwFqLQHi86M5QFMCeOMb3xglAETmo5OB6pSfEcK5q78y2GPOACAWwasArNYhGihGb0MB7VEIHrAjuYA08FNrAbSugOX7kXO8t0cIQBsW0iYBu67rF294wxtGIQADsN51AlV5AEIoEbvgrfaadPcoAo8l8PT1EQVQQwLWdb3VH1UBHuBbvt9SA1Yb0GMVmhDA61//+skSQFT+A5XbJBQD9DVdADLSenEDEEsRIIBW2oJhBTAG2LUcQTruVQFopZeGhSRyQEErEUFTAnjd615XTQBGcu8CPJIxOCq7xw5ArT9AlsP5AKIAED9vtAWRFiFlZQLRc6R0Hxn0QS2AFhBGqj+aDUSCQUklICPCGuB3EMBrX/vaTAKIen54DqCysquEELUAwPivSwGAawHM0V5vhUfkvIdQkKqOhICekLAW+AgpeMJALQfwBnqWIggRwGte85pJEYBjDiAjBIyC3lXlrSAPHejRAKtZAqSiezMBjy1AicUa+tE6C1p7D80DsgBv5QCTIoBXv/rVTQjAOfQD5QCeKu9sD3o9PgW7AJ5lwuTJCSwFgrQFUfmOXB+t4oAVMecAkCDQA3RPu7DW/1tqoQb0EAG86lWvGoMAIFKIhITe9p5TDZjXQecAAgrAmwFAkt5QEWR1ChwZAjSgg1zLAno0APQC25sJWP4/ag1SCeCVr3zlqgjA9P81U4JZwWGWBUABD2YC7k6C1hVACAFpA6LARlp7Uthn2QVk0q9l9UcJQLt9VAJ4xSteMQoB1Mr/JAKAicK6DjhIlBICIpYAmfTzAjjSBkQeA5n591b6rDZgLeCt2X50EEg7L5UAXv7yl6cTQEIA2LQLgBBFZIjISQAhW4AAXpv0qyGEmgDQe0wK+1BbgFyvBugelYAEhJZqaEYARxxxhEkAFbK/KQE0Ar27VejNBoIpP0VUg8MyhFt2y8e3QOu5pnUtTwjYkgTQQR7PbegsQAoBvOxlL7O2+5oMAWQDviYDSLAALlXgBXyk7ZdJCJnV3hrbzcoA9iQBvPSlL7U+/stz29qRQE3r0CPhazoBFnjRCh0BtLdrgI76OrsJbgLRZgDGVAHoiK8nALTyAc9ti5e85CW7kgBaZACRNqB0TccUIKoK3JI9s8JnZAA1XYAs+d+CADy3jU4AL37xiydLAN4FRRPIANzWIFMBtA79FFWTShLazD/39/Z0ARDwoud5z0HBjnYAJEvgIoAXvehFkyEAYw5grKpPY1iAMRRAtsRvnQEgjx3x/9xjeIBe4/295OAhACkfcBHAC1/4wikpgCZdAI+SCGQA3pFfK82PLBYSz6us8OFqr2UA0cAPqfJZAWCmHfCQg6cFmEIAL3jBC1ZFAJDHDxJAdQiY2AakCJg9FR2wCeE24JgWQQJrVhsw43gWASDyfRQCeP7znz8GAUSmA60hIxeAvWBHyMSz7gBQBa4WHwKujAruaU16Jv1QcrGqu5UZaOFiSxWQ1QbUWoApBPC85z2vCQEg5IDahGAbMKQcWlkAjw1wnCMCyXvNqOevIBRTAdSQghUARkO/mjZghAAY3EEbgKIB4eK5z33upAigog0YBjrQCSDUv3usgWfoBwUXME1oWpFMie8J8RBl4SUHbxuwZRcAVQejEsBznvOcTAKgimrvnQNokgmgHhyZ7vP6+iRVUNUViAI8iyAkwEYUg6QCWlV9L0nUBIFpBPDsZz+7GuRO6R6dA8iS/XBegPTaK6yBFgBC8wYVoaF4/yxL4AnnPAoAlfw1bUCvtNeugwaA1n08oHYRwLOe9azJEkANqL32wRPQBZJ+FewWUUQqulMtNK34NQoA+B3VQSD09ighoPefLAE885nPHIUAoqFfNqiz2oUev95SFTjBZXr81gCX7oMGe1FpX1P1W3l+T8uvGQE84xnPiBKA2fcPEIAFZFe7r5I43ITiyQEig0A1xIGQSkQBeFp8VlW3ruVN/1vZAG8LMavSIyRh3W8HATz96U9PJwCP3EdAG630tbdFCMR7O2I9UPVRayFqKjxCUjX+3ns+EhR6QR+xAch9ka6ARw24COBpT3vaqggg1BqsWDzUZGbAygG80h21AZ7FQBG7UuPfo77eqwAiFkADNjIIVHM+mu6PSgBPfepTW1iA8CiwJd29QA5YAjV5j+QGrc+LpvgtFUHG91pV4LEAXu+Pnu8hBaQtmE4AT3nKU+CgD/X6qNz3EEAUyFGFoFUIgCQgzx4Ft1f2RwBrVVmAvEIkIaX2VrW3/l7SNWttACLvI9OBKEkgeYBKAE9+8pNTCAAJ7oKtwWaVvsbje8BpXSOgDFSAZ1VoMJcwq2skO0BTeW5DkUhA2JIQao97KrqbAJ70pCeNQQBVnYGa9QS1aiFyTg1ZBOV/9f2m8t2q6N62XSTtryEHL9AjIE8lgCc+8YmTIwAvSbQgiNpzkGplWY0sUE+VFCSwe1QBch+kE5AFem8LL6PKW3mASgBPeMITJk8AY6mAmsGh4LyAS8q3BHWD66m7/XjAjgDOE+plAxzp90+WAB7/+Mc3IYBAoJdqAyIEgVTnyAwAWKVcQIkoiWxw1/7sIY4oQSA5QQTgnvt4A0LteDoBPO5xj6shABXk4GCPtzNQFe6hZIKQhvacssDurcxoRyAD4C0UgTfs81gA6/2iEYi3tedpCXoIA70NJoDHPvaxYxFAWOJ7gd1AEUCVxev/nQB2DSUlANZ9bU9aHyAw8gwC1YA+UvE1VeslAM0KpBPAYx7zmKkRAGIDqqo8ShaB9Qhitc2szJGcwUMGmRU/8jiolK+1AICCVO0CYhMQ4lgpATz60Y+2pv1U4FYEfu7zgp0B83YnuCHVkK0MvMDKygVqCCTL60fDPi9JoKCPLvypbflZtgEhjx0E8KhHPaopASCB3wjtQVfGYFVxtIKjdqKmo5AFSM9zQEK07OdZYwG852UoAg/gUf/fhAAe+chHjkYAnmAwqgKQP6LDFkDneRVEVsX3kEkrwmh5jre6o6BGgFkL+sggD0oMqQTwiEc8wkUAXmmP+v1auzCmYkAJxvtmz5T/LUK4lqD39vi9o7q1FT/aOWihDKLtP5YAHv7wh0+GAFC7EPHyUfUQURnewaMEW+FuPdZI8QhBLN94kftFB3miGUCG5I/Iem/FTyGAhz3sYdUEgILae67XBnhVQCD8g0BdSRpmMNjaayO5g0ea15CGJzT0ALkG0DU9/iwCsM6FCeChD31oCwJokgNkADxDQURajDVTiRlzBTUE0koReCt6TZVvCXhPWp8V+CF5AEQAD3nIQ1ZNAK4ZgWCY18xC1N4nmjV4r9tCIbSS7pHXzwJmBgFEp/4iLb0MAuBUQXnu4sEPfvAkCKB2n4EGKgA+N7OqV2YHTQgiI8hrcQz1/xkZQGYOkJH4pxHAgx70oF1NADUkEG0zZgI5IwMAws10S9DiWG2V9xCFR8qvNQE88IEPnIoFGEUFZFiIaIiVUW3JGJNeRQaQ/RgRoCNyO6viZ4N/pQTwgAc8IIUAlPvDrBftJGTZAm+y7OlKZGcG2cST5cVbADpT1qPArAV8q7Tfk/hDBHD/+9+/KQFUtAdhFRBRDhXbklWHjLWLljIAClTwUYAcBb8n6bcyBMd7o7oLMDkCuN/97hcigGxZX2kDqrMB5+KiKnnuqdqtwTTGtTOu7+kc1CiF1gk/AtSa890EcN/73ndlBOC1AcGKHrEFYRLw7IBUU40zAZ9FCJm5AbKkNgr+7BDQM5HnHeBpTgD3uc99xiQAdy6AVvcxbEHgvqF8IfIYHkC3vt3z+yELaYKvi1viR+S+RyVkhIPpBHDve98bIYBoJ8BVkTNbhLWDRoGPMauW9VGSsFTDKggBSeIzCASR+GhOgEr8qNz3rt5Dge3x/zsI4F73ulcaAUTDPUT2ZGQDyaog5PlrAshWnjvTt7eo5J5MYFXV3ivdA4UPquhuArjnPe+5CgJwdwSSRoenYg1GIYSWFX0MwNfK+Oyq3XKwp0bqVxHAPe5xj0kQwIpUQCggXBEhuGzLKhXAqnx7dpqfYRHG8PpVBHD3u9+9OQE0sgFZLcPUFuJYhODNKLIfc2qAjwRznvdFS68f6Q6kEcDd7na3MAFkdgMiNiBqCzJUwVRswiptxdjAbunnayb5xpD/npDQRQB3vetdJ0MALVVAgLX76DUy9zHwVryxwFYbvGX9jpH0v6baj1H9RyWAu9zlLukEEE05UauRuBsR/IbJyBxqWpZjA641IY0Z3qHkUasco5t0ROV/CgHc+c53XhkBrMIa1LxZWlqFzKAyMzAb+zEiQdsqwJ8l9Wtm/VMI4E53uhNEABkBYZY1yCaB1m3ElkAci4TWxa+3CvIytuyeJAHc8Y533PMEkPmGo8B8QsYgy1QJIruitwD/Kqv9ygngDne4g+vCtesFHMdWSgJjdBHGqsarUAAVdieFGFZZ7cfw+d75f+k+i9vf/va7hgDGtAbRrkJrqzAFgGc/7pTBv/YEcLvb3W6qBNBKBTTLB6L5QfTNngGYsa7XiuyiNgN9r9Rah1YyP40Abnvb245OANHq3ZIUKG+SMCx3V2UdVinlPffLbNll7MvXus03CgHc5ja3aUoACSrA7eWTmLrZm621dRjbZqyblM8Af0WhSQn50gjg1re+dRYBNFEBLUPCVXcTWgGwdTfC65Ub2qiVePpolc+S+Rnp/zYB3OpWt5oUAdRkBFFbUWsZWlajVu3KVVy3Jdiz1tdnvF9ay/xUArjlLW/ZnAAaMl/aCHJryzAV4Ix1bstrrUrSt6j+mfI/RAC3uMUteifIXQFdYxuQpgxahIm1xNMKrNk/tw7jssGeuXYluh13TZX3Lv9VCeDmN795JgG4KnNDe5A2mdi6zTglcE6ZZFYN/hrpn/U+91Z3iABudrObjUIAXlbLVgGtmX/MMHH+eVxJ38Lnj5HwQwRw05vedJIEsEdIYCaCkar6lMA/KQK4yU1uMlkCaPXHo0ZjxmOphXUF8lgr6loTQss+/ugEcOMb37gFAaQFgqtUB1E5N2InorlKWRWwMwdvWoM/K+CLpvtVBHCjG91o8gSQUPEnaRFavvGnWOFXfc6YQI9U+JUQwA1veMMQAURtQPaLMyUS2A3A2Q2Pva5VPrO/DxPADW5wg9EJIPsFmnqA2DI/GDOwXGVOshvAH71PUwK4/vWv34oArHOaBoKtSGAVb9Z1AOMUQF3bU2+pPlsEfykEcL3rXW9VBNA8KMw47iGwqVa7dQZwdvbTclBnbOmfQgDXve5114oAVvXHqlEIuwFMU73+2BW+BchXSgDXuc51mniLvUIC2cSwqmNTfm4ZPn43gj8Dn4trX/vaa0kAU7IJtUHiOgBwBnk8wJs0AVzrWtdaNQFMQgmsIGBMzRFqn//UiGlqQd2YlX9UArjmNa/ZnADAc0ZrG7Z+IzWyFVWKolUYOlWvvmog17T1EjFlE8A1rnGNagIYQwWMzcJjq4ExuxUtCKJluj7F9lxL8CfiySaAq1/96qMQwLqRwJQCyKmDaMzfY6y/2ZTBn0oAV7va1XYFAbQKY9bBRszXHg/4tfedHAFc9apXHY0AEuVNkz/QKtXAlAC4KiCva9Uf0/enE8BVrnKVFAJYl9Cw5g+57lZi3Y6PeZ9Vgz8bPzABXPnKVx6dAKZAAmMHQ2OFU+sE4ikEdhngHhP86QRwpStdaZ0JYGUkMJVgaa/cZ7dX9pURwBWveMV+zAdseN7k1MCUPOoUBlymFMito6RvgcPFFa5whZURwNRygym+GdcBiOsk2TPeR6vy800I4PKXv3w6AazyBchQC6t8A+4GEK7ba+c5Z1V+vhUGF5e73OVWSgArUgLNbcM6EsU6AnssOZ/93mupqmcCmAlgJoCZADACuOxlL9uEAFp7nKnYgYznMlWimTIBZv1dpp7it8be4jKXucxkCGCV/mkmi90D6rG9/KqDvCoCuPSlL91P4YlMKUQZo+041pt91bePdY11COemBn4iosWlLnWpyRHAqjOEBudNpvKt0+NMudc+FQ9fTQCXvOQlmxPA1EhglQw/FmFM8Zwp++2pVfKx8La4xCUuMQoB1Fyj9Qs+9SoyJkin+njrWMXHer/PBDATwEwAMwHECODiF794P9UnN+U/2Cql5VTBN/XXZAY+QwAXu9jFRieAsV+k1vdZ9Zt0HSrouoF+bO++KlwtLnrRi66EAGqvNdU/6Krtx7rJ5SlW46km9k0I4CIXuchaMdY6KYmpKI+p2KHd8rpP4f2bdZ2ZAGYCmAlgLxPAhS984ZUSwBReyKmGklOUyLvhd56CbJ8KfhYXutCFJkEAWddcJ0Wxm7KMdam8UwDulLCzuOAFL9hP6RfZDfZiFffdrcS1m6r1FPGyuMAFLtDvxl9sN6mLdbE4uwmwU3vvtbruTAAzAcwEsJcJ4PznP/9kCWCKocluIpXdcP+p+vJ1wcTifOc7X78uv/CsNtbXu85VeZqPMxPATAAzAexlAjjvec/br9svP8bjTbXNOUVwrwM41+29MtbjLc5znvP06/6CjPW461Q11sHTrmsV3k3v78W5z33uXfli7QZbsu7Va7cAcTe/h2cCmAlgJoC9TADnOte5+t38Ak7huey2N+puBt5ee68uznnOc+7pF3lKz2uvvOH34us81ec1E8BMADMB7GUCOMc5zjH/Mdb0uU7l+cyvy/o+15kA5jf6/LrsZQI4+9nP3s8vyt79Hebnubd/h8XZzna2fn4R599z/n325u85E8D8e86/z14mgLOe9az9/MfYu1/za7S3X6OZAOY39/wa7WUCOMtZzjK/AeY3wvx32qNfMwHMb6z577SXCWCxWMwv1gyW+WsmgPlrJoD5a88RABHNb4D5a/7ao1//NwC1EoQ8cflAagAAAABJRU5ErkJggg==);background-color: red;background-size:contain;">            <div class="satval_pointer" style="position:absolute;left: 124px; top: -3px;width: 7px; height: 7px;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNmlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjarY6xSsNQFEDPi6LiUCsEcXB4kygotupgxqQtRRCs1SHJ1qShSmkSXl7VfoSjWwcXd7/AyVFwUPwC/0Bx6uAQIYODCJ7p3MPlcsGo2HWnYZRhEGvVbjrS9Xw5+8QMUwDQCbPUbrUOAOIkjvjB5ysC4HnTrjsN/sZ8mCoNTIDtbpSFICpA/0KnGsQYMIN+qkHcAaY6addAPAClXu4vQCnI/Q0oKdfzQXwAZs/1fDDmADPIfQUwdXSpAWpJOlJnvVMtq5ZlSbubBJE8HmU6GmRyPw4TlSaqo6MukP8HwGK+2G46cq1qWXvr/DOu58vc3o8QgFh6LFpBOFTn3yqMnd/n4sZ4GQ5vYXpStN0ruNmAheuirVahvAX34y/Axk/96FpPYgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6AAAUggAARVYAAA6lwAAF2/XWh+QAAAANUlEQVR42myNsQ0AMAzC8P9Hu0sjpU3YkLFADWBmIInqQsgDAar8kCY6zDtYzfUzte5ROQMAeFAiAMRBE+oAAAAASUVORK5CYII=)"></div>        </div>        <div class="hue_picker" style="position:absolute;width: 46px; height: 140px;left: 152px;top:0;">            <div class="hue_image" style="border: 1px solid black;position:absolute;left:7px;top:6px;width:30px; height:128px; background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAEACAIAAABdw+MhAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALBJREFUeNrs2sEJgDAQRNGJBPuvV5R4FAuYnF4aeGRv+9mx0n0zOQEAAAAAAAAAAAAAAABsAsbK0/3Bk6MLXO1WAQAAAAAAAAAAAAAAAOBLCUn3bGCWWwgAAAAAAAAAAAAAAACA36Z/rzKw7vKIcgEAAAAAAAAAAAAAAADYBIzyzUBmuYUAAAAAAAAAAAAAAAAA2AmM8s1AZrmFAAAAAAAAAAAAAAAAAPht+uWU8AowAGyEi9doBGciAAAAAElFTkSuQmCC);background-size:contain;"></div>            <div class="hue_pointer" style="position:absolute;top:1px;left:0;width:46px; height:12px; background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAMCAYAAAAd3Y8KAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAMpJREFUeNrU1bGJAkEUBuDP4dbt4sKrYDGyBKPrwMxIEK6MA8FIIzswsgQjSzC8Cgzd3eSStyCD5rMvm/e/4GOYx0yapnngC3/GUZ+4JdS4YTYC9CysdYpGjQsWBaMXYawhPQUVTlgWiF6GrRoaKRuosMemIPQmTNVzM70YnOIXuwLQu7BM8yAZab2Cd/jBugDfOixdHnxk5x4rHAu63C3uOLxbzh7fhaGHOoatz+Et5jgX/KzPYWwHeBtf/nUEO3kNa/sPAAD//wMAcAgh6ci5pdMAAAAASUVORK5CYII=)"></div>        </div>        <div style="position: absolute; left: 210px;top:6px;">        <input type="button" value="&#10003" class="color_ok"><br><br>        <input type="button" value="&#10005" class="color_clear">        </div>        </div>';var h=t.getPaletteColors(),d=e.calculatePaletteWidth();if(h&&h.length>0)for(var g=0;g<h.length;g++)for(var f=0;f<h[g].length;f++){var p=h[g][f],I=P();I.style.left=5+f*(d+5)+"px",I.style.background=p,I.style.width=d+"px",I.style.height=d+"px",I.style.top=5+g*(d+5)+"px",I.style.border="1px solid black",I.style.boxSizing="border-box",I.className="colorPalette",I._color=p,s.appendChild(I)}s.style.top="166px",i.appendChild(n),i.appendChild(a),i.appendChild(s),v(i,"click",function(i){var n=i.target,o=n.className;if("color_ok"===o)e.$13o=e.$9o(),t.close();else if("color_clear"===o)e.$13o=null,t.close();else if(["color_R","color_G","color_B","color_A"].indexOf(o)>=0)n.select();else if("colorPalette"===o){var a=n._color;e.$13o=a,t.close()}});var _=function(t){var i,n=t.target,o=n.className,a=!1;["color_R","color_G","color_B"].indexOf(o)>=0?(i=parseInt(n.value),n.value=i>=0&&255>=i?parseInt(n.value):0,a=!0):"color_A"===o&&(i=parseFloat(n.value),n.value=i>=0&&1>=i?parseFloat(n.value):0,a=!0),a&&e.updateInputChange()};v(i,"keydown",function(i){var n=i.target.className;["color_R","color_G","color_B","color_A","color_ok","color_clear"].indexOf(n)>=0&&13==i.keyCode&&(_(i),e.$13o=e.$9o(),t.close())}),new ht(e),v(i,"change",_);var y=it(i,".color_clear");t._clearButtonVisible||(y.style.display="none"),o.Default.onElementCreated&&(o.Default.onElementCreated(i.querySelector("input.color_R")),o.Default.onElementCreated(i.querySelector("input.color_G")),o.Default.onElementCreated(i.querySelector("input.color_B")),o.Default.onElementCreated(i.querySelector("input.color_A")),o.Default.onElementCreated(i.querySelector(".color_ok")),o.Default.onElementCreated(i.querySelector(".color_clear"))),o.Default.onWidgetColorPickerCreated&&o.Default.onWidgetColorPickerCreated(this)},I(r.ColorPickerTemp,r.BaseDropDownTemplate,{updateInputChange:function(){var t=this,e=t._view,i=t.$9o();e.querySelector(".preview").style.backgroundColor=i;var n=o.Default.toColorData(i);if(n){var a=(4===n.length&&n[3],t.$5o(n[0]/255,n[1]/255,n[2]/255)),r=it(e,".satval_pointer");t._h=K(360*a.h),t._s=K(100*a.s),t._v=K(100*a.v),r.style.left=127*a.s-3+"px",r.style.top=127-127*a.v-3+"px",it(e,".hue_pointer").style.top=128-127*a.h+"px";var s=t.$2o(t._h/360,1,1);e.querySelector(".satval").style.backgroundColor=t.$4o(s.r,s.g,s.b,!0)}t._master._instant&&t._master.setValue(t.$9o())},$6o:function(t){var e=this,i=e._view,n=e._master,o=e._h,a=e._s,r=e._v,s=e.$2o(o/360,a/100,r/100),l=s.r,c=s.g,h=s.b;i.querySelector("input.color_R").value=K(255*l),i.querySelector("input.color_G").value=K(255*c),i.querySelector("input.color_B").value=K(255*h);var d=e.$9o();i.querySelector(".preview").style.backgroundColor=d;var g=e.$2o(o/360,1,1);i.querySelector(".satval").style.backgroundColor=e.$4o(g.r,g.g,g.b,!0),!t&&n._instant&&n.setValue(d)},$5o:function(t,e,i){var n,o,a=Math.max(Math.max(t,e),i),r=Math.min(Math.min(t,e),i);if(r==a)n=0,o=0;else{var s=a-r;o=s/a,n=t==a?(e-i)/s:e==a?2+(i-t)/s:4+(t-e)/s,0>(n/=6)&&(n+=1),n>1&&(n-=1)}return{h:n,s:o,v:a}},$4o:function(t,e,n,o){return t=K(255*t),e=K(255*e),n=K(255*n),o==i&&(o=!0),1==(t=t.toString(16)).length&&(t="0"+t),1==(e=e.toString(16)).length&&(e="0"+e),1==(n=n.toString(16)).length&&(n="0"+n),((o?"#":"")+t+e+n).toUpperCase()},$3o:function(t,e,n){var o,a,r;if(n==i&&(n=null),"#"==t.substr(0,1)&&(t=t.substr(1)),3==t.length)o=t.substr(0,1),o+=o,a=t.substr(1,1),a+=a,r=t.substr(2,1),r+=r;else{if(6!=t.length)return n;o=t.substr(0,2),a=t.substr(2,2),r=t.substr(4,2)}return o=parseInt(o,16),a=parseInt(a,16),r=parseInt(r,16),isNaN(o)||isNaN(a)||isNaN(r)?n:e?{r:o,g:a,b:r}:{r:o/255,g:a/255,b:r/255}},$2o:function(t,e,i){var n,o,a;if(0==i)n=0,o=0,a=0;else{var r=Math.floor(6*t),s=6*t-r,l=i*(1-e),c=i*(1-e*s),h=i*(1-e*(1-s));switch(r){case 1:n=c,o=i,a=l;break;case 2:n=l,o=i,a=h;break;case 3:n=l,o=c,a=i;break;case 4:n=h,o=l,a=i;break;case 5:n=i,o=l,a=c;break;case 6:case 0:n=i,o=h,a=l}}return{r:n,g:o,b:a}},$9o:function(){var t=this._view,e=it(t,"input.color_R").value,n=it(t,"input.color_G").value,o=it(t,"input.color_B").value,a=it(t,"input.color_A").value||1;return""===e||""===n||""===o||""===a?i:1==a?"rgb("+e+","+n+","+o+")":"rgba("+e+","+n+","+o+","+a+")"},getView:function(){return this._view},onOpened:function(t){if(t){var e,i=this,n=i._view;if(n.querySelector(".preview").style.backgroundColor=t,e=o.Default.toColorData(t)){var a=4===e.length?e[3]/255:1,r=i.$5o(e[0]/255,e[1]/255,e[2]/255),s=it(n,".satval_pointer");it(n,"input.color_R").value=e[0],it(n,"input.color_G").value=e[1],it(n,"input.color_B").value=e[2],it(n,"input.color_A").value=a.toFixed(2),i._h=K(360*r.h),i._s=K(100*r.s),i._v=K(100*r.v),s.style.left=127*r.s-3+"px",s.style.top=127-127*r.v-3+"px",it(n,".hue_pointer").style.top=128-127*r.h+"px",i.$6o(!0)}}},onClosed:function(){},getValue:function(){return this.$13o},calculatePaletteWidth:function(){var t=this,e=(t._view,t._master).getPaletteColors();if(e&&e.length>0){var i=t.getWidth(),n=e[0].length;return(i-5-5-5*(n-1))/n}},getHeight:function(){var t=this,e=(t._view,t._master).getPaletteColors(),i=170,n=t.calculatePaletteWidth();return n>0&&(i+=e.length*(n+5)),i},getWidth:function(){return 252}});var ht=function(t){this.$8o=t,this.setUp()};I(ht,e,{ms_listener:1,getView:function(){return this.$8o._view},setUp:function(){this.addListeners()},tearDown:function(){this.removeListeners(),this.clear()},clear:function(){delete this.$7o},handle_touchstart:function(t){var e=this,i=t.target,n=e.$8o,o=e.getView(),a=it(o,".hue_picker"),r=it(o,".satval");a.contains(i)?(e.$7o=1,e.$1o(t,1)):r.contains(i)&&(e.$7o=2,e.$1o(t,2)),e.$7o&&u.isDoubleClick(t)&&(n.$13o=n.$9o(),n._master.close())},$1o:function(t,e){u.preventDefault(t);var i,n,o,a,r=this.$8o,s=this.getView(),l=it(s,".hue_picker"),c=it(s,".satval");if(t=$?(a=t).touches[0]||a.changedTouches[0]:t,1===e){i=l.getBoundingClientRect(),o=t.clientY-i.top,0>(o-=7)&&(o=0),o>127&&(o=127),it(s,".hue_pointer").style.top=o+1+"px";var h=o;h=K(360-h*(360/127)),r._h=h,r.$6o()}else if(2===e){i=c.getBoundingClientRect(),n=t.clientX-i.left-1,o=t.clientY-i.top-1,0>n&&(n=0),n>127&&(n=127),0>o&&(o=0),o>127&&(o=127),r._s=K(100*n/127),r._v=K(100-100*o/127);var d=it(s,".satval_pointer");d.style.left=n-3+"px",d.style.top=o-3+"px",r.$6o()}},handle_mousedown:function(t){this.handle_touchstart(t)},handle_mouseup:function(t){this.handle_touchend(t)},handle_touchend:function(t){this.clear(t)},handle_mousemove:function(t){this.handle_touchmove(t)},handle_touchmove:function(){this.$7o&&u.startDragging(this)},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handleWindowTouchEnd:function(t){this.clear(t)},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowTouchMove:function(t){var e=this.$7o;e&&this.$1o(t,e)}}),r.FormPane=function(t){var e=this,i=e._view=R.createView(1,e);t||(e._canvas=Z(i)),i.appendChild(e._79O=P()),e._rows=[],e._itemMap={},e.iv(),i.handleGroupSelectedChanged=function(t){if(t.isSelected()){var i=t.getGroupId();null!=i&&e._rows.forEach(function(e){var n=e.items;n&&n.forEach(function(e){if(e){var n=e.element;n&&n!==t&&n.setSelected&&n.getGroupId&&n.getGroupId()===i&&n.setSelected(!1)}})})}},new dt(e)},I(n+"FormPane",e,{ms_v:1,ms_fire:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,ms_value:1,ms_ac:["labelColor","labelFont","labelAlign","labelVAlign","vPadding","hPadding","labelHPadding","labelVPadding","hGap","vGap","rows","rowHeight","scrollBarColor","scrollBarSize","autoHideScrollBar"],_29I:et,_91I:0,_59I:0,_labelColor:u.formPaneLabelColor,_labelFont:u.formPaneLabelFont,_labelAlign:u.formPaneLabelAlign,_labelVAlign:u.formPaneLabelVAlign,_hPadding:u.formPaneHPadding,_vPadding:u.formPaneVPadding,_labelHPadding:u.formPaneLabelHPadding,_labelVPadding:u.formPaneLabelVPadding,_hGap:u.formPaneHGap,_vGap:u.formPaneVGap,_rowHeight:u.widgetRowHeight,_scrollBarColor:u.scrollBarColor,_scrollBarSize:u.scrollBarSize,_autoHideScrollBar:u.autoHideScrollBar,getScrollWidth:function(){return this._91I},getScrollHeight:function(){return this._59I},onPropertyChanged:function(t){var e=this,i=t.property;e.iv(),"translateX"===i?e._42o():"translateY"===i&&e._43o()},adjustTranslateX:function(t){var e=this.getWidth()-this._91I;return e>t&&(t=e),t>0?0:Math.round(t)},adjustTranslateY:function(t){var e=this.getHeight()-this._59I;return e>t&&(t=e),t>0?0:Math.round(t)},setPadding:function(t){this.setVPadding(t),this.setHPadding(t)},getLabelFont:function(t){return t&&t.font?t.font:this._labelFont},getLabelColor:function(t){return t&&t.color?t.color:this._labelColor},getLabelAlign:function(t){return t&&t.align?t.align:this._labelAlign},getLabelVAlign:function(t){return t&&t.vAlign?t.vAlign:this._labelVAlign},getRowBorderColor:function(t){return t?t.borderColor:null},getRowBackground:function(t){return t?t.background:null},getItemBorderColor:function(t){return t?t.borderColor:null},getItemBackground:function(t){return t?t.background:null},getItemById:function(t){return this._itemMap[t]},getViewById:function(t){var e=this.getItemById(t);return e?e.element:null},getItemView:function(t){if(t){var e=t.element;if(e){if(e.tagName)return e;if(e.getView)return e.getView()}}return null},updateItemElement:function(t,e){var i=this,n=i.getItemById(t);if(n){var o=i.getItemView(n);o&&i._view.removeChild(o),n.element=e,(o=i.getItemView(n))&&(o.style.position="absolute",i._view.insertBefore(o,i._79O)),i.iv()}},addRow:function(t,e,i,n){var o=this,a=o._view;if(t){for(var r=0;r<t.length;r++){var s=t[r];s&&((s.tagName||s.getView)&&(t[r]={element:s}),R.initItemElement(s),null!=s.id&&(o._itemMap[s.id]=s))}t.forEach(function(t){var e=o.getItemView(t);e&&(e.style.position="absolute",a.insertBefore(e,o._79O))})}var l=n||{};return l.items=t,l.widths=e,l.height=i,null==l.index?o._rows.push(l):o._rows.splice(l.index,0,l),o.iv(),l},removeRows:function(t){if(t){var e=this,i=[];t.forEach(function(t){t.items&&t.items.forEach(function(t){var i=e.getItemView(t);i&&i.parentNode&&i.parentNode.removeChild(i),t&&null!=t.id&&delete e._itemMap[t.id]})}),e._rows.forEach(function(e){t.indexOf(e)<0&&i.push(e)}),e._rows=i,e.iv()}},removeRow:function(t){var e;e=t&&"object"==typeof t?[t]:[this._rows[t]],this.removeRows(e)},clear:function(){for(var t=this,e=t._view;e.firstChild;)e.removeChild(e.firstChild);t._canvas&&e.appendChild(t._canvas),e.appendChild(t._79O),t._rows=[],t._itemMap={},t.iv()},validateImpl:function(){var t,e,i,n,o,a,r=this,s=r._canvas,l=r._rowHeight,c=r.getWidth(),h=r.getHeight(),d=r._hPadding,g=r._vPadding,u=r._vGap,f=r.ty(),v=r.tx(),p=c-2*d,I=h-2*g,_=r._rows,y=_.length,C=0,m=I-(y-1)*u;for(r._29I={x:-v,y:-f,width:c,height:h},s&&(B(s,c,h),a=O(s),U(a,0,0,1),a.clearRect(0,0,c,h)),i=0;y>i;i++)null==(o=(n=_[i]).height)?m-=l:W(o)?(t=o.split("+"),(e=parseFloat(t[0]))>1?m-=e:C+=e,(e=parseFloat(t[1]))>1?m-=e:C+=e):o>1?m-=o:C+=o;0>m?(r._59I=h-m,m=0):r._59I=h;var w=g+f,b=c;for(i=0;y>i;i++){null==(o=(n=_[i]).height)?o=l:W(o)?(t=o.split("+"),o=(e=parseFloat(t[0]))>1?e:e/C*m,o+=(e=parseFloat(t[1]))>1?e:e/C*m):1>=o&&(o=o/C*m);var A=d+v;if(a){var M=r.getRowBorderColor(n),x=r.getRowBackground(n);x&&H(a,A,w,p,o,x),M&&G(a,M,A,w,p,o)}var D=r.validateRow(a,c,n.items,n.widths,A,w,p,o);D>b&&(b=D),w+=o+u}a&&a.restore(),r._91I=b,r._92I(),r._93I(),r.tx(r.tx()),r.ty(r.ty())},validateRow:function(t,e,i,n,o,a,r,s){if(!i)return 0;var l,c,h,d,g,u=this,f=e,v=u._hGap,p=i.length,I=0,_=r-(p-1)*v;for(h=0;p>h;h++)d=n[h],W(d)?(l=d.split("+"),(c=parseFloat(l[0]))>1?_-=c:I+=c,(c=parseFloat(l[1]))>1?_-=c:I+=c):d>1?_-=d:I+=d;for(0>_&&(f-=_,_=0),h=0;p>h;h++){if(g=i[h],d=n[h],W(d)?(l=d.split("+"),d=(c=parseFloat(l[0]))>1?c:c/I*_,d+=(c=parseFloat(l[1]))>1?c:c/I*_):1>=d&&(d=d/I*_),g){if(t){var y=u.getItemBorderColor(g),C=u.getItemBackground(g);C&&H(t,o,a,d,s,C),y&&G(t,y,o,a,d,s)}u.validateItem(t,g,o,a,d,s)}o+=d+v}return f},validateItem:function(t,e,i,n,o,a){var r,s=this,l=e.element;l&&!W(l)?Y(l,i,n,o,a):t&&(W(e)?r=e:W(e.element)&&(r=e.element),r&&(t.save(),t.beginPath(),t.rect(i,n,o,a),t.clip(),C(t,r,s.getLabelFont(e),s.getLabelColor(e),i+s._labelHPadding,n-s._labelVPadding,o-2*s._labelHPadding,a-2*s._labelVPadding,s.getLabelAlign(e),s.getLabelVAlign(e)),t.restore()))}});var dt=function(t){this.f=t,this.addListeners()};I(dt,e,{ms_listener:1,getView:function(){return this.f._view},handle_mousedown:function(t){w(t)&&this.handle_touchstart(t)},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handle_touchstart:function(t){var e,i=this,n=i.f,o=t.target;i.isV(t)?e="v":i.isH(t)?e="h":(o===i.getView()||n._79O.contains(o))&&(e="p"),(i.s=e)&&(i.cp=V(t),i.tx=n.tx(),i.ty=n.ty(),x(t),k(i,t))},handle_mousemove:function(t){var e=this,i=e.f;e.isV(t)&&i._43o(),e.isH(t)&&i._42o()},handleWindowTouchMove:function(t){var e=this,i=e.f,n=e.s,o=e.tx,a=e.ty,r=e.cp,s=V(t),l=i._29I;"p"===n?i.setTranslate(o+s.x-r.x,a+s.y-r.y):"v"===n?i.ty(a+(r.y-s.y)*i._59I/l.height):"h"===n&&i.tx(o+(r.x-s.x)*i._91I/l.width)},handleWindowTouchEnd:function(){},handle_mousewheel:function(t){this.h(t,t.wheelDelta/40,t.wheelDelta!==t.wheelDeltaX)},handle_DOMMouseScroll:function(t){this.h(t,-t.detail,1)},h:function(t,e,i){var n=this.f;x(t),R.closePopup(),i&&n._41o()?n.translate(0,10*e):n._40o()&&n.translate(10*e,0)},isV:function(t){var e=this.f,i=e._29I;return e._41o()&&i.x+i.width-e.lp(t).x<j},isH:function(t){var e=this.f,i=e._29I;return e._40o()&&i.y+i.height-e.lp(t).y<j}})}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object)}).call(e,i("DuR2"))},aXn5:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY195ZXpodTwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjA05ZyG5b2i55+p5b2i6YCJ5oupIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTA3LjAwMDAwMCwgLTM1NC4wMDAwMDApIiBmaWxsPSIjNjE3RUZFIj4NCiAgICAgICAgICAgIDxnIGlkPSLlt6bkvqfmoI8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxMjAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC0xNC1jb3B5LTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNy4wMDAwMDAsIDIzNC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC05Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJpYy95ZXpodSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTYsNCBDNy44MjY3NTg4OCw1Ljc4Mzc4Mzc4IDkuMTYwMTgyNzUsNi42NzU2NzU2OCAxMC4wMDAyNzE2LDYuNjc1Njc1NjggQzExLjQyNzUzNTEsNi42NzU2NzU2OCAxMi43NjA3Nzc5LDQgMTQsNCBDMTcuNSw0IDE2LjUsNi42NzU2NzU2OCAyMCw2LjY3NTY3NTY4IEMyMy41LDYuNjc1Njc1NjggMjIuNSw0IDI2LDQgQzI3LjIzOTIyMjEsNCAyOC41NzI0NjQ5LDYuNjc1Njc1NjggMjkuOTk5NzI4NCw2LjY3NTY3NTY4IEMzMC44Mzk4MTcyLDYuNjc1Njc1NjggMzIuMTczMjQxMSw1Ljc4Mzc4Mzc4IDM0LDQgTDM0LDM1IEw2LDM1IEw2LDQgWiIgaWQ9IuefqeW9oi1jb3B5LTEzMSI+PC9wYXRoPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},bRYy:function(t,e){},bhFX:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19zaG91cWk8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PC9nPg0KPC9zdmc+"},cLP8:function(t,e,i){t.exports=i.p+"static/img/ic_fengshan_guzhang.791ba71.svg"},csHM:function(t,e){},cwe7:function(t,e){},d7TW:function(t,e){},duz5:function(t,e,i){t.exports=i.p+"static/img/ic_fengshan_daiji.e649b12.svg"},eaai:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY194aWFsYTwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjA05ZyG5b2i55+p5b2i6YCJ5oupIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtODQuMDAwMDAwLCAtNTI3LjAwMDAwMCkiIGZpbGw9IiM2NjY2NjYiPg0KICAgICAgICAgICAgPGcgaWQ9IuW3puS+p+agjyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEyMC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTctY29weSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDM5OC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuS4ieinkuW9oiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODQuMDAwMDAwLCA5LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUuMDAwMDAwLCAxNS4wMDAwMDApIHJvdGF0ZSgtMTgwLjAwMDAwMCkgdHJhbnNsYXRlKC0xNS4wMDAwMDAsIC0xNS4wMDAwMDApICIgcG9pbnRzPSIxNSAxMSAyMSAxOSA5IDE5Ij48L3BvbHlnb24+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},egIV:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY190cmlhbmdsZTwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjA05ZyG5b2i55+p5b2i6YCJ5oupIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzQuMDAwMDAwLCAtMjcyLjAwMDAwMCkiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIyIj4NCiAgICAgICAgICAgIDxnIGlkPSLlt6bkvqfmoI8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxMjAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC0xMy1jb3B5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMy4wMDAwMDAsIDE1Mi4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjAwMDAwMCwgMC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJpYy90cmlhbmdsZSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIwLDcuODQ5MjU3NDQgTDMuODMxNjY1NSwzMyBMMzYuMTY4MzM0NSwzMyBMMjAsNy44NDkyNTc0NCBaIiBpZD0i5LiJ6KeS5b2iIj48L3BhdGg+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},fPpC:function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCABkAGQDASIAAhEBAxEB/8QAHgAAAQQCAwEAAAAAAAAAAAAAAAUHCAkEBgECAwr/xABDEAABAwMCBAMEBwQGCwAAAAABAgMEBQYRAAcIEiExCRNBIlFhcRQVIzKBkbEWUmKhOEKCg5LCFxgkM2RydHays7T/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AtQ0aNJN2XZRrFtyoV+4KlGpFGp7Kn5U2W4ENtIHckn9O5PQaBWJx301G8XFTtVsK0v8AbW9KbSpYGRT0LL8tXyZbBX+YA1WtxYeKXdW6MufamzZftm2gotPXIock2Yn18vP+4Qfh7Z96e2oMfs2iVJclVGS/UJjyit155wkrUe5JPUn5nQWl7heNXYFIedZs6yK3cZScJk1B5uC0r4gDnV+YGmimeN1erruYe2VBab/denvuK/MBP6ag+zRoDAHJEaBHry5/XWShltsYS2lI+CQNBN+meNzdzTg+strqO+3nr9FqLzRx/aSrrp07I8a6wqk801ddh12hBRwt+nvtTEJ+OD5asfIHVZ5APca8H4EeQCFstr/5kg6C/LZbi92k3/QhFmXnBm1BQ60uUTGmD+6cwpXzTkfHTx6+ZxVtx23m5ENbkCU2rmQ7HWUlKh2I9x+WNTM4VvEyvrZSqQLf3Rlyb2sZSksipr9uoU8dgrmPV1I9UqycdlehC5fRpGs68aJuBbNOuG3KnHq9FqDIfizYqwpDiD+h9CD1ByD10s6A0aNGgNUweJlxUT98t2JW2VvTyixLXkckxbCvZnTk9FkkdFJbOUJHbIUr3Ysf46N//wDV04c7juKHISzcUtIptHSfvGU7kBYHryJ51/2NUTUuKpiNzPLU7JdUXXnFnKlrV1JJ9dB7xozUNhLLKAhtPYDXrrgnA0mv1puPNlsLIyy0HB179DkfpoFPRroyouNIWRjmSD+Y13xjQGjRrg9NBzro42l1tSFAKSoYIPY67ZGk2rVtqlpwrqsp5k+49QCNBJzgK4u5nCxuUzb1emOu7ZXC+luS2tXMmmyFEBMhOeyewWPVPXunV4LDzcllDrS0uNrSFJWg5SoEZBB9Rr5p50RqsUwpB5kuo5kK9x9Dq3jwouIyTuvspJseuyC7cdkqRECnFZW9CVnyFH1PJyqb+SU+/QTj0aNGgqL8X7c9d2b32dt3Hd5oVuwDU5bYPQyH/ug/ENoT/jOoS9T376cjiuu1V+cXu7dYLhdbbq64DJJ7IZ+xSB+DWm40HGpAcGvA5T+My1r8mruJ+2atRqrGZYmhn6Q04ytp3nbU3zJ65SghWfeMddR9dVyNLV+6knVp/gxW39X8Otz1tSfbq1xODm94aZbA/mpWgaWV4KVypDQi7xxiAMKDtJcTj5Ye1gOeCtfIWfL3apSk+hVAfB/8zq2rUGt+ePuZEqW++3tp0eXQrssOhvVFi4VutPNLUhcdPRlSD38/1yOh0Eek+CvfX9fdqlAfCA+f8+sqP4J9zrUPpO8EMJ9fLpTpP83hqQmzfiFWdY3DzthWN6rtkJuy5qdInF9qluOB5CJbrOcMN8qccgGMDtpiuF7xOKVSd2d1H92NwqjLs9+YTara6ctwNs+e6egab5k/Zlr7/Xp786BZongk0kOE1zdmqSm8DCYNMQ0c+vVbiv01ulK8FzaKKlX0+6rtqKz2PnsNAH8Gjqbe2G5dA3hsSk3ja8pc6gVVtTsSQ40ppS0hakElKgCPaSe41tJ0HzXy6HIsy67ltOXzfSqHUpEFXN3+zcUj9Un89P14e+47m1vGXaI84s026UOUWWgnCVFwfZE/J1Lf5nSNx42qbE44twowT5bNVfRUmwBgEPtIcJ/xc+mcarz1pXPbVxR1lt+k1SPLQoHsUOBX+XQfSl30a8YExuoQY8pshTb7aXUkHuFDI/XRoPmsRUn63c90VOUrnlTKm886o+qlLUon81HWZqwTezwcap9a1Gs7V3y2hMl5x/6mryCgJKlE8qH0AggZwOZH46hBeXD3u7t7vI3tdPoKKleTrCZMenwXUO/SmikqCmlAgK6JV07+yRjQahU3AiBJOcENKP8ALVy/hQUv6u4K7Wd6ZmTp8g4H/EKR1/BA1UxXuFHfswZNRlbTXNDjwWVKeWae59wkJOE91Hr2SCfX01dfwK2HUdtOEzbegVeC7TKqzTy9KiSEFDjTjrq3SlST1BHOMg6B+B31S9vH/Sq4z/8AtCX/AO2Bq6HVPPHltdc2we4e9e4lVmUgUvc6P9SUaIzLKpigXYrry1t8owlKI6gTk9VoHroNQtCgU26bq4GKRWIEeqUqbCdYkwpbYcaeQatJylST0IPuOk6zNu7WlUPjZdet2muuW5z/AFMtcZBNO/259A8jp9n7KUjpjoBp04u2FbsPefgXpcqmyvMg0uM9MUhlSksLemLeKVkDAI8zrnTILvK76LcvFTa9q2VMu5F4Vx2kS3oDbrrsAfTJLiVhttCuYK5VJ6kAHHfONBah4cf9Cna7/oX/AP6ntSS0xfA3Y9a244T9uLeuGC7TKzEp6jJhvp5XGSt1xwJUPRQSsZHoemn00FQXiv7SVeocWli1WEY1Ni3PTmKaxVKistQxKbdWkoccAPL7K2+pHY57A6VLP8Gy+7iYaN77jUekMqwpyJR4a5a0/DnX5Yz+ep6ca2wsbiI4eLotvyEuViOwqo0hzHtImNJKkAH+IZQfgvWs+HRvPO3q4WrbnVh5b9eoy3KJPddOVrWxgIUr+Itqbz8c6CQto0JVr2pRaMqWucqnQmYZlOpCVPeWgI5yB0BOM4Hv0aVtGgNQO8UHZusopVpb72S0r9rtv5SJEkspJUuEHAsKIHcNr6n+Fxfu1PHXjNhR6lEeiy2W5MZ9Cm3WXUhSFoIwUkHoQQcEaBuuHffWgcRe1FFvWgSEKRMaAlxAoFcOSAPMZWPQpPb3jB9dOXqtjczhh3T4INwqjujw7JdrtlS1+fWbDVzOcqc9Q22OriBk8pT7aO3tDT0bP+KLsruMwxEuCrPbf3DgJkU64Gi22272KUvgcpGf3uU/AaCX+o87+cEVi8RW6lnXvdMmpuSLeWkKpgfKocxpJKktqbP3PbwVFGOYDBz0Id+hbo2bc8dt+kXZQ6m0vHKqJUWXQc9R91R1sSJbDuOR9tee3KsHOg7htKQkBIAT0AAwBqP/AA7cH1K4dty9xrxp1xzqxIvWWZcmLKZQhEY+c67hBT1Iy6R19w1ILHrrAqNeplIbLk+pRITY6lUl9DYH4kjQZ+jTS3hxa7M2GhSq3ubbEUp7tt1Jt5z/AANlSv5ajvuV4se2lLdVS9tKNW90rjWeRmPTYjjMcq9MrUkrPX91B+egmLfV6Ujbuz6vctemNQaTS4y5Uh55YSkJSM4yfU9gPUkDURPCftao07YC4LomsKiRrvuSZV4MdYwUsey2D8ipCsfAaben7F8QfHtWqfUd8Vq2y2qjvJlNWfT8tyJpByPMSSVDp053Dkf1UDvqw+3beptp0KBRqPDap1KgMIjRYjCeVDLaAAlKR7gBoFHRo0aA0dPePlo9NVnbi3buMd5LnqMm5LhodXjXiumQ4dBdSYqGnTT4zCPMey2twx3lLDSUZCytaiABoLMT100u7fCptLvklbl5WNSqvLI6Tm2vIlD++bKV/mcahbudu9ek+mS4VNVWbqq8+waZaL8jzvoM03FKKpSUCNkYd8rq5y9WwU56Z0j8We7NdvS7Lbrln3bOp1p1mz5UpLap7kWG04hoJXzgTWwp5Diyggt8wXgcrp6JDR7g8Li5KtVb8rlMst606e2w61a9tRa0iU846kfZvSH1LISFHryA9O2enXTNlfDi3ldvBUfcGjXJQ6ImI4tEuk1VpSg8FJ5E+ytRwRzenoNb9Ut7byqlK2onU/cCZGkmdMllbbyguO0ow1N+ew5OUleedwobdJASvqhA9oSL4P8AdKPRtt9xYNzbkxZcaMvkipq8hthbUhxha3OR1yS6tZc9h0jICVOKCQMEJCEu5XBJxEWzuLPi2vQr2uG0WH2jGWavyrfZKEqUCrzBg55k/d6dOmn12G8N2JV76qFE3cs256pQpUVNSpdyqrKmixzAc0KU0Fkh1PX209Dg+8Y2tncm7RwDMSVbh0q4pkW24Exun2404axCS2AtxUp4SyrAwkLdKUgZOUkkDTV7Wu3ZGcuGlVW858iS/ac+cak5IfW80oOMJ5mlGQypKwp5HKOcAhPKe+gmtbvhqcOVuKSW9uo09xIzmpTZEjPzSpzH8tPvZO19obbQhEtW2KTbscDHJTYTbGR8SkAn8dVm7A3rcN23TtU0Lmrkq1qxW2W32ZFSkFXn+W6FNqWqU8oqDRB6KR0IPIDgmQcbZeiXPxSt2dbt33PT6BalKiXDOMW7qhLeqD7kh1tERwuSFJabT5PMoBPMrmxlI7hNbpjpj8NGR79V2Q5O8dQlW3MkXdSKbU52782C7FciyJaGJKGpKUt8wkIC4yW0JSGglOVJ5ubOszfrfuu2ZvFUUTN0qMiu29E5RBpaw1EpMZSEF952M46DNqDuFJaj5KGk+0TkjIWD6NJNo3NTLwtil1yj1BmqUuoR0SY01g5Q8hQBCh8/d6dtGgVta/L28tioTmpsq3qZJmMzfrJt92G2paJXKEeelRGQ5ypSnn74AGemjRoM5duUsykyzToplIeMhL/kp8wOlHIV82M8xR7Oe+OnbSW3tpaTVWTUkWzR0VFLZaTLTAaDoQXC4UhXLnBcJXj94576NGg6MbV2ZFhuQ2bTojcRx5yQthNOZDanHOjiynlxzKHQnufXXj/odsIMln9iLc8kqCy39Ux+UqAIBxyd+p6/E6NGg7x9qLJiszGo9oUGM1NZVFlIZpjKA+yr7za8J9pJwMpPTprujaqy2nFLRaVDStTRjqUKayCpsqSooPs9UkoQcHplIPpo0aD3G3FqJqVOqKbapCJ9N5/oUpEFoORuYAK8tQTlGQADjGca9aBYlt2rPqM6i0Gm0mZUnC9OkQYjbLkpzJPO6pIBWcknKsnqdGjQcpsqgBxpQo0EKamqqTZ+jIyiWoEKfHTo4eZWV9zk9eusj9lqMZj8k0qEZTquZx8xkeYs4xlSsZJwB39w0aNBlU6lw6PBZhwYrMOIyOVtiO2G20D3JSAAB8tGjRoP/9k="},feh2:function(t,e){},gStz:function(t,e,i){(function(t){!function(t,e,i){"use strict";var n=t.ht,o=n.Default,a=o.isTouchable,r=n.Color,s="px",l="0",c="innerHTML",h="className",d="position",g="absolute",u="width",f="height",v="left",p="top",I="right",_="bottom",y="max-width",C="max-height",m=null,w="none",b="",A=t.parseInt,M=t.setTimeout,x=o.getInternal(),D=o.animate,T=r.titleIconBackground,N=function(){return document},S=function(t){return N().createElement(t)},z=function(){return S("div")},k=function(){return S("canvas")},E=function(t,e,i){t.style.setProperty(e,i,m)},V=function(t,e){return t.style.getPropertyValue(e)},j=function(t,e){t.appendChild(e)},R=o.eventListenerOptionsFalse,P=(o.eventListenerOptionsTrue,function(t,e,i,n){t.addEventListener(e,i,R)}),Z=function(t){var e=t.scrollWidth,i=t.scrollHeight;return t===N().body&&(e=Math.max(e,N().documentElement.scrollWidth),i=Math.max(i,N().documentElement.scrollHeight)),{width:e,height:i}},L=function(t){var e=t.touches[0];return e||t.changedTouches[0]};x.addMethod(o,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:T,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:T}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:T},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:T}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:T},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:T}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:T},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:T},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:T},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:T}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:T},{type:"rect",rect:[10,118,268,56],background:T},{type:"rect",rect:[10,213,268,56],background:T}]},panelTitleLabelColor:o.labelSelectColor,panelTitleLabelFont:o.labelFont,panelContentLabelFont:o.labelFont,panelTitleBackground:r.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:i},!0);var B=n.widget.Panel=function(t){var e=this,i=e._view=x.createView(null,e);e.$1i=0,e.$18i=new n.Notifier,e.$2i="leftTop",E(i,p,l),E(i,v,l),E(i,d,g),E(i,"overflow","hidden"),e._interactor=new O(e),e.setConfig(t),e.addEventListener(function(t){var i=e.getPanelConfig(t.id),n=i.content;("beginRestore"===t.kind||"betweenResize"===t.kind||"endToggle"===t.kind)&&(n&&n.invalidate&&n.invalidate(),i.items&&i.items.forEach(function(t){t&&t.content&&t.content.invalidate&&t.content.invalidate()}))})};o.def(B,e,{ms_v:1,_dragContainment:"parent",setConfig:function(t){function e(t){t.expanded=!t.expanded,i.togglePanel(t.id,!0,!0)}if(t){for(var i=this,n=i._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);i._config=t,i.$35i=[],t.expanded==m&&(t.expanded=t.expand==m||t.expand);var o=i._view,a=i.$24i(t,o,!0),r=a[2],c=t.width;i.$35i.push(a[1]),t.items&&t.items.forEach(function(t){t.expanded==m&&(t.expanded=t.expand==m||t.expand);var e=i.$24i(t,r.children[0]);i.$35i.push(e[1])});var v=z();E(v,u,10+s),E(v,f,10+s),E(v,d,g),E(v,_,l),E(v,I,l),v[h]="resize-area",j(o,v),i.$10i(),t.flowLayout&&E(o,d,"relative"),E(o,"opacity",l),j(N().body,o),c==m&&(c=o.offsetWidth),E(o,u,c+s),E(o,y,c+s);var p=t.content;p&&p.isSelfViewEvent&&(p.setX(0),p.setY(0),p.setWidth(c-2*(t.borderWidth||0)),p.setHeight(t.contentHeight)),t.items&&t.items.forEach(function(t){e(t)}),t.buttons&&t.buttons.indexOf("toggle")<0||e(t),t.minimized==m&&t.minimize!=m&&(t.minimized=t.minimize),t.minimized&&!1!==t.minimizable&&i.minimize(!0),function(t,e){t.removeChild(e)}(N().body,o),E(o,"opacity",b),n&&j(n,o),i.iv()}},getPanelConfig:function(t){var e=this._config,i=e.items;if(e.id===t)return e;if(i)for(var n=0;n<i.length;n++){var o=i[n];if(o.id===t)return o}},getPanelView:function(t){for(var e=this.$35i,i=0;i<e.length;i++){var n=e[i].parentNode;if(n.$15i===t)return n}},setDragContainment:function(t){this._dragContainment=t},getDragContainment:function(){return this._dragContainment},$20i:function(){return this._config.restoreIconSize||24},$5i:function(t){var e=t.titleIconSize||16;return a&&(e*=1.2),e},$4i:function(t){return t.titleHeight||o.widgetTitleHeight},setTitle:function(t,e){if(e==m&&(e=this._config.id),e!=m){var i=this.getPanelConfig(e),n=this.getPanelView(e);i.title=t,n.querySelector(".panel-title span").innerHTML=t}},setInnerPanel:function(t){var e,i=this,n=t.id,o=i.$35i,a=!1;if(t.expanded==m&&(t.expanded=!0),n!=m){var r=i.getPanelConfig(n);if(r){a=!0;var s,l=i.getPanelView(n),c=l.parentNode,h=l.children[0];if(l!==i._view){for(s in i.$11i(),r)delete r.key;for(s in t)r[s]=t[s];e=i.$24i(t,c,!1,l)[1],c.removeChild(l);for(var d=0;d<o.length;d++)if(o[d]===h){o.splice(d,1,e);break}i.$12i(),r.expanded=!r.expanded,i.togglePanel(r.id,!0,!0),i.iv()}}}if(!a){i.$11i(),e=i.$24i(t,i._view.children[1])[1],o.push(e),i._config.items||(i._config.items=[]);var g=i._config.items;if(g.push(t),i.$12i(),g.length>1){var u=g[g.length-2],f=i.getPanelView(u.id).children[0];E(f,"border-bottom",i.$55i(u))}t.expanded=!t.expanded,i.togglePanel(t.id,!0,!0),i.iv()}},removeInnerPanel:function(t){var e,i=this,n=-1,o=i._config.items;if(o)for(e=0;e<o.length;e++){if(o[e].id===t){n=e;break}}if(i.$11i(),n>=0){var a=i.$35i,r=i.getPanelView(t),s=r.children[0];for(e=0;e<a.length;e++)if(a[e]===s){a.splice(e,1);break}o.splice(n,1),r.parentNode.removeChild(r)}if(i.$12i(),o.length>0){var l=o[o.length-1],c=i.getPanelView(l.id).children[0];E(c,"border-bottom",i.$55i(l))}},$6i:function(t){E(t,"cursor","pointer"),E(t,"display","inline-block"),E(t,"margin-right",(a?8:4)+s),E(t,"vertical-align",p)},$24i:function(t,e,i,n){var a=this,r=a._config.flowLayout,l=i?e:z(),c=a.$50i(t),d=a.$3i(t,i);l[h]="ht-widget-panel"+(i?" outer-panel":" inner-panel"),t.borderWidth==m&&(t.borderWidth=i?2:0);var g=t.borderWidth;if(E(l,"border-width",g="0 "+g+s+" "+g+s+" "+g+s+" "),E(l,"border-color",t.titleBackground||o.panelTitleBackground),E(l,"border-style","solid"),j(l,d),j(l,c),i||(n?e.insertBefore(l,n):j(e,l)),!r&&i&&!1!==t.minimizable){var u=k(),f=a.$20i(),v=t.restoreToolTip;x.setCanvas(u,f,f),u[h]="control-button button-minimize button-minimize-restore",a.$6i(u),E(u,"display","none"),j(e,u),u.title=v||""}var p=t.panelBackground||t.titleBackground||o.panelTitleBackground;if(E(l,"background-color",p),t.id==m){for(var I=a.$1i++;a.getPanelConfig(I);)I=a.$1i++;t.id=I}return l.$15i=t.id,t.width&&(l.style.width=t.width+s),[l,d,c]},$9i:function(t){var e=k();e[h]="control-button button-toggle button-toggle-expand",e.title=t.toggleToolTip||"";var i=this.$4i(t),n=this.$5i(t);return this.$6i(e),x.setCanvas(e,n,i),e},$8i:function(t){var e=k(),i="control-button button-independent-switch";e[h]=!0===t.independent?i+" button-independent-switch-on":i+" button-independent-switch-off",e.title=t.independentSwitchToolTip||"";var n=this.$4i(t),o=this.$5i(t);return this.$6i(e),x.setCanvas(e,o,n),e},$7i:function(t){var e=k();e[h]="control-button button-minimize button-minimize-minimize",e.title=t.minimizeToolTip||"";var i=this.$4i(t),n=this.$5i(t);return this.$6i(e),x.setCanvas(e,n,i),e},$55i:function(t){var e=this._config,i=e.items,n=t.separatorWidth||o.panelSeparatorWidth,a=t.titleBackground||o.panelTitleBackground,r=!1!==t.expanded?a:t.separatorColor||o.panelSeparatorColor||o.brighter(a);return(e===t||i&&i.indexOf(t)===i.length-1)&&(n=0),n+s+" solid "+r},$3i:function(t,e){var i=this,n=i._config.flowLayout,a=z(),r=z(),f=i.$4i(t),y=t.titleBackground,C=t.titleColor,m=t.titleIcon,w=t.buttons;if(a[h]="panel-title",E(a,d,"relative"),E(a,"background",y||o.panelTitleBackground),E(a,"color",C||o.panelTitleLabelColor),E(a,p,l),E(a,"box-sizing","border-box"),E(a,"-moz-box-sizing","border-box"),E(a,"padding","0 5px 0 0"),E(a,u,"100%"),E(a,"cursor","default"),E(a,"white-space","nowrap"),E(a,"font",o.panelTitleLabelFont),m){var b=k();b[h]="control-button panel-title-icon";var A=i.$4i(t),M=i.$5i(t);i.$6i(b),x.setCanvas(b,M,A),j(a,b)}var D=S("span");E(D,"display","inline-block"),E(D,"margin-left","5px"),D[c]="<span>"+t.title+"</span>",j(a,D),E(a,"line-height",f+s),r[h]="panel-title-controls",E(r,d,g),E(r,v,l),E(r,I,5+s),E(r,p,l),E(r,_,l),E(r,"text-align",I);var T=function(){var e=i.$9i(t);j(r,e)},N=function(){if(!n&&e&&!1!==t.minimizable){var o=i.$7i(t);j(r,o)}},V=function(){if(!e){var n=i.$8i(t);j(r,n)}},R=function(e){var n=k();n[h]="control-button custombutton-"+e.name,n.title=e.toolTip||"",n._action=e.action;var o=i.$4i(t),a=i.$5i(t);i.$6i(n),x.setCanvas(n,a,o),j(r,n)};if(w)for(var P=0;P<w.length;P++){var Z=w[P];"string"==typeof Z?"minimize"===Z?N():"independentSwitch"===Z?V():"toggle"===Z&&T():"object"==typeof Z&&R(Z)}else N(),T();return j(a,r),a},$50i:function(t){var e=z(),n=t.contentHeight,a=z();E(a,d,"relative"),e[h]="panel-body",E(e,"overflow","hidden");var r=t.contentBackground;if(r===i&&(r="white"),E(e,"background",r),E(e,"font",o.panelContentLabelFont),j(e,a),t.content){var l,g=t.content;g.getView?(j(a,g.getView()),l=a.children[0]):g instanceof Element?(j(a,g),l=a.children[0]):a[c]=g,g.isSelfViewEvent||l&&(E(l,u,"100%"),E(l,f,"100%")),n&&E(a,f,n+s)}return e},$10i:function(){var t=this._config;this._view.querySelector(".resize-area").style.display=t.flowLayout||!0===t.minimized||!1===t.expanded?w:"block"},$11i:function(){var t=this._view,e=t.children[1];this.$13i>=0?this.$13i++:this.$13i=1,E(e,C,b),E(t,y,b)},$12i:function(){if(0===--this.$13i){var t=this._view,e=t.children[1];E(e,C,e.scrollHeight+s),E(t,y,t.offsetWidth+s)}},$14i:function(){var t=this._view,e=t.children[0],i=e.children[1].children,n=this._config,o=0;t.$26i=t.offsetWidth,o+=e.children[0].offsetWidth,n.titleIcon&&(o+=e.children[1].offsetWidth,i=e.children[2].children);for(var a=0;a<i.length;a++){o+=i[a].offsetWidth+5}t.$51i=o+15},togglePanel:function(t,e,i){function n(t){var e=t.target,i=e.parentNode,n=o.getPanelConfig(i.$15i);delete i.$19i,e!==r&&o.$12i(),o.$18i.fire({kind:"endToggle",target:o,id:n.id})}for(var o=this,a=o._view,r=a.children[1],c=m,d=o.$35i,g=d.length,f=o._config.exclusive,v=o.$2i,p=[],I=o._config.narrowWhenCollapse,_=0;g>_;_++){var w=d[_].parentNode,A=w.$15i,M=o.getPanelConfig(A);A===t&&(c=w),!e&&f&&M.expanded&&w!==a&&A!==t&&!0!==M.independent&&p.push(w)}if(c&&!c.$19i){c.$19i=!0;var x=c.children[1],T=c.querySelector(".button-toggle"),N=o.getPanelConfig(c.$15i);if(!T)return;c===a||N.expanded||!0===N.independent||p.forEach(function(t){o.togglePanel(t.$15i,!0)}),c!==a&&o.$11i();var S=200;if(i&&(S=0),o.$18i.fire({kind:"beginToggle",target:o,id:c.$15i}),N.expanded){I&&c===a&&o.$14i(),T[h]="control-button button-toggle",T[h]+=v.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",E(x,u,x.clientWidth+s),N.expanded=!1,E(c.children[0],"border-bottom",o.$55i(N)),D(x).duration(S).set("opacity",l).set(C,l).end(n),I&&c===a&&D(c).duration(S).set(y,c.$51i+s).end(),c[h]+=" panel-collapse",D(c).duration(S).set("padding-bottom",l).end(),o.$28i(N,!0),o.$10i()}else T[h]="control-button button-toggle",T[h]+=v.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",E(x,u,b),N.expanded=!0,E(c.children[0],"border-bottom",o.$55i(N)),D(x).duration(S).set("opacity","1").set(C,x.scrollHeight+s).end(n),I&&c===a&&D(c).duration(S).set(y,(c.$26i||c.offsetWidth)+s).end(),c[h]=c[h].replace(" panel-collapse",b),D(c).duration(S).end(),o.$28i(N,!0),o.$10i()}},$16i:function(){var t=this._view,e=t.$22i,i=t.$23i,n=this.$2i;return e==m&&(n.indexOf(v)>=0?e=t.$22i=0:n.indexOf(I)>=0&&(e=t.$22i=100)),i==m&&(n.indexOf("Top")>=0?i=t.$23i=0:n.indexOf("Bottom")>=0&&(i=t.$23i=100)),[e,i]},$25i:function(){var t=this,e=t._view,i=e.$21i,n=t.$20i(),o=t.$16i(),a=o[0],r=o[1],c=t.$2i;e.children[0].style.display=w,e.children[1].style.display=w,e.children[2].style.display=b,E(e,"padding",l),E(e,y,n+s),"leftTop"===c?(E(e,v,A(V(e,v))+(i.width-n)*a/100+s),E(e,p,A(V(e,p))+(i.height-n)*r/100+s)):"leftBottom"===c?(E(e,v,A(V(e,v))+(i.width-n)*a/100+s),E(e,_,A(V(e,_))+(i.height-n)*(1-r/100)+s)):"rightTop"===c?(E(e,I,A(V(e,I))+(i.width-n)*(1-a/100)+s),E(e,p,A(V(e,p))+(i.height-n)*r/100+s)):"rightBottom"===c&&(E(e,I,A(V(e,I))+(i.width-n)*(1-a/100)+s),E(e,_,A(V(e,_))+(i.height-n)*(1-r/100)+s)),e[h]+=" panel-minimized",t.$18i.fire({kind:"endMinimize",target:t,id:e.$15i})},$17i:function(){var t=this,e=t._config,i=t._view;E(i,"-webkit-transform",b),E(i,"-ms-transform",b),E(i,"transform",b),e.minimized?t.$25i():(t.$18i.fire({kind:"endRestore",target:t,id:e.id}),i[h]=i[h].replace(" panel-minimized",b)),delete i.$19i},minimize:function(t){var e=this,i=e._view;if(!i.$19i&&i.children[0].style.display!==w){var n=e._config,o=i.getBoundingClientRect(),a=e.$20i(),r=a/o.width,s=a/o.height,l=e.$16i(),c=l[0],h=l[1];i.$52i=r,i.$53i=s,i.$21i=o,e.$18i.fire({kind:"beginMinimize",target:e,id:i.$15i});var d=200;t&&(d=0),n.minimized=!0,i.$19i=!0,n.expanded&&(i.$26i=i.offsetWidth);var g=c+"% "+h+"%";E(i,"-webkit-transform-origin",g),E(i,"-ms-transform-origin",g),E(i,"transform-origin",g),D(i).duration(d).scale(r,s).end(function(){e.$17i()}),e.$10i()}},restore:function(){var t,e,i,n,o,a,r,l,c,h,d,g,u=this,f=u._view,C=f.parentNode,m=u._config;if(!f.$19i&&m.minimized){var b=f.$21i,x=f.$52i,T=f.$53i,N=(m.borderWidth,u.$20i()),S=Z(C),z=u.$2i;"leftTop"===z?(o=t=A(V(f,v)),r=i=A(V(f,p)),c=t+b.width-S.width,h=i+b.height-S.height,c>0&&(c>=t?t=0:t-=c),h>0&&(h>=i?i=0:i-=h),d=(o-t)/(b.width-N)*100,g=(r-i)/(b.height-N)*100,E(f,v,t+s),E(f,p,i+s)):"leftBottom"===z?(o=t=A(V(f,v)),l=n=A(V(f,_)),c=t+b.width-S.width,h=n+b.height-S.height,c>0&&(c>=t?t=0:t-=c),h>0&&(h>=n?n=0:n-=h),d=(o-t)/(b.width-N)*100,g=100*(1-(l-n)/(b.height-N)),E(f,v,t+s),E(f,_,n+s)):"rightTop"===z?(a=e=A(V(f,I)),r=i=A(V(f,p)),c=e+b.width-S.width,h=i+b.height-S.height,c>0&&(c>=e?e=0:e-=c),h>0&&(h>=i?i=0:i-=h),d=100*(1-(a-e)/(b.width-N)),g=(r-i)/(b.height-N)*100,E(f,I,e+s),E(f,p,i+s)):"rightBottom"===z&&(a=e=A(V(f,I)),l=n=A(V(f,_)),c=e+b.width-S.width,h=n+b.height-S.height,c>0&&(c>=e?e=0:e-=c),h>0&&(h>=n?n=0:n-=h),d=100*(1-(a-e)/(b.width-N)),g=100*(1-(l-n)/(b.height-N)),E(f,I,e+s),E(f,_,n+s)),f.children[0].style.display="block",f.children[1].style.display="block",f.children[2].style.display=w,E(f,"-webkit-transform","scale("+x+", "+T+")"),E(f,"-ms-transform","scale("+x+", "+T+")"),E(f,"transform","scale("+x+", "+T+")"),f.$22i=d,f.$23i=g,E(f,"-webkit-transform-origin",d+"% "+g+"%"),E(f,"-ms-transform-origin",d+"% "+g+"%"),E(f,"transform-origin",d+"% "+g+"%"),m.narrowWhenCollapse&&!m.expanded?E(f,y,f.$51i+s):E(f,y,f.$26i+s),u.$18i.fire({kind:"beginRestore",target:u,id:f.$15i}),f.$19i=!0,m.minimized=!1,M(function(){D(f).scale(1,1).end(function(){u.$17i()})},30),u.$10i()}},addEventListener:function(t,e,i){this.$18i.add(t,e,i)},removeEventListener:function(t,e){this.$18i.remove(t,e)},setPosition:function(t,e){var i=this._view,n=this.$2i;"leftTop"===n?(E(i,v,t+s),E(i,p,e+s),E(i,I,b),E(i,_,b)):"leftBottom"===n?(E(i,v,t+s),E(i,_,e+s),E(i,I,b),E(i,p,b)):"rightTop"===n?(E(i,I,t+s),E(i,p,e+s),E(i,v,b),E(i,_,b)):"rightBottom"===n&&(E(i,I,t+s),E(i,_,e+s),E(i,v,b),E(i,p,b)),delete i.$22i,delete i.$23i},getPosition:function(){var t=this._view,e=this.$2i;return"leftTop"===e?{x:A(V(t,v)),y:A(V(t,p))}:"leftBottom"===e?{x:A(V(t,v)),y:A(V(t,_))}:"rightTop"===e?{x:A(V(t,I)),y:A(V(t,p))}:"rightBottom"===e?{x:A(V(t,I)),y:A(V(t,_))}:void 0},setPositionRelativeTo:function(t){var e=this,i=e._view.querySelectorAll(".button-toggle"),n="control-button button-toggle",o=e.getPosition();e.$2i=t,e.setPosition(o.x,o.y);for(var a=0;a<i.length;a++){var r=i[a],s=e.getPanelConfig(r.parentNode.parentNode.parentNode.$15i);r[h]=s.expanded?t.indexOf("Bottom")>=0?n+" button-toggle-collapse":n+" button-toggle-expand":t.indexOf("Bottom")>=0?n+" button-toggle-expand":n+" button-toggle-collapse"}e.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(t){var e=this;e._68I||(e._68I=1,o.callLater(e.validate,e,m,t),e.onInvalidated&&e.onInvalidated(),e.fireViewEvent("invalidate"));var i=this._config,n=i.content;n&&n.invalidate&&n.invalidate(),i.items&&i.items.forEach(function(t){t&&t.content&&t.content.invalidate&&t.content.invalidate()})},getIconStretch:function(){return this._config.iconStretch||"fill"},$27i:function(t,e,i,n,a){var r=x.initContext(t);x.translateAndScale(r,0,0,1),r.clearRect(0,0,i,i);var s=(i-n)/2;o.drawStretchImage(r,o.getImage(e),this.getIconStretch(a),0,s,n,n),r.restore()},$28i:function(t){var e,i,n,a=this,r=t.id,s=a.getPanelView(r).querySelector(".button-toggle"),l=a.$2i.indexOf("Bottom")>=0;if(i=l?o.panelCollapseIcon:o.panelExpandIcon,n=l?o.panelExpandIcon:o.panelCollapseIcon,s){e=t.expanded?o.getImage(n):o.getImage(i);var c=a.$4i(t),h=a.$5i(t);a.$27i(s,e,c,h,"toggle")}},$29i:function(t){var e,i=this,n=t.id,a=i.getPanelView(n).querySelector(".button-independent-switch"),r=o.panelUnLockIcon,s=o.panelLockIcon;if(a){e=!0!==t.independent?o.getImage(s):o.getImage(r);var l=i.$4i(t),c=i.$5i(t);i.$27i(a,e,l,c,"switch")}},$30i:function(t){var e=this,i=t.id,n=e.getPanelView(i).querySelector(".button-minimize-minimize"),a=o.panelMinimizeIcon;if(n){var r=e.$4i(t),s=e.$5i(t);e.$27i(n,o.getImage(a),r,s,"miminize")}},$31i:function(t){var e=this,i=t.id,n=e.getPanelView(i).querySelector(".button-minimize-restore"),a=t.titleIcon||o.panelRestoreIcon;if(n){var r=e.$20i();e.$27i(n,o.getImage(a),r,r,"restore")}},$32i:function(t){var e=this,i=t.id,n=e.getPanelView(i);t.buttons&&t.buttons.forEach(function(i){var a=i.name,r=i.icon;if(a&&r){var s=n.querySelector(".custombutton-"+a);if(s){var l=e.$4i(t),c=e.$5i(t)-1;e.$27i(s,o.getImage(r),l,c,"custom")}}})},$33i:function(t){var e=this,i=t.id,n=e.getPanelView(i).querySelector(".panel-title-icon"),a=t.titleIcon;if(n&&a){var r=e.$4i(t),s=e.$5i(t);e.$27i(n,o.getImage(a),r,s,"title")}},validateImpl:function(){var t=this,e=t._config;t.$28i(e),t.$30i(e),t.$31i(e),t.$32i(e),t.$33i(e),e.items&&e.items.forEach(function(e){t.$28i(e),t.$29i(e),t.$32i(e)})}});var O=function(t){var e=this,i=t.getView();e.$34i=t,e.addListeners(),P(i,"dblclick",e.$42i.bind(e))};o.def(O,e,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(t){for(var e=this.$34i,i=t.target,n=e.$35i,o=n.length,a=0;o>a;a++){var r=n[a];r.contains(i)&&(t.preventDefault(),e.togglePanel(r.parentNode.$15i))}},handle_touchstart:function(t){var e=this,i=e.$34i,n=i._config.flowLayout,r=t;if(o.preventDefault(t),o.isLeftButton(t)){var s=t.target,l=i.getView().children[0],c=i.getView().querySelector(".button-minimize-restore");a&&(r=L(t));var h=e.$40i={x:r.pageX,y:r.pageY};e.$41i={x:h.x,y:h.y},(!n&&l.contains(s)||c&&c.contains(s))&&(e.$38i=!0,o.startDragging(e,t)),!n&&e.handle_mousemove(t)&&(e.$37i=!0,o.startDragging(e,t),i.$11i())}},handle_mousedown:function(t){this.handle_touchstart(t)},handle_touchend:function(t){var e=this,i=e.$34i,n=t.target,o=i.$35i,a=o.length,r=0,s=i.getView(),l=s.querySelector(".button-minimize"),c=s.querySelector(".button-minimize-restore");if(!e.$39i&&!e.$36i){if(l&&l.contains(n)||c&&c.contains(n))t.preventDefault(),i._config.minimized?i.restore():i.minimize();else for(;a>r;r++){var d=o[r],g=d.parentNode.$15i,u=i.getPanelConfig(g),f=d.querySelector(".button-toggle"),v=d.querySelector(".button-independent-switch");if(f===n)t.preventDefault(),i.togglePanel(g);else if(v===n){t.preventDefault();var p="button-independent-switch-off",I="button-independent-switch-on";u.independent=u.independent==m||!u.independent,v[h]=u.independent?v[h].replace(p,I):v[h].replace(I,p),i.$29i(u)}else n[h]&&n[h].indexOf("control-button custombutton-")>=0&&d.contains(n)&&n._action.call(i,u,i.getPanelView(g),t)}delete e.$40i,delete e.$41i}},handle_mouseup:function(t){this.handle_touchend(t)},handleWindowTouchEnd:function(){var t=this,e=t.$34i;t.$37i&&t.$36i?(e.$18i.fire({kind:"endResize",target:e,id:e.getView().$15i}),e.$12i()):t.$38i&&t.$39i&&e.$18i.fire({kind:"endMove",target:e,id:e.getView().$15i}),this.clear()},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handle_mousemove:function(t){var e=this.getView(),i=e.querySelector(".resize-area").getBoundingClientRect(),n={x:i.left,y:i.top,width:i.width,height:i.height},r=(t=a?L(t):t).clientX,s=t.clientY,l=this.$34i._config;return l.expanded&&!0!==l.minimized&&o.containsPoint(n,{x:r,y:s})?(e.style.cursor="nwse-resize",!0):void(e.style.cursor=b)},handleWindowTouchMove:function(t){t.preventDefault();var e=t;a&&(e=L(t));var i=this,n=i.$40i,r=i.$41i;if(!(r.x==n.x&&r.y==n.y&&o.getDistance(r,{x:e.pageX,y:e.pageY})<=1)){var l=i.$34i,c=i.getView(),h=c.parentNode,d=l._config,g=d.resizeMode||"wh",y=e.pageX-n.x,C=e.pageY-n.y,m=l.$2i;if(i.$37i){var w=c.children[1].children[0],b=c.offsetWidth,M=w.offsetHeight,x=b+y,D=M+C;x=Math.max(x,100),D=Math.max(D,100),"w"===g?(E(c,u,x+s),d.width=x):"h"===g?(E(w,f,D+s),d.contentHeight=D):"wh"===g&&(E(c,u,x+s),E(w,f,D+s),d.width=x,d.contentHeight=D),m.indexOf("right")>=0&&E(c,I,A(V(c,I))-(x-b)+s),m.indexOf("Bottom")>=0&&E(c,_,A(V(c,_))-(D-M)+s),n.x=e.pageX,n.y=e.pageY;var T=d.content;T&&T.isSelfViewEvent&&(T.setX(0),T.setY(0),T.setWidth(d.width-2*(d.borderWidth||0)),T.setHeight(d.contentHeight)),i.$36i?l.$18i.fire({kind:"betweenResize",target:l,id:l.getView().$15i}):(i.$36i=!0,l.$18i.fire({kind:"beginResize",target:l,id:l.getView().$15i}))}else if(i.$38i){var N,S,z,k,j,R,P,B,O,U,W=c.getBoundingClientRect(),G=W.width,F=W.height,Q=Z(h),H=Q.width,Y=Q.height,J=l._dragContainment;"leftTop"===m?(j=(N=A(V(c,v))||0)+y,P=(z=A(V(c,p))||0)+C,"parent"===J&&(j+G>H&&(j=H-G),P+F>Y&&(P=Y-F),0>j&&(j=0),0>P&&(P=0)),O=j-N,U=P-z,l.setPosition(j,P),n.x+=O,n.y+=U):"rightBottom"===m?(R=(S=A(V(c,I))||0)-y,B=(k=A(V(c,_))||0)-C,"parent"===J&&(0>R&&(R=0),0>B&&(B=0),R+G>H&&(R=H-G),B+F>Y&&(B=Y-F)),O=R-S,U=B-k,l.setPosition(R,B),n.x-=O,n.y-=U):"rightTop"===m?(R=(S=A(V(c,I))||0)-y,P=(z=A(V(c,p))||0)+C,"parent"===J&&(0>R&&(R=0),0>P&&(P=0),R+G>H&&(R=H-G),P+F>Y&&(P=Y-F)),O=R-S,U=P-z,l.setPosition(R,P),n.x-=O,n.y+=U):"leftBottom"===m&&(j=(N=A(V(c,v))||0)+y,B=(k=A(V(c,_))||0)-C,"parent"===J&&(0>j&&(j=0),0>B&&(B=0),j+G>H&&(j=H-G),B+F>Y&&(B=Y-F)),O=j-N,U=B-k,l.setPosition(j,B),n.x+=O,n.y-=U),i.$39i?l.$18i.fire({kind:"betweenMove",target:l,id:l.getView().$15i}):(i.$39i=!0,l.$18i.fire({kind:"beginMove",target:l,id:l.getView().$15i}))}}},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)}});var U=n.widget.PanelGroup=function(t){var e=this,i=e._view=x.createView(null,e);i.style.border="1px dashed black",i.style.position="absolute",i.style.background="rgba(120, 120, 120, 0.4)",e.$48i=new n.List,e._tolerance=100,e._config=t||{hGap:0,vGap:0},e.bindHandlePanelMove=e.handlePanelMove.bind(e),e.bindHandlePanelEvent=e.handlePanelEvent.bind(e),e.invalidate()};o.def(U,e,{invalidate:function(){var t=this;t._68I||(t._68I=1,M(function(){t.validate()},50))},validate:function(){if(this._68I){delete this._68I;var t=this.$48i.get(0);if(t){var e=t.getView().parentNode;e&&(this.layoutPanels(e,"leftTop"),this.layoutPanels(e,"rightTop"),this.layoutPanels(e,"leftBottom"),this.layoutPanels(e,"rightBottom"))}}},setLeftTopPanels:function(){var t=this,e=t.$43i,i=t.$48i;e==m&&(e=t.$43i=new n.List);for(var o=0;o<arguments.length;o++){var a=arguments[o];if("string"==typeof a)e.$49i=a;else{if(a._config.flowLayout)continue;a.setPositionRelativeTo("leftTop"),e.contains(a)||e.add(a),i.contains(a)||t.add(a)}}},setRightTopPanels:function(){var t=this,e=t.$44i,i=t.$48i;e==m&&(e=t.$44i=new n.List);for(var o=0;o<arguments.length;o++){var a=arguments[o];if("string"==typeof a)e.$49i=a;else{if(a._config.flowLayout)continue;a.setPositionRelativeTo("rightTop"),e.contains(a)||e.add(a),i.contains(a)||t.add(a)}}},setLeftBottomPanels:function(){var t=this,e=t.$45i,i=t.$48i;e==m&&(e=t.$45i=new n.List);for(var o=0;o<arguments.length;o++){var a=arguments[o];if("string"==typeof a)e.$49i=a;else{if(a._config.flowLayout)continue;a.setPositionRelativeTo("leftBottom"),e.contains(a)||e.add(a),i.contains(a)||t.add(a)}}},setRightBottomPanels:function(){var t=this,e=t.$46i,i=t.$48i;e==m&&(e=t.$46i=new n.List);for(var o=0;o<arguments.length;o++){var a=arguments[o];if("string"==typeof a)e.$49i=a;else{if(a._config.flowLayout)continue;a.setPositionRelativeTo("rightBottom"),e.contains(a)||e.add(a),i.contains(a)||t.add(a)}}},add:function(t){if(!t._config.flowLayout){var e=this,i=e.$48i;i.contains(t)||(t.addEventListener(e.bindHandlePanelMove),t.addEventListener(e.bindHandlePanelEvent),i.add(t))}},remove:function(t){var e=this,i=e.$48i;i.contains(t)&&(t.removeEventListener(e.bindHandlePanelMove),t.removeEventListener(e.bindHandlePanelEvent),i.remove(t),e.$43i.contains(t)&&e.$43i.remove(t),e.$44i.contains(t)&&e.$44i.remove(t),e.$45i.contains(t)&&e.$45i.remove(t),e.$46i.contains(t)&&e.$46i.remove(t))},layoutPanels:function(t,e,i){var n=this,o=n._config,a=o.hGap||0,r=o.vGap||0;if(t){var l=n.$43i;if("leftBottom"===e?l=n.$45i:"rightTop"===e?l=n.$44i:"rightBottom"===e&&(l=n.$46i),!l)return;var c=l.$49i,h=a,d=r;if(t.contains(n._view)&&t.removeChild(n._view),l&&l.size()>0)for(var g=0;g<l.size();g++){var u=l.get(g),f=u.getView();t=t||f.parentNode,i!==g?u.setPosition(h,d):("leftTop"===e?(n._view.style.right="",n._view.style.bottom="",n._view.style.left=h+s,n._view.style.top=d+s):"leftBottom"===e?(n._view.style.right="",n._view.style.top="",n._view.style.left=h+s,n._view.style.bottom=d+s):"rightTop"===e?(n._view.style.left="",n._view.style.bottom="",n._view.style.right=h+s,n._view.style.top=d+s):"rightBottom"===e&&(n._view.style.left="",n._view.style.top="",n._view.style.right=h+s,n._view.style.bottom=d+s),n._view.style.width=f.offsetWidth+s,n._view.style.height=f.offsetHeight+s,t.insertBefore(n._view,f)),"h"===c?h+=f.offsetWidth+a:"v"===c&&(d+=f.offsetHeight+r)}}},handlePanelEvent:function(t){if("beginToggle"===t.kind||"endToggle"===t.kind||"beginRestore"===t.kind||"endMinimize"===t.kind||"endResize"===t.kind){var e=this,i=t.target,n=i.getView().parentNode,o=e.$43i,a=e.$44i,r=e.$45i,l=e.$46i,c=e._config,h=m,d=m,g=i.$47i;if(g==m&&(g=i.$47i=0),"beginToggle"===t.kind?g=i.$47i=g+1:"endToggle"===t.kind&&(g=i.$47i=g-1),o&&o.contains(i)?(h="leftTop",d=o):r&&r.contains(i)?(h="leftBottom",d=r):a&&a.contains(i)?(h="rightTop",d=a):l&&l.contains(i)&&(h="rightBottom",d=l),"beginToggle"===t.kind&&h&&1===g){var u=z(),f=u.style,v=d.$49i,p="each";f.fontSize="0",f.position="absolute",f.width="100%","leftTop"===h?(f.left=0,f.top=0):"leftBottom"===h?(f.left=0,f.bottom=0,"v"===v&&(p="reverseEach")):"rightTop"===h?(f.right=0,f.top=0,f.textAlign="right","h"===v&&(p="reverseEach")):"rightBottom"===h&&(f.right=0,f.bottom=0,f.textAlign="right",p="reverseEach"),d[p](function(t){var e=t.getView(),i=e.style,n=z();i.position="static",n.style.textAlign="left",n.style.position="relative",n.style.display="inline-block","leftTop"===h?(n.style.marginLeft=c.hGap+s,n.style.marginTop=c.vGap+s):"leftBottom"===h?(n.style.marginLeft=c.hGap+s,n.style.marginBottom=c.vGap+s):"rightTop"===h?(n.style.marginRight=c.hGap+s,n.style.marginTop=c.vGap+s):"rightBottom"===h&&(n.style.marginRight=c.hGap+s,n.style.marginBottom=c.vGap+s),n.appendChild(e),u.appendChild(n),"h"===v?n.style.verticalAlign="leftTop"===h||"rightTop"===h?"top":"bottom":u.appendChild(S("br"))}),e.$54i=u,n.appendChild(u)}else"endToggle"===t.kind&&h&&0===g?M(function(){(n=n.parentNode.parentNode).removeChild(e.$54i),delete e.$54i,d.each(function(t){var e=t.getView();e.style.position="absolute",n.appendChild(e)}),e.layoutPanels(n,h)},30):("beginRestore"===t.kind||"endMinimize"===t.kind||"endResize"===t.kind)&&h&&e.layoutPanels(n,h)}},handlePanelMove:function(t){if(!(t.kind.indexOf("Move")<0)){var e=this,i=e._config,o=i.hGap||0,a=i.vGap||0,r=t.target,s=r._view,l=s.getBoundingClientRect(),c=l.width,h=l.height,d=c/2,g=h/2,u=s.parentNode,f=e.$43i,v=e.$44i,p=e.$45i,I=e.$46i,_=u.getBoundingClientRect(),y=e._tolerance;if("endMove"===t.kind){var C=e._corner;C&&(r.setPositionRelativeTo(C),e.layoutPanels(u,C)),delete e._corner}if("betweenMove"===t.kind){var w=_.left,b=_.top,M=_.width,x=_.height,D=l.left+c/2,T=l.top+h/2;f==m&&(f=e.$43i=new n.List),p==m&&(p=e.$45i=new n.List),v==m&&(v=e.$44i=new n.List),I==m&&(I=e.$46i=new n.List),delete e._corner,f.contains(r)?(f.remove(r),e.layoutPanels(u,"leftTop")):p.contains(r)?(p.remove(r),e.layoutPanels(u,"leftBottom")):v.contains(r)?(v.remove(r),e.layoutPanels(u,"rightTop")):I.contains(r)&&(I.remove(r),e.layoutPanels(u,"rightBottom"));var N=function(t,i){var n=w+o,s=b+a;if(0===i.size()){var l=n+d,c=s+g;"leftBottom"===t?c=b+x-a-g:"rightTop"===t?l=w+M-o-d:"rightBottom"===t&&(l=w+M-o-d,c=b+x-a-g);var h=D-l,f=T-c,v=Math.sqrt(h*h+f*f);if(y>v)return e._corner=t,i.add(r),e.layoutPanels(u,t,0),!0}else if(1===i.size()){var p=i.get(0).getView().getBoundingClientRect(),I=p.left+d,_=p.top+g,C=p.left+p.width+o+d,N=s+g,S=n+d,z=p.top+p.height+a+g;"leftBottom"===t?(_=p.top+p.height-g,N=b+x-a-g,z=p.top-a-g):"rightTop"===t?(I=p.left+p.width-d,C=p.left-o-d,S=w+M-o-d):"rightBottom"===t&&(I=p.left+p.width-d,_=p.top+p.height-g,C=p.left-o-d,N=b+x-a-g,S=w+M-o-d,z=p.top-a-g);var k=D-I,E=T-_,V=D-C,j=T-N,R=D-S,P=T-z,Z=A(Math.sqrt(k*k+E*E)),L=A(Math.sqrt(V*V+j*j)),B=A(Math.sqrt(R*R+P*P)),O=[Z,L,B];O.sort(function(t,e){return t-e});var U=O[0];if(y>U){if(e._corner=t,U===Z)return i.add(r,0),e.layoutPanels(u,t,0),!0;if(U===L)return i.add(r),i.$49i="h",e.layoutPanels(u,t,1),!0;if(U===B)return i.add(r),i.$49i="v",e.layoutPanels(u,t,1),!0}}else if(i.size()>1){for(var W=m,G={},F=[],Q=i.$49i,H=0;H<i.size();H++){var Y=i.get(H).getView().getBoundingClientRect(),J=Y.left+d,X=Y.top+g;"leftBottom"===t?X=Y.top+Y.height-g:"rightTop"===t?J=Y.left+Y.width-d:"rightBottom"===t&&(J=Y.left+Y.width-d,X=Y.top+Y.height-g),H===i.size()-1&&(W=Y);h=D-J,f=T-X;G[v=A(Math.sqrt(h*h+f*f))]=H,F.push(v)}"leftTop"===t&&"h"===Q?(l=W.left+W.width+o+d,c=s+g):"leftTop"===t&&"v"===Q?(l=n+d,c=W.top+W.height+a+g):"leftBottom"===t&&"h"===Q?(l=W.left+W.width+o+d,c=b+x-a-g):"leftBottom"===t&&"v"===Q?(l=n+d,c=W.top-a-g):"rightTop"===t&&"h"===Q?(l=W.left-o-d,c=s+g):"rightTop"===t&&"v"===Q?(l=w+M-o-d,c=W.top+W.height+a+g):"rightBottom"===t&&"h"===Q?(l=W.left-o-d,c=b+x-a-g):"rightBottom"===t&&"v"===Q&&(l=w+M-o-d,c=W.top-a-g),h=D-l,f=T-c,G[v=A(Math.sqrt(h*h+f*f))]=H,F.push(v),F.sort(function(t,e){return t-e});U=F[0];if(y>U)return e._corner=t,i.add(r,G[U]),e.layoutPanels(u,t,G[U]),!0}};N("leftTop",f)||N("leftBottom",p)||N("rightTop",v)||N("rightBottom",I)}}}})}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object)}).call(e,i("DuR2"))},heW6:function(t,e){ht.graph.GridPainter=function(t){this._gv=t},ht.Default.def(ht.graph.GridPainter,Object,{draw:function(t){var e=this._gv,i=e.getZoom(),n=e.getViewRect(),o=20*i;o/=i;var a=(a=Math.round(n.x))-a%o-o,r=(r=Math.round(n.y))-r%o-o,s=Math.round(n.width)+2*o,l=Math.round(n.height)+2*o,c=a,h=a+s,d=r,g=r+l,u=1/i,f=0,v=0;t.save(),f=Math.floor(r/o),v=Math.floor(a/o),t.beginPath(),t.lineWidth=u,t.strokeStyle="rgb(238, 238, 238)";for(var p=c;p<=h;p+=o)v%2!=0&&(t.moveTo(p,d),t.lineTo(p,d+l)),v++;for(var I=d;I<=g;I+=o)f%2!=0&&(t.moveTo(c,I),t.lineTo(c+s,I)),f++;t.stroke(),f=Math.floor(r/o),v=Math.floor(a/o),t.beginPath(),t.lineWidth=u,t.strokeStyle="rgb(208, 208, 208)";for(p=c;p<=h;p+=o)v%2==0&&(t.moveTo(p,d),t.lineTo(p,d+l)),v++;for(I=d;I<=g;I+=o)f%2==0&&(t.moveTo(c,I),t.lineTo(c+s,I)),f++;t.stroke(),t.restore()}})},hx8Q:function(t,e){},iJdf:function(t,e,i){(function(t){!function(t){"use strict";var e=t.ht,i=e.Default,n=i.getInternal(),o=n.ui(),a=null,r="__segmentLengths",s="__lineTotalLength",l="__linePoints",c="__distance0",h="flow.count",d="flow.step",g="flow.element.max",u="flow.element.count",f="flow.element.min",v="flow.element.space",p="flow.element.autorotate",I="flow.element.background",_="flow.element.shadow.max",y="flow.element.shadow.min",C="flow.element.shadow.begincolor",m="flow.element.shadow.endcolor",w="flow.element.shadow.visible",b="flow",A=e.Math.Vector2,M=new A;new A,new A,e.List;var x=e.Default._edgeProtectMethod,D=x.getStraightLinePoints,T=function(t,e){for(var i=[],n=t.length,o=0;n>o;o++){var a=t[o];a._as&&(a=a._as);for(var r=a[0],s=1;s<a.length;s++)i.push([r,a[s]]),r=a[s]}var l=[];for(o=0;o<i.length;o++){var c=S(i[o][0],i[o][1],e);l.push(c)}return{distance:l,segments:i}},N=function(t,e,n){if(t){for(var o,a=T(t,e),r=a.distance,s=a.segments,l=1/0,c=null,h=0,d=r.length;d>h;h++){var g=r[h];g.z<l&&(o=h,l=g.z,c=g)}if(null==n&&(n=.1),c.z<n){for(var u=0,f=0;o>=f;f++)u+=i.getDistance(s[f][0],o>f?s[f][1]:c);return u}}},S=function(t,e,i){var n=t.x,o=t.y,a=e.x,r=e.y,s=i.x,l=i.y,c=a-n,h=r-o,d=Math.sqrt(c*c+h*h),g=c/d,u=h/d,f=(-n+s)*g+(-o+l)*u,v={x:n+f*g,y:o+f*u};return v.x>=Math.min(t.x,e.x)&&v.x<=Math.max(t.x,e.x)&&v.y>=Math.min(t.y,e.y)&&v.y<=Math.max(t.y,e.y)||(v.x=Math.abs(v.x-t.x)<Math.abs(v.x-e.x)?t.x:e.x,v.y=Math.abs(v.y-t.y)<Math.abs(v.y-e.y)?t.y:e.y),c=s-v.x,h=l-v.y,v.z=Math.sqrt(c*c+h*h),v},z=function(t,e){if(t){var i=1/0,n=null;return T(t,e).distance.forEach(function(t){t.z<i&&(i=t.z,n=t)}),n}},k=x.calculateLineLength,E=x.calcSegmentIndexByDistance,V=x.calculatePointAlongLine,j=function(t,e,i){if(!t)return i;if(0===e){var n=t[0][0],o=t[0][1];return i+Math.atan2(o.y-n.y,o.x-n.x)}if(100===e){n=(t=t[t.length-1])[t.length-2],o=t[t.length-1];return i+Math.atan2(o.y-n.y,o.x-n.x)}for(var a=0,r=[],s=t.length,l=0;s>l;l++){var c=t[l],h=k(c);a+=h,r.push(h)}for(var d=a*e/100,g=E(d,r),u=0,f=0;g>f;f++)u+=r[f];d-=u;for(var v=V(t[g],d),p=t[g],I=0,_=0,y=0;y<p.length-1;y++){var C=p[y],m=p[y+1],w=m.x-C.x,b=m.y-C.y;if((I+=Math.sqrt(w*w+b*b))>d){_=y;break}}var A=p[_];return i+Math.atan2(v.y-A.y,v.x-A.x)},R=function(t){var e=0;if(t)if(Array.isArray(t[0]))for(var i=t.length,n=0;i>n;n++){var o=t[n];e+=k(o)}else e=k(t);return e},P=function(t,e,i,n){return M.set(e,i).rotateAround(null,n),t?{x:t.x+M.x,y:t.y+M.y}:{x:M.x,y:M.y}},Z=function(t){var n=t._data,o=D(t);if(o){n.s("flow.reverse")&&(o.reverse(),o.forEach(function(t){t.reverse()}));for(var a=0,c=[],h=o.length,d=0;h>d;d++){var g=o[d],u=k(g);a+=u,c.push(u)}if(n[r]=c,n[s]=a,n[l]=o,n instanceof e.Edge){var f=i.unionPoint(o),v=f.x+f.width/2,p=f.y+f.height/2;n.$10e={x:v,y:p}}B(t,!0)}},L=x.getPercentPosition,B=function(t,e){var i=t._data,n=i[s],o=i.s(h),a=i.s(d),l=0,v=i[r],p=i.s(g),I=i.s(f),_=i.s(u),y=(p-I)/(_-1),C=[];if(v){if(1===_)C.push(p);else if(2===_)C.push(p),C.push(I);else{if(!(_>2))return;C.push(p);for(var m=_-2;m>0;m--)C.push(I+y*m);C.push(I)}var w=0,b=0;C.forEach(function(t){_-1>w&&(b+=i.getFlowElementSpace(t)),w++}),l=(n-o*(b+=(p+I)/2)+b)/o;var A=t[c];for(null==A&&(A=0),e||(A+=a);A>n+b;){var M=t._overCount;M?M++:M=1,M>=o&&(M=null),t._overCount=M,i.s("flow.autoreverse")?M?A-=l+b:(A=0,i.s("flow.reverse",!i.s("flow.reverse"))):A-=l+b}t[c]=A}},O="prototype",U=e.graph.GraphView[O],W=e.Data[O],G=o.DataUI[O],F=o.ShapeUI[O],Q=o.EdgeUI[O],H=e.DataModel[O],Y=e.Style;Y[g]==a&&(Y[g]=7),Y[f]==a&&(Y[f]=0),Y[h]==a&&(Y[h]=1),Y[d]==a&&(Y[d]=3),Y[u]==a&&(Y[u]=10),Y[v]==a&&(Y[v]=3.5),Y[p]==a&&(Y[p]=!1),Y[I]==a&&(Y[I]="rgba(255, 255, 114, 0.4)"),Y[C]==a&&(Y[C]="rgba(255, 255, 0, 0.3)"),Y[m]==a&&(Y[m]="rgba(255, 255, 0, 0)"),Y[w]==a&&(Y[w]=1),Y[_]==a&&(Y[_]=22),Y[y]==a&&(Y[y]=4),U.calculatePointLength=function(t,e,i){var n=this.getDataUI(t),o=D(n);return N(o,e,i)},i.calculatePointLength=function(t,e,i,n){var o=D(a,t,e);return N(o,i,n)},i.calculateClosestPointOnLine=S,U.calculateClosestPoint=function(t,e){var i=this.getDataUI(t),n=D(i);return z(n,e)},i.calculateClosestPoint=function(t,e,i){var n=D(a,t,e);return z(n,i)},U.getPercentAngle=function(t,e){var i=this.getDataUI(t),n=D(i);return t.getRotation&&t.getRotation(),j(n,e,t.getRotation?t.getRotation():0)},i.getPercentAngle=function(t,e,i){var n=D(a,t,e);return j(n,i,0)},U.calculateLength=function(t){var e=this.getDataUI(t),i=D(e);return R(i)},i.calculateLength=function(t,e){var i=D(a,t,e);return R(i)},U.getPercentPosition=function(t,e){var i=this.getDataUI(t),n=D(i);return L(n,e)},i.getPercentPositionOnPoints=function(t,e,i){var n=D(a,t,e);return L(n,i)};var J=function(t){var e=t.data,i=this.dm();if(e&&"add"===t.kind){var n=i.$3e;n&&e.s(b)&&n.indexOf(e)<0&&n.push(e)}"clear"===t.kind&&(i.$3e=[])},X=function(t){var e=t.property,i=t.data,n=t.newValue,o=this.dm().$3e;if(o&&"s:flow"===e)if(n)o.indexOf(i)<0&&o.push(i);else for(var a=o.length,r=0;a>r;r++)if(o[r]===i){o.splice(r,1);break}},$=U.setDataModel;U.setDataModel=function(t){var e=this,i=e._dataModel;if(i!==t){i&&(i.umm(J,e),i.umd(X,e),i.$3e=[]),t.mm(J,e),t.md(X,e);var n=t.$3e=[];t.each(function(t){t.s(b)&&n.indexOf(t)<0&&n.push(t)}),$.call(e,t)}},W.getFlowElementSpace=function(){return this.s(v)};var K=function(t){var e=this,i=e._data,n=i[s],o=i[r],d=i[l],v=i.s(h),I=0,C=e[c],m=i.s(g),w=i.s(f),b=i.s(u),A=i.s(y),M=i.s(_),x=i.s(p),D=(M-A)/(b-1),T=(m-w)/(b-1),N=i.getRotation?i.getRotation():0,S=i.getPosition?i.p():i.$10e,z=[],k=[];if(C!=a){if(1===b)z.push(m);else if(2===b)z.push(m),z.push(w);else{if(!(b>2))return;z.push(m);for(var j=b-2;j>0;j--)z.push(w+T*j);z.push(w)}if(1===b)k.push(M);else if(2===b)k.push(M),k.push(A);else{if(!(b>2))return;k.push(M);for(j=b-2;j>0;j--)k.push(A+D*j);k.push(A)}var R=0,Z=0;z.forEach(function(t){b-1>R&&(Z+=i.getFlowElementSpace(t)),R++}),I=(n-v*(Z+=(m+w)/2)+Z)/v,t.save();for(j=0;v>j;j++){var L=C,B=0,O=e._overCount,U=0;i.s("flow.autoreverse")&&O&&O>v-(j+1)||(L-=j*(I+Z),R=0,z.forEach(function(a){var r=L-B;if(r>=0&&n>r){var s=E(r,o);U=0;for(var l=0;s>l;l++)U+=o[l];r-=U;var c=V(d[s],r),h=N;if(x){for(var g=d[s],u=0,f=0,v=0;v<g.length-1;v++){var p=g[v],I=g[v+1],_=I.x-p.x,y=I.y-p.y;if((u+=Math.sqrt(_*_+y*y))>r){f=v;break}}var C=g[f];h+=Math.atan2(c.y-C.y,c.x-C.x)}N&&(c=P(S,c.x-S.x,c.y-S.y,N)),e.$5e(t,c,a,k[R],h)}B+=i.getFlowElementSpace(z[R]),R++}))}t.restore()}},q=Q._80o;Q._80o=function(t){q.call(this,t);var e=this,i=e._data,n=e.gv;i.s(b)&&n.$7e!=a&&K.call(e,t)};var tt=F._80o;F._80o=function(t){tt.call(this,t);var e=this,i=e._data,n=e.gv;i.s(b)&&n.$7e!=a&&K.call(e,t)};var et=Q._79o,it=F._79o,nt=function(){var t,n=this,o=n._data,h=o.s(g),d=!1;if(n._6I||(d=!0),t=o instanceof e.Edge?et.call(n):it.call(n),o.s(b)&&d){var u=o.s(_);o.s(w)&&u>h&&(h=u),h>0&&i.grow(t,Math.ceil(h/2)),Z(n)}return!o.s(b)&&d&&(o[r]=o[s]=o[l]=n[c]=a),t};F._79o=nt,Q._79o=nt,G.$5e=function(t,e,o,r,s){var l=this._data,c=this.gv,h=l.s(I),d=l.s(C),g=l.s(m),u=l.s(w),f=c.$8e,v=l.s("flow.element.image");if(f==a&&(f=c.$8e={}),t.beginPath(),v!=a){var p=i.getImage(v),_=o/2;t.translate(e.x,e.y),t.rotate(s),t.translate(-e.x,-e.y),i.drawImage(t,p,e.x-_,e.y-_,o,o,l),t.translate(e.x,e.y),t.rotate(-s),t.translate(-e.x,-e.y)}else if(c.__flowBatch){var y=c.__flowBatchGroup;y||(y=c.__flowBatchGroup={});var b=[e.x,e.y,o/2];y[h]?y[h].push(b):y[h]=[b]}else t.fillStyle=h,t.arc(e.x,e.y,o/2,0,2*Math.PI,!0),t.fill();if(u){var A="22_"+d+"_"+g,M=f[A];if(M==a){var x=document.createElement("canvas");n.setCanvas(x,22,22);var D=x.getContext("2d");n.translateAndScale(D,0,0,1),D.beginPath();var T=D.createRadialGradient(11,11,0,11,11,11);T.addColorStop(0,d),T.addColorStop(1,g),D.fillStyle=T,D.arc(11,11,11,0,2*Math.PI,!0),D.fill(),M=f[A]=x}_=r/2;i.drawImage(t,M,e.x-_,e.y-_,r,r,l)}},U.$9e=function(){var t=this,e=t.dm().$3e;t._24I,e.forEach(function(e){t._24I[e._id]=e}),t.iv()};var ot=H.prepareRemove;H.prepareRemove=function(t){ot.call(this,t);var e=t._dataModel.$3e;if(e)for(var i=e.length,n=0;i>n;n++)if(e[n]===t){e.splice(n,1);break}},U.setFlowInterval=function(t){var e=this,i=e.$11e;e.$11e=t,e.fp("flowInterval",i,t),e.$7e!=a&&(clearInterval(e.$7e),delete e.$7e,e.enableFlow(t))},U.getFlowInterval=function(){return this.$11e},U.enableFlow=function(t){var e=this,i=e.dm(),n=i.$3e;e.$7e==a&&(n.forEach(function(t){var i=e.getDataUI(t);Z(i)}),e.$7e=setInterval(function(){i.$3e.forEach(function(t){B(e.getDataUI(t))}),e.$9e()},t||e.$11e||50))},U.disableFlow=function(){var t=this;clearInterval(t.$7e),delete t.$7e,t.dm().$3e&&t.$9e()};var at=function(){this.__flowBatchGroup={}},rt=function(t){var e=this.__flowBatchGroup;if(e){for(var i in t.save(),e){t.fillStyle=i,t.beginPath(),e[i].forEach(function(e){t.moveTo(e[0],e[1]),t.arc(e[0],e[1],e[2],0,2*Math.PI,!0)}),t.fill()}t.restore()}};U.setFlowBatch=function(t){var e=this;!!e.__flowBatch!=!!t&&(e.__flowBatch=t,t?(e.addBottomPainter(at),e.addTopPainter(rt)):(e.removeBottomPainter(at),e.removeTopPainter(rt)))}}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object)}).call(e,i("DuR2"))},iNOA:function(t,e,i){t.exports=i.p+"static/img/ic_dianci.06c76da.svg"},idlG:function(t,e,i){(function(t,e){!function(t,i,n){"use strict";var o=t.ht||e.parent.exports.ht,a=null,r=o.Default,s=r.def,l=o.List,c=o.Node,h=o.Edge,d=o.Group,g=Math,u=g.floor,f=g.ceil,v=g.sqrt,p=g.max,I=g.min,_=g.abs,y=g.cos,C=g.sin,m=g.PI,w=2*m,b=m/2,A=g.atan,M=g.atan2,x=g.random,D=g.pow,T=Number.MAX_VALUE,N=Number.MIN_VALUE,S="circular",z="symmetric",k="towardnorth",E="towardeast",V="towardwest",j=function(){throw"Oops!"},R=function(t){return S===t?new Kt:z===t?new ge:"hierarchical"===t?new we:t===k||"towardsouth"===t||t===E||t===V?new Zt:a},P=function(t){return t===V?new Z(b):t===E?new Z(-b):t===k?new Z(m):a},Z=function(t){this.s=C(t),this.c=y(t)};Z.prototype.tf=function(t,e){return 1===arguments.length&&(e=t.y,t=t.x),{x:this.c*t-this.s*e,y:this.s*t+this.c*e}};var L=function(t,e){this.x=t,this.y=e};s(L,i,{equals:function(t){return this===t||t instanceof L&&(t.x===this.x&&t.y===this.y)}});var B=function(t,e){this.width=t,this.height=e};s(B,i,{});var O=function(t,e){this.x=t,this.y=e};s(O,i,{});var U=function(){var t=arguments;2===t.length?(U.superClass.constructor.call(this,t[1].width,t[1].height),this.x=t[0].x,this.y=t[0].y):(U.superClass.constructor.call(this,t[2],t[3]),this.x=t[0],this.y=t[1])};s(U,B,{});var W=function(t,e){if(W.a2(t.x,e.x))this._a=1,this._b=0,this._c=-t.x;else{this._b=-1;var i=(e.y-t.y)/(e.x-t.x),n=t.y-t.x*i;this._a=i,this._c=n}};s(W,i,{a3:function(){return this._a},a4:function(){return this._b},a5:function(){return this._c}}),W.a6=function(t,e){if(W.a1(t.a3())&&W.a1(e.a3()))return a;if(W.a1(t.a4())&&W.a1(e.a4()))return a;if(W.a1(e.a4())){var i=t;t=e,e=i}var n,o,r=t.a3(),s=t.a4(),l=-t.a5();W.a1(t.a3())?(n=e.a4(),o=-e.a5()):(n=e.a4()-e.a3()/t.a3()*t.a4(),o=-e.a5()-e.a3()/t.a3()*-t.a5());var c=o/n;return new L((l-c*s)/r,c)},W.a1=function(t){return W.a2(t,0)},W.a2=function(t,e){return _(t-e)<1e-5};var G=function(t){if(this._a=new dt,t)for(var e=0;e<t.size();e++)this._a.aa(t.get(e))};s(G,i,{c:function(){return this._a.ah()},d:function(){return this._a.ah()},a:function(){for(var t=new l,e=this.c();e.i1();e.i2())t.add(e.i6(),0);return new G(t)},b:function(){return this._a.ay()}});var F=function(t,e){this.x=t,this.y=e};s(F,i,{a:function(t,e){this.x=t,this.y=e}});var Q=function(t,e){this.x=t||0,this.y=e||0};s(Q,i,{b:function(){return new Q(this.x,this.y)},a:function(t){this.z=t},c:function(){return this.x},d:function(){return this.y},f:function(t,e){this.x=t,this.y=e}});var H=function(t){this._c=new dt,t?(this.ac(t.a8().b()),this.ad(t.a9().b())):(this.ac(new Q),this.ad(new Q))};s(H,i,{a6:function(){return this.a5(this)},ac:function(t){t.a(this),this._a=t},ad:function(t){t.a(this),this._b=t},a8:function(){return this._a},a9:function(){return this._b},a1:function(t,e){return this.a4(t,e,this.aa())},a2:function(){return this._c.ay()},a7:function(t){return this._c.ak(t)},aa:function(){return 0===this._c.ay()?a:this._c.as()},a3:function(){this._c.af()},i2:function(t){var e=this.a7(t);return e?new L(e.x,e.y):a},i1:function(){return this.a2()},i6:function(){var t=this.a8();return new L(t.c(),t.d())},i7:function(){var t=this.a9();return new L(t.c(),t.d())},i8:function(t){this.a8().f(t.x,t.y)},i9:function(t){this.a9().f(t.x,t.y)},i3:function(t,e,i){var n=this.a7(t);n&&n.a(e,i)},i4:function(t,e){this.a1(t,e)},i5:function(){this.a3()}});var Y=function(t){Y.superClass.constructor.call(this,t)};s(Y,H,{a5:function(t){return new Y(t)},a4:function(t,e,i){var n=new F(t,e);return this.ab(n,i),n},ab:function(t,e){this._c.an(t,this._c.al(e))}});var J=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this._s=!1,this._w=30,this._h=30,this._x=t-this._w/2,this._y=e-this._h/2}else{var i=arguments[0];this._s=i._s,this._w=i._w,this._h=i._h,this._x=i._x,this._y=i._y}};s(J,i,{m3:function(){return this.m2(this)},m4:function(){return this._x+this._w/2},m5:function(){return this._y+this._h/2},m6:function(t,e){this._x=t-this._w/2,this._y=e-this._h/2},i1:function(){return this._x},i2:function(){return this._y},i5:function(t,e){this._x=t,this._y=e},i3:function(){return this._w},i4:function(){return this._h},i6:function(t,e){var i=(this._w-t)/2,n=(this._h-e)/2;this._x+=i,this._y+=n,this._w=t,this._h=e},m1:function(t){var e,i,n,o;t.width<=0?(e=this._x,i=this._x+this._w,n=this._y,o=this._y+this._h):(e=I(this._x,t.x),i=p(this._x+this._w,t.x+t.width),n=I(this._y,t.y),o=p(this._y+this._h,t.y+t.height)),t.x=e,t.y=n,t.width=i-e,t.height=o-n}});var X=function(t){t?X.superClass.constructor.call(this,t):X.superClass.constructor.call(this,0,0)};s(X,J,{m2:function(t){return new X(t)}});var $={a2:function(t){var e=Vt.a2(xe.a(t.xa()));return $.a4(t,e,$.a3(t,e))},a3:function(t,e){for(var i=t.x9();i.i1();i.i2())e.i7(i.i9(),-1);for(var n=0,o=new It(t.xa()),a=t.x9();a.i1();a.i2()){var r=a.i9();-1===e.i2(r)&&$.a(r,o,e,n++)}return n},a6:function(t){for(var e=new gt,i=$.a2(t),n=0;n<i.length-1;n++){var o=t.xo(i[n].x2(),i[n+1].x3());e.aa(o)}return e},a4:function(t,e,i){for(var n=[],o=0,a=t.x9();i>o;o++)n[o]=new St;for(;a.i1();a.i2())n[e.i2(a.i9())].ae(a.i9());return n},a:function(t,e,i,n){for(e.c(t),i.i7(t,n);!e.a();){for(var o=(t=e.b()).ag();o;o=o.a8()){var a=o.a3();-1===i.i2(a)&&(i.i7(a,n),e.c(a))}for(var r=t.ae();r;r=r.a7()){var s=r.a2();-1===i.i2(s)&&(i.i7(s,n),e.c(s))}}},a1:function(t,e,i){var n=new rt(e,i);return n.a8(t),n._i},a5:function(t,e,i){for(var n=[],o=0;i>o;o++)n[o]=new gt;for(var a=t.xf();a.i1();a.i2())n[e.i2(a.i8())].aa(a.i8());return n},a7:function(t){var e=new gt,i=Vt.a3(xe.b(t.xa())),n=Vt.a4(xe.a(t.xh())),o=$.a1(t,n,i),r=$.a5(t,n,o);if(r.length>1){for(var s=new St,l=0;l<r.length;l++){var c=r[l],h=a;if(1===c.ay()){var d=c.c2();1===d.a2().ad()?h=d.a2():1===d.a3().ad()&&(h=d.a3())}else{for(var g=c.c1();g.i1();g.i2()){var u=g.i8();if(i.i4(u.a2()))if(h){if(h!==u.a2()){h=a;break}}else h=u.a2();if(i.i4(u.a3()))if(h){if(h!==u.a3()){h=a;break}}else h=u.a3()}if(h){var f=c.c2();h=f.a2()!==h?f.a2():f.a3()}}h&&s.aa(h)}for(var v,p=s.x4();!s.ar();p=v)v=s.x4(),e.ac(t.xo(p,v))}return e}},K=function(){this._c=0,this._d=0,this._e=0,this._b=!0,this._f=!1};s(K,i,{a6:function(t){this._f=t},a7:function(t){this._b=t},a8:function(t){0!==t.x0()&&this.a9(t,t.x9().i9())},a9:function(t,e){if(this._xx=t.xk(),this._c=t.xl(),this._d=0,this._e=0,this.a0(e),this._b)for(var i=t.x9();i.i1();i.i2()){var n=i.i9();this._xx.i1(n)||(this.a1(n),this.a0(n))}t.xi(this._xx),t.xj(this._c)},a0:function(t){var e=++this._d;this._xx.z1(t,K._B),this.a5(t,e);for(var i=this._f?t.ap():t.af();i.i1();i.i2()){var n=i.i8();if(!this._c.i4(n)){this._c.i7(n,!0);var o=n.a1(t);this._xx.i1(o)?this.a3(n,o,!1):(this.a3(n,o,!0),this.a0(o),this.a2(n,o))}}this.a4(t,e,++this._e),this._xx.z1(t,K._C)},a5:function(){},a4:function(){},a3:function(){},a2:function(){},a1:function(){}}),K._B={},K._C={};var q=function(t){this._a=t};s(q,K,{a5:function(t){var e=this._a._ah.i2(t);this._a._ad[e].ae(t)}});var tt=function(t){this._a=t};s(tt,K,{a2:function(t,e){var i=t.a1(e),n=this._a[i.al()],o=this._a[e.al()];o._a+1>n._a?(n._c=n._a,n._b=n._d,n._a=o._a+1,n._d=t):o._a+1>n._c&&(n._c=o._a+1,n._b=t)}});var et=function(t){this._a=t};s(et,K,{a3:function(t,e,i){i&&t.a2()===e&&this._a.ac(t)}});var it=function(){this._a=0,this._c=0};s(it,i,{});var nt=function(){this._a=0};s(nt,i,{a1:function(t,e){this._a=0;for(var i=e.length-1;i>=0;i--)e[i]=-1;for(var n=t.x9();n.i1();n.i2()){var o=n.i9();if(0===o.ak()){this.a2(o,o.al(),e);break}}for(var a=t.x9();a.i1();a.i2()){var r=a.i9(),s=r.al();-1===e[s]&&this.a2(r,s,e)}},a2:function(t,e,i){i[e]=-2;for(var n=t.ag();n;){var o=n.a3(),a=o.al();switch(i[a]){case-1:this.a2(o,a,i);case-2:default:n=n.a8()}}i[e]=this._a++}});var ot={a1:function(t){var e=new at;return e.a8(t),e._n},a2:function(t){var e,i=t.x9(),n=0;for(i.i4();i.i1();i.i2())0===i.i9().ak()&&(e=i.i9(),n++);if(1===n)return e;for(n=0,i.i4();i.i1();i.i2())0===i.i9().ao()&&(e=i.i9(),n++);return 1===n?e:ot.a8(t)},a8:function(t){var e=xe.a(t.x0()),i=Vt.a2(e);return ot.a6(t,i)},a6:function(t,e){var i=t.xd(),n=xe.d(1),o=xe.a(t.x0(),-1),a=ot.a4(t,i);ot.a7(i,e,n,o,-1);for(var r=a.c1();r.i1();r.i2())t.x3(r.i8());return n[0]},a7:function(t,e,i,n,o){for(var a=0,r=t.ag();r;r=r.a8()){var s=r.a3(),l=ot.a7(s,e,i,n,o);l>o&&(o=l),a+=n[s.al()]}for(var c=a*(t._g.xa()-1-a),h=t.ag();h;h=h.a8())for(var d=h.a3(),g=h.a8();g;g=g.a8()){var u=g.a3();c+=n[d.al()]*n[u.al()]}return e.i7(t,c),n[t.al()]=a+1,c>o&&(o=c,i[0]=t),o},a4:function(t,e){var i=new gt,n=new et(i);n.a6(!1),n.a9(t,e);for(var o=i.c1();o.i1();o.i2())t.x3(o.i8());return i},a3:function(t){return ot.a4(t,ot.a2(t))}},at=function(){this._n=!0,this.a6(!1)};s(at,K,{a3:function(t,e,i){i||(this._n=!1)},a1:function(){this._n=!1}});var rt=function(t,e){this._i=0,this._m=e,this._j=t,this._l=!1};s(rt,K,{a8:function(t){this._h=xe.a(t.x0()),this._k=xe.a(t.x0()),this._g=new It(t.xh()),rt.superClass.a8.call(this,t)},a5:function(t,e){this._k[t.al()]=this._h[t.al()]=e},a3:function(t,e,i){if(this._g.c(t),!i){var n=t.a1(e);this._h[n.al()]=I(this._h[n.al()],this._k[e.al()])}},a1:function(){this._l=!1},a2:function(t,e){var i=t.a1(e);if(this._h[e.al()]>=this._k[i.al()]){for(;this._g.d()!==t;this._j.i5(this._g.b(),this._i));this._j.i5(this._g.b(),this._i),this._i++,this._g.a()?this._l?this._m.i5(i,!0):this._l=!0:this._m.i5(i,!0)}this._h[i.al()]=I(this._h[i.al()],this._h[e.al()])}});var st=function(t,e){this._h=!1,this._i=t,this._g=e};s(st,i,{z1:function(t,e){t._c[this._i]=e},i1:function(t){return t._c[this._i]},i5:function(t,e){t._c[this._i]=e},i4:function(t){return t._c[this._i]},i7:function(t,e){t._c[this._i]=e},i2:function(t){var e=t._c[this._i];return e||0},i6:function(t,e){t._c[this._i]=e},i3:function(t){var e=t._c[this._i];return e||0},c:function(){return this._h},d:function(){this._h=!0}});var lt=function(t,e){this._c=!1,this._d=t,this._b=e};s(lt,i,{i8:function(t,e){t._c[this._d]=e},i1:function(t){return t._c[this._d]},i7:function(t,e){t._c[this._d]=e},i4:function(t){var e=t._c[this._d];return e||!1},i5:function(t,e){t._c[this._d]=e},i2:function(t){var e=t._c[this._d];return e||0},i6:function(t,e){t._c[this._d]=e},i3:function(t){var e=t._c[this._d];return e||0},a:function(){return this._c},b:function(){this._c=!0}});var ct=function(t){this._bb=t,this.i4()};s(ct,i,{i1:function(){return this._aa!=a},i2:function(){this._aa=this._aa._a},i3:function(){this._aa=this._aa._b},i4:function(){this._aa=this._bb._b},i5:function(){this._aa=this._bb._c},i7:function(){return this._bb.ay()},i6:function(){return this._aa._c}});var ht=function(t){ht.superClass.constructor.call(this,t)};s(ht,ct,{i8:function(){return this.i6()}});var dt=function(t){if(this._id=dt.id(),this._a=0,t)for(t.i4();t.i1();t.i2())this.ae(t.i6())};s(dt,i,{ac:function(t){var e=this.ag(t);return this._b?(this._b._b=e,e._a=this._b,this._b=e):this._b=this._c=e,this._a++,e},ae:function(t){var e=this.ag(t);return this._c?(this._c._a=e,e._b=this._c,this._c=e):this._b=this._c=e,this._a++,e},z1:function(t){t._b=a,t._a=a,this._c?(this._c._a=t,t._b=this._c,this._c=t):this._b=this._c=t,this._a++},ad:function(t){t._b=a,t._a=a,this._b?(this._b._b=t,t._a=this._b,this._b=t):this._b=this._c=t,this._a++},aa:function(t){return this.ae(t),!0},ab:function(t){for(;t.i1();t.i2())this.ae(t.i6())},ao:function(t,e){if(e===this._b)return this.ac(t);if(e){var i=this.ag(t);return this.aq(i,e),i}return this.ae(t)},aq:function(t,e){if(e)if(e===this._b)this.ad(t);else{if(this._c){var i=e._b;e._b=t,t._a=e,i._a=t,t._b=i}else t._b=a,t._a=a,this._b=this._c=t;this._a++}else this.ad(t)},ap:function(t,e){if(e)if(e===this._c)this.z1(t);else{if(this._b){var i=e._a;e._a=t,t._a=i,i._b=t,t._b=e}else t._b=a,t._a=a,this._b=this._c=t;this._a++}else this.z1(t)},an:function(t,e){if(e===this._c)return this.ae(t);if(e){var i=this.ag(t);return this.ap(i,e),i}return this.ac(t)},ay:function(){return this._a},ar:function(){return 0===this._a},af:function(){this._b=this._c=a,this._a=0},am:function(){return this._b._c},at:function(){var t=this.am();return this.aw(this._b),t},as:function(){return this._c._c},au:function(){return this.aw(this._c)},ak:function(t){for(var e=0,i=this._b;i;){if(t===e)return i._c;i=i._a,e++}return a},aj:function(t){return t._a?t._a:this._b},ai:function(t){return t._b?t._b:this._c},aw:function(t){return t!==this._b?t._b._a=t._a:this._b=t._a,t!==this._c?t._a._b=t._b:this._c=t._b,this._a--,t._c},av:function(t){return this.aw(t._aa)},ah:function(){return new ct(this)},al:function(t){for(var e=this._b;e;){if(!e._c&&!t)return e;if(e._c===t)return e;e=e._a}return a},a0:function(){for(var t=xe.d(this._a),e=0,i=this._b;i;)t[e]=i._c,i=i._a,e++;return t},ax:function(){for(var t=this._b;t;t=t._b){var e=t._a;t._a=t._b,t._b=e}var i=this._b;this._b=this._c,this._c=i},a1:function(t){var e=this.a0(),i=0;e.sort(t);for(var n=this._b;n;)n._c=e[i],n=n._a,i++},a2:function(){var t=this.a0();t.sort(xe.c);for(var e=0,i=this._b;i;)i._c=t[e],i=i._a,e++},az:function(t){this._b?t._b&&(this._c._a=t._b,t._b._b=this._c,this._c=t._c):(this._b=t._b,this._c=t._c),this._a+=t._a,t._b=t._c=a,t._a=0},ag:function(t){return new vt(t)}}),dt.id=function(){var t=0;return function(){return++t}}();var gt=function(t){gt.superClass.constructor.call(this,t)};s(gt,dt,{c1:function(){return new ht(this)},c2:function(){return this.am()},c3:function(){return this.at()}});var ut=function(){this._c=0};s(ut,i,{a:function(t){this._c++,t._b=this._b,t._a=a,this._b?(this._b._a=t,this._b=t):this._b=this._a=t},b:function(t,e){if(e){var i=e._b;i?i._a=t:this._a=t,t._b=i,t._a=e,e._b=t,this._c++}else this.a(t)},c:function(t){var e=t._a,i=t._b;this._c--,e?e._b=i:this._b=i,i?i._a=e:this._a=e}});var ft=function(t,e){this._p=t,this._j=e,this._o=t._o[e]};s(ft,i,{i1:function(){return this._o!=a},i2:function(){this._o=this._o._k[this._j]},i3:function(){this._o=this._o._f[this._j]},i4:function(){this._o=this._p._o[this._j]},i5:function(){this._o=this._p._q[this._j]},i7:function(){return this._p._n[this._j]},i6:function(){return this._o},i8:function(){return this._o}});var vt=function(t){this._c=t};s(vt,i,{a:function(){return this._a},b:function(){return this._b},c:function(t){this._c=t},d:function(){return this._c}});var pt=function(t,e,i,n){this._r=t,this._s=e,this._q=i,this._p=n};s(pt,i,{i1:function(t){return this._p[t.a5()]},i3:function(t){return this._r[t.a5()]},i2:function(t){return this._s[t.a5()]},i4:function(t){return this._q[t.a5()]},i8:function(t,e){this._p[t.a5()]=e},i6:function(t,e){this._r[t.a5()]=e},i5:function(t,e){this._s[t.a5()]=e},i7:function(t,e){this._q[t.a5()]=e}});var It=function(t){this._a=xe.d(t),this._b=-1};s(It,i,{d:function(){return this._a[this._b]},b:function(){return this._a[this._b--]},c:function(t){this._a[++this._b]=t},a:function(){return this._b<0}});var _t=function(){};s(_t,i,{a0:function(t){this._c=xe.d(t)}});var yt=function(t,e,i,n,o,a,r){this._g=0,t.xt(this,e,i,n,o,a,r)};s(yt,_t,{a5:function(){return this._h._u&&this._h.b1(),this._g},a2:function(){return this._d},a3:function(){return this._e},a1:function(t){return this._d!==t?this._d:this._e},a4:function(){for(var t=0;1>=t;t++)this._k[t]=a,this._f[t]=a},a8:function(){return this._k[0]},a7:function(){return this._k[1]},a6:function(t,e,i,n){this.a0(n),this._h=t,this._k=xe.d(2),this._f=xe.d(2),this._d=e,this._e=i}});var Ct=function(t){this._j=0,this._h=t,this.i4()};s(Ct,i,{i2:function(){this._k=this._k._k[this._j],this._k||0!==this._j||(this._k=this._h._o[1],this._j=1)},i3:function(){this._k=this._k._f[this._j],this._k||1!==this._j||(this._k=this._h._q[0],this._j=0)},i4:function(){this._k=this._h._o[0],this._k?this._j=0:(this._k=this._h._o[1],this._j=1)},i5:function(){this._k=this._h._q[1],this._k?this._j=1:(this._k=this._h._q[0],this._j=0)},i1:function(){return!!this._k},i6:function(){return this._k},i8:function(){return this._k},i7:function(){return this._h.ad()}});var mt=function(){this._a=te._A,this._b=te._A,this._c=new l};s(mt,i,{i1:function(){return this._c.size()},i2:function(t){return this._c.get(t)},i3:function(t,e,i){this._c.set(t,new L(e,i))},i4:function(t,e){this._c.add(new L(t,e))},i5:function(){this._c.clear()},i6:function(){return this._a},i7:function(){return this._b},i8:function(t){this._a=t},i9:function(t){this._b=t}});var wt=function(){this._x=0,this._y=0,this._w=0,this._h=0};s(wt,i,{i5:function(t,e){this._x=t,this._y=e},i6:function(t,e){this._w=t,this._h=e},i4:function(){return this._h},i3:function(){return this._w},i1:function(){return this._x},i2:function(){return this._y}});var bt=function(t,e,i,n){this._m=t,this._n=e,this._l=i,this._k=n};s(bt,i,{i1:function(t){return this._k[t.al()]},i3:function(t){return this._m[t.al()]},i2:function(t){return this._n[t.al()]},i4:function(t){return this._l[t.al()]},z1:function(t,e){this._k[t.al()]=e},i6:function(t,e){this._m[t.al()]=e},i7:function(t,e){this._n[t.al()]=e},i5:function(t,e){this._l[t.al()]=e}});var At=function(t,e){this._b=t,this._r=e,this._a=[];for(var i=this._b-1;i>=0;i--)this._a.push(i);this._c=new l};s(At,i,{a1:function(t){var e;if(0===this._a.length){this.a2(t,this._b,this._b+this._r);for(var i=this._b+this._r-1;i>this._b;i--)this._a.push(i);e=this._b,this._b+=this._r}else e=this._a.pop();return e},b:function(t){var e=this.a1(t),i=new st(e,this);return this._c.add(i),this.a4(t,e),i},c:function(t){var e=this.a1(t),i=new lt(e,this);return this._c.add(i),this.a4(t,e),i},a2:function(t,e,i){for(var n=t._a;n;n=n._a){var o=xe.d(i);xe.f(n._c,o,e),n._c=o}},a3:function(t,e,i){var n=xe.d(i);xe.f(t._c,n,e),t._c=n},a4:function(t,e){for(var i=t._a;i;i=i._a)i._c[e]=a},a5:function(t,e){if(t instanceof st){var i=t;if(i.c())throw"";i.d();var n=t._i;this._a.indexOf(n)<0&&(this.a4(e,n),this._a.push(n),this._c.remove(t))}},a6:function(t,e){if(t instanceof lt){var i=t;if(i.a())throw"";i.b();var n=i._d;this._a.indexOf(n)<0&&(this.a4(e,n),this._a.push(n),this._c.remove(t))}}});var Mt=function(t){this._id=dt.id(),this._p=0,t.xs(this)};s(Mt,_t,{ad:function(){return this._n[0]+this._n[1]},ak:function(){return this._n[1]},ao:function(){return this._n[0]},al:function(){return this._g._y&&this._g.c(),this._p},ag:function(){return this._o[0]},ae:function(){return this._o[1]},af:function(){return new Ct(this)},am:function(){return new ft(this,1)},ap:function(){return new ft(this,0)},an:function(){return new Dt(this)},aq:function(){return new xt(this,1)},aw:function(){return new xt(this,0)},ah:function(t){for(var e=this._o[0];e;e=e._k[0])if(e.a3()===t)return e;return a},ai:function(t){for(var e=this._o[1];e;e=e._k[1])if(e.a2()===t)return e;return a},aj:function(t){var e=this.ah(t);return e||(e=this.ai(t)),e},au:function(t){this.at(t,1,xe.d(this.ak()))},av:function(t){this.at(t,0,xe.d(this.ao()))},as:function(t,e){this.a0(e),this._g=t,this._o=xe.d(2),this._q=xe.d(2),this._n=xe.a(2)},ab:function(t,e,i,n,o){if(e){var a;if(a=e._d===e._e?n:this!==e._d?1:0,0===o){var r=e._k[a];t._f[n]=e,t._k[n]=r,e._k[a]=t,r?r._d===r._e?r._f[n]=t:r._f[this!==r._d?1:0]=t:this._q[i]=t}else{var s=e._f[a];t._k[n]=e,t._f[n]=s,e._f[a]=t,s?s._d===s._e?s._k[n]=t:s._k[this!==s._d?1:0]=t:this._o[i]=t}this._n[i]++}else this.aa(t,i,n)},aa:function(t,e,i){var n=this._q[e];t._k[i]=a,n?(t._f[i]=n,n._d===n._e?n._k[i]=t:n._k[this!==n._d?1:0]=t):(this._o[e]=t,t._f[i]=a),this._q[e]=t,this._n[e]++},ar:function(t,e,i){var n,o;n=t._k[i],o=t._f[i],n?n._f[n._d!==this?1:0]=o:this._q[e]=o,o?o._k[o._d!==this?1:0]=n:this._o[e]=n,this._n[e]--},ac:function(){for(var t=0;1>=t;t++)this._o[t]=a,this._q[t]=a,this._n[t]=0},at:function(t,e,i){if(!(this._n[e]<2)){for(var n=this._n[e],o=0,r=this._o[e];r;r=r._k[e])i[o]=r,o++;xe.s(i,n,t);var s=1,l=this._o[e]=i[0];for(l._f[e]=a;n>s;)(r=i[s])._f[e]=l,l._k[e]=r,s++,l=r;this._q[e]=r,r._k[e]=a}}});var xt=function(t,e){xt.superClass.constructor.call(this,t,e),this._h=1!==e?1:0};s(xt,ft,{i6:function(){return this.i9()},i9:function(){return 0!==this._h?this._o._e:this._o._d}});var Dt=function(t){Dt.superClass.constructor.call(this,t)};s(Dt,Ct,{i6:function(){return this._k.a1(this._h)},i9:function(){return this._k.a1(this._h)}});var Tt=function(t){Tt.superClass.constructor.call(this,t)};s(Tt,ct,{i9:function(){return this.i6()}});var Nt=function(t){this._o=t,this._c=t._a};s(Nt,i,{i1:function(){return this._c!=a},i2:function(){this._c=this._c._a},i3:function(){this._c=this._c._b},i5:function(){this._c=this._o._b},i4:function(){this._c=this._o._a},i7:function(){return this._o._c},i6:function(){return this._c},i9:function(){return this._c},i8:function(){return this._c}});var St=function(t){if(t&&t.length){St.superClass.constructor.call(this);for(var e=0;e<t.length;e++)this.ae(t[e])}else St.superClass.constructor.call(this,t)};s(St,dt,{x1:function(){return new Tt(this)},x2:function(){return this.am()},x3:function(){return this.as()},x4:function(){return this.at()}});var zt=function(t){this._d=t,zt.superClass.constructor.call(this)};s(zt,St,{});var kt=function(t){this._a=t,this._b=new gt,this._c=new St};s(kt,i,{a:function(){for(var t=this._a.x9();t.i1();t.i2())this.e(t.i9())},b:function(){this.c(),this.d()},c:function(){for(;!this._c.ar();){var t=this._c.x4();this._a.xq(t)||this.g(t)}},d:function(){for(;!this._b.ar();){var t=this._b.c3();this._a.xp(t)||this.f(t)}},e:function(t){for(var e=t.af();e.i1();e.i2())this._b.ac(e.i8()),this._a.h1(e.i8());this._c.ac(t),this._a.h2(t)},f:function(t){this._a.u1(t)},g:function(t){this._a.h3(t)}}),kt.h=function(t,e){for(e.i4();e.i1();e.i2()){var i=e.i8();t.xq(i.a2())||t.h3(i.a2()),t.xq(i.a3())||t.h3(i.a3()),t.xp(i)||t.u1(i)}},kt.i=function(t,e){for(e.i4();e.i1();e.i2()){var i=e.i8();t.xp(i)&&t.h1(i),0===i.a2().ad()&&t.h2(i.a2()),0===i.a3().ad()&&t.h2(i.a3())}};var Et=function(){var t=arguments;this._g=t[0],this._f=this._g.xk(),this._h=this._g.xk(),this._d=new dt,this._e=0,1!==t.length&&this.a(t[1],t[2],t[3],t[4])};s(Et,i,{a:function(t,e,i,n){for(var o=xe.d(i-e+1),a=e,r=0;i>=a;a++)o[a]=new zt(a);for(var s=this._g.x9();s.i1();s.i2()){var l=s.i9();(!n||n.i4(l))&&(this._f.z1(l,o[t.i2(l)-e].ac(l)),this._e++)}for(;r<o.length;r++)for(var c=o[r],h=this._d.ae(c),d=c.x1();d.i1();d.i2())this._h.z1(d.i9(),h)},c:function(){this._g.xi(this._h),this._g.xi(this._f)},e:function(){return 0===this._e},g:function(){for(;this._d.am().ar();this._d.at());this._e--;var t=this._d.am().x4();return this._h.z1(t,a),this._f.z1(t,a),t},f:function(){for(;this._d.as().ar();this._d.au());this._e--;var t=this._d.as().x4();return this._h.z1(t,a),this._f.z1(t,a),t},d:function(t){var e=this._f.i1(t),i=this._h.i1(t),n=i.d(),o=a,r=i.a();r?(o=r.d(),this._h.z1(t,r)):(o=new zt(n._d+1),this._h.z1(t,this._d.ae(o))),n.aw(e),this._f.z1(t,o.ac(t))},b:function(t){var e=this._f.i1(t),i=this._h.i1(t),n=i.d(),o=a,r=i.b();r?(o=r.d(),this._h.z1(t,r)):(o=new zt(n._d-1),this._h.z1(t,this._d.ac(o))),n.aw(e),this._f.z1(t,o.ac(t))}});var Vt={a1:function(t){return new bt(t,a,a,a)},a2:function(t){return new bt(a,t,a,a)},a3:function(t){return new bt(a,a,t,a)},a4:function(t){return new pt(a,t,a,a)},a5:function(t){return new pt(a,a,t,a)},a6:function(t){return new pt(a,a,a,t)}},jt=function(){var t=arguments;if(2===t.length){this._a=new dt,this._b=new dt,this._c=0;var e=t[0],i=t[1],n=new Rt(e._j2.gj(i)/2,0);this._a.ac(n),n=new Rt(e._j2.gj(i)/2,0),this._b.ac(n)}else this._a=t[1],this._b=t[2],this._c=t[3]};s(jt,i,{});var Rt=function(t,e){this._b=t,this._a=e};s(Rt,i,{});var Pt=function(){this._cx=!0,this._cs=new Jt,this._ct=new Ht,this._cw=new Yt};s(Pt,i,{i5:function(t){this._cx=t},k:function(){var t=new Xt(this);return this._cx&&(this._cs.w1(t),t=this._cs),this._cw.w1(t),t=this._cw,this._ct.w1(t),this._ct},i2:function(t){this.k().i2(t)},i1:function(t){return this.k().i1(t)}});var Zt=function(){Zt.superClass.constructor.call(this),this._jv=20,this._jw=40,this._jx=function(t,e){var i=t.a3(),n=e.a3(),o=i._g;return u(100*(o.g5(i)-o.g5(n)))}};s(Zt,Pt,{i4:function(t){return ot.a1(t)},i3:function(t){if(!this.i4(t))throw"";var e,i=ot.a3(t);if(this._j2=t,this._j3=new Lt(t),le.c(t),this._jy=t.xk(),!t.xb()){this.bu();var n=this._j3.c1();this.f(n),this.b(this._j3),this.c(this._j3)}for(;!i.ar();t.x3(e))e=i.c3(),le.b(t.g2(e))},bu:function(){if(this._jx)for(var t=this._j2.x9();t.i1();t.i2())t.i9().av(this._jx)},c:function(t){for(var e=this.a2(t),i=xe.a(e.length),n=0;n<e.length;n++){for(var o=0,a=e[n].ah();a.i1();a.i2()){var r=a.i6();o=p(o,this._j2.g9(r))}i[n]=o}for(var s=-this._jw,l=0;l<e.length;l++){s+=this._jw+i[l];for(var c=e[l].ah();c.i1();c.i2()){var h=c.i6();this._j2.s2(h,this._j2.g5(h),s-i[l]/2)}}},a2:function(t){for(var e=xe.d(t.b()),i=0,n=t.b();n>i;i++)e[i]=new dt;return t.c1(),this.a1(t.c1(),0,e),e},a1:function(t,e,i){i[e].ae(t);for(var n=t.aw();n.i1();n.i2())this.a1(n.i9(),e+1,i)},b:function(t){var e=t.c1();this._j2.s2(e,0,this._j2.g6(e)),this.g(e)},g:function(t){for(var e=t.aw();e.i1();e.i2()){var i=e.i9(),n=this._jy.i1(i);this._j2.s2(i,this._j2.g5(t)+n._c,this._j2.g6(i)),this.g(i)}},f:function(t){if(this._j3.c2(t))this._jy.z1(t,new jt(this,t));else{var e=t.aw(),i=e.i9();e.i2(),this.f(i);var n=this._jy.i1(i),o=new jt(this,n._a,n._b,0);if(!e.i1())return o._a.ac(new Rt(this._j2.gj(t)/2,0)),o._b.ac(new Rt(this._j2.gj(t)/2,0)),void this._jy.z1(t,o);for(;e.i1();){i=e.i9(),e.i2(),this.f(i),n=this._jy.i1(i);for(var a=o._b.ah(),r=n._a.ah(),s=2147483647,l=0,c=0;a.i1()&&r.i1();){var h=a.i6();a.i2();var d=r.i6();r.i2(),c+=h._a,l+=d._a,s=I(s,l-c-h._b-d._b)}if(n._c=this._jv-s,l+=n._c,n._b.am()._a=n._c,a.i1()&&!r.i1())for(var g=c-this.a3(n._b);a.i1();g=0){var u=a.i6();a.i2(),n._b.ae(new Rt(u._b,u._a+g))}else if(!a.i1()&&r.i1()){var f=this.a3(o._a);for(f=l-f;r.i1();f=0){var v=r.i6();r.i2(),o._a.ae(new Rt(v._b,v._a+f))}}o._b=n._b}this._jy.z1(t,o);for(var p=-n._c/2,_=t.aw();_.i1();){var y=_.i9();_.i2();var C=this._jy.i1(y);C._c+=p;var m=C._b.am();m._a+=p,(m=C._a.am())._a+=p}o._a.ac(new Rt(this._j2.gj(t)/2,0)),o._b.ac(new Rt(this._j2.gj(t)/2,0))}},a3:function(t){for(var e=0,i=t.ah();i.i1();i.i2()){e+=i.i6()._a}return e}});var Lt=function(t){this._b=t,this.a()};s(Lt,i,{c1:function(){return this._a||this.a(),this._a},b:function(){return this._a?this.d(this._a):-1},d:function(t){for(var e=0,i=t.aw();i.i1();i.i2())e=p(e,this.d(i.i9()));return e+1},c2:function(t){return 0===t.ao()},a:function(){for(var t=this._b.x9();t.i1();t.i2())if(0===t.i9().ak())return void(this._a=t.i9())}});var Bt=function(t){this._d=0,this._e=0,this._f=0,this._a=0,this._b=0,this._g=t,this._c=new dt};s(Bt,i,{a:function(){return this._d+this._e+this._f}});var Ot=function(){Ot.superClass.constructor.call(this),this._kl=340,this._km=360,this._kk=40,this._ko=.5};s(Ot,Pt,{ic:function(){return this._km},ia:function(){return this._kl},i9:function(){return this._ko},i3:function(t){if(!ot.a1(t))throw"";this._a=t;var e,i=this.i8(),n=ot.a4(t,i);le.c(t),this._kn=xe.d(t.x0());for(var o=t.x9();o.i1();o.i2()){var a=o.i9();a!==i?this.aa(a,new Bt(this._kk+this.q(a.aq().i9()))):this.aa(a,new Bt(this._kk))}for(this.s(i),t.s2(i,0,0),this.t(i);!n.ar();t.x3(e))e=n.c3()},i4:function(t){return ot.a1(t)},i0:function(t){return this._kn[t.al()]},i8:function(){return ot.a2(this._a)},i7:function(t){for(var e,i=this.ib(t);!(i>=(e=this.i6(t)));)for(var n=t.aw();n.i1();n.i2()){var o=n.i9();this.i0(o)._g*=1+this._ko}var a=(i-e)/(2*t.ao());e=0;for(var r=t.aw();r.i1();r.i2()){var s=this.i0(r.i9());s._d+=a,s._e+=a,e+=s._d+s._e}this.id(t)},id:function(t){for(var e=xe.d(t.ao()),i=0,n=t.ap();n.i1();)e[i]=n.i8(),n.i2(),i++;var o=this;e.sort(function(t,e){var i=t.a3(),n=e.a3(),a=o.i0(i).a()-o.i0(n).a();return a>0?1:a>=0?0:-1});for(var a=0;a<e.length;a++)this._a.h1(e[a]);for(var r=0;r<e.length;r+=2)this._a.u1(e[r]);for(0==(i=e.length-1)%2&&i--;i>0;i-=2)this._a.u1(e[i])},ib:function(t){return 0===t.ak()?this._km:2===t.ao()?I(180,this._kl):this._kl},i6:function(t){for(var e=0,i=t.ap();i.i1();i.i2()){for(var n,o=i.i8().a3(),a=this.i0(o),r=-a._g,s=a._b,l=a._c,c=0,h=c+1,d=l._b,g=d.d();h>c;h=(n.y-s)/(n.x-r))n=g,c=((g=(d=l.ai(d)).d()).y-n.y)/(g.x-n.x);for(a._d=180*-A(h)/m,h=(c=0)-1,g=(d=l._b).d();d.a().d().x===g.x;g=d.d())d=d.a();for(var u;c>h;h=(u.y-s)/(u.x-r))u=g,c=((g=(d=l.aj(d)).d()).y-u.y)/(g.x-u.x);a._e=180*A(h)/m,e+=a._d+a._e}return e},aa:function(t,e){this._kn[t.al()]=e},p:function(t){var e=this.i0(t),i=new dt,n=2*this.q(t);i.aa(new L(0,0)),i.aa(new L(0,n)),i.aa(new L(n,n)),i.aa(new L(n,0)),e._c=i,e._a=n/2,e._b=n/2},r:function(t){if(0===t.ao())this.p(t);else{var e=this.i0(t),i=this.q(t),n=new dt;n.aa(new L(-i,-i)),n.aa(new L(-i,i)),n.aa(new L(i,-i)),n.aa(new L(i,i));for(var o=t.aw();o.i1();o.i2()){var a=this.i0(o.i9());n.az(a._c)}for(var r=te.h(n),s=T,l=T,c=N,h=N,d=r.ah();d.i1();d.i2()){var g=d.i6();g.x<s&&(s=g.x),g.x>c&&(c=g.x),g.y<l&&(l=g.y),g.y>h&&(h=g.y)}for(var u=new dt,f=r.ah();f.i1();f.i2()){var v=f.i6();u.aa(new L(v.x-s,v.y-l))}e._c=u,e._a=-s,e._b=-l}},s:function(t){if(0===t.ao())this.r(t);else{for(var e=t.aw();e.i1();e.i2())this.s(e.i9());this.i7(t);for(var i=0,n=t.aw();n.i1();n.i2()){var o=n.i9(),a=this.i0(o),r=180-(360-this.ib(t))/2-i-(a._e+a._f);i+=a.a();for(var s=C(r=r/180*m),l=y(r),c=a._c._b;c;c=c.a()){var h=c.d(),d=h.x+a._g,g=h.y-a._b,u=new L(d*l-s*g,d*s+l*g);c.c(u)}var f=a._a+a._g;a._a=f*l,a._b=f*s}this.r(t)}},t:function(t){var e=this._a.g4(t),i=0;if(t.ak()>0){var n=t.aq().i9(),o=this._a.g4(n);i=m+M(o.y-e.y,o.x-e.x)}for(var a=t.aw();a.i1();a.i2()){var r=a.i9(),s=this.i0(r);if(0!==i){var l=y(i),c=C(i),h=s._a*l-c*s._b,d=s._a*c+l*s._b;s._a=h,s._b=d}this._a.s2(r,e.x+s._a,e.y+s._b),this.t(r)}},q:function(t){return p(this._a.gj(t),this._a.g9(t))/2*1.41}});var Ut=function(){};s(Ut,i,{i2:function(t){return t.ad()},i1:j,i3:j,i4:j});var Wt=function(t){this._a=t};s(Wt,i,{i2:function(t){for(var e=0,i=t.an();i.i1();i.i2())this._a.i1(i.i9())&&e++;return e},i4:function(t){return this._a.i1(t)==a},i1:j,i3:j});var Gt=function(){Gt.superClass.constructor.call(this),this._kq=!1,this._kp=90};s(Gt,Ot,{a:function(t,e){this._kr=e,this._ks=t,this._kq=!0},i7:function(t){if(this.u(t))for(var e=this.i9(),i=this.ib(t),n=(360-i)/2+i,o=new gt(t.ap());;){var r,s,l=this.i6(t),c=o._b;for(l=(360-i)/2;c;c=c.a()){var h=c.d(),d=h.a3(),g=this.i0(d),u=this._ks.i3(h),f=u-(l+g._e);if(f>=0&&u+g._d>=n&&(f=l+g.a()<=n?n-l-g.a():2*(n-(u+g._d))),g._f=0,f>=0)g._f=f,r=c,s=g;else{for(-f>g._d+g._e?f=(g._d+g._e)/2:f/=-2,n>=(l-=f)&&l+g.a()>n&&(l+=f,l-=f=l+g.a()-n);r&&f>s._f;s=this.i0(r.d().a3()))if(f-=s._f,s._f=0,!(r=r.b())){s=a;break}r?s._f-=f:l+=f}l+=g.a()}if(n>=l){for(var v=0,p=(360-i)/2,I=t.ap();I.i1();I.i2()){var y=I.i8(),C=y.a3(),m=this._ks.i3(y),w=this.i0(C),b=p+w._f+w._e;v<_(b-m)&&(v=_(b-m)),p+=w.a()}if(v<=this._kp)break}for(var A=t.aw();A.i1();A.i2()){var M=A.i9();this.i0(M)._g*=1+e}}else Gt.superClass.i7.call(this,t)},ib:function(t){return this.u(t)?0===t.ak()?this.ic():this.ia():Gt.superClass.ib.call(this,t)},u:function(t){return!(!this._kq||0===t.ao())&&this._ks.i1(t.ag())!=a}});var Ft=function(t){this._a=t};s(Ft,i,{i1:function(t){return this._a.i1(t)},i2:j,i3:j,i4:j});var Qt=function(){};s(Qt,i,{w1:function(t){this._bb=t},w2:function(){return this._bb},w4:function(t){this._bb&&this._bb.i2(t)},w3:function(t){return!this._bb||this._bb.i1(t)}});var Ht=function(){this._cg=45,this._ce=400,this._ch=400,this._cf=0};s(Ht,Qt,{i1:function(t){if(this.w2()){for(var e=!0,i=t.xk(),n=$.a3(t,i),o=xe.d(n),a=xe.d(n),r=0;n>r;r++)o[r]=new St,a[r]=new gt;for(var s=t.xf();s.i1();s.i2()){var l=s.i8();a[i.i2(l.a2())].aa(l),t.h1(l)}for(var c=t.x9();c.i1();c.i2()){var h=c.i9();o[i.i2(h)].aa(h),t.h2(c.i9())}for(var d=0;n>d;d++){for(var g=o[d].x1();g.i1();g.i2())t.h3(g.i9());for(var u=a[d].c1();u.i1();u.i2())t.u1(u.i8());e=this.w3(t);for(var f=a[d].c1();f.i1();f.i2())t.h1(f.i8());for(var v=o[d].x1();v.i1();v.i2())t.h2(v.i9());if(!e)break}for(var p=0;n>p;p++)for(var I=o[p].x1();I.i1();I.i2())t.h3(I.i9());for(var _=0;n>_;_++)for(var y=a[_].c1();y.i1();y.i2())t.u1(y.i8());return t.xi(i),e}return!0},i2:function(t){if(!t.xb()){for(var e=t.xk(),i=$.a3(t,e),n=xe.d(i),o=xe.d(i),r=xe.d(i),s=xe.d(i),l=0;i>l;l++)n[l]=new St,o[l]=new gt;for(var c=t.xf();c.i1();c.i2()){var h=c.i8();o[e.i2(h.a2())].aa(h),t.h1(h)}for(var d=t.x9();d.i1();d.i2()){var g=d.i9();n[e.i2(g)].aa(g),t.h2(d.i9())}for(var v=0;i>v;v++){for(var p=n[v].x1();p.i1();p.i2())t.h3(p.i9());for(var I=o[v].c1();I.i1();I.i2())t.u1(I.i8());this.w4(t);var _=t.g3();r[v]=new U(_.x,_.y,_.width,_.height);var y={};if(s[v]=y,this._cf>0){var C=this._cg+f((_.width+1)/this._cf)*this._cf,m=this._cg+f((_.height+1)/this._cf)*this._cf;y.x=_.x,y.y=_.y,y.width=C,y.height=m}else y.x=_.x,y.y=_.y,y.width=_.width+this._cg,y.height=_.height+this._cg;for(var w=o[v].c1();w.i1();w.i2())t.h1(w.i8());for(var b=n[v].x1();b.i1();b.i2())t.h2(b.i9())}for(var A=0;i>A;A++)for(var M=n[A].x1();M.i1();M.i2())t.h3(M.i9());for(var x=0;i>x;x++)for(var D=o[x].c1();D.i1();D.i2())t.u1(D.i8());if(le.a(s,a,this._ce/this._ch),this._cf<=0)for(var T=0;T<s.length;T++)this.w5(t,n[T],o[T],new L(s[T].x,s[T].y),r[T]);else for(var N=0;N<s.length;N++){var S=u((s[N].x-r[N].x)/this._cf)*this._cf,z=u((s[N].y-r[N].y)/this._cf)*this._cf,k=r[N].x+S,E=r[N].y+z;this.w5(t,n[N],o[N],new L(k,E),r[N])}t.xi(e)}},w5:function(t,e,i,n,o){for(var a=-o.x+n.x,r=-o.y+n.y,s=e.x1();s.i1();s.i2()){var c=t.ga(s.i9());t.s4(s.i9(),new L(c.x+a,c.y+r))}for(var h=i.c1();h.i1();h.i2()){for(var d=h.i8(),g=new l,u=t.gp(d).c();u.i1();u.i2()){var f=u.i6();g.add(new L(f.x+a,f.y+r))}t.s5(d,new G(g))}}});var Yt=function(){};s(Yt,Qt,{i1:function(t){return this.w3(t)},i2:function(t){this.w7(t),this.w2()&&this.w4(t),this.w6(t)},w7:function(t){this.e(t),this.k(t),this.i(t)},e:function(t){for(var e=t.x9();e.i1();e.i2()){var i=t.g4(e.i9());t.s1(e.i9(),i)}},w6:function(t){this.l(t),this.j(t),this.f(t)},l:function(t){for(var e=t.x9();e.i1();e.i2()){var i=t.g4(e.i9());t.s1(e.i9(),i)}},j:function(t){for(var e=t.xf();e.i1();e.i2()){var i=t.g7(e.i8()),n=i.i6();i.i8(n),n=i.i7(),i.i9(n);for(var o=0;o<i.i1();o++){var a=i.i2(o);i.i3(o,a.x,a.y)}}},k:function(t){for(var e=t.xf();e.i1();e.i2()){var i=t.g7(e.i8()),n=i.i6();i.i8(n),n=i.i7(),i.i9(n);for(var o=0;o<i.i1();o++){var a=i.i2(o);i.i3(o,a.x,a.y)}}},f:function(t){this._ca&&(t.x1("A",this._ca),this._ca=a,this._b6=a),this._b8&&(t.x1("B",this._b8),this._b8=a,this._b9=a)},i:function(t){this._ca=t.xc("A"),this._ca&&(this._b6=new Ft(this._ca),t.x1("A",this._b6)),this._b8=t.xc("B"),this._b8&&(this._b9=new Ft(this._b8),t.x1("B",this._b9))}});var Jt=function(){this._a=new gt,this._c=10};s(Jt,Qt,{i2:function(t){this._b=t.xl(),this.w9(t),this.w4(t),this.c(t),this.w8(t,this._b),t.xj(this._b)},i1:function(t){if(this.w2()){this._b=t.xl(),this.w9(t);var e=this.w3(t);return this.c(t),t.xj(this._b),e}return!0},w8:function(t,e){for(var i=t.xf();i.i1();i.i2()){var n=i.i8();e.i1(n)&&le.g(t,n,e.i1(n),this._c)}},w9:function(t){for(var e=t.xk(),i=t.x9();i.i1();i.i2()){for(var n=i.i9(),o=n.af();o.i1();o.i2()){var r=o.i8(),s=r.a1(n),l=e.i1(s);if(l!==r)if(l){this._b.i1(l)||this._b.i8(l,new gt),this._b.i1(l).aa(r),this._a.ac(r),t.h1(r)}else e.z1(s,r)}for(var c=n.af();c.i1();c.i2()){var h=c.i8().a1(n);e.z1(h,a)}}t.xi(e)},c:function(t){for(;!this._a.ar();t.u1(this._a.c3()));}});var Xt=function(t){this._a=t};s(Xt,i,{i2:function(t){this._a.i3(t)},i1:function(t){return this._a.i4(t)}});var $t=function(){$t.superClass.constructor.call(this),this._jo=30,this._jp=new ee,this._jt=5};s($t,Pt,{i4:function(){return!0},i3:function(t){this._ju=t,le.c(t);for(var e=this._jp.i1(t),i=0,n=t.x9();n.i1();n.i2())i=p(i,this.e(n.i9()));i<this._jt&&(i=this._jt),this.a(e,i)},a:function(t,e){var i=t.i7(),n=2*m/i,o=0,a=xe.a(i),r=0;for(t.i4();i>r;)a[r]=this.e(t.i9())+this._jo,o+=a[r],r++,t.i2();var s=o/i,l=o/w;e>l&&(l=e),t.i4();for(var c=0,h=0;i>h;){var d=n/s*a[h],g=y(c+=d/2)*l,u=C(c)*l;c+=d/2,this._ju.s2(t.i9(),g,u),h++,t.i2()}return l},e:function(t){var e=this._ju.gj(t),i=this._ju.g9(t);return i>=e?i:e}});var Kt=function(){Kt.superClass.constructor.call(this),this._jm=new $t,this._jk=new Gt};s(Kt,Pt,{i4:function(){return!0},i3:function(t){if(!(t.x0()<2)){this._jn=t,le.c(this._jn),le.e(this._jn);var e=new re(this._jn);e.a1(),e.h();var i=new kt(this._jn);i.a();for(var n=e.x9();n.i1();n.i2()){var o=n.i9(),a=e.c2(o);if(a.ay()>1){var r=e.d1(o);kt.h(this._jn,r.c1()),this._jm.i3(this._jn);var s=this._jn.g3();e.s7(o,s.width,s.height)}else if(1===a.ay()){var l=a.x2();e.s8(o,this._jn.gm(l)),this._jn.s2(l,0,0)}else e.s7(o,1,1);kt.i(this._jn,this._jn.xf())}i.b();var c=this.a7(e);ot.a4(e,c);var h=e.xk(),d=e.xl();this.a2(e,d,h),this.a1(e,d),this.a3(e,c,d),this._jk.a(d,h),this._jk.i3(e),this.a5(e,c,h);for(var g=e.x9();g.i1();g.i2())for(var u=g.i9(),f=e.g4(u),v=e.c2(u).x1();v.i1();v.i2()){var p=v.i9();this._jn.s2(p,f.x+this._jn.g5(p),f.y+this._jn.g6(p))}}},a7:function(t){for(var e,i=-1,n=t.x9();n.i1();n.i2()){var o=n.i9();t.c2(o).ay()>i&&(e=o,i=t.c2(o).ay())}return e},a1:function(t,e){for(var i=function(t,i){var n=e.i3(t)-e.i3(i);return n>0?1:n>=0?0:-1},n=t.x9();n.i1();n.i2())n.i9().av(i)},a2:function(t,e,i){for(var n=xe.a(this._jn.x0()),o=t.x9();o.i1();o.i2())for(var a=o.i9(),r=t.c2(a).x1();r.i1();r.i2())n[r.i9().al()]=a.al();this.a4(t,ot.a2(t),n,e,i)},a3:function(t,e,i){if(t.c2(e).ay()>1){for(var n=0,o=0,a=0,r=e.ap();r.i1();r.i2()){var s=r.i8(),l=i.i3(s);l-n>o&&(o=l-n,a=(n+l)/2),n=l}360-n>o&&(a=(360+n)/2),this.a6(t,e,a);for(var c=e.ap();c.i1();c.i2()){var h=c.i8(),d=i.i3(h);for(d-=a;0>d;d+=360);i.i6(h,d)}e.av(function(t,e){var n=i.i3(t)-i.i3(e);return n>0?1:n>=0?0:-1})}},a4:function(t,e,i,n,o){for(var a=e.al(),r=o.i3(e),s=e.ap();s.i1();s.i2()){for(var l=s.i8(),c=0,h=0,d=0,g=0,u=t.b(l).c1();u.i1();u.i2()){var f,v,p=u.i8();i[p.a2().al()]===a?(f=p.a2(),v=p.a3()):(f=p.a3(),v=p.a2()),d-=this._jn.g5(f),g+=this._jn.g6(f),c-=this._jn.g5(v),h+=this._jn.g6(v)}if(0!==d||0!==g){var I;for(I=180*M(g,d)/m-r;0>I;I+=360);n.i6(l,I)}if(0!==c&&0!==h){var _=180*M(h,c)/m;0>_&&(_+=360),o.i6(l.a3(),_)}this.a4(t,l.a3(),i,n,o)}},a5:function(t,e,i){for(var n=t.g4(e),o=e.ap();o.i1();o.i2()){var a=o.i8().a3(),r=t.g4(a),s=180*M(r.y-n.y,r.x-n.x)/m;i.i1(a)&&(s+=i.i3(a)),this.a6(t,a,s),this.a5(t,a,i)}},a6:function(t,e,i){i=i/180*m;var n=t.c2(e);if(!(n.ay()<=1))for(var o=n.x1();o.i1();o.i2()){var a=o.i9(),r=this._jn.g5(a),s=this._jn.g6(a),l=y(i),c=C(i),h=r*l-c*s,d=r*c+l*s;this._jn.s2(a,h,d)}}});var qt=function(){this._a=(new Date).getTime()};s(qt,i,{b:function(){return(new Date).getTime()-this._a}});var te={_A:new L(0,0),b:function(t,e,i){return te.c(t.x,t.y,e.x,e.y,i.x,i.y)},c:function(t,e,i,n,o,a){var r=(o-=t)*(n-=e)-(a-=e)*(i-=t);return r>=0?0>=r?0:-1:1},d:function(t,e,i){return te.b(t,e,i)>0},f:function(t,e,i){return te.b(t,e,i)<0},g:function(t,e,i){return 0===te.b(t,e,i)},h:function(t){return te.i(t)},i:function(t){var e=new dt(t.ah()),i=new dt;if(e.a2(),e.ar())return i;var n=e.at();for(i.ae(n);!e.ar()&&n.equals(e.am());e.at());if(e.ar())return i;n=e.at();for(var o=i.ae(n),a=e.ah();a.i1();a.i2()){var r=a.i6();if(!r.equals(n))if(n=r,2===i.ay()&&te.g(i.am(),i.as(),r))o.c(r);else{var s,l;for(s=o;!te.f(i.ai(s).d(),s.d(),r);s=i.ai(s));for(l=o;!te.d(i.aj(l).d(),l.d(),r);l=i.aj(l));for(;l!==i.aj(s);i.aw(i.aj(s)));o=i.an(r,s)}}return i},j:function(){return te.k(T)},k:function(t){return u(x()*t)},l:function(t,e){return x()*(e-t)+t}},ee=function(){};s(ee,i,{i1:function(t){this._b=t;var e=new gt;(e=$.a6(t)).az($.a7(t));for(var i=this.a1();!e.ar();t.x5(e.c3()));return i.x1()},a1:function(){if(this._b.x0()<3)return new St(this._b.x9());for(var t=this._b.xk(),e=this._b.xk(),i=this._b.xl(),n=new Et(this._b,new Ut,0,this.a3(this._b)),o=this._b.x0(),r=new gt,s=new gt,l=new kt(this._b);o>3;o--){for(var c=n.g(),h=c.an();h.i1();h.i2())t.z1(h.i9(),o),e.i5(h.i9(),!1);for(var d=c.an();d.i1();d.i2())for(var g=d.i9().ap();g.i1();g.i2()){var u=g.i8();t.i2(u.a3())===o&&(s.aa(u),e.i5(u.a2(),!0),e.i5(u.a3(),!0))}if(s.ay()<c.ad()-1){for(var f=a,v=c.an();v.i1();v.i2()){var p=v.i9();if(t.i2(p)===o&&!e.i4(p))if(f){var I=this._b.xo(f,p);i.i7(I,!0),s.aa(I),f=a}else f=p}if(f)for(var _=c.an();_.i1();_.i2()){var y=_.i9();if(y!==f&&!y.aj(f)){var C=this._b.xo(f,y);i.i7(C,!0),s.aa(C);break}}if(s.ay()<c.ad()-1){for(var m,w=2147483647,b=c.an();b.i1();b.i2()){var A=b.i9();A.ad()<w&&(m=A,w=A.ad())}for(var M=c.an();M.i1();M.i2()){var x=M.i9();if(!m.aj(x)&&m!==x){var D=this._b.xo(m,x);if(i.i7(D,!0),s.aa(D),s.ay()>=c.ad()-1)break}}}}for(var T=c.an();T.i1();T.i2())n.b(T.i9());for(var N=s.c1();N.i1();N.i2()){var S=N.i8();i.i4(S)&&(n.d(S.a2()),n.d(S.a3()))}r.az(s),l.e(c)}l.b(),n.c();for(var z=r.c1();z.i1();z.i2()){var k=z.i8();k._h&&(i.i4(k)?this._b.x5(k):this._b.h1(k))}var E,V=this.a4(this._b),j=new St,R=V.ak(0),P=V.ak(1);E=R.a2()===P.a2()||R.a2()===P.a3()?R.a3():R.a2(),j.aa(E);for(var Z=V.c1();Z.i1();Z.i2()){E=Z.i8().a1(E),j.aa(E)}for(var L=r.c1();L.i1();L.i2()){var B=L.i8();i.i4(B)||B._h||this._b.u1(B)}return this._b.xi(e),this._b.xj(i),this._b.xi(t),this.a2(j),j},a2:function(t){if(t.ay()<this._b.x0()){for(var e=this._b.xk(),i=t._b;i;i=i.a()){var n=i.d();e.z1(n,i)}for(var o=new Et(this._b,new Wt(e),0,t.ay(),new Wt(e));!o.e();){for(var a=o.f(),r=a.an();r.i1();r.i2()){var s=r.i9();if(e.i1(s)){var l,c=e.i1(s),h=t.ai(c).d();l=a.aj(h)?t.ao(a,c):t.an(a,c),e.z1(a,l);break}}for(var d=a.an();d.i1();d.i2()){var g=d.i9();e.i1(g)||o.d(g)}}this._b.xi(e),o.c()}},a3:function(t){for(var e=0,i=t.x9();i.i1();i.i2())e=p(e,i.i9().ad());return e},a4:function(t){for(var e=[],i=0,n=t.x0();n>i;i++)e[i]=new it;var o=new tt(e);o.a6(!1),o.a8(t);for(var a,r=-1,s=t.x9();s.i1();s.i2()){var l=s.i9(),c=e[l.al()];c._a+c._c>r&&(r=c._a+c._c,a=l)}for(var h=new gt,d=a,g=e[d.al()]._d;g;g=e[d.al()]._d)h.ac(g),d=g.a1(d);for(var u=e[(d=a).al()]._b;u;u=e[d.al()]._d)h.ae(u),d=u.a1(d);return h}});var ie=function(){this._v=new ut,this._x=new ut,this._z=new At(3,5),this._w=new At(3,5),this._y=!1,this._u=!1,this._t={}};s(ie,i,{xm:function(){return new Mt(this)},xo:function(t,e){return this.xn(t,a,e,a,0,0)},xn:function(t,e,i,n,o,a){return new yt(this,t,e,i,n,o,a)},x4:function(t){this.b3(t)},b3:function(t){for(var e;e=t._o[0];)this.x5(e);for(;e=t._o[1];)this.x5(e);this._v.c(t),t._g=a,this._y=!0},x5:function(t){this.a11(t)},a11:function(t){if(t._h!==this)throw"";this.a12(t,t.a2(),t.a3()),this._x.c(t),t._h=a,this._u=!0},x7:function(t){t._p=this._v._c,t._g=this,t.ac(),t._c.length<this._z._b&&this._z.a3(t,t._c.length,this._z._b),this._v.a(t),this._y=!0},x8:function(t){if(t._h)throw"";t._c.length<this._w._b&&this._w.a3(t,t._c.length,this._w._b),t._a&&t._a._h===this?this._x.b(t,t._a):this._x.a(t),t._h=this,t.a4(),this.b2(t,t.a2(),a,t.a3(),a,0,0),this._u=!0},xr:function(t,e,i){var n=t.a2(),o=t.a3();t._h?(n!==e&&(n.ar(t,0,0),t._d=e,e.ab(t,a,0,0,0)),o!==i&&(o.ar(t,1,1),t._e=i,i.ab(t,a,1,1,0))):(t._d=e,t._e=i)},x3:function(t){this.xr(t,t.a3(),t.a2())},h1:function(t){this.a11(t)},u1:function(t){this.x8(t)},h2:function(t){this.x4(t)},h3:function(t){this.x7(t)},xa:function(){return this._v._c},x0:function(){return this._v._c},xh:function(){return this._x._c},xg:function(){return this._x._c},xb:function(){return 0===this._v._c},xq:function(t){return t._g===this},xp:function(t){return t._h===this},xd:function(){return this._v._a},x9:function(){return new Nt(this._v)},xf:function(){return new Nt(this._x)},x2:function(t,e){var i=xe.d(this.xh());if(t&&e)for(var n=this.x9();n.i1();n.i2())n.i9().at(t,1,i),n.i9().at(e,0,i);else if(!e&&t)for(var o=this.x9();o.i1();o.i2())o.i9().at(t,1,i);else if(e&&!t)for(var a=this.x9();a.i1();a.i2())a.i9().at(e,0,i)},xk:function(){return this._z.b(this._v)},xl:function(){return this._w.c(this._x)},xi:function(t){this._z.a5(t,this._v)},xj:function(t){this._w.a6(t,this._x)},xc:function(t){return this._t[t]},x1:function(t,e){this._t[t]=e},x6:function(t){delete this._t[t]},b2:function(t,e,i,n,o,a,r){e.ab(t,i,0,0,a),n.ab(t,o,1,1,r)},a12:function(t,e,i){e.ar(t,0,0),i.ar(t,1,1)},c:function(){for(var t=0,e=this.x9();e.i1();e.i2())e.i9()._p=t++;this._y=!1},b1:function(){for(var t=0,e=this.xf();e.i1();e.i2())e.i8()._g=t++;this._u=!1},xs:function(t){t.as(this,this._z._b),t._p=this._v._c,this._v.a(t)},xt:function(t,e,i,n,o,a,r){t.a6(this,e,n,this._w._b),t._g=this._x._c,this._x.a(t),this.b2(t,t.a2(),i,t.a3(),o,a,r)}});var ne=function(){ne.superClass.constructor.call(this)};s(ne,ie,{gb:function(t){return this.g1(t)},g7:function(t){return this.g2(t)},g5:function(t){var e=this.g1(t);return e.i1()+e.i3()/2},g6:function(t){var e=this.g1(t);return e.i2()+e.i4()/2},g4:function(t){return new L(this.g5(t),this.g6(t))},gi:function(t){return this.g1(t).i1()},gh:function(t){return this.g1(t).i2()},ga:function(t){var e=this.g1(t);return new L(e.i1(),e.i2())},gj:function(t){return this.g1(t).i3()},g9:function(t){return this.g1(t).i4()},gm:function(t){return new B(this.gj(t),this.g9(t))},s1:function(t,e){this.s2(t,e.x,e.y)},s2:function(t,e,i){var n=this.g1(t);n.i5(e-n.i3()/2,i-n.i4()/2)},s7:function(t,e,i){this.g1(t).i6(e,i)},s8:function(t,e){this.s7(t,e.width,e.height)},s3:function(t,e,i){this.g1(t).i5(e,i)},s4:function(t,e){this.s3(t,e.x,e.y)},gp:function(t){for(var e=this.g2(t),i=new l,n=0;n<e.i1();n++)i.add(e.i2(n));return new G(i)},gf:function(t){for(var e=this.g2(t),i=new dt,n=0;n<e.i1();n++)i.aa(e.i2(n));return i},gc:function(t){var e=new l;e.add(this.gs(t));for(var i=this.gp(t).d();i.i1();i.i2())e.add(i.i6());return e.add(this.gl(t)),new G(e)},gd:function(t){var e=new dt;e.aa(this.gs(t));for(var i=this.gp(t).d();i.i1();i.i2())e.aa(i.i6());return e.aa(this.gl(t)),e},m1:function(t,e){var i=this.g2(t);i.i5();var n=e.ah(),o=n.i6();this.gx(t,o);var a=e.as();for(n.i2();n.i6()!==a;n.i2()){var r=n.i6();i.i4(r.x,r.y)}this.gy(t,a)},s5:function(t,e){var i=this.g2(t);i.i5();for(var n=e.d();n.i1();n.i2()){var o=n.i6();i.i4(o.x,o.y)}},s6:function(t,e){var i=this.g2(t);i.i5();for(var n=e.ah();n.i1();n.i2()){var o=n.i6();i.i4(o.x,o.y)}},m2:function(t,e,i){this.gx(t,e),this.gy(t,i)},gn:function(t){return this.g2(t).i6()},gk:function(t){return this.g2(t).i7()},gt:function(t,e){this.g2(t).i8(e)},gz:function(t,e){this.g2(t).i9(e)},gs:function(t){var e=this.g2(t).i6();return e?new L(this.g5(t.a2())+e.x,this.g6(t.a2())+e.y):this.g4(t.a2())},gl:function(t){var e=this.g2(t).i7();return e?new L(this.g5(t.a3())+e.x,this.g6(t.a3())+e.y):this.g4(t.a3())},gx:function(t,e){this.g2(t).i8(new L(e.x-this.g5(t.a2()),e.y-this.g6(t.a2())))},gy:function(t,e){this.g2(t).i9(new L(e.x-this.g5(t.a3()),e.y-this.g6(t.a3())))},g8:function(){for(var t=new gt,e=this.xf();e.i1();e.i2())t.aa(e.i8());return t},g3:function(){for(var t,e,i=t=T,n=e=N,o=this.x9();o.i1();o.i2()){var a=this.ga(o.i9()),r=this.gm(o.i9());i=I(a.x,i),t=I(a.y,t),n=p(a.x+r.width,n),e=p(a.y+r.height,e)}for(var s=this.xf();s.i1();s.i2())for(var l=this.gp(s.i8()).c();l.i1();l.i2()){var c=l.i6();i=I(c.x,i),t=I(c.y,t),n=p(c.x,n),e=p(c.y,e)}return{x:u(i),y:u(t),width:u(n-i),height:u(e-t)}}});var oe=function(){oe.superClass.constructor.call(this),this.a(new X,new Y)};s(oe,ne,{a:function(t,e){this._a3=t,this._a4=e},xo:function(t,e){return this.l2(t,e,this._a4.a6())},l2:function(t,e,i){return this.l1(t,a,e,a,0,0,i)},xn:function(t,e,i,n,o,a){return this.l1(t,e,i,n,o,a,this._a4.a6())},l1:function(t,e,i,n,o,a,r){var s=new yt(this,t,e,i,n,o,a);return s._l=r,s},xm:function(){var t=new Mt(this);return t._r=this._a3.m3(),t},g3:function(){for(var t={x:0,y:0,width:-1,height:-1},e=this.x9();e.i1();e.i2())e.i9()._r.m1(t);return t},g1:function(t){return t._r},g2:function(t){return t._l},g5:function(t){return t._r.m4()},g6:function(t){return t._r.m5()},gi:function(t){return t._r.i1()},gh:function(t){return t._r.i2()},gj:function(t){return t._r.i3()},g9:function(t){return t._r.i4()},s2:function(t,e,i){t._r.m6(e,i)},s7:function(t,e,i){t._r.i6(e,i)},s3:function(t,e,i){t._r.i5(e,i)}});var ae=function(){ae.superClass.constructor.call(this),this._ap=this.xk(),this._as=this.xl()};s(ae,ne,{g1:function(t){var e=this._ap.i1(t);return e||(e=new wt,this._ap.z1(t,e)),e},g2:function(t){var e=this._as.i1(t);return e||(e=new mt,this._as.i8(t,e)),e}});var re=function(t){re.superClass.constructor.call(this),this._ay=t,this._a0=this.xk(),this._au=this.xl()};s(re,ae,{c2:function(t){return this._a0.i1(t)},a2:function(t,e){this._a0.z1(t,e)},h:function(){this._az||(this._az=this.xk());for(var t=xe.a(this._ay.x0()+1),e=1,i=this.x9();i.i1();){for(var n=this.c2(i.i9()),o=n.x1();o.i1();o.i2()){t[o.i9().al()]=e}for(var a=new gt,r=n.x1();r.i1();r.i2())for(var s=r.i9(),l=t[s.al()],c=s.ap();c.i1();c.i2()){var h=c.i8();t[h.a3().al()]===l&&a.ac(h)}this._az.z1(i.i9(),a),i.i2(),e++}},d1:function(t){return this._az.i1(t)},b:function(t){return this._au.i1(t)},a3:function(t,e){this._au.i8(t,e)},a1:function(){var t=this._ay.xk(),e=Vt.a4(xe.a(this._ay.xh())),i=$.a5(this._ay,e,$.a1(this._ay,e,t));this.d2(t,i),this._ay.xi(t)},c1:function(t){for(var e,i=-1,n=0,o=t.length;o>n;n++){var a=t[n];a.ay()>i&&(e=a,i=a.ay())}return e},d2:function(t,e){for(var i=this._ay.xl(),n=this._ay.xk(),o=e.length,a=0;o>a;a++)for(var r=e[a],s=r.c1();s.i1();s.i2())i.i8(s.i8(),r);var c=this.c1(e);this.a4(c,t,i,new l,n);var h={};o=e.length;for(var d=0;o>d;d++){var g=e[d];if(g.ay()>1){var u=this.xm();h[g._id]=u}}for(var f=this._ay.x9();f.i1();f.i2()){var v=f.i9();if(t.i4(v)&&!n.i1(v)){var p=this.xm();h[v._id]=p;var I=new St;I.aa(v),this.a2(p,I)}}var _=xe.d(2),y=0;for(o=e.length;o>y;y++){var C=e[y];if(1===C.ay()){var m=C.c2();_[0]=m.a2(),_[1]=m.a3();for(var w=0;2>w;w++){var b=_[w];if(1===b.ad()){var A=this.xm();h[b._id]=A;var M=new St;M.aa(b),this.a2(A,M)}}}}for(var x=this._ay.x9();x.i1();x.i2()){var D=x.i9();if(n.i1(D))for(var T=n.i1(D),N=h[T._id],S=D.af();S.i1();S.i2()){var z=S.i8();if(i.i1(z)!==T){var k=h[i.i1(z)._id];if(!k){var E=z.a1(D),V=n.i1(E);k=V?h[V._id]:h[E._id]}var j,R=N.aj(k);R?j=this.b(R):(R=this.xo(N,k),j=new gt),j.aa(z),this.a3(R,j)}}else if(t.i4(D))for(var P=h[D._id],Z=D.af();Z.i1();Z.i2()){var L=Z.i8(),B=h[L.a1(D)._id];if(B)if(!P.aj(B)){var O=this.xo(P,B),U=new gt;U.aa(L),this.a3(O,U)}}}if(2===this._ay.x0()&&1===this._ay.xg()){var W=this._ay.xf().i8(),G=h[W.a2()._id],F=h[W.a3()._id];if(F&&G&&!F.aj(G)){var Q=this.xo(G,F),H=new gt;H.aa(W),this.a3(Q,H)}}var Y=xe.a(this._ay.x0());o=e.length;for(var J=0;o>J;J++){var X=e[J],$=h[X._id];if($){var K=this.c2($);K||(K=new St,this.a2($,K));for(var q=X.c1();q.i1();q.i2()){var tt=q.i8(),et=tt.a2();1===Y[et.al()]||t.i4(et)&&n.i1(et)!==X||(Y[et.al()]=1,K.aa(et)),1===Y[(et=tt.a3()).al()]||t.i4(et)&&n.i1(et)!==X||(Y[et.al()]=1,K.aa(et))}}}this._ay.xj(i),this._ay.xi(n)},a4:function(t,e,i,n,o){if(!n.contains(t)){n.add(t);for(var a=[],r=t.c1();r.i1();r.i2()){var s=r.i8();a[0]=s.a2(),a[1]=s.a3();for(var l=0;2>l;l++){var c=a[l];if(e.i4(c)&&!o.i1(c)){t.ay()>1&&o.z1(c,t);for(var h=c.af();h.i1();h.i2())this.a4(i.i1(h.i8()),e,i,n,o)}}}}}});var se=function(t,e,i){this._a={},se.superClass.constructor.call(this);for(var n=new l,o=0,a=e.size();a>o;o++){var r=e.get(o);if(r instanceof h)n.add(r);else{r instanceof d&&r.setExpanded(!0);var s=t.getNodeSize(r);if(r instanceof d&&r.setExpanded(!1),s){var c=this.xm(),g=t._repulsion;i!==S||r instanceof d?i===S?g*=1.1:i===z&&(g*=.9):g*=.6,i===E||i===V?this.s7(c,s.height*g,s.width*g):this.s7(c,s.width*g,s.height*g),c.node=r,this._a[r.getId()]=c}}}for(o=0,a=n.size();a>o;o++){var u=n.get(o),f=u.getSourceAgent(),v=u.getTargetAgent(),p=this._a[f.getId()],I=this._a[v.getId()];p&&I&&p!==I&&this.xo(p,I)}};s(se,oe,{});var le={_D:new G,_E:new L(0,0),b:function(t){if(t.i1()>0){for(var e=new l,i=t.i1()-1;i>=0;i--)e.add(t.i2(i));t.i5();for(var n=0,o=e.size();o>n;n++){var a=e.get(n);t.i4(a.x,a.y)}}var r=t.i6();t.i8(t.i7()),t.i9(r)},c:function(t){le.d(t,!0)},d:function(t,e){if(e)for(var i=t.xf();i.i1();i.i2()){var n=i.i8();t.gt(n,le._E),t.gz(n,le._E),t.s5(n,le._D)}else for(var o=t.xf();o.i1();o.i2())t.s5(o.i8(),le._D)},e:function(t){for(var e=new L(0,0),i=t.xf();i.i1();i.i2()){var n=i.i8();t.gt(n,e),t.gz(n,e)}},f:function(t,e,i,n){for(var o=t.gc(e).b(),a=xe.d(o),r=0,s=t.gc(e).c();s.i1();s.i2()){var c=s.i6();(0>=r||!c.equals(a[r-1]))&&(a[r]=new L(c.x,c.y),r++)}if(!(2>(o=r))){var h=new l,d=le.i(new O(a[1].x-a[0].x,a[1].y-a[0].y));d.x*=n,d.y*=n;for(var g=le.h(a[0],d),u=le.h(a[1],d),f=new W(g,u),v=1;o-1>v;v++){var p=f,I=le.i(new O(a[v+1].x-a[v].x,a[v+1].y-a[v].y));I.x*=n,I.y*=n;var _=le.h(a[v],I),y=le.h(a[v+1],I);f=new W(_,y);var C=W.a6(p,f);C&&h.add(new L(C.x,C.y))}var m=new O(a[o-1].x-a[o-2].x,a[o-1].y-a[o-2].y);(m=le.i(m)).x*=n,m.y*=n;var w=le.h(a[o-1],m),b=new G(h);e.a2()===i.a2()?(t.s5(i,b),t.m2(i,g,w)):(t.s5(i,b.a()),t.m2(i,w,g))}},g:function(t,e,i,n){for(var o=n,a=i.c1();a.i1();a.i2()){var r=a.i8();le.f(t,e,r,o),0>o&&(o-=n),o=-o}},a:function(t,e,i){return le.j(t,e,i,1)},l:function(t,e,i){if(!t||t.length<1)return e&&(e.x=0,e.y=0,e.width=0,e.height=0),{width:0,height:0};for(var n=0,o=0,a=0;a<t.length;a++){var r=t[a];n=p(n,r.width),o=p(o,r.height)}var s,l,c=n*o*t.length,h=c/v(c/i),d=u(h/n),g=f(h/n),I=f(t.length/d),_=f(t.length/g);g*_>d*I?(s=d,l=I):(s=g,l=_);var y,C=0,m=0,w=0,b=0;if(n>o)for(var A=0;A<t.length;A++)(y=t[A]).x=m*n,y.y=C*o,w=p(w,y.x+y.width),b=p(b,y.y+y.height),++m>=s&&(C++,m=0);else for(var M=0;M<t.length;M++)(y=t[M]).x=m*n,y.y=C*o,w=p(w,y.x+y.width),b=p(b,y.y+y.height),++C>=l&&(m++,C=0);return e&&(e.x=0,e.y=0,e.width=w,e.height=b),{width:l,height:s}},j:function(t,e,i){if(!t||t.length<1)return e&&(e.x=0,e.y=0,e.width=0,e.height=0),0;for(var n,o,a=n=t[0].width,r=o=t[0].height,s=t.length,l=1;s>l;l++){var c=t[l].width;a=I(a,c),n=p(n,c);var h=t[l].height;r=I(r,h),o=p(o,h)}if(r/o>.95&&a/n>.95)return le.l(t,e,i).width;for(var d=new dt,g=0,f=0;s>f;f++){var _=t[f];d.aa(t[f]),g=u(g+_.width*_.height)}d.a1(function(t,e){var i=u(e.height)-u(t.height);return 0===i?u(e.width)-u(t.width):i});var y=0,C=0,m=u(i*v(g/i)),w=0,b=new dt;do{var A,M,x=new dt,D=A=M=0;b.aa(x);for(var T=d.ah();T.i1();T.i2()){var N=T.i6();D+N.width>m&&x.ay()>0?(M=p(M,D),(x=new dt).aa(N),b.aa(x),D=u(N.width)):(x.aa(N),D=u(D+N.width)),1===x.ay()&&(A=u(A+x.am().height))}i*A>(M=p(M,D))&&w!==M&&(b.af(),m=u(1.1*m),w=M)}while(b.ar());for(var S=0,z=b.ah();z.i1();z.i2()){for(var k=0,E=z.i6(),V=E.ah();V.i1();V.i2()){var j=V.i6();j.x=k,j.y=S,k+=j.width}y=p(y,k),S+=le.k(E),C=p(C,S)}return e&&(e.x=0,e.y=0,e.width=y,e.height=C),b.ay()},k:function(t){for(var e=0,i=t.ah();i.i1();i.i2())e=p(i.i6().height,e);return e},h:function(t,e){return new L(t.x+e.x,t.y+e.y)},i:function(t){var e=v(t.x*t.x+t.y*t.y);return new O(-t.y/e,t.x/e)}},ce=function(t){this._a=t,this._b=!1};s(ce,i,{a:function(){return this._b},b:function(){return this._a},c:function(){return 1===this._a},d:function(){return 2===this._a},e:function(){return 4===this._a},f:function(){return 8===this._a},g:function(){return 0===this._a}}),ce.h=function(t,e){var i=t.xc("A");return i?i.i1(e):a},ce.i=function(t,e){var i=t.xc("B");return i?i.i1(e):a},ce.j=function(t){switch(t){case 1:return ce.k;case 2:return ce.l}return a},ce.k=new ce(1),ce.l=new ce(2);var he=function(t,e,i,n,o){this._o=0,this._l=0,this._i=0,this._d=0,this._f=0,this._b=t,this._a=1e-4,this._r=e,this._p=1,this._e=(o.gj(t)+o.g9(t))/4;var a=.45*i*v(n);this._k=te.l(-a,a),this._h=te.l(-a,a),this._g=te.l(-a,a)};s(he,i,{});var de=function(){this._a=0,this._c=0,this._b=0};s(de,i,{});var ge=function(){ge.superClass.constructor.call(this),this._dj=0,this._dh=0,this._dq=0,this._dp=0,this._dt=0,this._de=0,this._d3=0,this._dr=0,this._ed=0,this._dw=.65,this._ea=1,this._dl=80,this._dx=3,this._d8=!0,this._eb=3e5,this._ee=2,this._di=2,this._df=1e3};s(ge,Pt,{i4:function(){return!0},i3:function(t){if(t&&(this._d5=t,this.s(t))){var e=new de,i=0,n=u(this._dx*this._dz.length*this._dz.length+20*this._dz.length);n=p(n,1e4);var o=this._ea*this._ea*this._dz.length,a=this._df;try{for(;this._dj>o&&n>i;i++){var r=this.b(2147483647&i);0==a--&&(this._dy.b()>this._eb&&(i=n),a=this._df),this.h(r,e),this.d(r,e),this.i(r,e),this._d8?(this.g(r,e),this.j(r,e)):(this.f(r,e),this.c(r,e));var s=v(e._a*e._a+e._c*e._c+e._b*e._b);this.ac(r,e,s),this.aa(r,e,s)}}finally{this.r()}}},s:function(t){if(!t||t.xa()<1)return!1;this._d5=t,this._dp=1,this._dy=new qt,this._dt=t.x0(),this._d2=xe.d(this._dt),this._df=1+1e5/this._dt,this._ed=1/(2*this._di),this._de=this._ed*this._ee/(.05*this._dl),this._d3=D(this._dl,-1)*this._ed,this._dr=D(this._dl,3)*this._ed,this._dj=0,this._du=new de,this._dq=p(20*this._dl,10);var e=p(.1,I(this._dw*this._dl,this._dq)),i=this._dt;le.c(t),this._dz=xe.d(i);for(var n=t.x9();n.i1();n.i2()){var o=n.i9(),a=new he(o,e,this._dl,this._dt,t);this._dz[--i]=a,this._dj+=a._r,this._dh+=a._r*a._r,this._du._a+=a._k,this._du._c+=a._h,this._du._b+=a._g,this._d2[o.al()]=a}return this._d8=!1,this._dz.length>0},b:function(t){var e=this._dz.length,i=e-t%e-1,n=te.k(i+1),o=this._dz[n];return this._dz[n]=this._dz[i],this._dz[i]=o,o},f:function(t,e){for(var i,n,o=i=n=0,a=t._b.ae();a;a=a.a7()){var r,s=this._d2[a.a2().al()],l=s._k-t._k,c=s._h-t._h,h=s._g-t._g,d=v(l*l+c*c+h*h),g=d-(s._e+t._e);0>=g||(o+=l*(r=g*g*this._d3/d),i+=c*r,n+=h*r)}for(var u=t._b.ag();u;u=u.a8()){var f,p=this._d2[u.a3().al()],I=p._k-t._k,_=p._h-t._h,y=p._g-t._g,C=v(I*I+_*_+y*y),m=C-(p._e+t._e);0>=m||(o+=I*(f=m*m*this._d3/C),i+=_*f,n+=y*f)}e._a+=o,e._c+=i,e._b+=n},g:function(t,e){var i,n,o=i=n=0;this._dp++,t._f=this._dp;for(var a=t._b.ae();a;a=a.a7()){var r=this._d2[a.a2().al()];r._f=this._dp;var s=r._k-t._k,l=r._h-t._h,c=r._g-t._g,h=v(s*s+l*l+c*c);if(0!==h){var d=p(1e-6,h-(t._e+r._e)),g=-this._ef[a.a5()]/(d*d);g+=d*d*this._d1[a.a5()],o+=s*(g/=h),i+=l*g,n+=c*g}}for(var u=t._b.ag();u;u=u.a8()){var f=this._d2[u.a3().al()];f._f=this._dp;var I=f._k-t._k,_=f._h-t._h,y=f._g-t._g,C=v(I*I+_*_+y*y);if(0!==C){var m=p(1e-6,C-(t._e+f._e)),w=-this._ef[u.a5()]/(m*m);w+=m*m*this._d1[u.a5()],o+=I*(w/=C),i+=_*w,n+=y*w}}e._a+=o,e._c+=i,e._b+=n},j:function(t,e){for(var i,n,o=i=n=0,a=this._dt-1;a>=0;a--){var r=this._d2[a];if(r._f!==t._f){var s=t._k-r._k,l=t._h-r._h,c=t._g-r._g,h=s*s+l*l+c*c;if(0!==h){var d=v(h),g=p(1e-6,d-(t._e+r._e)),u=this._dr/(g*g*d);o+=s*u,i+=l*u,n+=c*u}}}e._a+=o,e._c+=i,e._b+=n},c:function(t,e){for(var i,n,o=i=n=0,a=this._dt-1;a>=0;a--){var r=this._d2[a],s=t._k-r._k,l=t._h-r._h,c=t._g-r._g,h=s*s+l*l+c*c;if(0!==h){var d,g=v(h),u=g-(t._e+r._e);o+=s*(d=0>=u?this._dr/(1e-8*g):this._dr/(u*u*g)),i+=l*d,n+=c*d}}e._a+=o,e._c+=i,e._b+=n},i:function(t,e){var i=this._du._b/this._dt-t._g;e._b+=i*this._dl*this._dt/this._dh},d:function(t,e){if(0!==this._de){var i=this._du._a/this._dt-t._k,n=this._du._c/this._dt-t._h,o=this._du._b/this._dt-t._g;e._a+=i*this._de,e._c+=n*this._de,e._b+=o*this._de}},h:function(t,e){var i=.05*(t._r+2);i>0&&(e._a=te.l(-i,i),e._c=te.l(-i,i),e._b=te.l(-i,i))},ac:function(t,e,i){if(0!==i&&0!==t._a){var n=(e._a*t._o+e._c*t._l+e._b*t._i)/(i*t._a);this._dh-=t._r*t._r,this._dj-=t._r,t._r+=t._p*n>0?.45*n:.15*n,t._r>this._dq?t._r=this._dq:t._r<.1&&(t._r=.1),this._dj+=t._r,this._dh+=t._r*t._r,t._p=n}},aa:function(t,e,i){if(i>0){var n=t._r/i,o=e._a*n,a=e._c*n,r=e._b*n;t._k+=o,t._h+=a,t._g+=r,this._du._a+=o,this._du._c+=a,this._du._b+=r,t._a=i,t._o=e._a,t._l=e._c,t._i=e._b}},r:function(){for(var t=this._d2.length-1;t>=0;t--){var e=this._d2[t];this._d5.s2(e._b,e._k,e._h)}}});var ue=function(t,e){this._e=t,this._f=e,this._c={}};s(ue,i,{r:function(){for(var t in this._c){var e=this._c[t];e.g.setExpanded(e.b)}},p:function(){for(var t=new l,e=new l,i=new l,n=0,o=this._f.size();o>n;n++){var a=this._f.get(n);if(a instanceof h)a.isLooped()||t.add(a);else if(a instanceof c){if(a.getParent()instanceof d){a instanceof d||e.add(a);continue}t.add(a),a instanceof d&&(i.add(a),this.l(a))}}return e.each(function(e){for(var n=!0,o=0;o<i.size();o++)if(e.isDescendantOf(i.get(o))){n=!1;break}n&&t.add(e)}),t},l:function(t){if(!this._c[t.getId()]){var e=this._e.getType(t),i=R(e);if(i){this._c[t.getId()]={g:t,b:t.isExpanded()},t.setExpanded(!0);for(var n,o=new l,a=t.getChildren(),r=0,s=a.size();s>r;r++)if((n=a.get(r))instanceof d&&(this.l(n),n.setExpanded(!1)),n instanceof h||o.contains(n)||o.add(n),n instanceof c){var g=n.getEdges();if(g)for(var u=0,f=g.size();f>u;u++){var v=g.get(u);o.contains(v)||o.add(v)}}var p=new se(this._e,o,e);try{i.i2(p);var I=P(e);for(var _ in p._a){var y=p._a[_],C=p.g4(y);y.node.p(I?I.tf(C):C)}}catch(t){}t.eachChild(function(t){t instanceof d&&t.setExpanded(!0)})}}}});var fe=function(){};s(fe,i,{i1:function(t,e,i){var n=this.a1(t,e);return this.a2(t,e,i),n},a1:function(t,e){var i=fe.i4(t);i.ax();for(var n=0,o=i.x1();o.i1();o.i2())e.i7(o.i9(),-1);for(var a=i.x1();a.i1();a.i2()){for(var r=a.i9(),s=-1,l=r.aq();l.i1();l.i2())s=p(s,e.i2(l.i9()));e.i7(r,s+1),n=p(n,s+1)}return n+1},a2:function(t,e,i){i.az(fe.i3(t,e))}}),fe.i3=function(t,e){for(var i=new gt,n=t.xf();n.i1();n.i2()){var o=n.i8();e.i2(o.a2())>e.i2(o.a3())&&(t.x3(o),i.ac(o))}return i},fe.i4=function(t){var e=xe.a(t.xa());return(new nt).a1(t,e),fe.i2(t,e)},fe.i2=function(t,e){for(var i=xe.d(t.x0()),n=t.x9();n.i1();n.i2()){var o=n.i9();i[e[o.al()]]=o}return new St(i)};var ve=function(){ve.superClass.constructor.call(this),this.c0()};s(ve,gt,{c0:function(){this._bc=1,this._bd=0}});var pe=function(){this._m1=20,this._m2=60,this._m3=5,this._m4=0};s(pe,i,{i4:function(t){this._m3=t},i5:function(t){this._m4=t},i3:function(t){this._m1=t},i6:function(t){this._m2=t},i2:function(t){this._m5=t},t1:function(){return this._m2},a1:function(t,e){for(var i=xe.d(e.length),n=0;n<e.length;n++)i[n]=e[n].x1();this.a2(t,i)},a2:function(t,e){for(var i=xe.a(e.length),n=0,o=0;o<e.length;o++){var a=0,r=e[o];for(r.i4();r.i1();r.i2())a=p(a,t.g9(r.i9()));for(i[o]=a,r.i4();r.i1();r.i2()){var s=(i[o]-t.g9(r.i9()))/2;t.s4(r.i9(),new L(t.gi(r.i9()),n+s))}n+=i[o]+this.t1(),r.i4()}},i1:function(t,e,i){this._m6=t,this.t2(e,i)}});var Ie=function(){Ie.superClass.constructor.call(this)};s(Ie,pe,{t2:function(t){var e=this._m6;this._a=e.xc("D"),this._h=e.xc("C"),this.a1(e,t),this.tg(e,t),this.tf(t,Vt.a5(this._e),this._m5,this._l),this.tb(e,this._f[0]),this.ta(t),this.th(e,this._f[0],t),this.b(t),this.tb(e,this._f[1]),this.ta(t),this.th(e,this._f[1],t),this.b(t),this.a11(this._f[1]),this.a12(t),this.tb(e,this._f[2]),this.ta(t),this.th(e,this._f[2],t),this.b(t),this.tb(e,this._f[3]),this.ta(t),this.th(e,this._f[3],t),this.b(t),this.a11(this._f[3]),this.a12(t),this.tc(e),this.tj()},a11:function(t){for(var e=0;e<t.length;e++)t[e]=-t[e]},b:function(t){for(var e=0;e<t.length;e++){t[e].ax()}for(var i=0;i<t.length;i++)for(var n,o=0,r=t[i].x1();r.i1();r.i2()){var s=r.i9(),l=s.al();this._l[l]=o++,this._b[l]=n,this._k[l]=a,n&&(this._k[n.al()]=s),n=s}var c=this._a;this._a=this._h,this._h=c;for(var h=this._m6.xf();h.i1();h.i2()){var d=h.i8(),g=this._m6.gn(d);this._m6.gt(d,new L(-g.x,g.y));var u=this._m6.gk(d);this._m6.gz(d,new L(-u.x,u.y))}var f=this._l;this._m6.x2(function(t,e){return!t&&e?1:t&&!e?-1:t||e?f[t.a2().al()]-f[e.a2().al()]:0},function(t,e){return!t&&e?1:t&&!e?-1:t||e?f[t.a3().al()]:0})},a12:function(t){for(var e=this._m6.xf();e.i1();e.i2()){var i=e.i8();this._m6.x3(i);var n=this._m6.gn(i),o=this._m6.gk(i);this._m6.gz(i,n),this._m6.gt(i,o)}for(var a=new dt,r=0,s=0;r<t.length;r++)a.ae(t[r]);for(;s<t.length;s++)t[s]=a.au();var l=this._l;this._m6.x2(function(t,e){return!t&&e?1:t&&!e?-1:t||e?l[t.a2().al()]-l[e.a2().al()]:0},function(t,e){return!t&&e?1:t&&!e?-1:t||e?l[t.a3().al()]:0})},tg:function(t,e){var i=t.x0(),n=t.xg(),o=0;for(this._l=xe.a(i),this._b=xe.d(i),this._k=xe.d(i),this._m=xe.d(i),this._i=xe.d(i),this._o=xe.d(i),this._f=xe.e(4,i),this._c=xe.a(i),this._g=xe.a(i),this._j=xe.a(i),this._d=xe.b(i),this._e=xe.b(n);o<e.length;o++)for(var r,s=0,l=e[o].x1();l.i1();l.i2()){var c=l.i9(),h=c.al();this._l[h]=s++,this._b[h]=r,this._k[h]=a,r&&(this._k[r.al()]=c),r=c}var d=this._l;t.x2(function(t,e){return!t&&e?1:t&&!e?-1:t||e?d[t.a2().al()]-d[e.a2().al()]:0},function(t,e){return!t&&e?1:t&&!e?-1:t||e?d[t.a3().al()]:0})},tb:function(t,e){for(var i=t.x9();i.i1();i.i2()){var n=i.i9(),o=n.al();this._m[o]=n,this._i[o]=n,e[o]=T,this._o[o]=n,this._c[o]=T,this._d[o]=!1,this._j[o]=this._g[o]=0}},ta:function(t){for(var e=1;e<t.length;e++)for(var i=-1,n=t[e]._b;n;n=n.a()){var o=n.d(),a=o.al(),r=o.ak();if(0!==r){for(var s=u((r+1)/2),l=f((r+1)/2),c=1,h=o.ae(),d=!1;s>c;h=h.a7())c++;for(;l>=c&&!d;c++){var g=this._m6.g2(h),v=h.a2().al();this._i[a]===o&&!this._e[h.a5()]&&i<this._l[v]&&(i=this._l[v],this._i[v]=o,this._m[a]=this._m[v],this._i[a]=this._m[a],d=!0,this._j[v]=g.i6().x,this._g[a]=g.i7().x),h=h.a7()}}}},th:function(t,e,i){for(var n=t.x9();n.i1();n.i2()){var o=n.i9(),a=o.al();this._m[a]===o&&this.td(t,o,e)}for(var r=0;r<i.length;r++){if(i[r].x1().i1()){var s=i[r].x1().i9(),l=s.al();this._o[this._m[l].al()]===s&&this.tk(t,s,e)}}for(var c=t.x9();c.i1();c.i2()){var h=c.i9().al(),d=this._c[this._o[this._m[h].al()].al()];T>d&&(e[h]+=d)}},td:function(t,e,i){var n=e.al();if(i[n]===T){i[n]=0;var o=e,a=0;do{var r=o.al();if(r!==n&&(a-=this._g[r]),this._l[r]>0){var s=this._b[r],l=this._m[this._b[r].al()],c=l.al();this.td(t,l,i),this._o[n]===e&&(this._o[n]=this._o[c]),this._o[n]===this._o[c]&&(i[n]=p(i[n],i[s.al()]+this.ti(t,s,o)-a))}a+=this._j[r],o=this._i[r]}while(o!==e);a=0,o=e;do{var h=o.al();h!==n&&(a-=this._g[h]),i[h]=i[n]+a,a+=this._j[h],o=this._i[h]}while(o!==e)}},tk:function(t,e,i){var n=e.al();if(!this._d[n]){this._d[n]=!0;var o=e;do{var a=o.al(),r=this._k[a];if(r){var s=r.al(),l=this._o[this._m[s].al()];if(l!==this._o[n]){var c=i[s]-i[n]-this.ti(t,o,r);this._c[l.al()]!==T&&(c+=this._c[l.al()]),this._c[this._o[n].al()]=I(this._c[this._o[n].al()],c)}else this.tk(t,this._m[s],i)}o=this._i[a]}while(o!==e)}},tc:function(t){for(var e=xe.a(4),i=xe.a(4),n=t.x9();n.i1();n.i2()){var o=n.i9().al();i[0]+=this._f[0][o],i[1]+=this._f[1][o],i[2]+=this._f[2][o],i[3]+=this._f[3][o]}i[0]/=t.xa(),i[1]/=t.xa(),i[2]/=t.xa(),i[3]/=t.xa();for(var a=t.x9();a.i1();a.i2()){var r=a.i9(),s=r.al(),l=t.g4(r);e[0]=this._f[0][s]-i[0],e[1]=this._f[1][s]-i[1],e[2]=this._f[2][s]-i[2],e[3]=this._f[3][s]-i[3],e.sort(xe.n),t.s1(r,new L((e[1]+e[2])/2,l.y))}},ti:function(t,e,i){var n,o=t.gj(e),a=t.gj(i);return n=o>1&&a>1?this._m1+(o+a)/2:this._m3+(o+a)/2,this._l[e.al()]<this._l[i.al()]?(this._a&&(n+=this._a.i3(i)),this._h&&(n+=this._h.i3(e))):(this._a&&(n+=this._a.i3(e)),this._h&&(n+=this._h.i3(i))),n},tj:function(){this._l=this._b=this._k=this._e=this._m=this._i=this._f=this._c=this._o=this._d=this._j=this._g=a},tf:function(t,e,i,n){for(var o=t.length,a=2;o-1>a;a++)for(var r=-1,s=0,l=0,c=t[a].x1(),h=t[a].x1();h.i1();h.i2()){var d,g=h.i9(),u=!1;if(1===g.ak()&&(d=g.ae().a2(),i.i1(d)&&i.i1(g)&&(u=!0)),l===t[a].ay()-1||u){for(var f=u?n[d.al()]:t[a-1].ay();l>=s;s++){for(var v=c.i9().am();v.i1();v.i2()){var p=n[v.i8().a2().al()];(r>p||p>f)&&e.i7(v.i8(),!0)}c.i2()}r=f}l++}}});var _e=function(t,e){this._b=20,this._a=e,this._d=t,this._f={}};s(_e,i,{a3:function(t){this._b=t},a4:function(t,e,i,n,o){if(this.a2(t)){var a=this.b2(t);a._o=e,a._m=o,a._n=n,a._f=i}},b2:function(t){var e=this._f[t._id];return e||(e=new ye,this._f[t._id]=e),e},a2:function(t){return!!this._f[t._id]},c:function(){for(var t=Vt.a1(xe.a(this._d.xa())),e=Vt.a1(xe.a(this._d.xa())),i=this._d.x9();i.i1();i.i2()){var n=i.i9();if(this.a2(n)){var o=this.b2(n);t.i6(n,this._b*(o.c()-1)),e.i6(n,this._b*(o.b()-1))}}this._d.x1("D",t),this._d.x1("C",e)},g:function(){this._d.x6("D"),this._d.x6("C")},f:function(){for(var t=this._d.x9();t.i1();t.i2()){var e=t.i9();if(this.a2(e)){var i=this._d.gi(e),n=this._d.gh(e),o=this._d.gj(e),a=this._d.g9(e),r=this.b2(e),s=r._q.ay()+r._b.ay()+r._f,l=r._d.ay()+r._g.ay()+r._o,c=r._i.ay()+r._l.ay()+r._n,h=r._h.ay()+r._k.ay()+r._m,d=this._a.a7(o,s),g=this._a.a7(o,l),u=this._a.a7(a,h),f=this._a.a7(a,c);r.a2(this._a.a8(o,s,d),this._a.a8(o,l,g),this._a.a8(a,h,u),this._a.a8(a,c,f));for(var v=r._j.c1();v.i1();v.i2()){var I=v.i8(),_=this.a1(I),y=this.b1(I),C=new dt;_.b()===y.b()?(_.c()?(C.aa(new L(i+r._g._bd*g+r._c,n)),C.aa(new L(i+r._g._bd*g+r._c,n-this._b)),r._g._bd++,C.aa(new L(i+r._g._bd*g+r._c,n-this._b)),C.aa(new L(i+r._g._bd*g+r._c,n)),r._g._bd++,r._g._bc=p(r._g._bc,2)):_.d()?(C.aa(new L(i+r._b._bd*d+r._p,n+a)),C.aa(new L(i+r._b._bd*d+r._p,n+a+this._b)),r._b._bd++,C.aa(new L(i+r._b._bd*d+r._p,n+a+this._b)),C.aa(new L(i+r._b._bd*d+r._p,n+a)),r._b._bd++,r._b._bc=p(r._b._bc,2)):_.f()?(C.aa(new L(i,n+r._i._bd*f+r._a)),C.aa(new L(i-this._b,n+r._i._bd*f+r._a)),r._i._bd++,C.aa(new L(i-this._b,n+r._i._bd*f+r._a)),C.aa(new L(i,n+r._i._bd*f+r._a)),r._i._bd++,r._i._bc=p(r._i._bc,2)):_.e()&&(C.aa(new L(i+o,n+r._h._bd*u+r._e)),C.aa(new L(i+o+this._b,n+r._h._bd*u+r._e)),r._h._bd++,C.aa(new L(i+o+this._b,n+r._h._bd*u+r._e)),C.aa(new L(i+o,n+r._h._bd*u+r._e)),r._h._bd++,r._h._bc=p(r._h._bc,2)),this._d.m1(I,C)):_.c()||y.c()?_.e()||y.e()?(C.aa(new L(i+o-r._d._bd*g-r._c,n)),C.aa(new L(i+o-r._d._bd*g-r._c,n-this._b*r._d._bc)),C.aa(new L(i+o+this._b*r._h._bc,n-this._b*r._d._bc)),C.aa(new L(i+o+this._b*r._h._bc,n+r._h._bd*u+r._e)),C.aa(new L(i+o,n+r._h._bd*u+r._e)),r._d._bd++,r._d._bc++,r._h._bd++,r._h._bc++,y.c()&&C.ax(),this._d.m1(I,C)):_.f()||y.f()?(C.aa(new L(i+r._g._bd*g+r._c,n)),C.aa(new L(i+r._g._bd*g+r._c,n-this._b*r._g._bc)),C.aa(new L(i-this._b*r._i._bc,n-this._b*r._g._bc)),C.aa(new L(i-this._b*r._i._bc,n+r._i._bd*f+r._a)),C.aa(new L(i,n+r._i._bd*f+r._a)),r._g._bd++,r._g._bc++,r._i._bd++,r._i._bc++,y.c()&&C.ax(),this._d.m1(I,C)):(_.d()||y.d())&&(C.aa(new L(i+o-r._d._bd*g-r._c,n)),C.aa(new L(i+o-r._d._bd*g-r._c,n-this._b*r._d._bc)),C.aa(new L(i+o+this._b*r.b(),n-this._b*r._d._bc)),C.aa(new L(i+o+this._b*r.b(),n+a+this._b*r._q._bc)),C.aa(new L(i+o-r._q._bd*d-r._p,n+a+this._b*r._q._bc)),C.aa(new L(i+o-r._q._bd*d-r._p,n+a)),r._d._bd++,r._d._bc++,r._k._bc++,r._h._bc++,r._q._bc++,r._q._bd++,y.c()&&C.ax(),this._d.m1(I,C)):_.d()||y.d()?_.e()||y.e()?(C.aa(new L(i+o-r._q._bd*d-r._p,n+a)),C.aa(new L(i+o-r._q._bd*d-r._p,n+a+this._b*r._q._bc)),C.aa(new L(i+o+this._b*r._k._bc,n+a+this._b*r._q._bc)),C.aa(new L(i+o+this._b*r._k._bc,n+a-r._k._bd*u-r._e)),C.aa(new L(i+o,n+a-r._k._bd*u-r._e)),r._q._bd++,r._q._bc++,r._k._bd++,r._k._bc++,y.d()&&C.ax(),this._d.m1(I,C)):(_.f()||y.f())&&(C.aa(new L(i+r._b._bd*d+r._p,n+a)),C.aa(new L(i+r._b._bd*d+r._p,n+a+this._b*r._b._bc)),C.aa(new L(i-this._b*r._l._bc,n+a+this._b*r._b._bc)),C.aa(new L(i-this._b*r._l._bc,n+a-r._l._bd*f-r._a)),C.aa(new L(i,n+a-r._l._bd*f-r._a)),r._b._bd++,r._b._bc++,r._l._bd++,r._l._bc++,y.d()&&C.ax(),this._d.m1(I,C)):(C.aa(new L(i,n+a-r._l._bd*f-r._a)),C.aa(new L(i-this._b*r._l._bc,n+a-r._l._bd*f-r._a)),C.aa(new L(i-this._b*r._l._bc,n+a+this._b*r.a1())),C.aa(new L(i+o+this._b*r._k._bc,n+a+this._b*r.a1())),C.aa(new L(i+o+this._b*r._k._bc,n+a-r._k._bd*u-r._e)),C.aa(new L(i+o,n+a-r._k._bd*u-r._e)),r._l._bd++,r._l._bc++,r._b._bc++,r._q._bc++,r._k._bc++,r._k._bd++,y.f()&&C.ax(),this._d.m1(I,C))}}}},a5:function(t,e){for(var i=0;i<t.length;i++)for(var n=t[i],o=e[i],a=n.x1();a.i1();a.i2()){var r=a.i9();if(this.a2(r)){var s=this.b2(r);o._g=p(o._g,this._b*(s.d()-1)),o._j=p(o._j,this._b*(s.a1()-1))}}},a1:function(t){var e,i=this._d.xc("A");if(i&&(e=i.i1(t)),!e||e.g()){var n=this._d.xc("B");if(!n)return ce.j(1);var o=n.i1(t);if(!o||o.g())return ce.j(1);if(o.c())return ce.j(8);if(o.f())return ce.j(1);if(o.d())return ce.j(4);if(o.e())return ce.j(2)}return e},b1:function(t){var e,i=this._d.xc("B");if(i&&(e=i.i1(t)),!e||e.g()){var n=this._d.xc("A");if(!n)return ce.j(8);var o=n.i1(t);if(!o||o.g())return ce.j(8);if(o.c())return ce.j(8);if(o.f())return ce.j(1);if(o.d())return ce.j(4);if(o.e())return ce.j(2)}return e}});var ye=function(){this._o=0,this._f=0,this._n=0,this._m=0,this._c=0,this._p=0,this._e=0,this._a=0,this._j=new gt,this._g=new ve,this._d=new ve,this._b=new ve,this._q=new ve,this._h=new ve,this._k=new ve,this._i=new ve,this._l=new ve};s(ye,i,{a1:function(){return p(this._q._bc,this._b._bc)},d:function(){return p(this._d._bc,this._g._bc)},b:function(){return p(this._k._bc,this._h._bc)},c:function(){return p(this._l._bc,this._i._bc)},a2:function(t,e,i,n){this._c=e,this._a=n,this._p=t,this._e=i,this._g.c0(),this._d.c0(),this._b.c0(),this._q.c0(),this._k.c0(),this._h.c0(),this._l.c0(),this._i.c0()}});var Ce=function(t,e,i,n){this._k=20,this._r=.5,this._d=t,this._c=e,this._j=i,this._m=n,this._i=t.xc("A")!=a||t.xc("B")!=a,this._t=new be(t,e,i,n),this._b=new _e(t,this)};s(Ce,i,{a6:function(t){this._k=t,this._t.a1(t),this._b.a3(t)},g1:function(){return this._k},a9:function(t){return this.c1(),t},a5:function(t){return this.a1(),t},b3:function(t){return this.c1(),t=this.c4(t),this._b.c(),t},g2:function(t){return this._b.g(),t},e2:function(t){t=this.f(t),this._b.f()},e1:function(){this._t.d(),this._n&&this._d.xi(this._n),this.a1(),this._d=a},a1:function(){this._i&&(this._q&&(this._d.x1("A",this._q),this._q=a),this._p&&(this._d.x1("B",this._p),this._p=a),this._h&&(this._d.xj(this._h),this._h=a),this._l&&(this._d.xj(this._l),this._l=a))},c1:function(){if(this._i){this._h||(this._h=this._d.xl()),this._l||(this._l=this._d.xl());for(var t=this._d.xf();t.i1();t.i2()){var e=t.i8(),i=this._j.i1(e.a2()),n=this._j.i1(e.a3());if(i&&!n){var o=this._j.i1(e.a2());this._m.i4(o)?this._l.i8(e,ce.h(this._d,o)):this._l.i8(e,ce.i(this._d,o))}else if(!i&&n){var a=this._j.i1(e.a3());this._m.i4(a)?this._h.i8(e,ce.i(this._d,a)):this._h.i8(e,ce.h(this._d,a))}else i||n||(this._m.i4(e)?(this._h.i8(e,ce.i(this._d,e)),this._l.i8(e,ce.h(this._d,e))):(this._h.i8(e,ce.h(this._d,e)),this._l.i8(e,ce.i(this._d,e))))}this._q=this._d.xc("A"),this._p=this._d.xc("B"),this._d.x1("A",this._h),this._d.x1("B",this._l)}},c4:function(t){this._n=this._d.xk(),this._a=this._d.xl(),this._g=this._d.xl();for(var e=new gt,i=new gt,n=new gt,o=new gt,a=new gt,r=new gt,s=new gt,l=new gt,c=new gt,h=this._d.xk(),d=0;d<t.length;d++)for(var g=0,u=t[d].x1();u.i1();)h.i6(u.i9(),g),u.i2(),g++;for(var f=function(t,e){var i=h.i3(t.a3())-h.i3(e.a3());return 0>=i?i>=0?0:-1:1},v=function(t,e){var i=h.i3(t.a2())-h.i3(e.a2());return 0>=i?i>=0?0:-1:1},p=0;p<t.length;p++)for(var I=t[p],_=I._b;_;_=_.a()){var y=_.d();y.av(f),y.au(v),e.af(),i.af(),n.af(),o.af(),a.af(),r.af(),s.af(),l.af(),c.af();for(var C=y.ap();C.i1();){var m=C.i8(),w=this.b1(m);!w||w.d()||w.g()?n.aa(m):w.e()?e.aa(m):w.f()?(i.aa(m),c.aa(m)):w.c()&&(l.aa(m),c.aa(m)),C.i2(),0}0;for(var b=y.am();b.i1();){var A=b.i8(),M=this.a2(A);!M||M.c()||M.g()?o.aa(A):M.e()?e.aa(A):M.f()?(i.aa(A),c.aa(A)):M.d()&&(r.aa(A),c.aa(A)),b.i2(),0}var x=h.i3(y);if(!c.ar())for(var D=.1/c.ay(),T=x-.4;!c.ar();T+=D){var N=c.c3();if(N.a2()===y){var S=this._d.xm();this._n.z1(S,N.a2()),this._d.s7(S,1,1),this._c.z1(S,this._c.i1(y)),h.i6(S,T),this._a.i8(N,this._d.gn(N)),this._d.gt(N,te._A),this._d.xr(N,S,N.a3()),I.ao(S,_)}else{var z=this._d.xm();this._n.z1(z,N.a3()),this._d.s7(z,1,1),this._c.z1(z,this._c.i1(y)),h.i6(z,T),this._g.i8(N,this._d.gk(N)),this._d.gz(N,te._A),this._d.xr(N,N.a2(),z),I.ao(z,_)}}if(!e.ar())for(var k=.1/e.ay(),E=x+.1;!e.ar();E+=k){var V=e.c3();if(V.a2()===y){var j=this._d.xm();this._n.z1(j,V.a2()),this._d.s7(j,1,1),this._c.z1(j,this._c.i1(y)),h.i6(j,E),this._a.i8(V,this._d.gn(V)),this._d.gt(V,te._A),this._d.xr(V,j,V.a3()),_=I.an(j,_)}else{var R=this._d.xm();this._n.z1(R,V.a3()),this._d.s7(R,1,1),this._c.z1(R,this._c.i1(y)),h.i6(R,E),this._g.i8(V,this._d.gk(V)),this._d.gz(V,te._A),this._d.xr(V,V.a2(),R),_=I.an(R,_)}}var P=Ce._z;this._b.a2(y)&&(P=this._b.b2(y));var Z=P._b.ay()+r.ay()+y.ao()+a.ay()+P._q.ay();if(Z>0)for(var B=this._d.g9(y)/2,O=this._d.gj(y),U=this.a7(O,Z),W=-.5*O+this.a8(this._d.gj(y),Z,U)+U*(P._b.ay()+r.ay()),G=y.ap();G.i1();G.i2()){var F=G.i8();this.c2(F)||this._j.i1(F.a2())||(this._d.g2(F).i8(new L(W,B)),W+=U)}var Q=this._t.a3(y),H=0,Y=0,J=0,X=0;if(Q&&(H=Q._e.ay(),Y=Q._c.ay(),J=Q._b.ay(),X=Q._d.ay()),(Z=P._g.ay()+H+l.ay()+y.ak()+s.ay()+Y+P._d.ay())>0){for(var $=this._d.gj(y),K=this.a7($,Z),q=this.a8($,Z,K),tt=-.5*$+q+K*(P._g.ay()+H+l.ay()),et=-this._d.g9(y)/2,it=y.am();it.i1();it.i2()){var nt=it.i8();this.d1(nt)||this._j.i1(nt.a3())||(this._d.g2(nt).i9(new L(tt,et)),tt+=K)}if(Q){for(var ot=-.5*$+q+K*(P._g.ay()+l.ay()+Q._e.ay()-1),at=Q._e.c1();at.i1();at.i2()){var rt=at.i8();this._d.u1(rt),rt.a2()!==y||this.c2(rt)?this.d1(rt)||(this._d.g2(at.i8()).i9(new L(ot,et)),ot-=K):(this._d.g2(at.i8()).i8(new L(ot,et)),ot-=K),this._d.h1(rt)}ot=.5*$-q-K*(P._d.ay()+s.ay());for(var st=Q._c.c1();st.i1();st.i2()){var lt=st.i8();this._d.u1(lt),lt.a2()!==y||this.c2(lt)?this.d1(lt)||(this._d.g2(st.i8()).i9(new L(ot,et)),ot-=K):(this._d.g2(st.i8()).i8(new L(ot,et)),ot-=K),this._d.h1(lt)}}}this._b.a2(y)&&this._b.a4(y,H+l.ay()+y.ak()+s.ay()+Y,r.ay()+y.ao()+a.ay(),J+i.ay(),X+e.ay())}return this._d.xi(h),t},a7:function(t,e){return 1>=e?0:t/(e-1+2*this._r)},a8:function(t,e,i){return 1>=e?.5*t:.5*(t-i*(e-1))},f:function(t){var e=this.g1(),i=0;for(this._f=this._d.xk();i<t.length;i++)for(var n=t[i]._b;n;){var o=n.d();if(this._n.i1(o)||this._t.b2(o))n=n.a();else{var r=new St,s=new St,l=new St,c=new St,h=new St,d=new St,g=new gt,u=new gt,f=new Me(r,s,l,c,h,d,g,u);this._f.z1(o,f),g.ab(o.am()),u.ab(o.ap());for(var v=n.b();v&&this._n.i1(v.d())===o;v=v.b()){var p=v.d(),I=this.c3(p);I.f()?s.ac(p):I.c()?c.ac(p):I.d()&&d.ac(p)}for(var _=n.a();_&&this._n.i1(_.d())===o;_=_.a()){var y=_.d(),C=this.c3(y);C.e()?r.aa(y):C.c()?l.aa(y):C.d()&&h.aa(y)}n=_}}for(var m=this.d2(t),w=0,b=0;b<t.length;b++){var A=m[b];b>0&&(w+=m[b-1]._j+m[b-1]._h+m[b-1]._b),w+=A._g+A._f+A._a+A._d;for(var M=t[b].x1();M.i1();M.i2()){var x=M.i9();this._d.s3(x,this._d.gi(x),this._d.gh(x)+w)}A._c+=w,A._i+=w}for(var D=0;D<t.length;D++)for(var T=t[D],N=T.x1();N.i1();N.i2()){var S=N.i9();this._n.i1(S)&&T.av(N)}for(var z=this,k=function(t,e){return z.a3(t)?z.a3(e)&&z._d.gi(t)>=z._d.gi(e)?-1:1:z.a3(e)?-1:z._d.gi(t)>=z._d.gi(e)?1:-1},E=function(t,e){return z.a3(t)?z.a3(e)?z._d.gi(t)>=z._d.gi(e)?1:-1:1:z.a3(e)?-1:z._d.gi(t)>=z._d.gi(e)?-1:1},V=0;V<t.length;V++)for(var j=m[V],R=t[V].x1();R.i1();R.i2()){var P=R.i9();if(!this._t.b2(P)){var Z=this._f.i1(P),B=Z._d,O=Z._a,U=Z._b,W=Z._h,G=Z._f,F=Z._c,Q=Z._g,H=Z._e,Y=0,J=0,X=0,$=0,K=P.ao(),q=P.ak(),tt=this._d.gi(P),et=this._d.gh(P),it=this._d.gj(P),nt=this._d.g9(P),ot=this._t.a3(P),at=Ce._z;if(this._b.a2(P)&&(at=this._b.b2(P)),ot){if(Y=ot._d.ay(),J=ot._b.ay(),X=ot._e.ay(),$=ot._c.ay(),Y>0)for(var rt=at._h.ay()+B.ay()+Y+at._k.ay(),st=this.a7(nt,rt),lt=et+this.a8(nt,rt,st)+st*(at._h.ay()+this.a4(B)),ct=ot._d.c1();ct.i1();ct.i2()){var ht=ct.i8();this._d.u1(ht),ht.a2()===P?this.c2(ht)||this._d.gx(ht,new L(tt+it,lt)):(this.d1(ht),this._d.gy(ht,new L(tt+it,lt))),lt+=st,this._d.h1(ht)}if(J>0)for(var dt=at._i.ay()+O.ay()+J+at._l.ay(),ut=this.a7(nt,dt),ft=et+this.a8(nt,dt,ut)+ut*(at._i.ay()+this.a4(O)),vt=ot._b.c1();vt.i1();vt.i2()){var pt=vt.i8();this._d.u1(pt),pt.a2()===P?this.c2(pt)||this._d.gx(pt,new L(tt,ft)):this.d1(pt)||this._d.gy(pt,new L(tt,ft)),ft+=ut,this._d.h1(pt)}}if(B.ay()>0){B.a1(k);for(var It=at._h.ay()+B.ay()+Y+at._k.ay(),_t=this.a7(nt,It),yt=et+this.a8(nt,It,_t)+_t*at._h.ay(),Ct=!0;!B.ar();){var mt=B.x4();if(this.a3(mt)){Ct&&(Ct=!1,yt+=_t*Y);var wt=mt.ag(),bt=this._d.gd(wt),At=bt.at();if(bt.ac(new L(At.x,j.b())),this.c2(wt)){var Mt=this._a.i1(wt);bt.ac(new L(At.x,Mt.y+this._d.g6(P))),bt.ac(new L(Mt.x+this._d.g5(P),Mt.y+this._d.g6(P)))}else bt.ac(new L(At.x,yt)),bt.ac(new L(tt+it,yt));this._d.xr(wt,P,wt.a3()),this._d.m1(wt,bt)}else{var xt=mt.ae(),Dt=this._d.gd(xt),Tt=Dt.au();if(Dt.ae(new L(Tt.x,j.a())),this.d1(xt)){var Nt=this._g.i1(xt);Dt.ae(new L(Tt.x,Nt.y+this._d.g6(P))),Dt.ae(new L(Nt.x+this._d.g5(P),Nt.y+this._d.g6(P)))}else Dt.ae(new L(Tt.x,yt)),Dt.ae(new L(tt+it,yt));this._d.xr(xt,xt.a2(),P),this._d.m1(xt,Dt)}this._d.x4(mt),yt+=_t}}if(O.ay()>0){O.a1(E);for(var zt=at._i.ay()+O.ay()+J+at._l.ay(),kt=this.a7(nt,zt),Et=et+this.a8(nt,zt,kt)+kt*at._i.ay(),Vt=!0;!O.ar();){var jt=O.x4();if(this.a3(jt)){Vt&&(Vt=!1,Et+=kt*J);var Rt=jt.ag(),Pt=this._d.gd(Rt),Zt=Pt.at();if(Pt.ac(new L(Zt.x,j.b())),this.c2(Rt)){var Lt=this._a.i1(Rt);Pt.ac(new L(Zt.x,Lt.y+this._d.g6(P))),Pt.ac(new L(Lt.x+this._d.g5(P),Lt.y+this._d.g6(P)))}else Pt.ac(new L(Zt.x,Et)),Pt.ac(new L(tt,Et));this._d.xr(Rt,P,Rt.a3()),this._d.m1(Rt,Pt)}else{var Bt=jt.ae(),Ot=this._d.gd(Bt),Ut=Ot.au();if(Ot.ae(new L(Ut.x,j.a())),this.d1(Bt)){var Wt=this._g.i1(Bt);Ot.ae(new L(Ut.x,Wt.y+this._d.g6(P))),Ot.ae(new L(Wt.x+this._d.g5(P),Wt.y+this._d.g6(P)))}else Ot.ae(new L(Ut.x,Et)),Ot.ae(new L(tt,Et));this._d.xr(Bt,Bt.a2(),P),this._d.m1(Bt,Ot)}this._d.x4(jt),Et+=kt}}var Gt=at._g.ay()+at._d.ay()+q+W.ay()+U.ay()+X+$;it=this._d.gj(P);var Ft=this.a7(it,Gt),Qt=this.a8(it,Gt,Ft);Gt=at._b.ay()+at._q.ay()+K+F.ay()+G.ay();var Ht=this.a7(it,Gt),Yt=this.a8(it,Gt,Ht);if(W.ay()>0)for(var Jt,Xt=Ft,$t=e,Kt=this._d.gi(P)+Qt+Xt*(at._g.ay()+W.ay()-1),qt=this._d.gh(P),te=j._c-j._g-W.ay()*$t;!W.ar();this._d.x4(Jt)){var ee=(Jt=W.x4()).ag(),ie=this._d.gd(ee),ne=ie.at();if(ie.ac(new L(ne.x,j.b())),ie.ac(new L(ne.x,te)),this.c2(ee)){var oe=this._a.i1(ee);ie.ac(new L(oe.x+this._d.g5(P),te)),ie.ac(new L(oe.x+this._d.g5(P),oe.y+this._d.g6(P)))}else ie.ac(new L(Kt,te)),ie.ac(new L(Kt,qt)),Kt-=Xt;te+=$t,this._d.xr(ee,P,ee.a3()),this._d.m1(ee,ie)}if(U.ay()>0)for(var ae,re=Ft,se=e,le=this._d.gi(P)+this._d.gj(P)-Qt-re*at._d.ay(),ce=this._d.gh(P),he=j._c-j._g-se;!U.ar();this._d.x4(ae)){var de=(ae=U.x4()).ag(),ge=this._d.gd(de),ue=ge.at();if(ge.ac(new L(ue.x,j.b())),ge.ac(new L(ue.x,he)),this.c2(de)){var fe=this._a.i1(de);ge.ac(new L(fe.x+this._d.g5(P),he)),ge.ac(new L(fe.x+this._d.g5(P),fe.y+this._d.g6(P)))}else ge.ac(new L(le,he)),ge.ac(new L(le,ce)),le-=re;he-=se,this._d.xr(de,P,de.a3()),this._d.m1(de,ge)}if(F.ay()>0)for(var ve,pe=Ht,Ie=e,_e=this._d.gi(P)+Yt+pe*(at._b.ay()+F.ay()-1),ye=this._d.gh(P)+this._d.g9(P),me=ye+F.ay()*Ie;!F.ar();this._d.x4(ve)){var we=(ve=F.x4()).ae(),be=this._d.gd(we),Ae=be.au();if(be.ae(new L(Ae.x,j.a())),be.ae(new L(Ae.x,me)),this.d1(we)){var xe=this._g.i1(we);be.ae(new L(xe.x+this._d.g5(P),me)),be.ae(new L(xe.x+this._d.g5(P),xe.y+this._d.g6(P)))}else be.ae(new L(_e,me)),be.ae(new L(_e,ye)),_e-=pe;me-=Ie,this._d.xr(we,we.a2(),P),this._d.m1(we,be)}if(G.ay()>0)for(var De,Te=Ht,Ne=e,Se=this._d.gi(P)+this._d.gj(P)-Yt-Ht*at._q.ay(),ze=this._d.gh(P)+this._d.g9(P),ke=ze+Ne;!G.ar();this._d.x4(De)){var Ee=(De=G.x4()).ae(),Ve=this._d.gd(Ee),je=Ve.au();if(Ve.ae(new L(je.x,j.a())),Ve.ae(new L(je.x,ke)),this.d1(Ee)){var Re=this._g.i1(Ee);Ve.ae(new L(Re.x+this._d.g5(P),ke)),Ve.ae(new L(Re.x+this._d.g5(P),Re.y+this._d.g6(P)))}else Ve.ae(new L(Se,ke)),Ve.ae(new L(Se,ze)),Se-=Te;ke+=Ne,this._d.xr(Ee,Ee.a2(),P),this._d.m1(Ee,Ve)}for(;!H.ar();){var Pe=H.c3(),Ze=this._d.gl(Pe);j.a()+12<Ze.y&&this._d.g7(Pe).i4(Ze.x,j.a())}for(;!Q.ar();){var Le=Q.c3(),Be=this._d.gs(Le);if(j.b()-12>Be.y){var Oe=this._d.gf(Le);Oe.ac(new L(Be.x,j.b())),this._d.s6(Le,Oe)}}}}for(var Ue=0;Ue<t.length;Ue++)for(var We=t[Ue],Ge=We._b;Ge;Ge=Ge.a()){var Fe=Ge.d(),Qe=this._t.a3(Fe);Qe&&Qe._a!=a&&(this._d.x4(Qe._a),We.aw(Ge.b()))}return this._d.xi(this._f),this._d.xj(this._a),this._d.xj(this._g),t},c3:function(t){return this.a3(t)?this.b1(t.ag()):this.a2(t.ae())},b1:function(t){return this._h?this._h.i1(t):Ce.s},a2:function(t){return this._l?this._l.i1(t):Ce.u},c2:function(t){if(t){var e=this.b1(t);return e!=a&&e.a()}return!1},d1:function(t){if(t){var e=this.a2(t);return e!=a&&e.a()}return!1},a3:function(t){return 1===t.ao()},b2:function(t){return 1===t.ak()},a4:function(t){for(var e=0,i=t._b;i;i=i.a())this.b2(i.d())&&e++;return e},d2:function(t){for(var e=this._k,i=xe.d(t.length+1),n=0;n<t.length;n++){var o=t[n],a=new Ae;i[n]=a,a._c=T,a._i=N;for(var r=o.x1();r.i1();r.i2()){var s=r.i9(),l=this._d.gb(s);a._c=I(a._c,l.i2()),a._i=p(a._i,l.i2()+l.i4())}}this._b.a5(t,i);for(var c=0;c<t.length;c++)for(var h=i[c],d=t[c].x1();d.i1();d.i2()){var g=d.i9(),u=this._f.i1(g);u&&(h._h=p(h._h,p(u._f.ay()*e,u._c.ay()*e)),h._f=p(h._f,p(u._b.ay()*e,u._h.ay()*e)))}return i}}),Ce.s=ce.j(2),Ce.u=ce.j(1),Ce._z=new ye;var me=function(){this._af=0,this._b=0};s(me,i,{ib:function(t){this._af=t},ia:function(t,e,i){this.a6(t,e,i),this.b2(!1);var n=this.g();if(this.o()&&n>0){for(var o=this.r(),a=0;20>a&&n>0&&this.o();a++){this.b2(!0);var r=this.g();n>r&&(this.a7(o),n=r)}this.b3(o),this.b1()}return this.c()},a6:function(t,e,i){this._b=(new Date).getTime(),this._ac=t,this._ah=e;var n=this;this._p=function(t,e){var i=n._n[t.al()]-n._n[e.al()];return i>0?1:i>=0?0:-1},this._ad=xe.d(i);for(var o=0;o<this._ad.length;o++)this._ad[o]=new St;this._ab=xe.a(this._ac.x0()),this._f=xe.d(this._ac.x0()),this._n=xe.a(this._ac.x0()+1);var a=this._ab;this._o=function(t,e){if(!t&&e)return 1;if(t&&!e)return-1;if(!t&&!e)return 0;var i=t,n=e,o=i._h,r=i.a2(),s=n.a2(),l=a[r.al()]-a[s.al()];if(0===l){var c=me.b(ce.h(o,i),o.gn(i))-me.b(ce.h(o,n),o.gn(n));if(0===c){var h=a[i.a3().al()]-a[n.a3().al()];return 0===h?me.a(ce.i(o,i),o.gk(i))-me.a(ce.i(o,n),o.gk(n)):h}return c}return l},this._l=function(t,e){if(!t&&e)return 1;if(t&&!e)return-1;if(!t&&!e)return 0;var i=t,n=e,o=i._h,r=i.a3(),s=n.a3(),l=a[r.al()]-a[s.al()];if(0===l){var c=me.a(ce.i(o,i),o.gk(i))-me.a(ce.i(o,n),o.gk(n));if(0===c){var h=a[i.a2().al()]-a[n.a2().al()];return 0===h?me.b(ce.h(o,i),o.gn(i))-me.b(ce.h(o,n),o.gn(n)):h}return c}return l},this._z=function(t,e){if(!t&&e)return 1;if(t&&!e)return-1;if(!t&&!e)return 0;var i=t,n=e,o=i._h;return me.b(ce.h(o,i),o.gn(i))-me.b(ce.h(o,n),o.gn(n))},this._e=function(t,e){if(!t&&e)return 1;if(t&&!e)return-1;if(!t&&!e)return 0;var i=t,n=e,o=i._h;return me.a(ce.i(o,i),o.gk(i))-me.a(ce.i(o,n),o.gk(n))},this._ac.x2(this._e,this._z)},c:function(){this._ah=a,this._aa=a,this._f=a,this._n=a,this._p=a,this._o=a,this._l=a,this._ac=a;var t=this._ad;return this._ad=a,t},o:function(){return(new Date).getTime()-this._b<=this._af},m:function(){for(var t=this,e=function(e,i){return f(t._n[e.a3().al()])-f(t._n[i.a3().al()])},i=this._ac.x9();i.i1();i.i2()){for(var n=i.i9().aw();n.i1();n.i2())this._n[n.i9().al()]=te.j();i.i9().av(e)}},b2:function(t){for(var e=0;e<this._ad.length;e++)this._ad[e].af();if(t){this.m();for(var i=0,n=this._ab.length;n>i;i++)this._ab[i]=0;this._ac.x2(a,this._z)}var o=this._ac.xm();this._ah.i7(o,0);for(var r=this._ac.x9();r.i1();r.i2())0===r.i9().ak()&&r.i9()!==o&&this._ac.xo(o,r.i9());var s=new q(this);s.a6(!0),s.a9(this._ac,o),this._ad[0].at(),this._ac.x4(o),this.d()},a1:function(){this._ac.x2(this._o,this._l);for(var t=0,e=1;e<this._ad.length;e++){t+=this.a2(this._ad[e-1],this._ad[e])}return t},a2:function(t,e){var i=t.ah(),n=e.ah(),o=new dt,a=new dt,r=0;for(this._aa=xe.d(this._ac.x0());i.i1()&&n.i1();n.i2())r+=this.a8(i.i6(),o,a,!0),r+=this.a8(n.i6(),a,o,!1),i.i2();for(;i.i1();i.i2())r+=this.a8(i.i6(),o,a,!0);for(;n.i1();n.i2())r+=this.a8(n.i6(),a,o,!1);return r},a8:function(t,e,i,n){var o=0,a=0,r=0;if(this._aa[t.al()])for(var s=this._aa[t.al()].a(),l=e._b;l!==s;l=l.a()){l._c===t?(o++,r+=a,e.aw(l)):a++}var c=o*i.ay()+r;if(n)for(var h=t.ag();h;h=h.a8()){var d=h.a3();this._ab[d.al()]>=this._ab[t.al()]&&(this._aa[d.al()]=i.ae(d))}else for(var g=t.ae();g;g=g.a7()){var u=g.a2();this._ab[u.al()]>this._ab[t.al()]&&(this._aa[u.al()]=i.ae(u))}return c},g:function(){for(var t=this.r(),e=this.a1(),i=!0,n=0;3>n&&this.o()&&e>0;){var o=this.k();e>o?(this.a7(t),e=o):n++,i=!i}if(this.b3(t),this.b1(),e>0){for(var a=1,r=0;1===a&&e>0;r++){this.e(),this.i();var s=this.a1();e>s?(a=1,this.a7(t)):a=-1,e=s}this.b3(t),this.b1()}return e},e:function(){for(var t=this.l(),e=this.r(),i=xe.d(this._ac.x0()),n=this._ad.length-1;n>=0;n--)for(var o=this._ad[n].ah();o.i1();o.i2()){var a=o.i6();if(1===a.ak()&&1===a.ao()){var r=t.i1(a.ag());if(r&&!i[r.al()])for(var s=this.a4(a,r),l=i[r.al()]=xe.d(s+1),c=l.length-1;c>=0;c--)l[c]=new dt}}for(var h=0;h<this._ad.length;h++)for(var d=this._ad[h].ah();d.i1();d.i2()){var g=d.i6();if(1===g.ak()&&1===g.ao()){var u=t.i1(g.ag());if(u){var f=u.al(),v=this.a4(g,u)-1;i[f][v].ae(g.ae())}}else for(var p=g.ae();p;p=p.a7()){var I=t.i1(p);I&&i[I.al()][this.a4(g,I)-1].ae(p)}}for(var _=this._ac.x9();_.i1();_.i2()){var y=_.i9();if(i[y.al()])for(var C=y.ag();C;C=C.a8()){var m=t.i1(C);if(m)for(var w=i[m.al()];w[0].ay()>0;){for(var b,A=0;;){var M=(b=w[A].am()).a3();if(1!==M.ak()||1!==M.ao())break;A++}var x=w[A].at().a3();A--,x=b.a2();for(var D=(b=w[A].at()).a3();A>=0;)if(e[x.al()]!==e[D.al()]&&(this._ab[x.al()]=e[D.al()]),x=x.ae().a2(),--A>=0){D=w[A].at().a3()}}}}this.b1(),this._ac.xj(t)},i:function(){for(var t=this.f(),e=this.r(),i=xe.d(this._ac.x0()),n=0;n<this._ad.length;n++)for(var o=this._ad[n].ah();o.i1();o.i2()){var a=o.i6();if(1===a.ak()&&1===a.ao()){var r=t.i1(a.ae());if(r&&!i[r.al()])for(var s=this.a4(r,a),l=i[r.al()]=xe.d(s+1),c=l.length-1;c>=0;c--)l[c]=new dt}}for(var h=this._ad.length-1;h>=0;h--)for(var d=this._ad[h].ah();d.i1();d.i2()){var g=d.i6();if(1===g.ak()&&1===g.ao()){var u=t.i1(g.ae());u&&i[u.al()][this.a4(u,g)-1].ae(g.ag())}else for(var f=g.ag();f;f=f.a8()){var v=t.i1(f);v&&i[v.al()][this.a4(v,g)-1].ae(f)}}for(var p=this._ac.x9();p.i1();p.i2()){var I=p.i9();if(i[I.al()])for(var _=I.ae();_;_=_.a7()){var y=t.i1(_);if(y)for(var C=i[y.al()];C[0].ay()>0;){for(var m,w=0;;){var b=(m=C[w].am()).a2();if(1!==b.ak()||1!==b.ao())break;w++}var A=C[w].at().a2();w--,A=m.a3();for(var M=(m=C[w].at()).a2();w>=0;)if(e[A.al()]!==e[M.al()]&&(this._ab[A.al()]=e[M.al()]),A=A.ag().a3(),--w>=0){M=C[w].at().a2()}}}}this.b1(),this._ac.xj(t)},a4:function(t,e){return this._ah.i2(t)-this._ah.i2(e)},l:function(){for(var t=Vt.a6(xe.d(this._ac.xg())),e=this._ac.x9();e.i1();e.i2()){var i=e.i9();if(i.ao()>1){for(var n=0,o=i.ag();o;o=o.a8()){var a=o.a3();1===a.ak()&&1===a.ao()&&n++}if(n>1)for(var r=i.ag();r;r=r.a8()){var s=r,l=s.a3();if(1===l.ak()&&1===l.ao()){for(;1===l.ak()&&1===l.ao();l=s.a3())t.i8(s,i),s=l.ag();t.i8(s,i)}}}}return t},f:function(){for(var t=Vt.a6(xe.d(this._ac.xg())),e=this._ac.x9();e.i1();e.i2()){var i=e.i9();if(i.ak()>1){for(var n=0,o=i.ae();o;o=o.a7()){var a=o.a2();1===a.ak()&&1===a.ao()&&n++}if(n>1)for(var r=i.ae();r;r=r.a7()){var s=r,l=s.a2();if(1===l.ak()&&1===l.ao()){for(;1===l.ak()&&1===l.ao();l=s.a2())t.i8(s,i),s=l.ae();t.i8(s,i)}}}}return t},k:function(){for(var t=1;t<this._ad.length;t++){for(var e=this._ad[t],i=e.ah();i.i1();i.i2()){var n=i.i6();this._n[n.al()]=this.a5(n,e.ay(),n.am(),this._ad[t-1].ay()),this._n[n.al()]+=this._ab[n.al()]/(3*this._ad[t-1].ay())}this.a3(e,this._p)}return this.a1()},a5:function(t,e,i,n){var o=0;if(0===i.i7())o=n*this._ab[t.al()]/e;else{for(;i.i1();i.i2()){var a=i.i8();o+=a.a2()===t?this._ab[a.a3().al()]:this._ab[a.a2().al()]}o/=i.i7()}return o},a7:function(t){xe.f(this._ab,t,t.length)},b3:function(t){xe.f(t,this._ab,t.length)},r:function(){var t=xe.a(this._ab.length);return this.a7(t),t},d:function(){for(var t=0;t<this._ad.length;t++)for(var e=0,i=this._ad[t].ah();i.i1();)this._ab[i.i6().al()]=e,i.i2(),e++},b1:function(){for(var t=0;t<this._ad.length;t++){for(var e=this._ad[t],i=e._b;i;i=i.a()){var n=i.d();this._f[this._ab[n.al()]]=n}for(var o=0,a=e._b;a;)a.c(this._f[o]),a=a.a(),o++}},a3:function(t,e){for(var i=t.ah(),n=0;n<t.ay();i.i2())this._f[n]=i.i6(),n++;xe.s(this._f,t.ay(),e);for(var o=0,a=t._b;a;)a.c(this._f[o]),this._ab[this._f[o].al()]=o,a=a.a(),o++}}),me.b=function(t,e){if(!t)return 0;var i=t.a()?u(e.x):0,n=t.a()?u(e.y):0;return t.e()?1e4-n:t.f()?-1e4+n:t.c()?-2e4-i:i},me.a=function(t,e){if(!t)return 0;var i=t.a()?u(e.x):0,n=t.a()?u(e.y):0;return t.e()?1e4+n:t.f()?-1e4-n:t.d()?-2e4-i:i};var we=function(){we.superClass.constructor.call(this),this._i6=0,this._i3=2147483647,this._i0=60,this._iz=20,this._i2=20,this._i4=20,this.i5(!1),this._i7=new fe,this._i1=new me,this._i8=new Ie};s(we,Pt,{j2:function(){return this._i2},i4:function(){return!0},i3:function(t){this._i6=(new Date).getTime(),le.d(t,!1);var e=t.xk(),i=t.xk(),n=t.xl(),o=new gt,a=new Ce(t,e,i,n);a.a6(this.j2()),this._i8.i3(this._iz),this._i8.i6(this._i0),this._i8.i4(this._i2),this._i8.i5(this._i4),this._i8.i2(i);for(var r=this._i7.i1(t,e,o),s=o.c1();s.i1();s.i2()){var l=s.i8();n.i7(l,!0);var c=t.gn(l);t.gt(l,t.gk(l)),t.gz(l,c)}this.a2(t,e,i),r=a.a9(r);var h=this.j1(t,e,r);h=a.a5(h),h=a.b3(h),this._i8.i1(t,h,e),h=a.g2(h),a.e2(h),this.b(t,i),this.w(t),this.a1(t,o),a.e1(),t.xj(n),t.xi(i),t.xi(e)},j1:function(t,e,i){if(this._i1 instanceof me){var n=this._i1,o=(new Date).getTime()-this._i6;n.ib(this._i3-o)}return this._i1.ia(t,e,i)},a1:function(t,e){for(var i=e.c1();i.i1();i.i2()){var n=i.i8(),o=t.gs(n),a=t.gl(n);t.x3(n);var r=t.gp(n);t.s5(n,r.a()),t.gy(n,o),t.gx(n,a)}},b:function(t,e){for(var i=t.x9();i.i1();i.i2()){var n=i.i9(),o=e.i1(n);if(o&&!t.xp(o)){for(var a=n.am().i8().a2();e.i1(a);a=n.am().i8().a2())n=a;t.u1(o);for(var r=n.ae(),s=new dt;e.i1(r.a3());r=r.a3().ag()){var l=t.gs(r);s.aa(l),s.az(t.gf(r));var c=t.gl(r);c.equals(l)||s.aa(c)}var h=t.gs(r);s.aa(h),s.az(t.gf(r));var d=t.gl(r);d.equals(h)||s.aa(d),t.m1(o,s)}}for(var g=t.x9();g.i1();g.i2())e.i1(g.i9())&&t.x4(g.i9())},w:function(t){for(var e=t.xf();e.i1();e.i2()){var i=e.i8(),n=t.g2(i);if(n.i1()>0){var o=new l,a=t.gc(i).c(),r=a.i6();a.i2();var s=r.x,c=r.y;if(a.i1()){var h=a.i6(),d=h.x,g=h.y;for(a.i2();a.i1();a.i2()){var u=a.i6(),f=u.x,v=u.y;_((s-f)*(g-v)/(c-v)+f-d)>=1&&(o.add(h),s=d,c=g),h=u,d=f,g=v}}o.size()<n.i1()&&t.s5(i,new G(o))}}},a2:function(t,e,i){var n=t.g8().c1();for(n.i5();n.i1();n.i3()){var o=n.i8().a2(),a=n.i8().a3(),r=e.i2(a)-e.i2(o);if(r>1){for(var s,l,c=o;r>1;r--)s=t.xm(),t.s7(s,1,1),t.s4(s,te._A),l=t.xo(c,s),c===o&&t.gt(l,t.gn(n.i8())),e.i7(s,e.i2(c)+1),i.z1(s,n.i8()),c=s;l=t.xo(s,a),t.gz(l,t.gk(n.i8())),t.h1(n.i8())}}}});var be=function(t,e,i,n){this._i=20,this._j=t,this._g=e,this._a=i,this._h=n};s(be,i,{a1:function(t){this._i=t},b2:function(t){return!!this._e&&this._e.i4(t)},a3:function(t){return this._f?this._f.i1(t):a},d:function(){this._j.xi(this._f),this._j.xi(this._e)}});var Ae=function(){this._c=0,this._i=0,this._g=0,this._j=0,this._f=0,this._h=0,this._d=0,this._e=0,this._a=0,this._b=0};s(Ae,i,{a:function(){return this._c-this._g-this._f-this._a},b:function(){return this._i+this._j+this._h+this._b}});s(function(){this._d=new gt,this._b=new gt,this._c=new gt,this._e=new gt},i,{});var Me=function(t,e,i,n,o,a,r,s){this._d=t,this._a=e,this._b=i,this._h=n,this._f=o,this._c=a,this._e=r,this._g=s};s(Me,i,{});var xe={a:function(t,e){for(var i=[],n=0;t>n;n++)i[n]=e||0;return i},b:function(t){for(var e=[],i=0;t>i;i++)e[i]=!1;return e},c:function(t,e){if(t instanceof L)return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y<=e.y?0:1;if(t instanceof B)return e.width>t.width?-1:e.width<t.width?1:e.height>t.height?-1:e.height>=t.height?0:1;if(t instanceof U)return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:e.width>t.width?-1:e.width<t.width?1:e.height>t.height?-1:e.height>=t.height?0:1;throw""},d:function(t){for(var e=[],i=0;t>i;i++)e[i]=a;return e},e:function(t,e){for(var i=[],n=0;t>n;n++)i[n]=xe.a(e);return i},f:function(t,e,i){for(var n=0;i>n;n++)e[n]=t[n]},s:function(t,e,i){var n=[];xe.f(t,n,e),n.sort(i),xe.f(n,t,e)},n:function(t,e){return t-e}};o.layout.AutoLayout=function(t,e){t instanceof o.DataModel?this.dm=t:this.gv=t,this.options=e||{}},s("ht.layout.AutoLayout",i,{_repulsion:1,_type:a,_offsetX:a,_offsetY:a,_xf:0,_yf:0,_animate:!0,_frames:a,_interval:a,_duration:a,_easing:a,isAnimate:function(){return this._animate},setAnimate:function(t){this._animate=t},getFrames:function(){return this._frames},setFrames:function(t){this._frames=t},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t},getDuration:function(){return this._duration},setDuration:function(t){this._duration=t},getEasing:function(){return this._easing},setEasing:function(t){this._easing=t},getRepulsion:function(){return this._repulsion},setRepulsion:function(t){this._repulsion=t},getOffsetX:function(){return this._offsetX},setOffsetX:function(t){this._offsetX=t},getOffsetY:function(){return this._offsetY},setOffsetY:function(t){this._offsetY=t},getNodeSize:function(t){var e,i,o,a,s=this.gv;return t.getChildrenRect&&((e=t.getChildrenRect())&&r.grow(e,15)),!e&&s&&s.getDataUIBounds&&(e=s.getDataUIBounds(t)),e||(e=t.getRect(),r.grow(e,15)),i=t.s("autolayout.gap"),o=t.s("autolayout.hgap"),a=t.s("autolayout.vgap"),i!==n||o!==n||a!==n?(o=(o||0)+(i||0),a=(a||0)+(i||0)):(o=(i=this.options.gap||0)+(this.options.hgap||0),a=i+(this.options.vgap||0)),o&&(e.x-=o,e.width=e.width+2*o),a&&(e.y-=a,e.height=e.height+2*a),e},isLayoutable:function(t){var e=this.gv;return!(e&&!e.isVisible(t))&&(!1!==t.s("layoutable")&&(t instanceof h?!(!t.getSourceAgent()||!t.getTargetAgent()||t.isLooped()):t instanceof c&&(!t.getHost()&&(!e||e.isMovable(t)))))},getType:function(){return this._type},getLayoutDatas:function(){var t,e=this,i=e.gv,n=e.dm,o=!1,r=new l;return i?i.sm().size()>1?(o=!0,t=i.sm().getSelection()):t=i.dm().getDatas():n.sm().size()>1?(o=!0,t=n.sm().getSelection()):t=n.getDatas(),e._xf=e._yf=T,t.each(function(t){if(e.isLayoutable(t)&&(r.add(t),o&&t instanceof c)){var i=t.p();i.x<e._xf&&(e._xf=i.x),i.y<e._yf&&(e._yf=i.y)}}),o||(e._xf=e._offsetX==a?50:e._offsetX,e._yf=e._offsetY==a?50:e._offsetY),r},getLayoutResult:function(t){var e={};return this.layoutImpl(t,a,e),e},layout:function(t,e){return this.layoutImpl(t,e)},layoutImpl:function(t,e,i){this._type=t;var n=this,o={},a=R(t),s=n.getLayoutDatas(),l=new ue(n,s);if(!a)return!1;s=l.p();var c=new se(n,s,t);try{a.i2(c)}catch(t){return l.r(),e&&e(),!1}var h,d,g,u,f=c._a;for(h in f)d=f[h],u=c.g4(d),o[h]={x:u.x+n._xf,y:u.y+n._yf};if(t===E||t===V||t===k){var v,p=P(t),I=T,_=T,y=2*n._repulsion;for(h in o)d=f[h],g=o[h],u=p.tf(g),g.x=u.x,g.y=u.y,t===E||t===V?(I>(v=u.x-c.g9(d)/y)&&(I=v),_>(v=u.y-c.gj(d)/y)&&(_=v)):(I>(v=u.x-c.gj(d)/y)&&(I=v),_>(v=u.y-c.g9(d)/y)&&(_=v));for(h in o)d=f[h],(g=o[h]).x=g.x-I+n._xf,g.y=g.y-_+n._yf}if(!i&&n._animate){var C=n.gv,m={};for(h in o)m[h]=f[h].node.p();C&&(C._autoLayouting=1),r.startAnim({duration:n._duration,frames:n._frames,interval:n._interval,easing:n._easing,finishFunc:function(){l.r(),e&&e(),C&&(delete C._autoLayouting,C.onAutoLayoutEnded())},action:function(t){for(h in o){var e=m[h],i=o[h];f[h].node.p(e.x+(i.x-e.x)*t,e.y+(i.y-e.y)*t)}}})}else{for(h in o)d=f[h],g=o[h],i?i[d.node.getId()]=g:d.node.p(g);l.r(),e&&e()}return!0}})}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object)}).call(e,i("DuR2"),i("3IRH")(t))},jCBT:function(t,e){},jZDA:function(t,e){},jksn:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19jdXJ2ZTwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIj4NCiAgICAgICAgPGcgaWQ9IjA05ZyG5b2i55+p5b2i6YCJ5oupIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTA3LjAwMDAwMCwgLTE5MC4wMDAwMDApIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMiI+DQogICAgICAgICAgICA8ZyBpZD0i5bem5L6n5qCPIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMTIwLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtMTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwNy4wMDAwMDAsIDcwLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImljL2N1cnZlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgLTAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIsMjAuNzQ4MjY3IEM2LjM4MDYzNTkyLDE1LjgzNTM0ODkgMTIuMzgwNjM1OSwxNS43NTIwMTU2IDIwLDIwLjQ5ODI2NyBDMjcuNjE5MzY0MSwyNS4yNDQ1MTg0IDMzLjYxOTM2NDEsMjUuMTYxMTg1MSAzOCwyMC4yNDgyNjciIGlkPSLnm7Tnur8iPjwvcGF0aD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},"l8/O":function(t,e){},lKIu:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY195ZXpodTwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjEw5oyH56S65pi+56S66YCJ5oup5qC35byPIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzQuMDAwMDAwLCAtNDM2LjAwMDAwMCkiPg0KICAgICAgICAgICAgPGcgaWQ9IuW3puS+p+agjyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEyMC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTEzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi4wMDAwMDAsIDY5LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iaWNfeWV6aHUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDguMDAwMDAwLCAyNDcuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGlkPSLmpK3lnIblvaItY29weS0yIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjeD0iMjAiIGN5PSIyMCIgcj0iMTciPjwvY2lyY2xlPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE4LjMzMDkwOTksMjUuMDIwOTMzNCBMMTkuNTAyODY2MywxNC4xMjI4NjU3IEMxOS41MzIzOTE4LDEzLjg0ODMwNjQgMTkuNzc4OTAxNCwxMy42NDk2NjcyIDIwLjA1MzQ2MDgsMTMuNjc5MTkyOCBDMjAuMjg3Mjg5MywxMy43MDQzMzgyIDIwLjQ3MTk4ODMsMTMuODg5MDM3MyAyMC40OTcxMzM3LDE0LjEyMjg2NTcgTDIxLjY2OTA5MDEsMjUuMDIwOTMzNCBDMjIuNzU5NzAwMSwyNS42MTM3NDg0IDIzLjUsMjYuNzY5NDU5NiAyMy41LDI4LjA5ODA3NzIgQzIzLjUsMzAuMDMxMDczOCAyMS45MzI5OTY2LDMxLjU5ODA3NzIgMjAsMzEuNTk4MDc3MiBDMTguMDY3MDAzNCwzMS41OTgwNzcyIDE2LjUsMzAuMDMxMDczOCAxNi41LDI4LjA5ODA3NzIgQzE2LjUsMjYuNzY5NDU5NiAxNy4yNDAyOTk5LDI1LjYxMzc0ODQgMTguMzMwOTA5OSwyNS4wMjA5MzM0IFoiIGlkPSLlkIjlubblvaLnirYiIGZpbGw9IiM2MTdFRkUiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxMCIgeD0iMjQiIHk9IjEwLjUiIHdpZHRoPSIxIiBoZWlnaHQ9IjEiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQuMDU4NzQzLCA4LjE3NzI4NCkgcm90YXRlKDE5LjAwMDAwMCkgdHJhbnNsYXRlKC0yNC4wNTg3NDMsIC04LjE3NzI4NCkgIiB4PSIyOC4wNTg3NDM0IiB5PSIxMS4xNzcyODQ1IiB3aWR0aD0iMSIgaGVpZ2h0PSIxIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3LjY3NzY1OSwgMTAuMTM1NzQ0KSByb3RhdGUoMzguMDAwMDAwKSB0cmFuc2xhdGUoLTI3LjY3NzY1OSwgLTEwLjEzNTc0NCkgIiB4PSIzMS42Nzc2NTg5IiB5PSIxMy4xMzU3NDM2IiB3aWR0aD0iMSIgaGVpZ2h0PSIxIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0i55+p5b2iIiBzdHJva2U9IiMzMzMzMzMiIHN0cm9rZS13aWR0aD0iMTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMwLjQ2NDU4MSwgMTMuMTYzMTQ4KSByb3RhdGUoNTcuMDAwMDAwKSB0cmFuc2xhdGUoLTMwLjQ2NDU4MSwgLTEzLjE2MzE0OCkgIiB4PSIzNC40NjQ1ODEiIHk9IjE2LjE2MzE0OCIgd2lkdGg9IjEiIGhlaWdodD0iMSI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5LjUzNTQxOSwgMTMuMTYzMTQ4KSByb3RhdGUoMzAzLjAwMDAwMCkgdHJhbnNsYXRlKC05LjUzNTQxOSwgLTEzLjE2MzE0OCkgIiB4PSIxMy41MzU0MTkiIHk9IjE2LjE2MzE0OCIgd2lkdGg9IjEiIGhlaWdodD0iMSI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjEwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMi4zMjIzNDEsIDEwLjEzNTc0NCkgcm90YXRlKDMyMi4wMDAwMDApIHRyYW5zbGF0ZSgtMTIuMzIyMzQxLCAtMTAuMTM1NzQ0KSAiIHg9IjE2LjMyMjM0MTEiIHk9IjEzLjEzNTc0MzYiIHdpZHRoPSIxIiBoZWlnaHQ9IjEiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIHN0cm9rZT0iIzMzMzMzMyIgc3Ryb2tlLXdpZHRoPSIxMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUuOTQxMjU3LCA4LjE3NzI4NCkgcm90YXRlKDM0MS4wMDAwMDApIHRyYW5zbGF0ZSgtMTUuOTQxMjU3LCAtOC4xNzcyODQpICIgeD0iMTkuOTQxMjU2NiIgeT0iMTEuMTc3Mjg0NSIgd2lkdGg9IjEiIGhlaWdodD0iMSI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},"lV/3":function(t,e){},m2om:function(t,e,i){t.exports=i.p+"static/img/ic_fengshan_gongpin.eab732a.svg"},mGRR:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("woOf"),o=i.n(n),a=i("Dd8w"),r=i.n(a),s=(i("vLgD"),i("NYxO")),l={name:"preview",data:function(){return{deviceType:"c8y_MQTTDevice",deviceId:"166143",data:"",viewPreview:""}},computed:r()({},Object(s.c)(["previewData"])),methods:{previewGraph:function(){console.log("previewData is ",this.previewData);var t=new ht.DataModel,e=new ht.graph.GraphView(t);this.viewPreview=e.getView(),this.viewPreview.className="viewPreview",t.deserialize(this.data),e.setZoomable(!1),e.enableFlow(),e.enableDashFlow(),e.setDisabled(!0)},handleReDraw:function(t){console.log("handleReDraw",t),this.data.d.map(function(e){e.s.binding_var===t.type&&e.s.nodeType})}},created:function(){this.data=o()(this.previewData,{}),this.previewGraph()},mounted:function(){console.log("routes query",this.$route.query),this.$refs.preview.appendChild(this.viewPreview)},destroyed:function(){this.ws.close()}},c={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"preview",staticClass:"preview"})},staticRenderFns:[]};var h=i("VU/8")(l,c,!1,function(t){i("yfsc"),i("l8/O")},"data-v-d8cb794a",null);e.default=h.exports},mmJy:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19zZWFyY2g8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PC9nPg0KPC9zdmc+"},nLm9:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19jaXJjbGU8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSIwNOWchuW9ouefqeW9oumAieaLqSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE3OS4wMDAwMDAsIC0xOTAuMDAwMDAwKSIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiPg0KICAgICAgICAgICAgPGcgaWQ9IuW3puS+p+agjyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDEyMC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTE1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzkuMDAwMDAwLCA3MC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC0zIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJpYy9jaXJjbGUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9IuakreWchuW9oiIgY3g9IjIwIiBjeT0iMjAiIHI9IjE0Ij48L2NpcmNsZT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},ocdw:function(t,e,i){(function(t){!function(t,e,i){"use strict";var n=t.ht,o=n.Default,a=o.def,r=o.getInternal();n.HistoryManager=function(t){this._histories=[],this.setDataModel(t)},a(n.HistoryManager,e,{ms_ac:["dataModel","histories","historyIndex","maxHistoryCount","disabled"],ms_fire:1,_historyIndex:-1,_betweenTransaction:0,_maxHistoryCount:200,_disabled:!1,ignoredPropertyMap:{imageLoaded:!0,children:!0,attaches:!0,shape:!0,childChange:!0,agentChange:!0,sourceAgent:!0,targetAgent:!0,edgeGroup:!0,"*":!0},ignoreDataModelPropertyMap:{},beginInteraction:function(){this.beginTransaction()},endInteraction:function(){this.endTransaction()},beginTransaction:function(){if(!this._disabled){var t=this;t._betweenTransaction++,1===t._betweenTransaction&&(t._transactionHistories={})}},endTransaction:function(){if(!this._disabled){var t=this,e=t._histories;if(t._betweenTransaction>0&&t._betweenTransaction--,0===t._betweenTransaction){if(t._transactionHistories){var i=[];for(var n in t._transactionHistories)i.push(t._transactionHistories[n]);i.length&&((e=e.slice(0,t._historyIndex+1)).push(i),e.length>t._maxHistoryCount&&(e=e.slice(e.length-t._maxHistoryCount)),t.setHistories(e),t.setHistoryIndex(e.length-1,!0))}delete t._transactionHistories}}},setDataModel:function(t){var e=this,i=e._dataModel;i!==t&&(i&&(delete i._historyManager,i.ump(e.handleDataModelPropertyChange,e),i.umm(e.$5p,e),i.umd(e.$6p,e),i.removeHierarchyChangeListener(e.handleHierarchyChange,e),i.removeIndexChangeListener(e.handleIndexChange,e)),e._dataModel=t,t&&(t._historyManager=e,t.mp(e.handleDataModelPropertyChange,e),t.mm(e.$5p,e),t.md(e.$6p,e),t.addHierarchyChangeListener(e.handleHierarchyChange,e),t.addIndexChangeListener(e.handleIndexChange,e)),e.fp("dataModel",i,t),e.clear())},setHistoryIndex:function(t,e){var i=this,n=i._historyIndex,o=i._histories.length;if(-1>t?t=-1:t>=o&&(t=o-1),n!==t){if(!e){var a=t-n;a>0?i.$2p(a):0>a&&i.$1p(-a)}i._historyIndex=t,i.fp("historyIndex",n,t),i.dataModel&&i.dataModel.onHistoryManagerChanged()}},setMaxHistoryCount:function(t){var e=this,i=e._histories,n=e._maxHistoryCount;(!t||0>=t)&&(t=10),n!==t&&(e._maxHistoryCount=t,e.fp("maxHistoryCount",n,t),i.length>t&&e.clear())},cloneValue:function(t){return n.Default.clone(t)},isPropertyUndoable:function(t){return t&&!this.ignoredPropertyMap[t]},isDataModelPropertyUndoable:function(t){return t&&!this.ignoreDataModelPropertyMap[t]},$5p:function(t){this.handleChange(t,t.kind)},$6p:function(t){this.handleChange(t,"property")},handleHierarchyChange:function(t){this.handleChange(t,"hierarchy")},handleIndexChange:function(t){this.handleChange(t,"index")},handleDataModelPropertyChange:function(t){this.handleChange(t,"dataModelProperty")},toChildrenInfo:function(t){var e={};return e.data=t,e.children=[],t.eachChild(function(t){e.children.push(this.toChildrenInfo(t))},this),e},restoreChildren:function(t){var e=t.data;t.children.forEach(function(t){var i=t.data;i.getParent()!==e&&e.addChild(i),this._dataModel.contains(i)||this._dataModel.add(i),this.restoreChildren(t)},this)},handleChange:function(t,e){var i=this;if(!(i._disabled||i._isUndoRedoing||o.loadingRefGraph)){var a,r=(i._histories,t.data),s=t.property;if(!r||!(r._refGraph||r instanceof n.RefGraph)){if("property"===e)i.isPropertyUndoable(s,r)&&(a={kind:e,data:r,property:s,oldValue:i.cloneValue(t.oldValue,r,s),newValue:i.cloneValue(t.newValue,r,s),event:t});else if("hierarchy"===e||"index"===e)a={kind:e,data:r,oldIndex:t.oldIndex,newIndex:t.newIndex,event:t};else if("clear"===e)a={kind:e,json:t.json,event:t};else if("add"===e){if((a={kind:e,data:r,event:t,childrenInfo:this.toChildrenInfo(r),parent:r.getParent()}).parent){var l=i._dataModel.getSiblings(r);a.siblingsIndex=l.indexOf(r)}r instanceof n.Node&&(a.host=r.getHost(),a.attaches=r.getAttaches()?r.getAttaches().toArray():void 0),r instanceof n.Edge&&(a.source=r.getSource(),a.target=r.getTarget())}else"remove"===e?a={kind:e,data:r,event:t}:"dataModelProperty"===e&&i.isDataModelPropertyUndoable(s,r)&&(a={kind:e,property:s,oldValue:i.cloneValue(t.oldValue,r,s),newValue:i.cloneValue(t.newValue,r,s),event:t});i.addHistory(a)}}},addHistory:function(t){var e=this;if(t)if(e._betweenTransaction){var i=(t.data?t.data._id:0)+"_"+t.kind+"_"+t.property;if("property"===t.kind||"dataModelProperty"===t.kind){var n=e._transactionHistories[i];n&&(t.oldValue=n.oldValue)}e._transactionHistories[i]=t}else{var o=e._histories;(o=o.slice(0,e._historyIndex+1)).push([t]),o.length>e._maxHistoryCount&&(o=o.slice(o.length-e._maxHistoryCount)),e.setHistories(o),e.setHistoryIndex(o.length-1,!0)}},canUndo:function(){return!this._disabled&&this._historyIndex>=0&&this._historyIndex<this._histories.length},canRedo:function(){return!this._disabled&&this._historyIndex>=-1&&this._historyIndex<this._histories.length-1},undo:function(t){(!t||0>=t)&&(t=1),this.setHistoryIndex(this._historyIndex-t)},$1p:function(t){if(this.canUndo()){var e,i=this,n=i._dataModel,a=i._histories,s=i._historyIndex,l=0;for(i._isUndoRedoing=!0,o.setIsolating(!0);t>0;){if(s>=0&&s<a.length){l++,e=a[s],s--;for(var c=e.length-1;c>=0;c--){var h=e[c],d=h.kind,g=h.data,u=h.property,f=h.event,v=this.cloneValue(h.oldValue,g,u);if(h.undo)h.undo();else if("add"===d)n.remove(g,{keepChildren:!0});else if("remove"===d)n.contains(g)||n.add(g,f.rootsIndex,f.datasIndex);else if("clear"===d)n.deserialize(o.clone(h.json));else if("property"===d)if("parent"===u)v?v.addChild(g,f.oldIndex):(g.setParent(v),f.oldIndex>=0&&n.moveTo(g,f.oldIndex));else{var p=null;0===u.indexOf("a:")?(p="attr",u=u.replace("a:","")):0===u.indexOf("s:")?(p="style",u=u.replace("s:","")):0===u.indexOf("f:")&&(p="field",u=u.replace("f:","")),r.setPropertyValue(g,p,u,v)}else if("dataModelProperty"===d){p=null;0===u.indexOf("a:")?(p="attr",u=u.replace("a:","")):0===u.indexOf("s:")?(p="style",u=u.replace("s:","")):0===u.indexOf("f:")&&(p="field",u=u.replace("f:","")),r.setPropertyValue(n,p,u,v)}else"hierarchy"===d?n.moveTo(g,h.oldIndex):"index"===d&&n.moveToIndex(g,h.oldIndex)}}t--}o.setIsolating(!1),delete i._isUndoRedoing,i.afterUndo(l)}},afterUndo:function(){},redo:function(t){(!t||0>=t)&&(t=1),this.setHistoryIndex(this._historyIndex+t)},$2p:function(t){if(this.canRedo()){var e,i=this,a=i._dataModel,s=i._histories,l=i._historyIndex,c=0;for(i._isUndoRedoing=!0,o.setIsolating(!0);t>0;){if(l>=-1&&l<s.length-1){c++,e=s[++l];for(var h=0;h<e.length;h++){var d=e[h],g=d.kind,u=d.data,f=d.property,v=d.event,p=this.cloneValue(d.newValue,u,f);if(d.redo)d.redo();else if("add"===g)d.parent&&!u.getParent()&&d.parent.addChild(u,d.siblingsIndex),a.contains(u)||a.add(u,v.rootsIndex,v.datasIndex),this.restoreChildren(d.childrenInfo),u instanceof n.Node&&(u.setHost(d.host),d.attaches&&d.attaches.forEach(function(t){t.setHost(u)})),u instanceof n.Edge&&(u.setSource(d.source),u.setTarget(d.target));else if("remove"===g)a.remove(u);else if("clear"===g)a.clear();else if("property"===g)if("parent"===f)p?p.addChild(u,v.newIndex):(u.setParent(p),v.newIndex>=0&&a.moveTo(u,v.newIndex));else{var I=null;0===f.indexOf("a:")?(I="attr",f=f.replace("a:","")):0===f.indexOf("s:")?(I="style",f=f.replace("s:","")):0===f.indexOf("f:")&&(I="field",f=f.replace("f:","")),r.setPropertyValue(u,I,f,p)}else if("dataModelProperty"===g){I=null;0===f.indexOf("a:")?(I="attr",f=f.replace("a:","")):0===f.indexOf("s:")?(I="style",f=f.replace("s:","")):0===f.indexOf("f:")&&(I="field",f=f.replace("f:","")),r.setPropertyValue(a,I,f,p)}else"hierarchy"===g?a.moveTo(u,d.newIndex):"index"===g&&a.moveToIndex(u,d.newIndex)}}t--}o.setIsolating(!1),delete i._isUndoRedoing,this.afterRedo(c)}},afterRedo:function(){},clear:function(){this.setHistories([]),this.setHistoryIndex(-1,!0),this._betweenTransaction=0,delete this._transactionHistories}})}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object)}).call(e,i("DuR2"))},ompb:function(t,e){},pIRn:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19jaGV4aWFvPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iMTQ0MHg5MDAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iMDTlnIblvaLnn6nlvaLpgInmi6kiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01MC4wMDAwMDAsIC03NS4wMDAwMDApIiBmaWxsPSIjNjY2NjY2IiBmaWxsLXJ1bGU9Im5vbnplcm8iPg0KICAgICAgICAgICAgPGcgaWQ9IuW3peWFt+agjyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDYwLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxnIGlkPSJpYy9jaGV4aWFvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0NS4wMDAwMDAsIDEwLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuMDAwMDAwLCA1LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyLjA3NTMwNjYsOS4zNDAxNDk0NSBMMTIuMDc1MzA2Niw0LjUgTDIuNSwxMy4wODEzMTA4IEwxMi4wNzUzMDY2LDIxLjY2NDQ2MTMgTDEyLjA3NTMwNjYsMTYuNDc0MTk4NSBDMTQuNzM1NTk4NCwxNi40NzQxOTg1IDIyLjk1MzQ0NjcsMTYuNDc0MTk4NSAyNi41LDI0LjUgTDI2LjUsMjMuNjA4MjE4MyBDMjYuNSwyMC4wNDEyMDg0IDIyLjk1Mjk0NDIsOC41ODA3NjI2IDEyLjA3NTMwNjYsOS4zNDAxNDk0NSBaIiBpZD0i6Lev5b6EIj48L3BhdGg+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},pJEz:function(t,e,i){(function(t){!function(e,i,n){"use strict";var o="ht";if(!e.ht){!function(){var t;Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),e.performance&&e.performance.now||(t=Date.now(),e.performance||(e.performance={}),e.performance.now=function(){return Date.now()-t});for(var o=Date.now(),a=["ms","moz","webkit","o"],r=0;r<a.length&&!e.requestAnimationFrame;++r)e.requestAnimationFrame=e[a[r]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[a[r]+"CancelAnimationFrame"]||e[a[r]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(t){var i=Date.now(),n=16+o-i;return 0>n&&(n=0),o=i,e.setTimeout(function(){o=Date.now(),t(performance.now())},n)}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(t){return e.clearTimeout(t)}),i.assign===n&&(i.assign=function(t){if(t===n||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=i(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!==n&&null!==a)for(var r in a)i.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e})}();var a=e.document,r=null,s=e.ht={},l=e.htconfig,c=s.Default=l&&l.Default||{},h=s.Style=l&&l.Style||{},d=s.Attr=l&&l.Attr||{},g=s.Color=l&&l.Color||{},u=s.IsGetter=l&&l.IsGetter||{};!function(){var t=!1;try{var n=i.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("test",n,n),e.removeEventListener("test",n,n)}catch(e){t=!1}c.passiveSupported=t}();var f,v,p,I=c.passiveSupported,_=c.eventListenerOptionsFalse=!!I&&{passive:!1,capture:!1},y=c.eventListenerOptionsTrue=!I||{passive:!1,capture:!0},C=Math,m=C.round,w=C.floor,b=C.ceil,A=C.sqrt,M=C.max,x=C.min,D=C.abs,T=C.cos,N=C.acos,S=C.sin,z=C.pow,k=C.asin,E=C.PI,V=2*E,j=E/2,R=C.tan,P=C.atan2,Z=C.random,L=C.log,B=!1,O=!1,U=e.parseInt||t.parseInt,W="2019-05-15",G=!!e.navigator&&e.navigator.platform.indexOf("Win")>-1,F=function(t){return t*t},Q=e.setTimeout,H=e.clearTimeout,Y=e.location,J=e.navigator?e.navigator.userAgent.toLowerCase():"",X=function(t){return t.test(J)},$=X(/msie/),K=X(/msie/)||X(/trident/),q=X(/msie 10/),tt=X(/edge/),et=X(/firefox/),it=X(/mac/),nt=c.isTouchable===n?!G&&(!!a&&"ontouchend"in a):c.isTouchable,ot="default",at="single",rt="multiple",st="front",lt="back",ct="left",ht="right",dt="top",gt="bottom",ut="center",ft="eye",vt="east",pt="west",It="north",_t="none",yt="px",Ct="absolute",mt="border",wt="triangle",bt="rect",At="circle",Mt="cylinder",xt="shape",Dt="items",Tt="normal",Nt="remove",St="clear",zt="width",kt="height",Et="ingroup",Vt="check",jt="uncheck",Rt="radioOn",Pt="radioOff",Zt="points",Lt="values",Bt="series",Ot="label",Ut="label2",Wt="note",Gt="note2",Ft="icons",Qt="labelFont",Ht="labelColor",Yt="labelSelectColor",Jt="note.expanded",Xt="note2.expanded",$t="edge.expanded",Kt="edge.points",qt="edge.type",te="rotation",ee="hidden",ie="visible",ne="tuv",oe="no",ae="draw",re="select",se="currentSubGraph",le="selectBackground",ce="autoMakeVisible",he="autoHideScrollBar",de="scrollBarColor",ge="scrollBarSize",ue="indent",fe="rowHeight",ve="columnLineColor",pe="rowLineColor",Ie="columnLineVisible",_e="rowLineVisible",ye="visibleFunc",Ce="expandIcon",me="collapseIcon",we="checkMode",be="sortFunc",Ae="editable",Me="batchEditable",xe="tristate",De="asc",Te="desc",Ne="position",Se="elevation",ze="children",ke="translateX",Ee="translateY",Ve="dataModel",je="shape3d",Re="shape3d.resolution",Pe="shape3d.visible",Ze="shape3d.from.visible",Le="shape3d.to.visible",Be="shape3d.top.visible",Oe="shape3d.bottom.visible",Ue="repeat.uv.length",We="serializeValue",Ge="deserializeValue",Fe="centerUniform",Qe="uniform",He="rgba(255,255,255,0)",Ye="field",Je="string",Xe="boolean",$e="color",Ke="int",qe="number",ti="ew-resize",ei="ns-resize",ii="pointer",ni="auto",oi="mousedown",ai="mousemove",ri="mouseup",si="mouseout",li="touchstart",ci="touchmove",hi="touchend",di="keydown",gi="keyup",ui=["DOMMouseScroll","mousewheel"],fi=et?ui[0]:ui[1],vi=nt?[li,ci,hi,di,gi,"keypress","input","contextmenu","compositionstart","compositionupdate","compositionend"]:[di,gi,"keypress","input",oi,ai,ri,si,fi,"wheel","contextmenu","mouseenter","mouseleave","mouseover","compositionstart","compositionupdate","compositionend"],pi=r,Ii=r,_i=r,yi=ri.length,Ci=function(){_i&&(H(_i.timeout),_i=r)},mi=function(){_i&&gr(_i.e,_i.info)};e.addEventListener&&(nt||(e.addEventListener(si,function(){Ci()},_),e.addEventListener(fi,function(){ur()},_)),e.addEventListener(gi,function(t){91===t.keyCode?ji={}:delete ji[t.keyCode]},y),e.addEventListener(di,function(t){ji[t.keyCode]=!0},y),e.addEventListener("blur",function(){ji={}},_));var wi,bi,Ai,Mi=0,xi=r,Di=function(t,e){var i=Q(function(){delete xi[i],kn(xi)&&(xi=r),t()},e);return i},Ti=r,Ni=r,Si={},zi={},ki={},Ei={},Vi={},ji={},Ri={},Pi={},Zi={},Li={},Bi=/.json$/,Oi=/^data:image\/svg\+xml/,Ui={},Wi=[],Gi={},Fi=function(){},Qi=function(){throw"Oops!"},Hi=[0,0,0],Yi={x:0,y:0,width:0,height:0},Ji=r,Xi=r,$i=r,Ki=function(t,e){zi[t]=e,e&&e.comps&&!e.uuid&&(e.uuid=s.Math.generateUUID()),ec[t]&&(e.cacheRule=ec[t],delete ec[t])},qi=function(t){Xi&&!t._72O&&($i||($i={}),$i[t._72O=Or()]=t),wi!=r?Pn()<.05&&p&&!bi&&(uo=Ci):uo=vn},tn=function(t,e,i,n){Xi||(Xi={});var o=Xi[t];if(o){if(o.url===e)return;o.image?(o.image.onload=Fi,o.image.onerror=Fi):o.request&&(o.request.onload=Fi,o.request.onerror=Fi)}if(Bi.test(e)){var s=new ph;if(Xi[t]={request:s,url:e},(e=c.beforeLoadURL(e)).data){var l=c.parse(e.data);en(t,l),c.handleImageLoaded(t,l)}else{s.onload=function(i){if(200===this.status||0===this.status){var n=c.parse(i.target.response||i.target.responseText);en(t,n),c.handleImageLoaded(t,n)}else en(t,c.handleUnfoundImage(t,e)||r)},s.onerror=function(){en(t,c.handleUnfoundImage(t,e)||r)};var h={};h.url=encodeURI(e),h.sync=!1,s.send(h)}}else{l=new Image;Xi[t]={image:l,url:e},/^data:image/.test(e)||(e=c.beforeLoadURL(e),e=c.appendTimeStamp(e),e=encodeURI(e),l.crossOrigin=c.crossOrigin),c.convertImageSrc(e,function(o){K&&(e.toLowerCase().indexOf(".svg")>0||Oi.test(e))?(a.body.appendChild(l),l.style.visibility="hidden",l.onload=function(){Q(function(){if(i&&(l.width=i),n&&(l.height=n),!l.width||!l.height){var e=l.width||l.clientWidth,o=l.height||l.clientHeight;l.width=e,l.height=o}c.handleImageLoaded(t,l),en(t,l),a.body.removeChild(l),l.style.visibility=""},180)},l.onerror=function(){en(t,c.handleUnfoundImage(t,e)||r),a.body.removeChild(l),l.style.visibility=""}):(l.onload=function(){i&&(l.width=i),n&&(l.height=n),c.handleImageLoaded(t,l),en(t,l)},l.onerror=function(){en(t,c.handleUnfoundImage(t,e)||r)}),l.src=o})}},en=function(t,e){if(Ki(t,e),delete Xi[t],kn(Xi)&&(Xi=r,$i)){for(var i in $i){(o=$i[i])._2O&&o._2O[t]&&(o.deleteTexture(t),delete o._2O[t]),o.invalidateAll&&o.invalidateAll(n,"imageLoaded",t),o.redraw&&o.redraw(),o.iv(),delete o._72O}$i=r}if(e&&$i)for(var i in $i){var o;(o=$i[i]).invalidateAll&&o.invalidateAll(n,"imageLoading",t),o.redraw&&o.redraw(),o.iv()}},nn=(L=C&&Date,function(){return e.performance&&e.performance.now?e.performance.now():Date.now()}),on=function(t,i){i?H(t):e.cancelAnimationFrame(t)},an=function(t,e,i){return{width:t,height:e,comps:_n(i)?i:[i]}},rn=function(t,e){return{type:At,rect:[t,e,1.6,1.6],borderWidth:1,borderColor:Fa,gradient:dr,gradientColor:Qa,background:Fa}},sn=function(t,e){return an(16,16,{type:wt,rect:[4,4,10,8],background:t,rotation:e?1.57:3.14})},ln=function(t,e){return an(16,16,{type:wt,rect:[4,4,8,7],background:t,rotation:e?3.14:0})},cn=function(t){var e=t._orientation;return"horizontal"===e||"h"===e},hn=function(t,e,i,n){return i||(i=nt?5:3,i/=n||1),{x:t-i,y:e-i,width:2*i,height:2*i}},dn=function(t){return(/ble$/.test(t)||/ed$/.test(t)||u[t]?"is":"get")+t.charAt(0).toUpperCase()+t.slice(1)},gn=function(t){return"set"+t.charAt(0).toUpperCase()+t.slice(1)},un=function(t){return typeof t===Je||t instanceof String},fn=function(t){return typeof t===qe},vn=function(t){return typeof t===Xe},pn=function(t){return t&&"object"==typeof t},In=function(t){return"function"==typeof t},_n=function(t){return t instanceof Array},yn=function(t){return t instanceof ml},Cn=function(t){return t instanceof qc},mn=function(t){return t instanceof ah},wn=function(t){return t instanceof rh},bn=function(t,e){if(!(t instanceof s.Group))return!1;if(!e)return t.isExpanded();var i=e.getDataUI(t);return!(!i||!i._88I)},An=function(t){return t instanceof sh},Mn=function(t){return t&&"IFRAME"===t.tagName},xn=function(t,e,i){var n,o=e.length;if(i)for(var a=0;i>a;a++)if(3===o)t.push(e[0]),t.push(e[1]),t.push(e[2]);else for(n=0;o>n;n++)t.push(e[n]);else if(3===o)t.push(e[0]),t.push(e[1]),t.push(e[2]);else for(n=0;o>n;n++)t.push(e[n])},Dn=function(t){return!!t&&(pn(t)?t:{})},Tn=function(t,e,i){var o,a=pn(t)?t:t.prototype;for(o in e)i&&a[o]!==n||(a[o]=e[o]);return t},Nn=function(t){return String.fromCharCode(t)},Sn=function(t){for(var e,i=0,n="";i<t.length;i++)"%"===(e=t[t.length-1-i])?e="'":"a"===e?e='"':"]"===e&&(e="\\"),n+=Nn(e.charCodeAt(0)-1);return n},zn=function(t,e,i){t.superClass.constructor.apply(e,i)},kn=function(t){for(var e in t)return!1;return!0},En=function(t){return!t||0===t.length},Vn=function(){var t="";return[jt[0],pe[0],Ot[0]].forEach(function(e){t+=gn(e).slice(3)}),Qe=a&&a[t]||Fe,function(t,e){return t===e||t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}}(),jn=function(t,e,i){return e>t?e:t>i?i:t},Rn=function(t){return 0>t?-1:t>0?1:0},Pn=function(){var t=1e4*S(yi++);return t-w(t)},Zn=function(t,e,i){return Ln(t.x,t.y,e.x,e.y,i.x,i.y,i.x+i.width,i.y,!0)||Ln(t.x,t.y,e.x,e.y,i.x+i.width,i.y,i.x+i.width,i.y+i.height,!0)||Ln(t.x,t.y,e.x,e.y,i.x+i.width,i.y+i.height,i.x,i.y+i.height,!0)||Ln(t.x,t.y,e.x,e.y,i.x,i.y+i.height,i.x,i.y,!0)},Ln=function(t,e,i,n,o,a,s,l,c){var h=(l-a)*(i-t)-(s-o)*(n-e);if(0!==h){var d=((s-o)*(e-a)-(l-a)*(t-o))/h,g=t+d*(i-t),u=e+d*(n-e);return c&&(g+As<x(t,i)||g-As>M(t,i)||g+As<x(o,s)||g-As>M(o,s)||u+As<x(e,n)||u-As>M(e,n)||u+As<x(a,l)||u-As>M(a,l))?r:[g,u]}return r},Bn=function(t,e,i){if(t&&i)if(e){if("style"===e)return t.getStyle(i);if("attr"===e)return t.getAttr(i);if(e===Ye)return t[i]}else if(t[i=dn(i)])return t[i]();return n},On=function(t,e,i,n){if(t&&i)if(e){if("style"===e)t.s(i,n);else if("attr"===e)t.a(i,n);else if(e===Ye){var o=t[i];t[i]=n,t.fp("f:"+i,o,n)}}else t[i=gn(i)]&&t[i](n)},Un=function(t,e,i){return e&&"top"!==e?"bottom"===e?{x:t.x,y:t.y,width:t.width,height:t.height*i}:"right"===e?{x:t.x,y:t.y,width:t.width*i,height:t.height}:"left"===e?{x:t.x+t.width*(1-i),y:t.y,width:t.width*i,height:t.height}:void 0:{x:t.x,y:t.y+t.height*(1-i),width:t.width,height:t.height*i}},Wn=function(t,e,i,n,o){e&&la(t,i,n,1,o,e)},Gn=function(t,e,i,n){var o=1-t;return o*o*e+2*t*o*i+t*t*n},Fn=function(t,e,i,n,o){var a=1-t;return a*a*a*e+3*a*a*t*i+3*a*t*t*n+t*t*t*o},Qn=function(t){var e,i,n,o,a=0;return t.forEach(function(t){if((e=t.length)>0)for(i=t[0],o=1;e>o;o++)n=t[o],a+=os(i,n),i=n}),a},Hn=function(t,e,i){var n="__"+t,o=function(e){i.disabled||i["handle_"+t](e)};i[n]||(i[n]=o,e.addEventListener(t,o,_))},Yn=function(t,e){var i="_"+e;t[dn(e)]=function(){return this[i]},t[gn(e)]=function(t){var n=this[i];this[i]=t,this.fp(e,n,t)}},Jn=function(t){return i.create(t)},Xn=function(t){var e,i;t.element||((e=t.textField)?i=Vr(ov.TextField,e):(e=t.textArea)?i=Vr(ov.TextArea,e):(e=t.button)?i=Vr(ov.Button,e):(e=t.comboBox)?i=Vr(ov.ComboBox,e):(e=t.checkBox)?i=Vr(ov.CheckBox,e):(e=t.radioButton)?i=Vr(ov.RadioButton,e):(e=t.slider)?i=Vr(ov.Slider,e):(e=t.colorPicker)?i=Vr(ov.ColorPicker,e):(e=t.image)&&(i=Vr(ov.Image,e)),i&&(t.element=i))},$n=function(t,e){var i=Kn(t);return i._ht=e,i},Kn=function(t,e){var i=a.createElement("div"),n=i.style;return i.tabIndex=-1,i.onkeydown=jr,n.msTouchAction=_t,to(i,r,0),nt&&n.setProperty("-webkit-tap-highlight-color","rgba(0, 0, 0, 0)",r),t&&(n.overflow=ee),e&&no(e,i),i},qn=function(t,e){var i=a.createElement("canvas"),n=i.style;return n.msTouchAction=_t,e||(n.pointerEvents=_t),to(i,r,0),t&&no(t,i),i},to=function(t,e,i){var n=t.style;n.border=e?e+" solid 1px":0,n.outline=0,n.padding=i?"0 "+i+yt:0,eo(t)},eo=function(t){var e=t.style;e.position=Ct,e.margin=0,e.setProperty("box-sizing","border-box",r),e.setProperty("-moz-box-sizing","border-box",r)},io=function(t,e,i,n){n||(n=lr),e!=r&&(t.width=e*n,t.style.width=e+yt),i!=r&&(t.height=i*n,t.style.height=i+yt)},no=function(t,e,i){t.appendChild(e),i&&(e.style.position=Ct)},oo=function(t,e){e.split||(e+="");for(var i,n=e.split("\n"),o=0,a=n.length,r=0;a>r;r++){var s=Xr(t.font,n[r]);s.width>o&&(o=s.width),i||(i=s.height)}return t.ss=n,{width:o,height:i*a}},ao=function(t,e,i,n,o,a){var r=e.length;if(1===r)ro(t,e[0],i,n,o);else for(var s=i.height/r,l={x:i.x,y:i.y,width:i.width,height:s},c=0;c<e.length;c++)a?Jr(t,e[c],n,o,l.x,l.y,l.width,l.height,a):ro(t,e[c],l,n,o),l.y+=s},ro=function(t,e,i,o,a){var r,s;t.font=o||yr,t.fillStyle=a||Ir,t.textAlign=ut,t.textBaseline="middle",i?i.width===n?(r=i.x,s=i.y):(r=i.x+i.width/2,s=i.y+i.height/2):(r=0,s=0),t.fillText(e,m(r),m(s))},so=function(t){t.getView&&(t=t.getView());var e=t.offsetWidth||t.scrollWidth;return!e&&t.style.width&&(e=U(t.style.width)),e},lo=function(t){t.getView&&(t=t.getView());var e=t.offsetHeight||t.scrollHeight;return!e&&t.style.height&&(e=U(t.style.height)),e},co=function(t,e,i){var n=e[0].toUpperCase()+e.substring(1,e.length);t["webkit"+n]=i,t["moz"+n]=i,t["ms"+n]=i,t["o"+n]=i,t[e]=i},ho=function(){var t=function(t){jr(t),t.stopPropagation()},e=function(t){jr(t)},i=nt?[li]:[di,oi];return function(n,o){var a=Kn(),r=a.style;return r.backgroundColor=c.disabledBackground,n&&(r.backgroundImage="url("+n+")",r.backgroundPosition="50% 50%",r.backgroundRepeat="no-repeat no-repeat"),!1===o?i.forEach(function(t){a.addEventListener(t,e,_)}):i.forEach(function(e){a.addEventListener(e,t,_)}),a}}(),go=function(t){var e=t.getContext("2d");return e.save(),e.lineCap=vr,e.lineJoin=pr,e},uo=function(t,e,i,n){fo(t,e*lr,i*lr),1!==(n*=lr)&&t.scale(n,n)},fo=function(t,e,i){t.translate(e,i)},vo=function(t,e){e&&t.rotate(e)},po=function(t,e,i){e===n&&(e=1),i===n&&(i=1),(1!==e||1!==i)&&t.scale(e,i)},Io=!1,_o=function(t){var i=a.activeElement;if(a.activeElement!==t){i&&i.forceOnblur&&i.forceOnblur();for(var n=[],o=t.parentNode;o;)n.push([o,o.scrollLeft,o.scrollTop]),o=o.parentNode;if(!Io){var r=[],s=[];try{for(var l=e.parent,c=e;l!==c;)r.push([l,l.scrollX,l.scrollY]),c=l,l=e.parent;var h=e.frameElement;if(h)for(var d=h.parentNode;d;)s.push([d,d.scrollLeft,d.scrollTop]),d=d.parentNode}catch(t){Io=!0}}if(nt)t.focus();else{var g=ds(),u=g.target;t.focus(),u.scrollLeft=g.left,u.scrollTop=g.top}n.forEach(function(t){t[0].scrollLeft=t[1],t[0].scrollTop=t[2]}),Io||(r.forEach(function(t){t[0].scrollTo(t[1],t[2])}),s.forEach(function(t){t[0].scrollLeft=t[1],t[0].scrollTop=t[2]}))}},yo=function(t){return t&&t.getView?t.getView():t},Co=function(t,e,i,o,r){if(2===arguments.length&&(i=e.y,o=e.width,r=e.height,e=e.x),t.isSelfViewEvent)t.setX(e),t.setY(i),t.setWidth(o),t.setHeight(r);else{var s=yo(t),l=s.style;if((a.fullscreenElement||a.mozFullScreenElement||a.webkitFullscreenElement||a.msFullscreenElement)!==s)e!==n&&(l.left=e+yt),i!==n&&(l.top=i+yt),o!==n&&(l.width=o+yt),r!==n&&(l.height=r+yt);else{var h=c.getWindowInfo();l.left=(e=h.left)+yt,l.top=(i=h.top)+yt,l.width=(o=h.width)+yt,l.height=(r=h.height)+yt}t.endEditing&&!nt&&t.endEditing(),t.redraw&&t.redraw(),t.invalidate&&t.invalidate(),t.onLayouted&&t.onLayouted(e,i,o,r),t.fireViewEvent&&t.fireViewEvent("layout")}},mo=function(t){if(!t.touches)return t;var e=t.touches[0];return e||t.changedTouches[0]},wo=function(t){c.popup&&c.popup.close(),c.popup=t},bo=r,Ao=function(t){bo.handleWindowTouchMove(t)},Mo=function(t){bo.handleWindowTouchEnd(t),e.removeEventListener(ci,Ao,_),e.removeEventListener(hi,Mo,_),bo=r},xo=function(t){bo.handleWindowMouseMove(t)},Do=function(t){bo.handleWindowMouseUp(t),e.removeEventListener(ai,xo,_),e.removeEventListener(ri,Do,_),bo=r},To=function(t){return 1===Kr(t)},No=function(t,e){return e?e.keyCode===t:ji[t]},So=function(t){return es(t)&&No(65,t)},zo=function(t){return No(46,t)||No(8,t)},ko=function(t){return function(e){return e?e.keyCode===t:ji[t]}},Eo=573,Vo=[65,83,68,87,37,38,39,40,32,13,27],jo=ko(Vo[0]),Ro=ko(Vo[1]),Po=ko(Vo[2]),Zo=ko(Vo[3]),Lo=ko(Vo[4]),Bo=ko(Vo[5]),Oo=ko(Vo[6]),Uo=ko(Vo[7]),Wo=ko(Vo[8]),Go=ko(Vo[9]),Fo=ko(Vo[10]),Qo={65:1,83:1,68:1,87:1,37:1,38:1,39:1,40:1},Ho=[2,2,2,2,2,2,2,2,2,2,3,3,3,5,5,5,5,5,13,19,73],Yo=r,Jo=r,Xo=function(t,e){Yo||(Yo=qn()),io(Yo,t,e,1);var i=go(Yo);return i.clearRect(0,0,t,e),i},$o=function(){var t,i={};for(var n in e){var o=rt.length;if(n.length==o&&n[0]===rt[2]&&n[1]===_t[1]&&n[4]===rt[3]&&n[5]===rt[4]&&n.substr(o-2)===_t[1]+_t[2]){var a=e[n];for(var r in a)r.length===o&&r.substr(0,3)===ht[3]+Nt[3]+re[0]&&r.substr(o-2)===rt[0]+Wt[3]&&(ui=a[r])}}return function(e){var n,o=i[e];return o||(t||(t=qn(),io(t,1,1,1)),(n=t.getContext("2d")).clearRect(0,0,1,1),la(n,0,0,1,1,e),o=n.getImageData(0,0,1,1).data,o=i[e]=[o[0],o[1],o[2],o[3]]),o}}(),Ko=function(t){if(!un(t))return t;var e=$o(t);return e.CA||(e.CA=[e[0]/255,e[1]/255,e[2]/255,e[3]/255]),e.CA},qo=function(t,e,i){return e&&(e="miter"===i?8*e+20:e+1,t&&gs(t,e)),e},ta=function(t,e,i,n,o,a,r,s){n*=Math.PI/180;var l={x:Math.cos(n)*(t.x-r.x)/2+Math.sin(n)*(t.y-r.y)/2,y:-Math.sin(n)*(t.x-r.x)/2+Math.cos(n)*(t.y-r.y)/2},c=Math.pow(l.x,2)/Math.pow(e,2)+Math.pow(l.y,2)/Math.pow(i,2);c>1&&(e*=Math.sqrt(c),i*=Math.sqrt(c));var h=(o==a?-1:1)*Math.sqrt((Math.pow(e,2)*Math.pow(i,2)-Math.pow(e,2)*Math.pow(l.y,2)-Math.pow(i,2)*Math.pow(l.x,2))/(Math.pow(e,2)*Math.pow(l.y,2)+Math.pow(i,2)*Math.pow(l.x,2)));isNaN(h)&&(h=0);var d=h*e*l.y/i,g=h*-i*l.x/e,u={x:(t.x+r.x)/2+Math.cos(n)*d-Math.sin(n)*g,y:(t.y+r.y)/2+Math.sin(n)*d+Math.cos(n)*g},f=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},v=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(f(t)*f(e))},p=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(v(t,e))},I=p([1,0],[(l.x-d)/e,(l.y-g)/i]),_=[(l.x-d)/e,(l.y-g)/i],y=[(-l.x-d)/e,(-l.y-g)/i],C=p(_,y);v(_,y)<=-1&&(C=Math.PI),v(_,y)>=1&&(C=0);v=e>i?e:i;var m=e>i?1:e/i,w=e>i?i/e:1;if(null==s){var b={x:0,y:0,width:0,height:0};gs(b,v),b.x*=m,b.width*=m,b.y*=w,b.height*=w;var A=new gl(n);return(b=as([A.tf(b.x,b.y),A.tf(b.x+b.width,b.y),A.tf(b.x+b.width,b.y+b.height),A.tf(b.x,b.y+b.height)])).x+=u.x,b.y+=u.y,[{x:b.x,y:b.y},{x:b.x+b.width,y:b.y},{x:b.x+b.width,y:b.y+b.height},{x:b.x,y:b.y+b.height}]}s.translate(u.x,u.y),s.rotate(n),s.scale(m,w),s.arc(0,0,v,I,I+C,1-a),s.scale(1/m,1/w),s.rotate(-n),s.translate(-u.x,-u.y)},ea=function(t,e){t&&t.beginPath();for(var i,n,o,a=[],r=function(t){for(var e,i=/(\-{0,1}[\d\.]+)/gi,n=[];e=i.exec(t);)n.push(parseFloat(e[0]));return n},s=/([MmLlHhVvCcSsQqTtAa]{1}[\d\.,\s\-Zz]*)/gi,l={x:0,y:0};i=s.exec(e);){var c=i[0],h=c.substr(0,1);if("M"===h||"m"===h){for(var d=r(c),g=0;g<d.length;g+=2){var u=d[g],f=d[g+1];"m"===h&&(u+=l.x,f+=l.y),t&&t.moveTo(u,f),a.push({x:u,y:f}),l.x=u,l.y=f}n=o=null}else if("H"===h||"h"===h){for(d=r(c),g=0;g<d.length;g+=1){u=d[g];"h"===h&&(u+=l.x),t&&t.lineTo(u,l.y),a.push({x:u,y:l.y}),l.x=u}n=o=null}else if("C"===h||"c"===h){for(d=r(c),g=0;g<d.length;g+=6){var v=d[g],p=d[g+1],I=d[g+2],_=d[g+3];u=d[g+4],f=d[g+5];"c"===h&&(v+=l.x,p+=l.y,I+=l.x,_+=l.y,u+=l.x,f+=l.y),t&&t.bezierCurveTo(v,p,I,_,u,f),a.push({x:v,y:p}),a.push({x:I,y:_}),a.push({x:u,y:f}),l.x=u,l.y=f}n=[v,p,I,_,u,f],o=null}else if("S"===h||"s"===h){for(d=r(c),g=0;g<d.length;g+=4){n?(v=2*n[4]-n[2],p=2*n[5]-n[3]):(v=l.x,p=l.y);I=d[g],_=d[g+1],u=d[g+2],f=d[g+3];"s"===h&&(I+=l.x,_+=l.y,u+=l.x,f+=l.y),t&&t.bezierCurveTo(v,p,I,_,u,f),a.push({x:v,y:p}),a.push({x:I,y:_}),a.push({x:u,y:f}),l.x=u,l.y=f}n=[v,p,I,_,u,f],o=null}else if("Q"===h||"q"===h){for(d=r(c),g=0;g<d.length;g+=4){v=d[g],p=d[g+1],u=d[g+2],f=d[g+3];"q"===h&&(v+=l.x,p+=l.y,u+=l.x,f+=l.y),t&&t.quadraticCurveTo(v,p,u,f),a.push({x:v,y:p}),a.push({x:u,y:f}),l.x=u,l.y=f}n=null,o=[v,p,u,f]}else if("T"===h||"t"===h){for(d=r(c),g=0;g<d.length;g+=2){o?(v=2*o[2]-o[0],p=2*o[3]-o[1]):(v=l.x,p=l.y);u=d[g],f=d[g+1];"t"===h&&(u+=l.x,f+=l.y),t&&t.quadraticCurveTo(v,p,u,f),a.push({x:v,y:p}),a.push({x:u,y:f}),l.x=u,l.y=f}n=null,o=[v,p,u,f]}else if("V"===h||"v"===h){for(d=r(c),g=0;g<d.length;g+=1){f=d[g];"v"===h&&(f+=l.y),t&&t.lineTo(l.x,f),a.push({x:l.x,y:f}),l.y=f}n=o=null}else if("L"===h||"l"===h){for(d=r(c),g=0;g<d.length;g+=2){u=d[g],f=d[g+1];"l"===h&&(u+=l.x,f+=l.y),t&&t.lineTo(u,f),a.push({x:u,y:f}),l.x=u,l.y=f}n=o=null}else if("A"===h||"a"===h){for(d=r(c),g=0;g<d.length;g+=7){var y=d[g],C=d[g+1],m=d[g+2],w=d[g+3],b=d[g+4];u=d[g+5],f=d[g+6];"a"===h&&(u+=l.x,f+=l.y);var A=ta(l,y,C,m,w,b,{x:u,y:f},t);A&&(a=a.concat(A)),l.x=u,l.y=f}n=o=null}var M=c.substr(c.length-1);("z"===M||"Z"===M)&&t&&t.closePath()}return a},ia=function(t,e){var i,n,o="L"===e[0],a=e.length;t.save(),o?(t.transform(e[5],e[6],e[7],e[8],e[9],e[10]),i=t.createLinearGradient(e[1],e[2],e[3],e[4]),n=11):(t.transform(e[7],e[8],e[9],e[10],e[11],e[12]),i=t.createRadialGradient(e[1],e[2],e[3],e[4],e[5],e[6]),n=13);for(var r=t.compGray;a>n;)i.addColorStop(e[n],r?c.toGrayColor(e[n+1]):e[n+1]),n+=2;t.fillStyle=i},na=function(t,e){var i=t.s("shape.gradient.pack");if(i){for(var n=i.length,o=new Array(n),a=0;n>a;a++)o[a]=i[a];var r,s,l,c,h,d,g,u,f,v,p,I,_;s=o[r="L"===o[0]?5:7],l=o[r+1],c=o[r+2],h=o[r+3],d=o[r+4],g=o[r+5],u=e[0],f=e[1],v=e[2],p=e[3],I=e[4],_=e[5],o[r]=u*s+v*l,o[r+1]=f*s+p*l,o[r+2]=u*c+v*h,o[r+3]=f*c+p*h,o[r+4]=u*d+v*g+I,o[r+5]=f*d+p*g+_,t.s("shape.gradient.pack",o)}},oa=function(t,e,i,n){var o=!1;if(t.beginPath?t.beginPath():o=!0,yn(e)&&(e=e._as),yn(i)&&(i=i._as),i&&i.length){for(var a,r,s,l,c=0,h=0,d=i.length;d>h;h++)1===(a=i[h])?(r=e[c++],t.moveTo(r.x,o?-r.y:r.y)):2===a?(r=e[c++],t.lineTo(r.x,o?-r.y:r.y)):3===a?(r=e[c++],s=e[c++],t.quadraticCurveTo(r.x,o?-r.y:r.y,s.x,o?-s.y:s.y)):4===a?(r=e[c++],s=e[c++],l=e[c++],t.bezierCurveTo(r.x,o?-r.y:r.y,s.x,o?-s.y:s.y,l.x,o?-l.y:l.y)):5===a&&t.closePath();n&&5!==a&&t.closePath()}else{var g,u,f,v=e.length;if(v>0){for(g=e[0],t.moveTo(g.x,o?-g.y:g.y),u=1;v>u;u++)f=e[u],t.lineTo(f.x,o?-f.y:f.y);n&&t.closePath()}}},aa=function(t,e,i,n){if(yn(t)&&(t=t._as),yn(e)&&(e=e._as),e&&e.length){i=i||_s;for(var o,a,s,l,c,h,d,g,u=[],f=r,v=0,p=0,I=e.length;I>p;p++)if(1===(o=e[p]))u.push(f=[]),f.push(t[v++]);else if(2===o)f.push(t[v++]);else if(3===o){for(a=f[f.length-1],s=t[v++],l=t[v++],h=1;i>h;h++)d=Gn(h/i,a.x,s.x,l.x),g=Gn(h/i,a.y,s.y,l.y),f.push({x:d,y:g,b:!0});f.push(l)}else if(4===o){for(a=f[f.length-1],s=t[v++],l=t[v++],c=t[v++],h=1;i>h;h++)d=Fn(h/i,a.x,s.x,l.x,c.x),g=Fn(h/i,a.y,s.y,l.y,c.y),f.push({x:d,y:g,b:!0});f.push(c)}else 5===o&&f.push(f[0]);return n&&5!==o&&f&&f.length>2&&f.push(f[0]),u}return n&&t.length>2&&(t=t.slice()).push(t[0]),t?[t]:[]},ra=function(t,e,i,n,o,a){var r,s,l,c=$o(e),h=n,d=c[0],g=c[1],u=c[2];if(i){var f=$o(i);r=f[0]-d,s=f[1]-g,l=f[2]-u}else r=255-d,s=255-g,l=255-u;for(a||(a=n>10?1:.5,a=1>o?x(a/o,2):a);(n-=a)>0;){var v=1-n/h,p=d+r*v,I=g+s*v,_=u+l*v;p=x(b(p),255),I=x(b(I),255),_=x(b(_),255),t.strokeStyle="rgb("+p+","+I+","+_+")",t.lineWidth=n,t.stroke()}},sa=function(){var t={};return function(e,i){var n=e+"-"+i,o=t[n];if(o)return o;var a,r,s,l=$o(e);return 0>i?(i=(100+i)/100,a=b(l[0]*i),r=b(l[1]*i),s=b(l[2]*i)):(i/=100,a=l[0],r=l[1],s=l[2],r+=(255-r)*i,s+=(255-s)*i,a=x(b(a+=(255-a)*i),255),r=x(b(r),255),s=x(b(s),255)),t[n]="rgb("+a+","+r+","+s+")"}}(),la=function(t,e,i,n,o,a){a&&(t.fillStyle=a),t.beginPath(),t.rect(e,i,n,o),t.fill()},ca=function(t,e,i,n,o,a,r){t.beginPath(),ma[e](t,i.x,i.y,i.width,i.height,n,o,a,r)},ha=function(t,e,i,n,o){var a=ma[i];t.fillStyle=a?a(t,e,n||Qa,o.x,o.y,o.width,o.height):e},da=function(t,e,i,n,o,a){try{if(!e.tagName&&e.comps){var r;e._cacheImage_||(e._cacheImage_={}),r="override"===n?"colors_override":"override_rgb"===n?"colors_override_rgb":"override_a"===n?"colors_override_a":"colors",e._cacheImage_[r]||(e._cacheImage_[r]={__count__:0});var l=e._cacheImage_[r][i];l||(e._cacheImage_[r].__count__>c.imageCacheThreshold&&(e._cacheImage_[r]={__count__:0}),l=s.Default.toCanvas(e,al(e),rl(e),null,o,a,i,null,n),e._cacheImage_[r][i]=l,e._cacheImage_[r].__count__++),e=l}t.fillStyle=t.createPattern(e,"repeat")}catch(e){t.fillStyle="black"}},ga=function(t,e,i,n,o,a,r){t.save(),t.translate(e,i),t.scale(1,r/a),t.arc(0,0,a,n,o),t.restore()},ua=function(t,e,i,n,o,a,r,s,l){6===arguments.length&&(r=a,s=a,l=a);var c=e+n,h=i+o,d=o>n?2*n:2*o;a=d>a?a:d,r=d>r?r:d,s=d>s?s:d;var g=.29*(l=d>l?l:d),u=.58*l;t.moveTo(c,h-l),t.quadraticCurveTo(c,h-u,c-g,h-g),t.quadraticCurveTo(c-u,h,c-l,h),g=.29*s,u=.58*s,t.lineTo(e+s,h),t.quadraticCurveTo(e+u,h,e+g,h-g),t.quadraticCurveTo(e,h-u,e,h-s),g=.29*a,u=.58*a,t.lineTo(e,i+a),t.quadraticCurveTo(e,i+u,e+g,i+g),t.quadraticCurveTo(e+u,i,e+a,i),g=.29*r,u=.58*r,t.lineTo(c-r,i),t.quadraticCurveTo(c-u,i,c-g,i+g),t.quadraticCurveTo(c,i+u,c,i+r),t.lineTo(c,h-l)},fa=function(t,e,i,n,o,a,r){e&&(i=m(i),n=m(n),r||(r=1),t.fillStyle=e,t.beginPath(),t.rect(i,n,r,a),t.rect(i,n,o,r),a-r>0&&t.rect(i,n+a-r,o,r),o-r>0&&t.rect(i+o-r,n,r,a),t.fill())},va=function(t,e,i,n){var o=n.x,a=n.y,r=n.width,s=n.height;if(!(!e||!i||0>=r||0>=s)){var l,c=Hr(e),h=Yr(e),d=i>0;1===i||-1===i?(t.fillStyle=d?c:h,t.beginPath(),t.rect(o,a,1,s),t.rect(o,a,r,1),t.fill(),t.fillStyle=d?h:c,t.beginPath(),t.rect(o,a+s-1,r,1),t.rect(o+r-1,a,1,s),t.fill()):(i=x(D(i),x(r/2,s/2)),(l=t.createLinearGradient(o,a,o+i,a)).addColorStop(0,d?c:h),l.addColorStop(1,e),t.fillStyle=l,t.beginPath(),t.moveTo(o,a),t.lineTo(o+i,a+i),t.lineTo(o+i,a+s-i),t.lineTo(o,a+s),t.lineTo(o,a),t.fill(),(l=t.createLinearGradient(o,a,o,a+i)).addColorStop(0,d?c:h),l.addColorStop(1,e),t.fillStyle=l,t.beginPath(),t.moveTo(o,a),t.lineTo(o+i,a+i),t.lineTo(o+r-i,a+i),t.lineTo(o+r,a),t.lineTo(o,a),t.fill(),(l=t.createLinearGradient(o,a+s,o,a+s-i)).addColorStop(0,d?h:c),l.addColorStop(1,e),t.fillStyle=l,t.beginPath(),t.moveTo(o,a+s),t.lineTo(o+i,a+s-i),t.lineTo(o+r-i,a+s-i),t.lineTo(o+r,a+s),t.lineTo(o,a+s),t.fill(),(l=t.createLinearGradient(o+r,a,o+r-i,a)).addColorStop(0,d?h:c),l.addColorStop(1,e),t.fillStyle=l,t.beginPath(),t.moveTo(o+r,a),t.lineTo(o+r-i,a+i),t.lineTo(o+r-i,a+s-i),t.lineTo(o+r,a+s),t.lineTo(o+r,a),t.fill())}},pa=function(t,e,i,n,o,a,r){var s=t.createLinearGradient(n,o,a,r);return s.addColorStop(0,i),s.addColorStop(1,e),s},Ia=function(t,e,i,n,o,a,r){var s=t.createLinearGradient(n,o,a,r);return s.addColorStop(0,e),s.addColorStop(.5,i),s.addColorStop(1,e),s},_a=function(t,e,i,n,o,a,r){var s=t.createLinearGradient(n,o,a,r);return s.addColorStop(0,e),s.addColorStop(1/3,i),s.addColorStop(2/3,e),s.addColorStop(1,i),s},ya=function(t,e,i,n,o,a,r,s,l){var c=t.createRadialGradient(n+a*s,o+r*l,x(a,r)/24,n+a/2,o+r/2,M(a,r)/2);return c.addColorStop(0,i),c.addColorStop(1,e),c},Ca=[0,-1,.22451398828979272,-.30901699437494734,.9510565162951535,-.30901699437494745,.3632712640026804,.11803398874989468,.5877852522924731,.8090169943749473,-1.1102230246251565e-16,.38196601125010515,-.587785252292473,.8090169943749475,-.3632712640026805,.1180339887498949,-.9510565162951536,-.3090169943749473,-.22451398828979285,-.30901699437494734],ma={polygon:function(t,e,i,n,o,a){(a==r||3>a)&&(a=6);for(var s,l,c=x(n,o)/2,h=e+n/2,d=i+o/2,g=0,u=2*E/a,f=0;a>f;f++)s=h+T(g)*c,l=d+S(g)*c,0===f?t.moveTo(s,l):t.lineTo(s,l),g+=u;t.closePath()},arc:function(t,e,i,n,o,a,s,l,c){a==r&&(a=E),s==r&&(s=V),l==r&&(l=!0);var h=e+n/2,d=i+o/2;l&&t.moveTo(h,d),c?ga(t,h,d,a,s,n/2,o/2):t.arc(h,d,x(n,o)/2,a,s),l&&t.closePath()},rect:function(t,e,i,n,o){t.rect(e,i,n,o)},circle:function(t,e,i,n,o){t.arc(e+n/2,i+o/2,x(n,o)/2,0,V,!0)},oval:function(t,e,i,n,o){ga(t,e+n/2,i+o/2,0,V,n/2,o/2)},roundRect:function(t,e,i,n,o,a){a==r&&(a=x(x(n,o)/4,8)),ua(t,e,i,n,o,a)},star:function(t,e,i,n,o){var a=2*n,r=2*o,s=e+n/2,l=i+o/2;t.moveTo(s-a/4,l-r/12),t.lineTo(e+.306*n,i+.579*o),t.lineTo(s-a/6,l+r/4),t.lineTo(e+n/2,i+.733*o),t.lineTo(s+a/6,l+r/4),t.lineTo(e+.693*n,i+.579*o),t.lineTo(s+a/4,l-r/12),t.lineTo(e+.611*n,i+.332*o),t.lineTo(s+0,l-r/4),t.lineTo(e+.388*n,i+.332*o),t.closePath()},pentagram:function(t,e,i,n,o){var a=.5*o,r=e+.5*n,s=i+a,l=.5257311121191336*n;l>a&&(l=a);var c=Ca,h=0;for(t.moveTo(r+l*c[h++],s+l*c[h++]);20>h;)t.lineTo(r+l*c[h++],s+l*c[h++]);t.closePath()},triangle:function(t,e,i,n,o){t.moveTo(e+n/2,i),t.lineTo(e+n,i+o),t.lineTo(e,i+o),t.closePath()},hexagon:function(t,e,i,n,o){t.moveTo(e,i+o/2),t.lineTo(e+n/4,i+o),t.lineTo(e+3*n/4,+i+o),t.lineTo(e+n,i+o/2),t.lineTo(e+3*n/4,i),t.lineTo(e+n/4,i),t.closePath()},pentagon:function(t,e,i,n,o){var a=2*n,r=2*o,s=e+n/2,l=i+o/2;t.moveTo(s-a/4,l-r/12),t.lineTo(s-a/6,l+r/4),t.lineTo(s+a/6,l+r/4),t.lineTo(s+a/4,l-r/12),t.lineTo(s+0,l-r/4),t.closePath()},diamond:function(t,e,i,n,o){t.moveTo(e+n/2,i),t.lineTo(e,i+o/2),t.lineTo(e+n/2,i+o),t.lineTo(e+n,i+o/2),t.closePath()},rightTriangle:function(t,e,i,n,o){t.moveTo(e,i),t.lineTo(e+n,i+o),t.lineTo(e,i+o),t.closePath()},parallelogram:function(t,e,i,n,o){var a=n/4;t.moveTo(e+a,i),t.lineTo(e+n,i),t.lineTo(e+n-a,i+o),t.lineTo(e,i+o),t.closePath()},trapezoid:function(t,e,i,n,o){var a=n/4;t.moveTo(e+a,i),t.lineTo(e+n-a,i),t.lineTo(e+n,i+o),t.lineTo(e,i+o),t.closePath()},"linear.southwest":function(t,e,i,n,o,a,r){return pa(t,e,i,n,o+r,n+a,o)},"linear.southeast":function(t,e,i,n,o,a,r){return pa(t,e,i,n+a,o+r,n,o)},"linear.northwest":function(t,e,i,n,o,a,r){return pa(t,e,i,n,o,n+a,o+r)},"linear.northeast":function(t,e,i,n,o,a,r){return pa(t,e,i,n+a,o,n,o+r)},"linear.north":function(t,e,i,n,o,a,r){return pa(t,e,i,n,o,n,o+r)},"linear.south":function(t,e,i,n,o,a,r){return pa(t,e,i,n,o+r,n,o)},"linear.west":function(t,e,i,n,o,a){return pa(t,e,i,n,o,n+a,o)},"linear.east":function(t,e,i,n,o,a){return pa(t,e,i,n+a,o,n,o)},"radial.center":function(t,e,i,n,o,a,r){return ya(t,e,i,n,o,a,r,.5,.5)},"radial.southwest":function(t,e,i,n,o,a,r){return ya(t,e,i,n,o,a,r,.25,.75)},"radial.southeast":function(t,e,i,n,o,a,r){return ya(t,e,i,n,o,a,r,.75,.75)},"radial.northwest":function(t,e,i,n,o,a,r){return ya(t,e,i,n,o,a,r,.25,.25)},"radial.northeast":function(t,e,i,n,o,a,r){return ya(t,e,i,n,o,a,r,.75,.25)},"radial.north":function(t,e,i,n,o,a,r){return ya(t,e,i,n,o,a,r,.5,.25)},"radial.south":function(t,e,i,n,o,a,r){return ya(t,e,i,n,o,a,r,.5,.75)},"radial.west":function(t,e,i,n,o,a,r){return ya(t,e,i,n,o,a,r,.25,.5)},"radial.east":function(t,e,i,n,o,a,r){return ya(t,e,i,n,o,a,r,.75,.5)},"spread.horizontal":function(t,e,i,n,o,a){return Ia(t,e,i,n,o,n+a,o)},"spread.vertical":function(t,e,i,n,o,a,r){return Ia(t,e,i,n,o,n,o+r)},"spread.diagonal":function(t,e,i,n,o,a,r){return Ia(t,e,i,n+a,o,n,o+r)},"spread.antidiagonal":function(t,e,i,n,o,a,r){return Ia(t,e,i,n,o,n+a,o+r)},"spread.north":function(t,e,i,n,o,a,r){return _a(t,e,i,n,o-r/4,n,o+r+r/4)},"spread.south":function(t,e,i,n,o,a,r){return _a(t,i,e,n,o-r/4,n,o+r+r/4)},"spread.west":function(t,e,i,n,o,a){return _a(t,e,i,n-a/4,o,n+a+a/4,o)},"spread.east":function(t,e,i,n,o,a){return _a(t,i,e,n-a/4,o,n+a+a/4,o)}},wa=function(t,e,i){return new gl(t).tf(e,i)},ba=function(t){var e=t.touches[0],i=t.touches[1],n=e.clientX,o=e.clientY,a=i.clientX,r=i.clientY;return A((n-a)*(n-a)+(o-r)*(o-r))},Aa=(function(){for(var t=0,i=Te.split(""),n=0;n<i.length;n++)t=10*U(i[n])+t;(function(t){var e=r||4,i=r||1,n=r||1;0>e?e=0:e>.25&&(e=.25);var o,a,s,l,c,h,d,g=[],u=[],f=[],v=V/n,p=V/i,I=.5-e;for(a=0;i>=a;a++)for(h=T(l=a*p-E),c=S(l),o=0;n>=o;o++)s=o*v,d=I+e*h,g.push(T(s)*d,c*e,-S(s)*d),t&&u.push(o/n,1-a/i);for(a=0;i>a;a++){var _=a*(n+1),y=(a+1)*(n+1);for(o=0;n>o;o++)f.push(_+o,y+o+1,y+o,_+o,_+o+1,y+o+1),Fn.z=na.z=t}})(e[Eo.toString(8*n)+Ot.substr(n)+2])}(),function(t,e,i){for(var n=0;n<i.size();n++){var o=i.get(n);t.co(o)&&e.add(o)}for(n=0;n<i.size();n++)o=i.get(n),Aa(t,e,o._children)}),Ma=function(t,e,i){for(var n=0;n<i.size();n++){var o=i.get(i.size()-1-n);t.co(o)&&e.add(o)}for(n=0;n<i.size();n++)o=i.get(n),Ma(t,e,o._children)},xa=function(t,e,i){for(var n=!1,o=0;o<i.size();o++){var a=i.get(o);t.co(a)?n&&e.add(a):n=1}for(o=0;o<i.size();o++)a=i.get(o),xa(t,e,a._children)},Da=function(t,e,i){for(var n=!1,o=0;o<i.size();o++){var a=i.get(i.size()-1-o);t.co(a)?n&&e.add(a):n=!0}for(o=0;o<i.size();o++)a=i.get(o),Da(t,e,a._children)},Ta=c.moveDatas=function(t,e,i,o){var a=o==r;if(0!==e||0!==i||!a&&0!==o){var s=!0,l=[];if(t.forEach(function(t){s&&(t._69O||wn(t)||An(t))&&(s=!1)}),s)l=t;else{var c={},h={};t.forEach(function(t){c[t._id]=!0});var d={},g=function(t){var e=t._id;return c[e]?(l.push(t),d[e]=!0):d[e]=!1},u=function(t){var e=t._id;if(h[e])return g(t);var i=d[e];if(i!==n)return i;var o=t._parent;if(o&&(An(o)||wn(o))&&u(o))return d[e]=!0;var a=t._host;return a&&(h[e]=e,i=u(a),h[e]=n,i)?d[e]=!0:g(t)};t.forEach(function(t){u(t)})}l.forEach(function(t){if(Cn(t))a?t.translate(e,i):t.translate3d(e,i,o);else{var n=t.s(Kt);if(!n||n.isEmpty())return;var s=new ml;n.each(function(t){t=Gr(t),a?(t.x+=e,t.y+=i):(t.x+=e,t.y+=o,t.e==r?t.e=i:t.e+=i),s.add(t)}),t.s(Kt,s)}})}},Na=i.getPrototypeOf?function(t,e,n){var o=function(t,e){for(;t&&!t.hasOwnProperty(e);)t=i.getPrototypeOf(t);return t&&i.getOwnPropertyDescriptor(t,e)}(e,n);o&&i.defineProperty(t,n,o)}:function(t,e,i){t[i]=e[i]},Sa={1:29,2:30,3:31,4:32,5:33,6:26,7:27,8:28,9:21,10:22,11:23,12:24,13:25,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:9,22:10,23:11,24:12,25:13,26:6,27:7,28:8,29:1,30:2,31:3,32:4,33:5,34:36,35:37,36:34,37:35,38:54,39:55,40:52,41:53,42:50,43:51,44:49,50:42,51:43,52:40,53:41,54:38,55:39},za=function(){var t={1:function(t,e){return{x:t.x-e.width/2,y:t.y-e.height/2}},2:function(t,e){return{x:t.x+e.width/2,y:t.y-e.height/2}},3:function(t,e){return{x:t.x+t.width/2,y:t.y-e.height/2}},4:function(t,e){return{x:t.x+t.width-e.width/2,y:t.y-e.height/2}},5:function(t,e){return{x:t.x+t.width+e.width/2,y:t.y-e.height/2}},6:function(t){return{x:t.x,y:t.y}},7:function(t){return{x:t.x+t.width/2,y:t.y}},8:function(t){return{x:t.x+t.width,y:t.y}},9:function(t,e){return{x:t.x-e.width/2,y:t.y+e.height/2}},10:function(t,e){return{x:t.x+e.width/2,y:t.y+e.height/2}},11:function(t,e){return{x:t.x+t.width/2,y:t.y+e.height/2}},12:function(t,e){return{x:t.x-e.width/2+t.width,y:t.y+e.height/2}},13:function(t,e){return{x:t.x+t.width+e.width/2,y:t.y+e.height/2}},14:function(t,e){return{x:t.x-e.width/2,y:t.y+t.height/2}},15:function(t){return{x:t.x,y:t.y+t.height/2}},16:function(t,e){return{x:t.x+e.width/2,y:t.y+t.height/2}},17:function(t){return{x:t.x+t.width/2,y:t.y+t.height/2}},18:function(t,e){return{x:t.x+t.width-e.width/2,y:t.y+t.height/2}},19:function(t){return{x:t.x+t.width,y:t.y+t.height/2}},20:function(t,e){return{x:t.x+t.width+e.width/2,y:t.y+t.height/2}},21:function(t,e){return{x:t.x-e.width/2,y:t.y+t.height-e.height/2}},22:function(t,e){return{x:t.x+e.width/2,y:t.y+t.height-e.height/2}},23:function(t,e){return{x:t.x+t.width/2,y:t.y+t.height-e.height/2}},24:function(t,e){return{x:t.x+t.width-e.width/2,y:t.y+t.height-e.height/2}},25:function(t,e){return{x:t.x+t.width+e.width/2,y:t.y+t.height-e.height/2}},26:function(t){return{x:t.x,y:t.y+t.height}},27:function(t){return{x:t.x+t.width/2,y:t.y+t.height}},28:function(t){return{x:t.x+t.width,y:t.y+t.height}},29:function(t,e){return{x:t.x-e.width/2,y:t.y+t.height+e.height/2}},30:function(t,e){return{x:t.x+e.width/2,y:t.y+t.height+e.height/2}},31:function(t,e){return{x:t.x+t.width/2,y:t.y+t.height+e.height/2}},32:function(t,e){return{x:t.x+t.width-e.width/2,y:t.y+t.height+e.height/2}},33:function(t,e){return{x:t.x+t.width+e.width/2,y:t.y+t.height+e.height/2}},34:function(t,e){return{x:t.x,y:t.y-e.height/2}},35:function(t,e){return{x:t.x+t.width,y:t.y-e.height/2}},36:function(t,e){return{x:t.x,y:t.y+t.height+e.height/2}},37:function(t,e){return{x:t.x+t.width,y:t.y+t.height+e.height/2}},38:function(t,e){return{x:t.x+t.width/4,y:t.y-e.height/2}},39:function(t,e){return{x:t.x+3*t.width/4,y:t.y-e.height/2}},40:function(t){return{x:t.x+t.width/4,y:t.y}},41:function(t){return{x:t.x+3*t.width/4,y:t.y}},42:function(t,e){return{x:t.x+t.width/4,y:t.y+e.height/2}},43:function(t,e){return{x:t.x+3*t.width/4,y:t.y+e.height/2}},44:function(t,e){return{x:t.x+t.width/2,y:t.y+t.height/2-e.height/2}},45:function(t){return{x:t.x+t.width/4,y:t.y+t.height/2}},46:function(t,e){return{x:t.x+t.width/2-e.width/2,y:t.y+t.height/2}},47:function(t,e){return{x:t.x+t.width/2+e.width/2,y:t.y+t.height/2}},48:function(t){return{x:t.x+3*t.width/4,y:t.y+t.height/2}},49:function(t,e){return{x:t.x+t.width/2,y:t.y+t.height/2+e.height/2}},50:function(t,e){return{x:t.x+t.width/4,y:t.y+t.height-e.height/2}},51:function(t,e){return{x:t.x+3*t.width/4,y:t.y+t.height-e.height/2}},52:function(t){return{x:t.x+t.width/4,y:t.y+t.height}},53:function(t){return{x:t.x+3*t.width/4,y:t.y+t.height}},54:function(t,e){return{x:t.x+t.width/4,y:t.y+t.height+e.height/2}},55:function(t,e){return{x:t.x+3*t.width/4,y:t.y+t.height+e.height/2}}};return function(t){var e=0;for(var i in t)2===i.length&&U(i,32)===Eo&&t[i],e++;return e}(e)?function(e,i,n){return t[e](i,n||Yi)}:void 0}();Tn(g,{highlight:"#1ABC9C",label:"#000",labelSelect:"#FFF",transparent:"rgba(0,0,0,0.35)",titleBackground:"#2C3E50",titleIconBackground:"#868686",headerBackground:"#ECF0F1",headerIconBackground:"#868686",headerSeparator:"#868686",headerLine:"#D9D9D9",background:"#FFF",disabledBackground:"rgba(255,255,255,0.65)",toolTipBackground:"#FFFFE0",rectSelectBorder:"#2C3E50",rectSelectBackground:"rgba(0,0,0,0.35)",editPointBorder:"#2C3E50",editPointBackground:"#D9D9D9",dash:"#2C3E50",groupBackground:"#ECF0F1",groupTitleBackground:"#2C3E50",gridBackground:"#D9D9D9",gridCellBorderColor:"#868686",gridBlockColor:"#868686",reverse:"#868686",contentIconBackground:"#868686",contentLine:"#D9D9D9",widgetBackground:"#ECF0F1",widgetBorder:"#D9D9D9",widgetIconBackground:"#868686",widgetIconBorder:"#868686",widgetIconGradient:"#D9D9D9",widgetIconHighlight:"#43AFF1",imageBackground:"#3498DB",imageGradient:"#D9D9D9",chart:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"]},!0);var ka=g.reverse,Ea=g.transparent,Va=g.rectSelectBackground,ja=g.dash,Ra=g.titleBackground,Pa=g.titleIconBackground,Za=g.headerBackground,La=g.headerIconBackground,Ba=g.headerSeparator,Oa=g.headerLine,Ua=g.contentIconBackground,Wa=g.contentLine,Ga=(g.widgetIconHighlight,g.widgetIconBorder),Fa=(g.widgetIconGradient,g.imageBackground),Qa=g.imageGradient,Ha=g.highlight,Ya=g.label,Ja=g.labelSelect;if(W&&!e.shutAlert){var Xa=new Date,$a=W.split("-"),Ka=new Date(Xa.getFullYear(),Xa.getMonth(),Xa.getDate()),qa=(W=new Date(U($a[0],10),U($a[1],10)-1,U($a[2],10)),Ka.getTime()),tr=W.getTime(),er="ht_try",ir=e.alert;try{var nr=e.localStorage;if(nr&&ir)if(tr>qa&&1728e6>tr-qa){var or=(tr-qa)/864e5;nr&&nr[er]!=or&&(nr[er]=or,ir("HT for Web free trial license will expire in "+or+" days, please apply for a new license!"))}else qa>=tr&&ir("Your free trial of HT for Web has expired!"),nr&&delete nr[er]}catch(t){}}var ar={ms_ac:function(t,e){for(var i=e.ms_ac,n=0;n<i.length;n++)Yn(t,i[n])},ms_listener:function(t){t.addListeners=function(){for(var t=this,e=0;e<vi.length;e++)t["handle_"+vi[e]]&&Hn(vi[e],t.getView(),t)},t.removeListeners=function(){for(var t=this,e=0;e<vi.length;e++)t["handle_"+vi[e]]&&(i=vi[e],n=t.getView(),void 0,void 0,(r=(o=t)[a="__"+i])&&(n.removeEventListener(i,r,_),delete o[a]));var i,n,o,a,r}},ms_fire:function(t){t.mp=function(t,e,i){this.addPropertyChangeListener(t,e,i)},t.ump=function(t,e){this.removePropertyChangeListener(t,e)},t.fp=function(t,e,i,n,o){return this.firePropertyChange(t,e,i,n,o)},t.addPropertyChangeListener=function(t,e,i){var n=this;n._62I||(n._62I=new bl),n._62I.add(t,e,i)},t.removePropertyChangeListener=function(t,e){this._62I&&this._62I.remove(t,e)},t.firePropertyChange=function(t,e,i,n,o){if(n){if(n(e,i))return!1}else if(e===i)return!1;var a=this,r=o||{};return r.property=t,r.oldValue=e,r.newValue=i,r.source=a,r.data=a,a._62I&&a._62I.fire(r),a.onPropertyChanged&&a.onPropertyChanged(r),!0}},ms_attr:function(t){t.a=function(t,e){var i=this;if(2===arguments.length)i.setAttr(t,e);else{if(!pn(t))return i.getAttr(t);for(var n in t)i.setAttr(n,t[n])}return i},t.getAttr=function(t,e){if(e===n&&(e=1),this._attrObject&&t in this._attrObject)return this._attrObject[t];if(this.getImage){var i=this.getImage();if(un(i)&&(i=zi[i]),pn(i)&&"dataBindings"in i)for(var o=i.dataBindings,a=o.length-1;a>=0;a--){var r=o[a];if(r.attr===t){if("defaultValue"in r)return r.defaultValue;break}}}return e?d[t]:n},t.setAttr=function(t,e){var i=this;i._attrObject||(i._attrObject={});var o=i._attrObject[t];e===n?delete i._attrObject[t]:i._attrObject[t]=e,i.fp&&i.fp("a:"+t,o,e)&&i.onAttrChanged&&i.onAttrChanged(t,o,e)},t.getSerializableAttrs=function(){var t,e={};for(t in this._attrObject)e[t]=1;return e}},ms_bnb:function(t){t.getBodyColor=function(t){return t.s("body.color")},t.getBorderColor=function(t){return t.s("border.color")}},_51o:function(t){t.mi=function(t,e,i){this.addInteractorListener(t,e,i)},t.umi=function(t,e){this.removeInteractorListener(t,e)},t.fi=function(t){this.fireInteractorEvent(t)},t.addInteractorListener=function(t,e,i){var n=this;n._63I||(n._63I=new bl),n._63I.add(t,e,i)},t.removeInteractorListener=function(t,e){this._63I.remove(t,e)},t.fireInteractorEvent=function(t){this._63I&&this._63I.fire(t)},t.setInteractors=function(t){var e=this,i=e._interactors;i&&i.each(function(t){t.tearDown()}),_n(t)&&(t=new ml(t)),e._interactors=t,t&&t.each(function(t){t.setUp()}),e.fp("interactors",i,t),e.invalidateSelection()},t.getInteractors=function(){return this._interactors}},_49o:function(t){t._44O=r,t._45O=r,t.getTopPainters=function(){return this._44O},t.getBottomPainters=function(){return this._45O},t.addTopPainter=function(t){var e=this;e._44O||(e._44O=new ml),e._44O.contains(t)||(e._44O.add(t),e.redraw&&e.redraw())},t.removeTopPainter=function(t){var e=this;e._44O&&(e._44O.remove(t),e.redraw&&e.redraw())},t.addBottomPainter=function(t){var e=this;e._45O||(e._45O=new ml),e._45O.contains(t)||(e._45O.add(t),e.redraw&&e.redraw())},t.removeBottomPainter=function(t){var e=this;e._45O&&(e._45O.remove(t),e.redraw&&e.redraw())},t._93db=function(t,e){var i=this;i._45O&&i._45O.each(function(n){n.draw?n.draw(t,e):n.call(i,t,e)})},t._92db=function(t,e){var i=this;i._44O&&i._44O.each(function(n){n.draw?n.draw(t,e):n.call(i,t,e)})}},ms_sm:function(t){t.sm=function(){return this.getSelectionModel()},t.setSelectableFunc=function(t){this.sm().setFilterFunc(t)},t.getSelectableFunc=function(){return this.sm().getFilterFunc()},t.getSelectionModel=function(){var t=this;return t._selectionModel?t._selectionModel:t.dm().sm()},t.isSelectionModelShared=function(){return!this._selectionModel},t.setSelectionModelShared=function(t){var e=this,i=!e._selectionModel,n=e.handleSelectionChange,o=e.dm();i!==t&&(e.invalidateSelection&&e.invalidateSelection(),t?(o.sm().ms(n,e),e._selectionModel.ums(n,e),e._selectionModel.dispose(),e._selectionModel=r):(o.sm().ums(n,e),e._selectionModel=new xl(o),e._selectionModel.ms(n,e)),e.onSelectionModelSharedChanged(),e.fp("selectionModelShared",i,t))},t.onSelectionModelSharedChanged=function(){var t=this;t.redraw(),t.invalidateSelection&&t.invalidateSelection()},t.removeSelection=function(){var t=this.dm();t.beginTransaction(),this.sm().toSelection().each(t.remove,t),t.endTransaction()},t.selectAll=function(){var t=this;t.sm().ss(t.dm().toDatas(function(e){return t.isVisible(e)&&t.isSelectable(e)}))},t.isSelected=function(t){return this.sm().co(t)},t.isSelectedById=function(t){var e=this.dm().getDataById(t);return!!e&&this.isSelected(e)},t.isSelectable=function(t){return this.sm().isSelectable(t)}},ms_tx:function(t){t._64I=0,t._65O=0,t.isScrollable=function(){return this.getWidth()<this._64I},t._40o=function(){return this.isScrollable()},t.getLogicalPoint=function(t){return us(t,this._canvas||this._view,this.tx(),this.ty?this.ty():0)},t.tx=function(t){return t===n?this.getTranslateX():void this.setTranslateX(t)},t.getTranslateX=function(){return this._65O},t.setTranslateX=function(t){var e=this,i=e.getWidth()-e._64I;i>t&&(t=i),t>0&&(t=0),t=m(t);var n=e._65O;e._65O=t,e.fp(ke,n,t)}},ms_ty:function(t){t._23Q=0,t._66O=0,t._41o=function(){return this.getHeight()<this._23Q},t.getLogicalPoint=function(t){return us(t,this._canvas||this._view,this.tx?this.tx():0,this.ty())},t.ty=function(t){return t===n?this.getTranslateY():void this.setTranslateY(t)},t.getTranslateY=function(){return this._66O},t.setTranslateY=function(t){var e=this,i=e.getHeight()-e._23Q;i>t&&(t=i),t>0&&(t=0),t=m(t);var n=e._66O;e._66O=t,e.fp(Ee,n,t)}},ms_txy:function(t){t._65O=0,t._66O=0,t.tx=function(t){return t===n?this.getTranslateX():void this.setTranslateX(t)},t.ty=function(t){return t===n?this.getTranslateY():void this.setTranslateY(t)},t.onTranslateEnded=function(){},t.setTranslate=function(t,e,i){var n=this;if(i=Dn(i)){n._65I&&n._65I.stop(!0);var o=n.tx(),a=n.ty();i.action=function(i){n.setTranslate(o+(t-o)*i,a+(e-a)*i)},i._37o=function(){delete n._66I,delete n._65I,n.onTranslateEnded()},n._66I=1,n._65I=Qr(i)}else n.tx(t),n.ty(e)},t.getTranslateX=function(){return this._65O},t.setTranslateX=function(t){var e=this;t=e.adjustTranslateX(t);var i=e._65O;e._65O=t,e.fp(ke,i,t)},t.getTranslateY=function(){return this._66O},t.setTranslateY=function(t){var e=this;t=e.adjustTranslateY(t);var i=e._66O;e._66O=t,e.fp(Ee,i,t)},t.adjustTranslateX=function(t){return m(t)},t.adjustTranslateY=function(t){return m(t)},t.translate=function(t,e,i){this.setTranslate(this.tx()+t,this.ty()+e,i)},t.getLogicalPoint=function(t){var e=this;return us(t,this._canvas||e._view,e.tx(),e.ty())}},ms_dm:function(t){t.dm=function(t){return t?void this.setDataModel(t):this.getDataModel()},t.getDataModel=function(){return this._dataModel}},ms_lp:function(t){t.lp=function(t){return this.getLogicalPoint(t)}},ms_v:function(t){t._disabled=!1,t.setDisabled=function(t,e){var i=this,n=i._disabled;n!==t&&(n&&(ps(i._63O),delete i._63O),t&&(no(i._view,i._63O=ho(e)),i.iv()),i._disabled=t,i.fp("disabled",n,t))},t.isDisabled=function(){return this._disabled},t.getDisabledDiv=function(){return this._63O},t.getView=function(){return this._view},t.addToDOM=function(t){var i=this,n=i.getView(),o=n.style;(t=t||a.body).appendChild(n),o.left="0",o.right="0",o.top="0",o.bottom="0",e.addEventListener("resize",function(){i.iv()},_),i.iv()},t.getWidth=function(){return this._view.clientWidth},t.getHeight=function(){return this._view.clientHeight},t.setWidth=function(t){var e=this;e._view.style.width=t+yt,e.iv(),e.fp&&e.fp(zt,r,t)},t.setHeight=function(t){var e=this;e._view.style.height=t+yt,e.iv(),e.fp&&e.fp(kt,r,t)},t.setFocus=function(t){var e=this,i=e._currentEditor;return!(t&&i&&(i.getView&&(i=i.getView()),i.contains(t.target)))&&(_o(e._view),e.endEditing&&e.endEditing(),e.fireViewEvent("focus"),!0)},t.iv=function(t){this.invalidate(t)},t.invalidate=function(t){var e=this;e._68I||(e._68I=1,Ur(e.validate,e,r,t),e.onInvalidated&&e.onInvalidated(),e.fireViewEvent("invalidate"))},t.validate=function(){var t=this,e=t._view;if(t._68I&&(delete t._68I,e.parentNode))if(0===e.offsetWidth&&0===e.offsetHeight&&t._67I!==r)t._67I===n&&(t._67I=c.reinvalidateCount),t._67I>0?t._67I--:t._67I=r,t.iv();else{t.fireViewEvent("beginValidate"),t.validateImpl(),t.onValidated&&t.onValidated(),t.fireViewEvent("validate");var i=t._63O;i&&(e.lastChild!==i&&(ps(i),no(e,i)),Co(i,0,0,t.getWidth(),t.getHeight())),qi(t),Js(t),ou(t)}},t.layout=function(t,e,i,n){1===arguments.length?Co(this,t):Co(this,t,e,i,n)},t.addViewListener=function(t,e,i){var n=this;n._67O||(n._67O=new bl),n._67O.add(t,e,i)},t.removeViewListener=function(t,e){this._67O.remove(t,e)},t.fireViewEvent=function(t){var e=this;e._67O&&(un(t)&&(t={kind:t}),e._67O.fire(t)),c.viewListener&&c.viewListener(e,t)}},ms_tip:function(t){t.setToolTipEnabled=function(t){var e=this;t?nt||e._13o||(e.enableToolTip(),e.fp("toolTipEnabled",!1,!0)):e._13o&&(e.disableToolTip(),e.fp("toolTipEnabled",!0,!1))},t.isToolTipEnabled=function(){return!!this._13o},t.enableToolTip=function(){var t=this;nt||t._13o||(t._13o=function(e){var i=t.getToolTip(e);i!=r?c.toolTipContinual&&c.isToolTipShowing()?gr(e,i):(ur(),_i={timeout:Q(mi,sr),e:e,info:i}):ur()},t.getView().addEventListener(ai,t._13o,_),t.getView().addEventListener("mouseleave",c.hideToolTip,_))},t.disableToolTip=function(){var t=this;t._13o&&(t.getView().removeEventListener(ai,t._13o,_),t.getView().removeEventListener("mouseleave",c.hideToolTip,_),delete t._13o)},t.getToolTip=function(t){var e=this;if(e.getDataAt){var i=e.getDataAt(t);return i?i.getToolTip():r}return e.getValue?e.getValue():void 0}},_52o:function(t){t._zoom=1,t._29I=Yi,t.zoomIn=function(t,e){this.setZoom(this._zoom*Nr,t,e)},t.zoomOut=function(t,e){this.setZoom(this._zoom/Nr,t,e)},t.zoomReset=function(t,e){this.setZoom(1,t,e)},t.scrollZoomIn=function(t){this.setZoom(this._zoom*Sr,r,t)},t.scrollZoomOut=function(t){this.setZoom(this._zoom/Sr,r,t)},t.pinchZoomIn=function(t){this.setZoom(this._zoom*zr,r,t)},t.pinchZoomOut=function(t){this.setZoom(this._zoom/zr,r,t)},t.adjustZoom=function(t){return Er>t?Er:t>kr?kr:t},t.getZoom=function(){return this._zoom},t.setZoom=function(t,e,i){var n=this;if(e=Dn(e)){n._14o&&n._14o.stop(!0);var o=n._zoom;e.action=function(e){n._96O(o+(t-o)*e,i)},e._37o=function(){delete n._zooming,delete n._14o,n.onZoomEnded()},n._zooming=1,n._14o=Qr(e)}else n._96O(t,i)},t._96O=function(t,e){var i=this;if((t=i.adjustZoom(t))!==i._zoom){i.validate();var n=i._29I,o=i._zoom;0!==n.width&&0!==n.height&&(e=e||{x:n.x+n.width/2,y:n.y+n.height/2},i.tx((e.x-n.x)*o-e.x*t),i.ty((e.y-n.y)*o-e.y*t)),i._zoom=t,i.fp("zoom",o,t)}}},ms_edge:function(t){t._2I=function(t){var e=this;e._44I||(e._44I=new ml),e._42I||(e._42I=new ml),e._44I.add(t),e._42I.add(t),e._20I()},t._4I=function(t){var e=this;e._44I||(e._44I=new ml),e._43I||(e._43I=new ml),e._44I.add(t),e._43I.add(t),e._20I()},t._16I=function(t){var e=this;e._44I.remove(t),e._42I.remove(t),e._44I.isEmpty()&&delete e._44I,e._42I.isEmpty()&&delete e._42I,e._20I()},t._18I=function(t){var e=this;e._44I.remove(t),e._43I.remove(t),e._44I.isEmpty()&&delete e._44I,e._43I.isEmpty()&&delete e._43I,e._20I()},t._20I=function(){var t,e=this;(delete e._45I,e._44I&&!e._44I.isEmpty())?(e._44I.each(function(i){i.isLooped()&&(t||(t={}),t[i._id]||(e._45I||(e._45I=new ml),e._45I.add(i),t[i._id]=i))}),t?(e._70O=new ml,e._44I.each(function(i){t[i._id]?"A"===t[i._id]||(t[i._id]="A",e._70O.add(i)):e._70O.add(i)})):e._70O=e._44I):delete e._70O},t.hasAgentEdges=function(){return!!this._49I&&!this._49I.isEmpty()},t.getSourceAgentEdges=function(){return this._46I},t.getTargetAgentEdges=function(){return this._47I},t._1I=function(t){var e=this;e._46I||(e._46I=new ml),e._48I||(e._48I=new ml),e._46I.add(t),e._48I.add(t),e._19I()},t._3I=function(t){var e=this;e._47I||(e._47I=new ml),e._48I||(e._48I=new ml),e._47I.add(t),e._48I.add(t),e._19I()},t._15I=function(t){var e=this;e._46I.remove(t),e._48I.remove(t),e._46I.isEmpty()&&delete e._46I,e._48I.isEmpty()&&delete e._48I,e._19I()},t._17I=function(t){var e=this;e._47I.remove(t),e._48I.remove(t),e._47I.isEmpty()&&delete e._47I,e._48I.isEmpty()&&delete e._48I,e._19I()},t._19I=function(){var t=this;delete t._49I;var e=t._48I;if(e&&!e.isEmpty()){var i={};e.each(function(e){i[e._id]?t._49I||(t._49I=new ml):i[e._id]=e}),t._49I?e.each(function(e){i[e._id]&&(t._49I.add(e),delete i[e._id])}):t._49I=e}},t.getLoopedEdges=function(){return this._45I},t.getEdges=function(){return this._70O},t.getAgentEdges=function(){return this._49I},t.getSourceEdges=function(){return this._42I},t.getTargetEdges=function(){return this._43I},t._8I=function(){this._70O&&this._70O.each(function(t){t._7I()})}}};Tn(c,{numberDigits:5,crossOrigin:"",baseZIndex:n,isTouchable:nt,devicePixelRatio:e.devicePixelRatio?e.devicePixelRatio:1,reinvalidateCount:3,hitMaxArea:3e3,imageCacheThreshold:20,autoMakeVisible:!0,autoHideScrollBar:!0,disabledOpacity:.4,disabledBackground:g.disabledBackground,forceHierarchicalSerialization:!0,hoverDelay:600,toolTipDelay:800,toolTipContinual:!1,getDragger:function(){return bo},lineCap:"butt",lineJoin:"round",imageGradient:"linear.northeast",dashPattern:[16,16],encodeStringKey:null,doubleClickRange:nt?20:1,animDuration:200,animEasing:function(t){return t*t},labelColor:Ya,labelSelectColor:Ja,labelFont:(nt?"15":"12")+"px arial, sans-serif",widgetIndent:nt?30:20,widgetRowHeight:nt?30:20,widgetHeaderHeight:nt?32:22,widgetTitleHeight:nt?34:24,scrollBarColor:Ea,scrollBarSize:7,scrollBarTimeout:1e3,scrollBarMinLength:20,scrollBarInteractiveSize:nt?32:16,zoomIncrement:1.3,scrollZoomIncrement:1.05,pinchZoomIncrement:1.08,zoomMax:20,zoomMin:.01,segmentResolution:12,shapeResolution:24,shapeSide:24,intersectionLineRect:Zn,intersectionLineLine:Ln,isEnter:Go,isEsc:Fo,isDelete:zo,isSpace:Wo,isLeft:Lo,isUp:Bo,isRight:Oo,isDown:Uo,getTarget:function(t){return nt?mo(t).target:t.target},isString:un,isNumber:fn,isBoolean:vn,isArray:_n,isSelectAll:So,isFunction:In,isObject:pn,getPropertyValue:Bn,setPropertyValue:On,addMethod:Tn,getVersion:function(){return"6.3.1"},createGradient:function(t,e,i,n,o,a,r,s){return(0,ma[e])(t,i,n,o,a,r,s)},appendToScreen:function(t){t=t.getView?t.getView():t,(a.fullscreenElement||a.mozFullScreenElement||a.webkitFullscreenElement||a.msFullscreenElement||a.body).appendChild(t)},encodeString:function(t){return s.Math.encodeBase64(t,c.encodeStringKey)},decodeString:function(t){return s.Math.decodeBase64(t,c.encodeStringKey)},toggleFullscreen:function(t){var e=t.getView();if(a.fullscreenElement||a.mozFullScreenElement||a.webkitFullscreenElement||a.msFullscreenElement)a.exitFullscreen?a.exitFullscreen():a.msExitFullscreen?a.msExitFullscreen():a.mozCancelFullScreen?a.mozCancelFullScreen():a.webkitExitFullscreen&&a.webkitExitFullscreen();else{var i=!0;if(t.isSelfViewEvent){var n=t.getX(),o=t.getY(),r=t.getWidth(),l=t.getHeight();(h=e.style.background)||(e.style.background="white"),e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen();var c=setInterval(function(){if(e!==(a.fullscreenElement||a.mozFullScreenElement||a.webkitFullscreenElement||a.msFullscreenElement))clearInterval(c),t.setX(n),t.setY(o),t.setWidth(r),t.setHeight(l),t._fullscreen=!1,e.style.background=h,t.iv();else{var d=s.Default.getWindowInfo();(i||d.width!==t.getWidth()||d.height!==t.getHeight())&&(t.setX(d.left),t.setY(d.top),t.setWidth(d.width),t.setHeight(d.height),t._fullscreen=!0,t.iv(),i=!1)}},500)}else{var h,d=e.style.left,g=e.style.top;r=e.style.width,l=e.style.height;(h=e.style.background)||(e.style.background="white"),e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen();c=setInterval(function(){if(e!==(a.fullscreenElement||a.mozFullScreenElement||a.webkitFullscreenElement||a.msFullscreenElement))clearInterval(c),e.style.left=d,e.style.top=g,e.style.width=r,e.style.height=l,e.style.background=h,t.iv();else{var n=s.Default.getWindowInfo();(i||n.width!==t.getWidth()||n.height!==t.getHeight())&&(Co(t),i=!1)}},500)}}},appendTimeStamp:function(t){return t},setCompType:function(t,e){In(e)||pn(e)?Ri[t]=e:Xs(t)},getCompType:function(t){var e=Ri[t];return e===n&&Bi.test(t)&&Xs(t),e},getCompTypeMap:function(){return Ri},drawCompType:function(t,e,i,n,o,a){t(e,i,n,o,a)},numberListener:function(){var t={46:1,8:1,9:1,27:1,13:1,109:1,110:1,189:1,190:1};return function(e){var i=e.keyCode;t[i]||65===i&&c.isCtrlDown(e)||86===i&&c.isCtrlDown(e)||67===i&&c.isCtrlDown(e)||88===i&&c.isCtrlDown(e)||i>=35&&40>=i||(e.shiftKey||48>i||i>57)&&(96>i||i>105)&&e.preventDefault()}}(),ignoreKeyCodes:[122,123],preventDefault:function(t){var e=t.target.tagName;("DIV"===e||"CANVAS"===e)&&!(c.ignoreKeyCodes.indexOf(t.keyCode)>=0)&&("keydown"!==t.type||Lo(t)||Oo(t)||Bo(t)||Uo(t)||zo(t)||65===t.keyCode&&(t.metaKey||t.ctrlKey))&&(t.preventDefault(),t.preventManipulation&&t.preventManipulation())},getWindowInfo:function(){var t=a.documentElement,i=t&&(t.scrollLeft||t.scrollTop)?t:a.body;return{target:i,left:i.scrollLeft,top:i.scrollTop,width:e.innerWidth||i.clientWidth,height:e.innerHeight||i.clientHeight}},isDragging:function(){return!!bo},isLeftButton:function(t){return!!nt||0===t.button},isInput:function(t){if(!t)return!1;var e=t.tagName;return"INPUT"===e||"TEXTAREA"===e||"SELECT"===e},getTouchCount:function(t){return nt?t.touches.length:1},isDoubleClick:function(){function t(t){t.details=0,t.timeout=null,t.lastPoint=null}var e={};return Ti=new L,Ni=Ti.getTime(),function(i){if(i.touches&&i.touches.length>1)return!1;var o=i.button==r?"":i.button,a=i.type+o,s=a+"_isDoubleClick",l=e[a];if(l||(l=e[a]={details:0,timeout:null,lastPoint:null}),i[s]===n){i[s]=!0;var h=is(i);l.timeout&&(H(l.timeout),l.timeout=null),l.lastPoint&&os(l.lastPoint,h)>c.doubleClickRange&&t(l),l.lastPoint=h,l.details++,l.timeout=Q(function(){t(this)}.bind(l),500)}return 2===l.details}}(),isShiftDown:function(t){return t?t.shiftKey:ji[16]},isCtrlDown:function(t){return t?it?t.metaKey:t.ctrlKey:it?ji[91]:ji[17]},getClientPoint:function(t){return nt&&(t=mo(t)),{x:t.clientX,y:t.clientY}},isMouseEvent:function(t){return t instanceof MouseEvent||0===t.type.indexOf("mouse")},getTargetElement:function(t){if(c.isMouseEvent(t)||!a.elementFromPoint)return t.target;var e=ns(t);return a.elementFromPoint(e.x,e.y)},getPagePoint:function(t){return nt&&(t=mo(t)),{x:t.pageX,y:t.pageY}},createObject:function(t,e){var i=new t;for(var n in e){var o=e[n];if(In(o))i[n]=o;else if(0===n.indexOf("s:"))i.s(n.substr(2),e[n]);else if(0===n.indexOf("a:"))i.a(n.substr(2),e[n]);else{var a=gn(n);o=e[n];i[a]?(i[a](o),"setToolTip"===a&&i.enableToolTip&&i.enableToolTip()):i[n]=o}}return i},setImage:function(t,e,i,n){var o=arguments.length;4===o?tn(t,n,e,i):2===o?un(e)?tn(t,e):Ki(t,e):1===o&&tn(t,t)},getImage:function(t,e,i){var o;if(t==r)return r;if(pn(t)?o=t:(o=zi[t],t&&o===n&&(Xi&&Xi[t]||tn(t,t))),e&&o&&o.tagName){var a;o[a="override"===i?"colors_override":"override_rgb"===i?"colors_override_rgb":"override_a"===i?"colors_override_a":"colors"]||(o[a]={__count__:0});var s=o[a][e];return s||(o[a].__count__>c.imageCacheThreshold&&(o[a]={__count__:0}),s=function(t,e,i,n,o){var a=qn();a.width=i,a.height=n;var r=a.getContext("2d");r.drawImage(t,0,0,i,n);try{for(var s=r.getImageData(0,0,i,n),l=s.data,c=0,h=l.length;h>c;c+=4){var d=l[c+0],g=l[c+1],u=l[c+2],f=l[c+3];"override_a"===o?l[c+3]=255*e[3]:"override_rgb"===o?(l[c+0]=255*e[0],l[c+1]=255*e[1],l[c+2]=255*e[2]):"override"===o?(l[c+0]=255*e[0],l[c+1]=255*e[1],l[c+2]=255*e[2],l[c+3]=255*e[3]):(l[c+0]=e[0]*d,l[c+1]=e[1]*g,l[c+2]=e[2]*u,l[c+3]=e[3]*f)}r.putImageData(s,0,0)}catch(e){return t}return a}(o,Ko(e),o.width,o.height,i),o[a][e]=s,o[a].__count__++),s}return o},isImageComplete:function(t,e,i){var o=Pr(t);if(!o)return!1;if(o.tagName)return o.complete;for(var a,r,s=o.comps,l=!0,h=0,d=s.length;d>h;h++)if(r=(a=s[h]).type,"image"===a.type){if((t=a.name)&&t.func&&(t=sl(t,e)),!Zr(t,e,i)){l=!1;break}}else if(Bi.test(r)&&c.getCompType(r)===n){l=!1,Xs(r);break}return l},getId:function(){var t=1;return function(){return++t}}(),callLater:function(t,i,n,o){var a=function(){t.apply(i,n)};return o?Q(a,o):e.requestAnimationFrame(a)},clone:function(t){if(null==t||"object"!=typeof t)return t;if(t instanceof Date)return(e=new Date).setTime(t.getTime()),e;if(t instanceof Array){for(var e=[],n=0,o=t.length;o>n;n++)e[n]=Gr(t[n]);return e}if(t instanceof ml){for(e=new ml,n=0,o=t.length;o>n;n++)e.set(n,Gr(t.get(n)));return e}if(t instanceof Al)return t;if(t instanceof i){e={};for(var a in t)t.hasOwnProperty(a)&&(e[a]=Gr(t[a]));return e}return t},callWhenLoaded:function(t,e){var i=Di(t,e=e||100);xi||(xi={}),xi[i]={tick:i,cb:t,delay:e}},beforeLoadURL:function(t){if(xi){var e={};for(var i in xi){var n=xi[i];H(n.tick);var o=Di(n.cb,n.delay);e[o]={tick:o,delay:n.delay,cb:n.cb}}xi=e}return c.convertURL?c.convertURL(t):t},convertURL:function(t){return t},handleRefGraphLoaded:function(){},handleCompTypeLoaded:function(){},handleImageLoaded:function(){},handleUnfoundImage:function(){return c.getImage("default_blank")},sortFunc:function(t,e){if(t===e)return 0;if(t==r&&e!=r)return 1;if(t!=r&&e==r)return-1;if(t==r&&e==r)return 0;var i,o=typeof t,a=typeof e;return o===Je&&a===Je?i=t.localeCompare(e):o===qe&&a===qe&&(i=t-e),i===n&&(i=(""+t).localeCompare(""+e)),i>0?1:0>i?-1:0},getClassMap:function(){return Si},getClass:function(t){if(un(t)){var i,n=Si[t];if(!n){i=t.split("."),n=e;for(var o=0;o<i.length;o++)n=n[i[o]];Si[t]=n}return n}return t},def:function(t,e,i){var n,o,a,r=function(){};if(r.prototype=e.prototype,n=new r,un(t)){if(Si[t])throw"'"+t+"' already defined";a=Fr(t),n.getClassName=function(){return t}}else a=t;if(n.constructor=a,n.getClass=function(){return a},n.getSuperClass=function(){return e},i)for(o in i)ar[o]&&ar.hasOwnProperty(o)?ar[o](n,i):Na(n,i,o);a.prototype=n,a.superClass=e.prototype},startAnim:function(){var t=function(t){t.duration&&(t.startTime=nn()),t.timeId=Ur(t.tick,r,r,t.interval)};return function(e){return(e=Gr(e)).easing=e.easing||c.animEasing,e.duration||e.frames||(e.duration=c.animDuration),e.t=0,e.duration?e.interval=0:(e.frame=0,e.interval=e.interval||10),e.tick=function(){if(e.duration){var t=(nn()-e.startTime)/e.duration;if(t>1&&(t=1),e.t=t,e.action(e.easing(t),t),!e.isRunning())return;1===t?e.stop():e._isPaused||(e.timeId=Ur(e.tick))}else{if(e.frame++,t=e.t=e.frame/e.frames,e.action(e.easing(t),t),!e.isRunning())return;e.frame<e.frames?e._isPaused||(e.timeId=Ur(e.tick,r,r,e.interval)):e.stop()}},e.resume=function(){e._isPaused&&(delete e._isPaused,e.duration?e.t<1&&(e.startTime=nn()-e.duration*e.t,e.timeId=Ur(e.tick)):e.frame<e.frames&&(e.timeId=Ur(e.tick,r,r,e.interval)))},e.pause=function(){e._isPaused=!0},e.isPaused=function(){return this._isPaused},e.stop=function(t){e.isRunning()&&(on(e.timeId,!e.duration),delete e.timeId,e.duration?e.t<1&&t&&(e.t=1,e.action(e.easing(1),1)):e.frame<e.frames&&t&&(e.frame=e.frames,e.action(e.easing(1),1)),e._37o&&e._37o(),e.finishFunc&&e.finishFunc())},e.isRunning=function(){return e.timeId!=r},e.delay?Ur(t,r,[e],e.delay):t(e),e}}(),getTextSize:function(){var t={},e=a?qn().getContext("2d"):r;return function(i,n){e.font=i||yr;var o=t[e.font];return o||(o=2*e.measureText("e").width+4,t[e.font]=o),{width:e.measureText(n).width+4,height:o}}}(),drawText:function(t,e,i,n,o,a,s,l,c,h){if(e!=r){var d=Xr(i,e),g={};g.y=h&&"middle"!==h?h===dt?a+d.height/2:a+l-d.height/2:a+l/2,g.x=c&&c!==ct?c===ht?o+s-d.width/2:o+s/2:o+d.width/2,ro(t,e,g,i,n)}},getDistance:function(t,e){var i=t.length;return e?3===i?A(F(t[0]-e[0])+F(t[1]-e[1])+F(t[2]-e[2])):2===i?A(F(t[0]-e[0])+F(t[1]-e[1])):t.z===n?A(F(e.x-t.x)+F(e.y-t.y)):A(F(e.x-t.x)+F(e.y-t.y)+F(e.z-t.z)):3===i?A(F(t[0])+F(t[1])+F(t[2])):2===i?A(F(t[0])+F(t[1])):void 0},brighter:function(t,e){return 0>e&&(e=-e),sa(t,e||40)},darker:function(t,e){return e>0&&(e=-e),sa(t,e||-40)},unionPoint:function(t,e){if(!t)return r;if(2===arguments.length)return t&&e?{x:x(t.x,e.x),y:x(t.y,e.y),width:D(t.x-e.x),height:D(t.y-e.y)}:r;var i=t;if(i._as&&(i=i._as),i.length===n)return r;var o=i.length;if(0>=o)return r;for(var a=1,s=i[0],l={x:s.x,y:s.y,width:0,height:0};o>a;a++){s=i[a];var c=x(l.x,s.x),h=M(l.x+l.width,s.x),d=x(l.y,s.y),g=M(l.y+l.height,s.y);l.x=c,l.y=d,l.width=h-c,l.height=g-d}return l},unionRect:function(t,e){if(t&&!e)return Gr(t);if(!t&&e)return Gr(e);if(t&&e){var i={x:x(t.x,e.x),y:x(t.y,e.y)};return i.width=M(t.x+t.width,e.x+e.width)-i.x,i.height=M(t.y+t.height,e.y+e.height)-i.y,i}return r},containsPoint:function(t,e,i,n){if(n!=r&&1!==n){var o=t.x+t.width/2,a=t.y+t.height/2;t={x:o-t.width/2*n,y:a-t.height/2*n,width:t.width*n,height:t.height*n}}if(i){var s=t.width/2,l=t.height/2,c=S(-i),h=T(-i),d=e.x-t.x-s,g=e.y-t.y-l;return e={x:h*d-c*g,y:c*d+h*g},ss({x:-s,y:-l,width:t.width,height:t.height},e)}return!(!t||e.x<t.x||e.y<t.y||e.x>t.x+t.width||e.y>t.y+t.height)},containsRect:function(t,e){if(!t||!e)return!1;var i=e.x,n=e.y,o=e.width,a=e.height,r=t.width,s=t.height;if(0>(r|s|o|a))return!1;var l=t.x,c=t.y;if(l>i||c>n)return!1;if(r+=l,i>=(o+=i)){if(r>=l||o>r)return!1}else if(r>=l&&o>r)return!1;if(s+=c,n>=(a+=n)){if(s>=c||a>s)return!1}else if(s>=c&&a>s)return!1;return!0},intersectsRect:function(t,e){if(!t||!e)return!1;var i=e.width,n=e.height,o=t.width,a=t.height;if(0>=o||0>=a||0>=i||0>=n)return!1;var r=e.x,s=e.y,l=t.x,c=t.y;return a+=c,i+=r,n+=s,(o+=l)>r&&a>s&&i>l&&n>c},intersection:function(t,e){if(!t||!e)return r;var i=e.x,n=e.y,o=t.x,a=t.y,s=i,l=n,c=o,h=a;return s+=e.width,l+=e.height,c+=t.width,h+=t.height,o>i&&(i=o),a>n&&(n=a),s>c&&(s=c),l>h&&(l=h),l-=n,0>=(s-=i)||0>=l?r:{x:i,y:n,width:s,height:l}},grow:function(t,e,i){i===n&&(i=e),t.x-=e,t.y-=i,t.width=t.width+2*e,t.height=t.height+2*i},getScreenPoint:function(t,e,i,n,o,a,r){var s,l,c=i.getBoundingClientRect(),h={x:t*(a||1)+c.left-i.scrollLeft+(n||0),y:e*(r||1)+c.top-i.scrollTop+(o||0)};return(s=i.parentElement)&&(l=s.maxtrixAppend)?l.applyInverse(h,{}):h},getLogicalPoint:function(t,e,i,n,o,a){var r,s,l,c,h=e.getBoundingClientRect();if(t.target?(es(t)?it?ji[91]=!0:ji[17]=!0:it?ji[91]=!1:ji[17]=!1,ji[16]=!!ts(t),r=(t=nt?mo(t):t).clientX,s=t.clientY):(r=t.x,s=t.y),(l=e.parentElement)&&(c=l.maxtrixAppend)){var d=c.apply({x:r,y:s},{});return d.x=(d.x+e.scrollLeft-(i||0))/(o||1),d.y=(d.y+e.scrollTop-(n||0))/(a||1),d}return{x:(r-h.left+e.scrollLeft-(i||0))/(o||1),y:(s-h.top+e.scrollTop-(n||0))/(a||1)}},removeHTML:function(){var t;return function(e){return e&&e.getView&&(e=e.getView()),!(!e||!e.parentNode)&&(t===e||(t=e,e.parentNode.removeChild(e),t=r,!0))}}(),getToolTipDiv:function(){if(!pi){pi=Kn(),Ii=Kn();var t=pi.style;c.baseZIndex!=r&&(t.zIndex=U(c.baseZIndex)+3+""),t.whiteSpace="nowrap",t.color=c.toolTipLabelColor,t.background=c.toolTipBackground,t.font=c.toolTipLabelFont,t.padding="5px",t.boxShadow="0px 0px 3px "+c.toolTipShadowColor}return pi},isToolTipShowing:function(){return!(!pi||!pi.parentNode)||!(!Ii||!Ii.parentNode)},hideToolTip:function(){ps(pi),ps(Ii),Ci()},showToolTip:function(t,e){if(t&&e!=r){var i,n;if(c.getToolTipDiv(),e.html?(e=e.html,i=Ii,ps(pi)):(i=pi,ps(Ii)),n=i.style,i.innerHTML=e,i.parentNode||s.Default.appendToScreen(i),t.target){t=ns(t);var o=ds(),a=t.x,l=t.y,h=nt?60:12;if(nt){var d=i.getBoundingClientRect();n.left=a-d.width/2+yt,n.top=l-d.height-h<o.top?l+h+yt:l-d.height-h+yt}else{n.left=a+h+yt,n.top=l+h+yt,(d=i.getBoundingClientRect()).left+d.width>o.width&&(n.left=a-h-d.width+yt),d.top+d.height>o.height&&(n.top=l-h-d.height+yt),d.left<0&&(n.left=a+h+yt),d.top<0&&(n.top=l+h+yt)}}else n.left=t.x+yt,n.top=t.y+yt;Ci()}else ur()},startDragging:function(t,i,o){o==n&&(o=!0),t!==bo&&(bo?o&&(nt?bo.handleWindowTouchEnd(i):bo.handleWindowMouseUp(i)):nt?(e.addEventListener(ci,Ao,_),e.addEventListener(hi,Mo,_)):(e.addEventListener(ai,xo,_),e.addEventListener(ri,Do,_)),bo=t)},getImageMap:function(){return zi},toBoundaries:function(t,e,i,n){var o=[];return aa(t,e,i,n).forEach(function(t){var e=[];t.forEach(function(t){e.push(t.x,t.y)}),o.push(e)}),o},getCurrentKeyCodeMap:function(){return ji},drawCenterImage:function(t,e,i,n,o,a,r,s){var l=al(e,o,a),c=rl(e,o,a);ll(t,e,m(i-l/2),m(n-c/2),l,c,o,a,r,s)},drawStretchImage:function(t,e,i,n,o,a,r,s,l,c,h,d){var g,u=al(e,s,l,a),f=rl(e,s,l,r);"uniform"===i?(f*=g=x(a/u,r/f),n+=m((a-(u*=g))/2),o+=m((r-f)/2),a=u,r=f):"centerUniform"===i&&((u>a||f>r)&&(u*=g=x(a/u,r/f),f*=g),n+=m((a-u)/2),o+=m((r-f)/2),a=u,r=f);var v,p=t.interactiveInfo;if(p)if(v="center"===i?{x:n+a/2-u/2,y:o+r/2-f/2,width:u,height:f}:{x:n,y:o,width:a,height:r},p.rect){var I=p.compInfos,_=I.length;_&&(I[_-1].rect.image=e)}else p.rect=v;if("center"===i){var y=!1!==h&&(u>a||f>r);y&&(t.save(),t.beginPath(),t.rect(n,o,a,r),t.clip()),ll(t,e,n+a/2-u/2,o+r/2-f/2,u,f,s,l,c,d),y&&t.restore()}else ll(t,e,n,o,a,r,s,l,c,d)},toCanvas:function(t,e,i,n,o,a,r,s,l){t=Pr(t,r),e=e||al(t,o),i=i||rl(t,o);var c=qn(),h=go(c);return s?(io(c,e,i,s),h.scale(s,s)):io(c,e,i,1),Br(h,t,n,0,0,e,i,o,a,r,l),t&&t.clampToEdge&&(c.clampToEdge=t.clampToEdge),h.restore(),c},toGrayColor:function(t){if(!t)return t;var e=$o(t),i=.299*e[0]+.587*e[1]+.114*e[2];return"rgba("+i+","+i+","+i+","+e[3]/255+")"},createGradientImage:function(t,e,i,n){for(var o=["L",0,0,t,0,1,0,0,1,0,0],a=0,r=Math.min(e.length,i.length);r>a;a++)o.push(i[a],e[a]);return s.Default.toCanvas({width:t,height:t,clampToEdge:!0,comps:[{type:"shape",rotation:n||0,points:[0,0,t,0,t,t,0,t],background:"#ffffff",gradientPack:o}]})},createElement:function(t,e,i,n){var o=a.createElement(t);return to(o,e||g.widgetBorder,2),o.style.font=i||yr,n!=r&&(o.value=n),c.onElementCreated&&c.onElementCreated(o),o},containedInView:function(t,e){var i=yo(e).getBoundingClientRect();return ss({x:i.left,y:i.top,width:i.width,height:i.height},is(t))},isIsolating:function(){return Mi>0},setIsolating:function(t){t?Mi++:Mi--},getMSMap:function(){return ar},stringify:function(t,e,i){var n=Date.prototype.toJSON;Date.prototype.toJSON=function(){return"__ht__date"+this.getTime()};var o=JSON.stringify(t,function(t,e){return"function"==typeof e?"__ht__"+(e.__ht__||e.toString()):fn(e)?(i=e)==r||c.numberDigits==r?i:parseFloat(i.toFixed(c.numberDigits)):e instanceof s.List?"__ht__list"+(e.__ht__list||c.stringify(e._as)):e;var i},e==r?2:e);return Date.prototype.toJSON=n,i&&(o="__ht__encode"+c.encodeString(o)),o},parse:function(t){return un(t)&&("__ht__encode"!=t.substr(0,12)||(t=c.decodeString(t.substr(12)),un(t)))?JSON.parse(t,function(t,e){if(un(e))if("__ht__function"==e.substr(0,14)){var i=e.indexOf("{")+1,n=e.lastIndexOf("}"),o=e.indexOf("(")+1,a=e.indexOf(")");if(i&&n&&o&&a){var r=new Function(e.substring(o,a),e.substring(i,n));return r.__ht__=e.substr(6),r}}else{if("__ht__date"==e.substr(0,10))return new Date(U(e.substr(10)));if("__ht__list"===e.substr(0,10))return new ml(c.parse(e.substr(10)))}return e}):t},loadJS:function(t,e){e&&t.push(e);var i=t.shift();if(_n(i))t=i.contact(t),c.loadJS(t);else if(In(i))i(),c.loadJS(t);else if(un(i)){var n=a.createElement("script");n.onload=function(){c.loadJS(t)},n.setAttribute("src",i),a.getElementsByTagName("head")[0].appendChild(n)}else t.length&&c.loadJS(t)},toRoundedCorner:function(t,e){var i=t.size();if(0>=e)return{points:t};var n,o=new ml,a=new ml,r=t.get(0);o.add(r),a.add(1);for(var s=1;i>s;s++)if(i>s+1){var l=t.get(s),c=t.get(s+1),h=r.x,d=r.y,g=l.x,u=l.y,f=u-d,v=g-h,p=P(f,v);n=x(.99*os(r,l),e),o.add({x:g-n*T(p),y:u-n*S(p)}),o.add(l),h=l.x,d=l.y,g=c.x,u=c.y,p=P(f=u-d,v=g-h),r={x:h+(n=x(.99*os(l,c),e))*T(p),y:d+n*S(p)},o.add(r),a.addAll([2,3])}else o.add(t.get(s)),a.add(2);return{points:o,segments:a}},toColorData:$o,setCanvas:io,createDiv:Kn,createDisabledDiv:ho,createView:$n,createCanvas:qn,appendChild:no,initContext:go,checkLoadingImage:qi,translateAndScale:uo,layout:Co,getPosition:za,drawPoints:oa,drawRoundRect:ua,drawBorder:fa,setFocus:_o,getter:dn,setter:gn,isEmptyObject:kn},!0),Tn(u,{autoAdjustIndex:1,hierarchicalRendering:1,adjustChildrenToTop:1,autoHideScrollBar:1,autoUpdate:1,firstPersonMode:1,ortho:1,strict:1,stickToRight:1,instant:1,closePath:1,hierarchical:1,doubleClickToToggle:1,continuousLayout:1,syncSize:1},!0);var rr=c.disabledOpacity,sr=c.toolTipDelay,lr=c.devicePixelRatio,cr=c.autoMakeVisible,hr=c.autoHideScrollBar,dr=c.imageGradient,gr=c.showToolTip,ur=c.hideToolTip,fr=c.dashPattern,vr=c.lineCap,pr=c.lineJoin,Ir=c.labelColor,_r=c.labelSelectColor,yr=c.labelFont,Cr=c.widgetIndent,mr=c.widgetRowHeight,wr=c.widgetHeaderHeight,br=c.widgetTitleHeight,Ar=c.scrollBarColor,Mr=c.scrollBarSize,xr=c.scrollBarTimeout,Dr=c.scrollBarMinLength,Tr=c.scrollBarInteractiveSize,Nr=c.zoomIncrement,Sr=c.scrollZoomIncrement,zr=c.pinchZoomIncrement,kr=c.zoomMax,Er=c.zoomMin,Vr=c.createObject,jr=c.preventDefault,Rr=c.setImage,Pr=c.getImage,Zr=c.isImageComplete,Lr=c.drawCenterImage,Br=c.drawStretchImage,Or=c.getId,Ur=c.callLater,Wr=c.sortFunc,Gr=c.clone,Fr=c.getClass,Qr=c.startAnim,Hr=c.brighter,Yr=c.darker,Jr=c.drawText,Xr=c.getTextSize,$r=c.isLeftButton,Kr=c.getTouchCount,qr=c.isDoubleClick,ts=c.isShiftDown,es=c.isCtrlDown,is=c.getClientPoint,ns=c.getPagePoint,os=c.getDistance,as=c.unionPoint,rs=c.unionRect,ss=c.containsPoint,ls=c.containsRect,cs=c.intersectsRect,hs=c.intersection,ds=c.getWindowInfo,gs=c.grow,us=c.getLogicalPoint,fs=c.getScreenPoint,vs=c.startDragging,ps=c.removeHTML,Is=c.createElement,_s=c.segmentResolution,ys=c.shapeResolution,Cs=c.shapeSide,ms=c.def,ws=function(t,e,i){ms("ht."+t,e,i)},bs=function(t,e){t.childNodes.forEach(function(t){e(t),bs(t,e)})};Tn(c,{toolTipLabelColor:Ir,toolTipLabelFont:yr,toolTipBackground:g.toolTipBackground,toolTipShadowColor:Ea,drawBreakableText:ao,setDevicePixelRatio:function(t){lr=c.devicePixelRatio="number"==typeof t?t:e.devicePixelRatio,bs(a.body,function(t){var e=t._ht;e&&e._canvas&&(io(e._canvas,e.getWidth(),e.getHeight()),e.redraw?e.redraw():e.iv())})}},!0);var As=1e-6,Ms="undefined"!=typeof Uint16Array?Uint16Array:Array,xs="undefined"!=typeof Float32Array?Float32Array:Array,Ds=function(t,e,i){var n=[t[0]-e[0],t[1]-e[1],t[2]-e[2]];if(i){var o=os(n);o>0&&(n[0]/=o,n[1]/=o,n[2]/=o)}return n},Ts=function(){var t="charCodeAt",i=2*(2*Ct.length+1);for(var n in e)if(n===o+ct[0]+yt.length){var a=e[n];if(!a)break;for(var s=a.length,l=0;s>l;l++)if(a[l][t](0)===i&&a[l+1]!=r&&a[l+1]===yt[0]&&a[l+2]!=r&&a[l+2][t](0)===i){for(var c=l+3;s>c;c++)if(a[c][t](0)===i){if(0==a[c+1])for(var h,d=c+2;s>d;d++){if(a[d][t](0)===i){0==a[d-1]&&h&&($=h.substr(0,h.length-1));break}h==r?h=a[d]:h+=a[d]}break}break}break}return function(t){return[-t[0],-t[1],-t[2]]}}(),Ns=function(t,e){return 3===t.length?t[0]*e[0]+t[1]*e[1]+t[2]*e[2]:t[0]*e[0]+t[1]*e[1]},Ss=function(){var t=new xs(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},zs=Ss(),ks=function(t){var e=new xs(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},Es=function(t,e){var i=t[0],n=t[1],o=t[2];return t[0]=e[0]*i+e[4]*n+e[8]*o+e[12],t[1]=e[1]*i+e[5]*n+e[9]*o+e[13],t[2]=e[2]*i+e[6]*n+e[10]*o+e[14],t},Vs=function(t,e){var i=t[0],n=t[1],o=t[2],a=t[3];return t[0]=e[0]*i+e[4]*n+e[8]*o+e[12]*a,t[1]=e[1]*i+e[5]*n+e[9]*o+e[13]*a,t[2]=e[2]*i+e[6]*n+e[10]*o+e[14]*a,t[3]=e[3]*i+e[7]*n+e[11]*o+e[15]*a,t},js=function(){var t,e,i,n,o=Nn(Vo[1]+Vo[7]),a=Nn(Vo[0]+Vo[3]-Vo[10]),r=Nn(Vo[8]+2),s=function(){return e=i.charAt(t),t+=1,e},l=function(){var t="";if(e===r)for(;s();){if(e===r)return s(),t;t+=e}else s()},c=function(){for(;e&&" ">=e;)s()};return n=function(){switch(c(),e){case o:return function(){var t,i={};if(e===o){if(s(),c(),e===a)return s(),i;for(;e;){if(t=l(),c(),s(),i[t]=n(),c(),e===a)return s(),i;s(),c()}}}();default:return l()}},function(o){var a;if((p={},o)&&(i=o,t=0,e=" ",a=n(),c(),!e))return a}}(),Rs=function(t,e){if(e){var i=S(e),n=T(e),o=t[4],a=t[5],r=t[6],s=t[7],l=t[8],c=t[9],h=t[10],d=t[11];t[4]=o*n+l*i,t[5]=a*n+c*i,t[6]=r*n+h*i,t[7]=s*n+d*i,t[8]=l*n-o*i,t[9]=c*n-a*i,t[10]=h*n-r*i,t[11]=d*n-s*i}},Ps=function(t,e){if(e){var i=S(e),n=T(e),o=t[0],a=t[1],r=t[2],s=t[3],l=t[8],c=t[9],h=t[10],d=t[11];t[0]=o*n-l*i,t[1]=a*n-c*i,t[2]=r*n-h*i,t[3]=s*n-d*i,t[8]=o*i+l*n,t[9]=a*i+c*n,t[10]=r*i+h*n,t[11]=s*i+d*n}},Zs=function(t,e){if(e){var i=S(e),n=T(e),o=t[0],a=t[1],r=t[2],s=t[3],l=t[4],c=t[5],h=t[6],d=t[7];t[0]=o*n+l*i,t[1]=a*n+c*i,t[2]=r*n+h*i,t[3]=s*n+d*i,t[4]=l*n-o*i,t[5]=c*n-a*i,t[6]=h*n-r*i,t[7]=d*n-s*i}},Ls=function(t,e,i){return Bs(r,!1===i?r:t.getFinalScale3d(),t.getFinalRotation3d(),t.getRotationMode(),t.p3(),r,e)},Bs=function(t,e,i,n,o,a,r){return a||(a=Ss()),o&&Rd(a,o),oh(a,i,n),r&&Zd(a,a,r),e&&Pd(a,e),t&&Zd(a,a,t),a},Os=function(t,e,i){e=U(e),i=U(i);var n=this;n.g=t,n._84O=e,n._85O=i,n._70I=!0,n.F=0,n._83O=e+i,n.pen={x:0,y:0}},Us="lineDashOffset",Ws="setLineDash",Gs=function(t,e,i){return En(e)?t:t[Ws]?(t[Ws](e),i&&(t.lineDashOffset=i),t):new Os(t,e[0],e.length>1?e[1]:e[0])},Fs=function(t,e){!En(e)&&t[Ws]&&(t[Ws](Wi),t.lineDashOffset=0)};if(ms(Os,i,{_69I:6,moveTo:function(t,e){var i=this,n=i.pen;n.x=t,n.y=e,i.g.moveTo(t,e),i.start||(i.start={x:t,y:e})},lineTo:function(t,e){var i=this,n=i.pen,o=t-n.x,a=e-n.y,r=P(a,o),s=T(r),l=S(r),c=i._23O(n.x,n.y,t,e),h=i._85O,d=i._84O,g=i._83O;if(i.F){if(i.F>c)return i._70I?i._72I(t,e):i.moveTo(t,e),void(i.F-=c);if(i._70I?i._72I(n.x+s*i.F,n.y+l*i.F):i.moveTo(n.x+s*i.F,n.y+l*i.F),c-=i.F,i.F=0,i._70I=!i._70I,!c)return}var u=w(c/g);if(u){for(var f=s*d,v=l*d,p=s*h,I=l*h,_=0;u>_;_++)i._70I?(i._72I(n.x+f,n.y+v),i.moveTo(n.x+p,n.y+I)):(i.moveTo(n.x+p,n.y+I),i._72I(n.x+f,n.y+v));c-=g*u}i._70I?c>d?(i._72I(n.x+s*d,n.y+l*d),i.moveTo(t,e),i.F=h-(c-d),i._70I=!1):(i._72I(t,e),c===d?(i.F=0,i._70I=!i._70I):(i.F=d-c,i.moveTo(t,e))):c>h?(i.moveTo(n.x+s*h,n.y+l*h),i._72I(t,e),i.F=d-(c-h),i._70I=!0):(i.moveTo(t,e),c===h?(i.F=0,i._70I=!i._70I):i.F=h-c)},quadraticCurveTo:function(t,e,i,n){var o,a=this,r=a.pen,s=r.x,l=r.y,c=a._22O(s,l,t,e,i,n),h=0,d=0,g=a._85O,u=a._84O;if(a.F){if(a.F>c)return a._70I?a._71I(t,e,i,n):a.moveTo(i,n),void(a.F-=c);if(h=a.F/c,o=a._20O(s,l,t,e,i,n,h),a._70I?a._71I(o[2],o[3],o[4],o[5]):a.moveTo(o[4],o[5]),a.F=0,a._70I=!a._70I,!c)return}var f=c-c*h,v=w(f/a._83O),p=u/c,I=g/c;if(v)for(var _=0;v>_;_++)a._70I?(d=h+p,o=a._21O(s,l,t,e,i,n,h,d),a._71I(o[2],o[3],o[4],o[5]),d=(h=d)+I,o=a._21O(s,l,t,e,i,n,h,d),a.moveTo(o[4],o[5])):(d=h+I,o=a._21O(s,l,t,e,i,n,h,d),a.moveTo(o[4],o[5]),d=(h=d)+p,o=a._21O(s,l,t,e,i,n,h,d),a._71I(o[2],o[3],o[4],o[5])),h=d;f=c-c*h,a._70I?f>u?(d=h+p,o=a._21O(s,l,t,e,i,n,h,d),a._71I(o[2],o[3],o[4],o[5]),a.moveTo(i,n),a.F=g-(f-u),a._70I=!1):(o=a._19O(s,l,t,e,i,n,h),a._71I(o[2],o[3],o[4],o[5]),c===u?(a.F=0,a._70I=!a._70I):(a.F=u-f,a.moveTo(i,n))):f>g?(d=h+I,o=a._21O(s,l,t,e,i,n,h,d),a.moveTo(o[4],o[5]),o=a._19O(s,l,t,e,i,n,d),a._71I(o[2],o[3],o[4],o[5]),a.F=u-(f-g),a._70I=!0):(a.moveTo(i,n),f===g?(a.F=0,a._70I=!a._70I):a.F=g-f)},bezierCurveTo:function(){var t=arguments;this.pen={x:t[4],y:t[5]},this.g.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])},arc:function(t,e,i,n,o,a){a||(n=-n,o=-o),function(t,e,i,n,o,a,r,s){var l,c,h,d,g,u,f,v,p,I;if(D(o)>2*E&&(o=2*E),l=-o/(d=b(D(o)/(E/4))),c=-n,d>0){g=e+T(n)*a,u=i+S(-n)*r,s?t.lineTo(g,u):t.moveTo(g,u);for(var _=0;d>_;_++)h=(c+=l)-l/2,f=e+T(c)*a,v=i+S(c)*r,p=e+T(h)*(a/T(l/2)),I=i+S(h)*(r/T(l/2)),t.quadraticCurveTo(p,I,f,v)}}(this,t,e,n,o-n,i,i,!1)},rect:function(t,e,i,n){var o=this;o.pen={x:t,y:e},o.moveTo(t,e),o.lineTo(t,e+n),o.lineTo(t+i,e+n),o.lineTo(t+i,e),o.lineTo(t,e)},beginPath:function(){this.g.beginPath()},closePath:function(){this.lineTo(this.start.x,this.start.y)},_23O:function(t,e,i,n){var o=i-t,a=n-e;return A(o*o+a*a)},_22O:function(t,e,i,n,o,a,r){for(var s,l,c,h,d,g,u,f=0,v=t,p=e,I=r>0?r:this._69I,_=1;I>=_;_++)s=(d=(h=1-(c=_/I))*h)*t+(g=2*c*h)*i+(u=c*c)*o,l=d*e+g*n+u*a,f+=this._23O(v,p,s,l),v=s,p=l;return f},_21O:function(t,e,i,n,o,a,r,s){var l=this;if(0===r)return l._20O(t,e,i,n,o,a,s);if(1===s)return l._19O(t,e,i,n,o,a,r);var c=l._20O(t,e,i,n,o,a,s);return c.push(r/s),l._19O.apply(l,c)},_20O:function(t,e,i,n,o,a,r){if(1!==r){var s=i+(o-i)*r,l=n+(a-n)*r;o=(i=t+(i-t)*r)+(s-i)*r,a=(n=e+(n-e)*r)+(l-n)*r}return[t,e,i,n,o,a]},_19O:function(t,e,i,n,o,a,r){if(1!==r){var s=t+(i-t)*r,l=e+(n-e)*r;t=s+((i+=(o-i)*r)-s)*r,e=l+((n+=(a-n)*r)-l)*r}return[t,e,i,n,o,a]},_72I:function(t,e){var i=this.pen;(t!==i.x||e!==i.y)&&(i.x=t,i.y=e,this.g.lineTo(t,e))},_71I:function(t,e,i,n){var o=this.pen;(t!==i||e!==n||i!==o.x||n!==o.y)&&(o.x=i,o.y=n,this.g.quadraticCurveTo(t,e,i,n))}}),B&&Y){var Qs=Y.toString();O=Qs.indexOf(ee.substr(0,2))>0&&Qs.indexOf(dt+dt.substr(1,1))>1||Qs.indexOf(Ye.substr(0,2)+ee.substr(2,2)+ct[0]+ee[4])>1}var Hs=r,Ys=r,Js=function(t){Hs&&!t._72O&&(Ys||(Ys={}),Ys[t._72O=Or()]=t)},Xs=function(t,e){if(e||(e=t),e&&(Hs||(Hs={}),!Hs[t])){var i=new ph;if(Hs[e]={request:i,url:e},(e=c.beforeLoadURL(e)).data){var n=c.parse(e.data);$s(t,n),c.handleCompTypeLoaded(t,n)}else{i.onload=function(e){if(200===this.status||0===this.status){var i=c.parse(e.target.response||e.target.responseText);$s(t,i),c.handleCompTypeLoaded(t,i)}else $s(t,r)},i.onerror=function(){$s(t,r)};var o={};o.url=encodeURI(e),o.sync=!1,i.send(o)}}},$s=function(t,e){if(Ri[t]=e,delete Hs[t],kn(Hs)&&(Hs=r,Ys)){for(var i in Ys){(o=Ys[i]).invalidateAll&&o.invalidateAll(n,"compTypeLoaded",t),o.redraw&&o.redraw(),o.iv(),delete o._72O}Ys=r}if(e&&Ys)for(var i in Ys){var o;(o=Ys[i]).invalidateAll&&o.invalidateAll(n,"compTypeLoading",t),o.redraw&&o.redraw(),o.iv()}},Ks=g.chart,qs="",tl=c.compStack=[],el=/^style@/,il=/^attr@/,nl=/^field@/,ol={x:.5,y:.5},al=function(t,e,i,n){if(!t)return 0;if(sl(t.fitSize,e,i)&&n)return n;var o=sl(t.width,e,i);return null==o?20:o},rl=function(t,e,i,n){if(!t)return 0;if(sl(t.fitSize,e,i)&&n)return n;var o=sl(t.height,e,i);return null==o?20:o},sl=function(t,e,i){if(!t||!t.func)return t;var o,a=t.func,s=t.value;return o=In(a)?i&&i.vectorDataBindingDisabled&&!t.isSafeFunc?s:a(e,i):e instanceof Al?il.test(a)?e.a(qs+a.slice(5)):el.test(a)?e.s(qs+a.slice(6)):nl.test(a)?e[a.slice(6)]:e[a]?e[a](i):s:s,s!==n&&o==r?s:o},ll=c.drawImage=function(){var t,i,o,a,s,l,h=function(t,e){t.getValue&&t.getValue.compType===e||(t.getValue=function(i){var o=d(t,i);if(o===n&&e.properties){var a=e.properties[i];a&&(o=a.defaultValue)}return o},t.getColor=function(e){return g(t.getValue(e))},t.getValue.compType=e)},d=function(t,e,a){var r,s=!1;if(t.prefix&&i instanceof Al){var l=i.a(qs+e);l!==n&&(s=!0,r=l)}return r===n&&(r=t[e]),r&&r.func&&(s=!0,r=sl(r,i,o)),a&&(r=a(r),s||(t[e]=r)),r},g=function(e,i){var n;if(n=i?d(e,i):e,t&&t.compGray&&n)return c.toGrayColor(n);if(s&&n){if("override"===l)return s;if("override_rgb"===l){var o=Ko(s);return n=$o(n),"rgba("+w(255*o[0])+","+w(255*o[1])+","+w(255*o[2])+","+n[3]/255+")"}if("override_a"===l){o=Ko(s);return"rgba("+(n=$o(n))[0]+","+n[1]+","+n[2]+","+o[3]+")"}o=Ko(s);return n=$o(n),"rgba("+w(n[0]*o[0])+","+w(n[1]*o[1])+","+w(n[2]*o[2])+","+n[3]/255*o[3]+")"}return n},u=function(t){if(_n(t)){for(var e=new ml,i=t.length,n=0;i>n;n+=2)e.add({x:t[n],y:t[n+1]});t=e}return t},f=function(t){var e=d(t,"anchorX"),i=d(t,"anchorY");if(e!==n||i!==n)return{x:e===n?ol.x:e,y:i===n?ol.y:i};var o=d(t,"type"),a=d(t,"name");if("image"!==o||!a)return ol;var r=Pr(a);return r&&r.anchorX!==n&&r.anchorY!==n?{x:r.anchorX,y:r.anchorY}:ol},v=function(t,e){var i=d(t,bt),n=f(t);if(_n(i)){var o=i.length,a=d(t,"relative"),r=e.width,s=e.height;if(4===o)i={x:i[0],y:i[1],width:i[2],height:i[3]},a&&(i.x*=r,i.y*=s,i.width*=r,i.height*=s);else if(3===o){var l=i[0];i={width:i[1],height:i[2]},a&&(i.width*=r,i.height*=s),"object"==typeof l?l.length&&(l={x:l[0],y:l[1]}):l=za(l,e,i),i.x=l.x-i.width*n.x,i.y=l.y-i.height*n.y}i.x+=d(t,"offsetX")||0,i.y+=d(t,"offsetY")||0,!a&&e.fitSize&&(i=p(t,i,e))}return i},p=function(t,e,i){if(e){var n,o,a,s={x:e.x,y:e.y,width:e.width,height:e.height},l=f(t),c=d(t,"layoutH"),h=d(t,"layoutV"),g=1,u=1,v=0,p=0,I=1,_=1;switch(c){case"left":break;case"right":s.x+=i.width-i.rw;break;case"center":s.x+=.5*(i.width-i.rw);break;case"scale":case"leftright":default:(n=d(t,te)||0)&&(v=Math.abs(p=Math.sin(n)),I=Math.abs(_=Math.cos(n))),"leftright"!==c?(g+=I*(i.widthScale-1),u+=v*(i.widthScale-1)):(g+=s.width?I*(i.width-i.rw)/s.width:0,u+=s.height?v*(i.width-i.rw)/s.height:0,o=-Math.min(-l.x*_+l.y*p,-l.x*_-(1-l.y)*p,(1-l.x)*_+l.y*p,(1-l.x)*_-(1-l.y)*p))}switch(h){case"top":break;case"bottom":s.y+=i.height-i.rh;break;case"center":s.y+=.5*(i.height-i.rh);break;case"scale":case"topbottom":default:n==r&&((n=d(t,te))&&(v=Math.abs(p=Math.sin(n)),I=Math.abs(_=Math.cos(n)))),"topbottom"!==h?(g+=v*(i.heightScale-1),u+=I*(i.heightScale-1)):(g+=s.width?v*(i.height-i.rh)/s.width:0,u+=s.height?I*(i.height-i.rh)/s.height:0,a=-Math.min(-l.x*p-l.y*_,-l.x*p+(1-l.y)*_,(1-l.x)*p-l.y*_,(1-l.x)*p+(1-l.y)*_))}return(1!==g||1!==u)&&("scale"!==c&&c?"leftright"===c&&(s.x+=s.width*(1-g)*l.x+o*(i.width-i.rw)):s.x+=s.x*(i.widthScale-1)+l.x*s.width*(i.widthScale-g),"scale"!==h&&h?"topbottom"===h&&(s.y+=s.height*(1-u)*l.y+a*(i.height-i.rh)):s.y+=s.y*(i.heightScale-1)+l.y*s.height*(i.heightScale-u),s.width*=g,s.height*=u),s.width<0&&(s.width=0),s.height<0&&(s.height=0),s}},I=function(t){return _n(t)?new ml(t):t},_=function(e,i,o,a,r,s,l){var c=t.interactiveInfo,h=e.transform;if(h)return t.save(),t.setTransform(h.a,h.b,h.c,h.d,h.tx,h.ty),c&&c.compInfos.push({comp:e,rect:i,matrix:h.clone()}),!0;r===n&&(r=1),s===n&&(s=1);var g=d(e,"clipPercentage");if(Vn(o,i)&&!a&&1===r&&1===s&&!(1>g))return c&&c.compInfos.push({comp:e,rect:i,matrix:c.matrix.clone()}),!1;l=l||ol;var u=i.x+i.width*l.x,f=i.y+i.height*l.y,v=o.x+o.width*l.x,p=o.y+o.height*l.y,I=o.width?r*(i.width/o.width):1,_=o.height?s*(i.height/o.height):1;if(t.save(),c&&(c.matrix.appendTranslate(u,f).appendRotate(a).appendScale(I,_).appendTranslate(-v,-p),c.compInfos.push({comp:e,rect:i,matrix:c.matrix.clone()})),fo(t,u,f),vo(t,a||0),po(t,I,_),fo(t,-v,-p),1>g){0>g&&(g=0);var y=Un(o,d(e,"clipDirection"),g);t.beginPath(),t.rect(y.x,y.y,y.width,y.height),t.clip()}return!0},y=function(){t.restore()},C=function(e,n,c,h){var v=d(e,Zt,u),C=d(e,te),m=f(e);if(v&&h.fitSize){var w=new ml,b=as(v),A=p(e,b,h),M=b.x+m.x*b.width,x=b.y+m.y*b.height,D=A.x+m.x*A.width,T=A.y+m.y*A.height,N=b.width?A.width/b.width:1,S=b.height?A.height/b.height:1;v.each(function(t){w.add({x:D+(t.x-M)*N,y:T+(t.y-x)*S})}),v=w,e.unionRect=null}var z=d(e,"scaleX"),k=d(e,"scaleY"),E=n===xt,V=r;if(!c&&E&&((c=e.unionRect)||(c=as(v),e.points.func||(e.unionRect=c)),V=c),c){E?V||((V=e.unionRect)||(V=as(v),e.points.func||(e.unionRect=V))):V=c;var j,R,P,Z,L=_(e,c,V,C,z,k,m),B=d(e,"borderPattern"),O=Gs(t,B),U=g(e,"background"),W=Pr(d(e,"repeatImage"),s,l),G=d(e,"gradientPack"),F=g(e,"borderColor"),Q=d(e,"borderWidth"),H=d(e,"segments",I),Y=d(e,"gradient"),J=g(e,"gradientColor"),X=d(e,"border3d"),$=d(e,"border3dColor"),K=d(e,"border3dAccuracy"),q=d(e,"closePath"),tt=d(e,"fillRule")||"nonzero",et=t.lineJoin,it=t.lineCap;if(t.lineJoin=d(e,"borderJoin")||pr,t.lineCap=d(e,"borderCap")||vr,E)if(U||W||G){if(1>(st=d(e,"fillClipPercentage"))){0>st&&(st=0);var nt=Un(V,d(e,"fillClipDirection"),st);t.save(),t.beginPath(),t.rect(nt.x,nt.y,nt.width,nt.height),t.clip()}if(oa(t,v,H,q),G)ia(t,G);else if(W){var ot=t,at=s,rt=l;da(t,W,s,l,i,o),t=ot,s=at,l=rt}else{ot=t;ha(t,U,Y,J,V),t=ot}t.fill(tt),1>st&&t.restore(),G&&t.restore(),O!==t&&oa(O,v,H,q)}else oa(O,v,H,q);else if("roundRect"===n?j=d(e,"cornerRadius"):"polygon"===n?j=d(e,"polygonSide"):"arc"===n&&(j=d(e,"arcFrom"),R=d(e,"arcTo"),P=d(e,"arcClose"),Z=d(e,"arcOval")),U||W||G){var st;if(1>(st=d(e,"fillClipPercentage"))){0>st&&(st=0);nt=Un(V,d(e,"fillClipDirection"),st);t.save(),t.beginPath(),t.rect(nt.x,nt.y,nt.width,nt.height),t.clip()}if(ca(t,n,V,j,R,P,Z),G)ia(t,G);else if(W){ot=t,at=s,rt=l;da(t,W,s,l,i,o),t=ot,s=at,l=rt}else ha(t,U,Y,J,V);t.fill(tt),1>st&&t.restore(),G&&t.restore(),t!==O&&ca(O,n,V,j,R,P,Z)}else ca(O,n,V,j,R,P,Z);if(Q&&F){var lt=d(e,"borderWidthAbsolute");lt&&(t.save(),t.setTransform(1,0,0,1,0,0)),t.lineWidth=Q,t.strokeStyle=F,t.stroke(),lt&&t.restore(),X&&ra(t,F,$,Q,a,K)}if(Fs(t,B),d(e,"dash")){var ct=d(e,"dashWidth")||Q;if(ct>0){B=d(e,"dashPattern")||fr;O=Gs(t,B,d(e,"dashOffset"));var ht=g(e,"dashColor")||g(ja);O!==t&&(E?oa(O,v,H,q):ca(O,n,V,j,R,P,Z)),t.strokeStyle=ht,t.lineWidth=ct,t.stroke(),d(e,"dash3d")&&ra(t,ht,g(e,"dash3dColor"),ct,a,d(e,"dash3dAccuracy")),Fs(t,B)}}n===bt&&va(t,U,d(e,"depth"),V),t.lineJoin=et,t.lineCap=it,L&&y()}},m=function(){t=null,i=null,o=null},b={border:function(e,i){fa(t,g(e,$e),i.x,i.y,i.width,i.height,d(e,"width"))},image:function(e,n){var a=s,r=l,c=s||d(e,$e),h=l||d(e,"blendMode"),g=Pr(d(e,"name"),c,h);g&&(Br(t,g,d(e,"stretch"),n.x,n.y,n.width,n.height,i,o,c,null,h),s=a,l=r)},text:function(e,i){var n=d(e,"text");n!=r&&Jr(t,n,d(e,"font"),g(e,$e),i.x,i.y,i.width,i.height,d(e,"align"),d(e,"vAlign"))},pieChart:function(e,n){var o=d(e,Lt),a=0;if(o&&(o.forEach(function(t){a+=t}),a>0)){for(var s=d(e,"colors")||Ks,l=d(e,"startAngle")||0,c=d(e,"hollow"),h=d(e,Ot),g=d(e,Qt),u=d(e,Ht),f=h?new ml:r,v=n.x,p=n.y,I=n.width,_=n.height,y=v+I/2,C=p+_/2,m=x(I,_)/2,w=0,b=0;b<o.length;b++){var A=o[b],M=V*A/a,D=l+M;if(t.fillStyle=s[w++],w===s.length&&(w=0),t.beginPath(),c){var N=y+T(l)*m/2,z=C+S(l)*m/2,k=y+T(D)*m,E=C+S(D)*m;t.moveTo(N,z),t.arc(y,C,m/2,l,D,!1),t.lineTo(k,E),t.arc(y,C,m,D,l,!0)}else t.moveTo(y,C),t.arc(y,C,m,D,l,!0);f&&(M=(l+D)/2,f.add({text:In(h)?h(A,b,a,i):A,x:y+.75*T(M)*m,y:C+.75*S(M)*m})),t.closePath(),t.fill(),l=D}f&&f.each(function(e){Jr(t,e.text,g,u,e.x,e.y,0,0,ut)})}},columnChart:function(e,n){var o=d(e,Bt);if(o&&o.length>0){var a=o.length,s=d(e,Ot),l=d(e,Qt),c=d(e,Ht),h=s?new ml:r,g=d(e,"minValue")||0,u=d(e,"maxValue");if(u==r&&(u=0,o.forEach(function(t){d(t,Lt).forEach(function(t){u=M(u,t)})})),g===u)return;for(var f=n.height/(u-g),v=n.y+u*f,p=d(o[0],Lt).length,I=n.width/(3*p+1),_=2*I/a,y=0,C=0;a>C;C++)for(var m=o[C],w=d(m,$e),b=d(m,"colors"),A=d(m,Lt),x=0;p>x;x++){b?t.fillStyle=b[x]:w?t.fillStyle=w:(t.fillStyle=Ks[y++],y===Ks.length&&(y=0));var D=A[x],T=D*f,N=n.x+(1+3*x)*I+C*_;if(la(t,N,v-T,_,T),h){var S=In(s)?s(D,x,m,i):D,z=Xr(l,S).height;h.add({x:N,y:v-T-z,width:_,height:z,text:S})}}h&&h.each(function(e){Jr(t,e.text,l,c,e.x,e.y,e.width,e.height,ut)})}},stackedColumnChart:function(e,n){var o=d(e,Bt);if(o&&o.length>0){var a=o.length,s=d(o[0],Lt).length,l=n.width/(3*s+1),c=0,h=d(e,"maxValue"),g=d(e,Ot),u=d(e,Qt),f=d(e,Ht),v=g?new ml:r;if(h==r){h=0;for(var p=0;s>p;p++){for(var I=0,_=0;a>_;_++)I+=d(o[_],Lt)[p];h=M(h,I)}}if(h>0){for(p=0;s>p;p++){var y=n.y+n.height;for(_=0;a>_;_++){var C=o[_],m=d(C,$e),w=d(C,Lt)[p],b=w/h*n.height;m?t.fillStyle=m:(t.fillStyle=Ks[c++],c===Ks.length&&(c=0)),y-=b;var A={x:n.x+(1+3*p)*l,y:y,width:2*l,height:b};la(t,A.x,A.y,A.width,A.height),v&&(A.text=In(g)?g(w,p,C,i):w,v.add(A))}}v&&v.each(function(e){Jr(t,e.text,u,f,e.x,e.y,e.width,e.height,ut)})}}},percentageColumnChart:function(e,n){var o=d(e,Bt);if(o&&o.length>0){for(var a=o.length,s=d(o[0],Lt).length,l=n.width/(3*s+1),c=0,h=d(e,Ot),g=d(e,Qt),u=d(e,Ht),f=h?new ml:r,v=0;s>v;v++){for(var p=0,I=0;a>I;I++)p+=d(o[I],Lt)[v];if(p>0){var _=n.y+n.height;for(I=0;a>I;I++){var y=o[I],C=d(y,$e),m=d(y,Lt)[v],w=m/p*n.height;C?t.fillStyle=C:(t.fillStyle=Ks[c++],c===Ks.length&&(c=0)),_-=w;var b={x:n.x+(1+3*v)*l,y:_,width:2*l,height:w};la(t,b.x,b.y,b.width,b.height),f&&(b.text=In(h)?h(m,v,y,i):m,f.add(b))}}}f&&f.each(function(e){Jr(t,e.text,g,u,e.x,e.y,e.width,e.height,ut)})}},lineChart:function(e,n){var o=d(e,Bt);if(o&&o.length>0){var s=o.length,l=d(e,"minValue")||0,c=d(e,"maxValue");if(c==r&&(c=0,o.forEach(function(t){d(t,Lt).forEach(function(t){c=M(c,t)})})),l===c)return;for(var h=n.height/(c-l),g=n.y+c*h,u=d(o[0],Lt).length,f=n.width/(3*u+1),v=0,p=d(e,"lineWidth")||2,I=d(e,"line3d"),_=d(e,"linePoint"),y=d(e,Ot),C=d(e,Qt),m=d(e,Ht),w=0;s>w;w++){var b=o[w],A=d(b,$e),x=d(b,Lt);A?t.strokeStyle=A:(A=t.strokeStyle=Ks[v++],v===Ks.length&&(v=0)),t.beginPath();for(var D=0;u>D;D++){var T=n.x+(2+3*D)*f,N=g-x[D]*h;0===D?t.moveTo(T,N):t.lineTo(T,N)}if(t.lineWidth=p,t.stroke(),I&&ra(t,A,r,p,a),_||y){var S,z=p/2+2;for(D=0;u>D;D++){var k=x[D];if(T=n.x+(2+3*D)*f,N=g-k*h,In(_)?_(t,T,N,A,D,b,i):_&&(t.fillStyle=A,t.beginPath(),t.arc(T,N,z,0,V,!0),t.fill()),In(y)?S=y(k,D,b,i):y&&(S=k),S){var E=Xr(C,S).height,j=t.shadowBlur;if(j){var R=t.shadowOffsetX,P=t.shadowOffsetY,Z=t.shadowColor;t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0,t.shadowColor=r}Jr(t,S,C,m,T,N-E-z+2,0,E,ut),j&&(t.shadowOffsetX=R,t.shadowOffsetY=P,t.shadowBlur=j,t.shadowColor=Z)}}}}}}};return function(p,w,A,M,x,D,T,N,S,z){if(w&&x&&D){var k=!t;t=p,i=T,a=(o=N)&&o._zoom?o._zoom:1,s=S,l=z;var E,V,j,R=x,P=D;if(mc())0===t.maxSize?mc[0]&&(E=!0):E=!0,t.texureImage2D?mc[1]&&(V=!0):V=!0,t.texureImage3D?mc[2]&&(j=!0):j=!0,E&&V&&j&&(R=A,P=M);if(w.tagName)return un($)&&!e[$]||t.drawImage(w,R,P,x,D),void(k&&m());if(!1===d(w,"visible"))return void(k&&m());s||(s=sl(w.color,i,o)),z||(l=sl(w.blendMode,i,o)),un($)&&!e[$]&&(x=R,D=P);var Z=al(w,i,o,x),L=rl(w,i,o,D),B={x:0,y:0,width:Z,height:L,fitSize:d(w,"fitSize")},O=d(w,"clip"),U=d(w,"opacity");if(B.fitSize){var W=B.rw=sl(w.width,i,o)||20;B.widthScale=Z/W;var G=B.rh=sl(w.height,i,o)||20;B.heightScale=L/G}if(t.save(),t.interactiveInfo){var F=t.interactiveInfo.matrix,Q=F.clone();F.appendTranslate(R,P).appendScale(x/Z,D/L)}fo(t,R,P),(Z!==x||L!==D)&&t.scale(x/Z,D/L),O&&(In(O)?O(t,Z,L,i,o,w):(t.beginPath(),t.rect(0,0,Z,L),t.clip())),U!=r&&(t.globalAlpha*=U),d(w,"comps").forEach(function(e){if(!1!==d(e,ie)){if(tl.splice(0,0,e),e.prefix){var s=qs,l=sl(e.prefix,i,o);l&&(qs=qs+l+".")}if(t.interactiveInfo)var p=t.interactiveInfo.matrix.clone();var m=d(e,"opacity"),w=d(e,"shadow"),A=d(e,"type"),M=v(e,B);if(m!=r){var x=t.globalAlpha;t.globalAlpha*=m}if(w){var D=t.shadowOffsetX,T=t.shadowOffsetY,N=t.shadowBlur,S=t.shadowColor,z=d(e,"shadowOffsetX"),k=d(e,"shadowOffsetY"),E=d(e,"shadowBlur"),V=g(e,"shadowColor");t.shadowOffsetX=(z==r?3:z)*a,t.shadowOffsetY=(k==r?3:k)*a,t.shadowBlur=(E==r?6:E)*a,t.shadowColor=V||g(Ha)}if("save"===A)t.save();else if("endClip"===A||"restore"===A)t.restore();else if("clip"===A)t.save(),oa(t,d(e,"points",u),d(e,"segments",I),!0),t.clip();else if(ma[A])M=M||{x:0,y:0,width:B.width,height:B.height},C(e,A,M,B);else if(A===xt)C(e,A,M,B);else if("SVGPath"===A)!function(e,i,n){var o=d(e,"path"),s=d(e,te),l=d(e,"scaleX"),c=d(e,"scaleY"),h=f(e),u=r,v=ea(null,o);if(n||((n=e.unionRect)||(n=as(v),e.path.func||(e.unionRect=n)),u=n),n){u||(u=e.unionRect)||(u=as(v),e.path.func||(e.unionRect=u));var p=_(e,n,u,s,l,c,h),I=d(e,"borderPattern"),C=Gs(t,I),m=g(e,"background"),w=g(e,"borderColor"),b=d(e,"borderWidth"),A=d(e,"gradient"),M=g(e,"gradientColor"),x=d(e,"border3d"),D=d(e,"border3dColor"),T=d(e,"border3dAccuracy"),N=t.lineJoin,S=t.lineCap;if(t.lineJoin=d(e,"borderJoin")||pr,t.lineCap=d(e,"borderCap")||vr,m?(ha(t,m,A,M,u),ea(t,o),t.fill(),C!==t&&ea(t,o)):ea(t,o),b&&w){var z=d(e,"borderWidthAbsolute");z&&(t.save(),t.setTransform(1,0,0,1,0,0)),t.lineWidth=b,t.strokeStyle=w,t.stroke(),z&&t.restore(),x&&ra(t,w,D,b,a,T)}if(Fs(t,I),d(e,"dash")){var k=d(e,"dashWidth")||b;if(k>0){I=d(e,"dashPattern")||fr,C=Gs(t,I,d(e,"dashOffset"));var E=g(e,"dashColor")||g(ja);C!==t&&ea(t,o),t.strokeStyle=E,t.lineWidth=k,t.stroke(),d(e,"dash3d")&&ra(t,E,g(e,"dash3dColor"),k,a,d(e,"dash3dAccuracy")),Fs(t,I)}}i===bt&&va(t,m,d(e,"depth"),u),t.lineJoin=N,t.lineCap=S,p&&y()}}(e,A,M);else{M=M||{x:0,y:0,width:B.width,height:B.height};var j=d(e,te),R=d(e,"scaleX"),P=d(e,"scaleY"),Z=f(e),L=_(e,M,M,j,R,P,Z);if(In(A))h(e,A),c.drawCompType(A,t,M,e,i,o);else if(c.getCompType(A)){var O=c.getCompType(A),U=O.func||O;h(e,O),c.drawCompType(U,t,M,e,i,o)}else b[A]?b[A](e,M):c.getCompType(A)===n&&Bi.test(A)&&Xs(A);L&&y()}w&&(t.shadowOffsetX=D,t.shadowOffsetY=T,t.shadowBlur=N,t.shadowColor=S),m!=r&&(t.globalAlpha=x),t.interactiveInfo&&(t.interactiveInfo.matrix=p),e.prefix&&(qs=s),tl.splice(0,1)}}),t.interactiveInfo&&(t.interactiveInfo.matrix=Q),t.restore(),k&&m()}}}();c.getCurrentComp=function(){return tl[0]},c.getParentComp=function(){return tl[1]},c.getInternal=function(){return{isEnter:Go,isEsc:Fo,isSpace:Wo,isLeft:Lo,isUp:Bo,isRight:Oo,isDown:Uo,addMethod:Tn,superCall:zn,toPointsArray:aa,translateAndScale:uo,appendArray:xn,createWorldMatrix:Bs,vec3TransformMat4:Es,setCanvas:io,createDiv:Kn,createView:$n,createCanvas:qn,createImage:an,initContext:go,layout:Co,fillRect:la,Mat:gl,drawBorder:fa,isString:un,setBorder:to,getPropertyValue:Bn,setPropertyValue:On,drawVerticalLine:Wn,draw3DRect:va,getPinchDist:ba,isSameRect:Vn,getPosition:za,intersectionLineRect:Zn,getNodeRect:Dl,getEdgeAgentPosition:Gl,getImageWidth:al,getImageHeight:rl,initItemElement:Xn,drawPoints:oa,createG2:Gs,closePopup:wo,isH:cn,createAnim:Dn,createNormalMatrix:_g,createNormals:Wd,toFloatArray:Pu,glMV:yg,batchShape:Jg,createNodeMatrix:Ls,getFaceInfo:Mg,transformAppend:Md,drawFaceInfo:xg,to3dPointsArray:Bu,setGLDebugMode:function(t){pd=t},cube:function(){return{vs:du,is:gu,uv:uu}},ui:function(){return{DataUI:Ih,NodeUI:qh,EdgeUI:$h,GroupUI:yh,ShapeUI:nd,GridUI:wh,Data3dUI:Zf,Node3dUI:Lf,Shape3dUI:Of}},getInternalVersion:function(){return"U2FsdGVkX18zEnJKI4jHmnR4V5w2FgTghcWE5oAQlW0="},getDragger:function(){return bo},addMSMap:function(t){Tn(ar,t)},k:f}},function(t){function e(t,e){t!=r&&(e==r&&Je!=typeof t?this._54O(t,256):this._54O(t,e))}function i(){return new e(r)}function n(t){return k.charAt(t)}function a(t,e){var i=E[t.charCodeAt(e)];return i==r?-1:i}function s(t){var e=i();return e._58O(t),e}function l(t){var e,i=1;return 0!=(e=t>>>16)&&(t=e,i+=16),0!=(e=t>>8)&&(t=e,i+=8),0!=(e=t>>4)&&(t=e,i+=4),0!=(e=t>>2)&&(t=e,i+=2),0!=(e=t>>1)&&(t=e,i+=1),i}function c(t){this.m=t}function h(t){var e=this;e.m=t,e.mp=t._50O(),e.mpl=32767&e.mp,e.mph=e.mp>>15,e.um=(1<<t.DB-15)-1,e.mt2=2*t.t}function d(t,i){return new e(t,i)}function g(){var t=this;t.n=r,t.e=0,t.d=r,t.p=r,t.q=r,t.dmp1=r,t.dmq1=r,t._10A=r}function u(t){var e,i,o,a="",r=0;for(e=0;e<t.length&&t.charAt(e)!=O;++e)0>(o=B.indexOf(t.charAt(e)))||(0==r?(a+=n(o>>2),i=3&o,r=1):1==r?(a+=n(i<<2|o>>4),i=15&o,r=2):2==r?(a+=n(i),a+=n(o>>2),i=3&o,r=3):(a+=n(i<<2|o>>4),a+=n(15&o),r=0));return 1==r&&(a+=n(i<<2)),a}function p(t){var e=t.substring(0,38);return e&&30==e.indexOf("05000420")?["ss",t.substring(38)]:[]}function I(t,e){var i=d(e=(e=e.replace(Q,"")).replace(/[ \n]+/g,""),16);if(i._55O()>this.n._55O())return 0;var n=p(this._37O(i)[y](16).replace(/^1f+00/,""));if(0==n.length)return!1;for(var o,a,r,s=Cs,l=[0,.5,.75,.875,.9375],c=[],h=[],g=[],u=V/s,f=n[1],v=function(t,e){var i=Y._4O.Util._56O(t,"ss"),n={};return n.v=i==e,n.t=1,n.s=0,bi=n.v,n.t=0,[i,n]}(t,f)[0],I=0,_=0;I<l.length;I++){var C=0==I%2?0:.5;for(o=0;s>=o;o++)a=(o+C)*u,r=1-l[I],c.push(.5*T(a)*r,2*l[I]*.5-.5,.5*-S(a)*r),h.push((o+C)/s,r)}for(I=0;I<l.length-1;I++){var m=I*(s+1),w=(I+1)*(s+1);for(o=0;s>o;o++)g.push(m+o,w+o+1,w+o,m+o,m+o+1,w+o+1)}return g.forEach(function(t){_+=t}),f==v&&_>10}var _,y="toString";v=t["D"+11182[y](z(2,5))];var C=e.prototype;oe+=pt.substr(0,1);var m=t.navigator?t.navigator.appName:"";"Microsoft Internet Explorer"==m?(C.am=function(t,e,i,n,o,a){for(var r=32767&e,s=e>>15;--a>=0;){var l=32767&this[t],c=this[t++]>>15,h=s*l+c*r;o=((l=r*l+((32767&h)<<15)+i[n]+(1073741823&o))>>>30)+(h>>>15)+s*c+(o>>>30),i[n++]=1073741823&l}return o},_=30):"Netscape"!=m?(C.am=function(t,e,i,n,o,a){for(;--a>=0;){var r=e*this[t++]+i[n]+o;o=w(r/67108864),i[n++]=67108863&r}return o},_=26):(C.am=function(t,e,i,n,o,a){for(var r=16383&e,s=e>>14;--a>=0;){var l=16383&this[t],c=this[t++]>>14,h=s*l+c*r;o=((l=r*l+((16383&h)<<14)+i[n]+o)>>28)+(h>>14)+s*c,i[n++]=268435455&l}return o},_=28),C.DB=_,C.DM=(1<<_)-1,C.DV=1<<_;C.FV=z(2,52),C.F1=52-_,C.F2=2*_-52;var D,N,k="0123456789abcdefghijklmnopqrstuvwxyz",E=[],j=function(t){return String.fromCharCode(t)};for(D="0".charCodeAt(0),N=0;9>=N;++N)E[D++]=N;for(D="a".charCodeAt(0),N=10;36>N;++N)E[D++]=N;for(D="A".charCodeAt(0),N=10;36>N;++N)E[D++]=N;var R=c.prototype;R._73O=function(t){return t.s<0||t._52O(this.m)>=0?t.mod(this.m):t},R.revert=function(t){return t},R._74O=function(t){t._49O(this.m,r,t)},R._75O=function(t,e,i){t._47O(e,i),this._74O(i)},R._76O=function(t,e){t._48O(e),this._74O(e)};var P=h.prototype;P._73O=function(t){var n=i();return t.abs()._59O(this.m.t,n),n._49O(this.m,r,n),t.s<0&&n._52O(e.ZERO)>0&&this.m._78O(n,n),n},P.revert=function(t){var e=i();return t._77O(e),this._74O(e),e},P._74O=function(t){for(var e=this;t.t<=e.mt2;)t[t.t++]=0;for(var i=0;i<e.m.t;++i){var n=32767&t[i],o=n*e.mpl+((n*e.mph+(t[i]>>15)*e.mpl&e.um)<<15)&t.DM;for(t[n=i+e.m.t]+=e.m.am(0,o,t,i,0,e.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t._57O(),t._45O(e.m.t,t),t._52O(e.m)>=0&&t._78O(e.m,t)},P._75O=function(t,e,i){t._47O(e,i),this._74O(i)},P._76O=function(t,e){t._48O(e),this._74O(e)},C._77O=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},C._58O=function(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+this.DV:this.t=0},C._54O=function(t,i){var n,o=this;if(16==i)n=4;else if(8==i)n=3;else if(256==i)n=8;else if(2==i)n=1;else if(32==i)n=5;else{if(4!=i)return void o.fromRadix(t,i);n=2}o.t=0,o.s=0;for(var r=t.length,s=!1,l=0;--r>=0;){var c=8==n?255&t[r]:a(t,r);0>c?"-"==t.charAt(r)&&(s=!0):(s=!1,0==l?o[o.t++]=c:l+n>o.DB?(o[o.t-1]|=(c&(1<<o.DB-l)-1)<<l,o[o.t++]=c>>o.DB-l):o[o.t-1]|=c<<l,(l+=n)>=o.DB&&(l-=o.DB))}8==n&&0!=(128&t[0])&&(o.s=-1,l>0&&(o[o.t-1]|=(1<<o.DB-l)-1<<l)),o._57O(),s&&e.ZERO._78O(o,o)},C._57O=function(){for(var t=this,e=t.s&t.DM;t.t>0&&t[t.t-1]==e;)--t.t},C._59O=function(t,e){var i;for(i=this.t-1;i>=0;--i)e[i+t]=this[i];for(i=t-1;i>=0;--i)e[i]=0;e.t=this.t+t,e.s=this.s},C._45O=function(t,e){for(var i=t;i<this.t;++i)e[i-t]=this[i];e.t=M(this.t-t,0),e.s=this.s},C._44O=function(t,e){var i,n=this,o=t%n.DB,a=n.DB-o,r=(1<<a)-1,s=w(t/n.DB),l=n.s<<o&n.DM;for(i=n.t-1;i>=0;--i)e[i+s+1]=n[i]>>a|l,l=(n[i]&r)<<o;for(i=s-1;i>=0;--i)e[i]=0;e[s]=l,e.t=n.t+s+1,e.s=n.s,e._57O()},C._46O=function(t,e){var i=this;e.s=i.s;var n=w(t/i.DB);if(n>=i.t)e.t=0;else{var o=t%i.DB,a=i.DB-o,r=(1<<o)-1;e[0]=i[n]>>o;for(var s=n+1;s<i.t;++s)e[s-n-1]|=(i[s]&r)<<a,e[s-n]=i[s]>>o;o>0&&(e[i.t-n-1]|=(i.s&r)<<a),e.t=i.t-n,e._57O()}},C._78O=function(t,e){for(var i=this,n=0,o=0,a=x(t.t,i.t);a>n;)o+=i[n]-t[n],e[n++]=o&i.DM,o>>=i.DB;if(t.t<i.t){for(o-=t.s;n<i.t;)o+=i[n],e[n++]=o&i.DM,o>>=i.DB;o+=i.s}else{for(o+=i.s;n<t.t;)o-=t[n],e[n++]=o&i.DM,o>>=i.DB;o-=t.s}e.s=0>o?-1:0,-1>o?e[n++]=i.DV+o:o>0&&(e[n++]=o),e.t=n,e._57O()},C._47O=function(t,i){var n=this.abs(),o=t.abs(),a=n.t;for(i.t=a+o.t;--a>=0;)i[a]=0;for(a=0;a<o.t;++a)i[a+n.t]=n.am(0,o[a],i,a,0,n.t);i.s=0,i._57O(),this.s!=t.s&&e.ZERO._78O(i,i)},C._48O=function(t){for(var e=this.abs(),i=t.t=2*e.t;--i>=0;)t[i]=0;for(i=0;i<e.t-1;++i){var n=e.am(i,e[i],t,2*i,0,1);(t[i+e.t]+=e.am(i+1,2*e[i],t,2*i+1,n,e.t-i-1))>=e.DV&&(t[i+e.t]-=e.DV,t[i+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(i,e[i],t,2*i,0,1)),t.s=0,t._57O()},C._49O=function(t,n,o){var a=t.abs(),s=this;if(!(a.t<=0)){var c=s.abs();if(c.t<a.t)return n!=r&&n._58O(0),void(o!=r&&s._77O(o));o==r&&(o=i());var h=i(),d=s.s,g=t.s,u=s.DB-l(a[a.t-1]);u>0?(a._44O(u,h),c._44O(u,o)):(a._77O(h),c._77O(o));var f=h.t,v=h[f-1];if(0!=v){var p=v*(1<<s.F1)+(f>1?h[f-2]>>s.F2:0),I=s.FV/p,_=(1<<s.F1)/p,y=1<<s.F2,C=o.t,m=C-f,b=n==r?i():n;for(h._59O(m,b),o._52O(b)>=0&&(o[o.t++]=1,o._78O(b,o)),e.ONE._59O(f,b),b._78O(h,h);h.t<f;)h[h.t++]=0;for(;--m>=0;){var A=o[--C]==v?s.DM:w(o[C]*I+(o[C-1]+y)*_);if((o[C]+=h.am(0,A,o,m,0,f))<A)for(h._59O(m,b),o._78O(b,o);o[C]<--A;)o._78O(b,o)}n!=r&&(o._45O(f,n),d!=g&&e.ZERO._78O(n,n)),o.t=f,o._57O(),u>0&&o._46O(u,o),0>d&&e.ZERO._78O(o,o)}}},C._50O=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=65535&(e=255&(e=15&e*(2-(15&t)*e))*(2-(255&t)*e))*(2-(65535&(65535&t)*e)))*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},C._51O=function(){return 0==(this.t>0?1&this[0]:this.s)},C.exp=function(t,n){if(t>4294967295||1>t)return e.ONE;var o=i(),a=i(),r=n._73O(this),s=l(t)-1;for(r._77O(o);--s>=0;)if(n._76O(o,a),(t&1<<s)>0)n._75O(a,r,o);else{var c=o;o=a,a=c}return n.revert(o)},C.toString=function(t){var e,i=this;if(i.s<0)return"-"+i._85O()[y](t);if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return i.toRadix(t);e=2}var o,a=(1<<e)-1,r=!1,s="",l=i.t,c=i.DB-l*i.DB%e;if(l-- >0)for(c<i.DB&&(o=i[l]>>c)>0&&(r=!0,s=n(o));l>=0;)e>c?(o=(i[l]&(1<<c)-1)<<e-c,o|=i[--l]>>(c+=i.DB-e)):(o=i[l]>>(c-=e)&a,0>=c&&(c+=i.DB,--l)),o>0&&(r=!0),r&&(s+=n(o));return r?s:"0"},C._85O=function(){var t=i();return e.ZERO._78O(this,t),t},C.abs=function(){return this.s<0?this._85O():this},C._52O=function(t){var e=this,i=e.s-t.s;if(0!=i)return i;var n=e.t;if(0!=(i=n-t.t))return e.s<0?-i:i;for(;--n>=0;)if(0!=(i=e[n]-t[n]))return i;return 0},C._55O=function(){var t=this;return t.t<=0?0:t.DB*(t.t-1)+l(t[t.t-1]^t.s&t.DM)},C.mod=function(t){var n=i();return this.abs()._49O(t,r,n),this.s<0&&n._52O(e.ZERO)>0&&t._78O(n,n),n},C._53O=function(t,e){var i;return i=256>t||e._51O()?new c(e):new h(e),this.exp(t,i)},e.ZERO=s(0),e.ONE=s(1),C._86O=function(){var t=this;if(t.s<0){if(1==t.t)return t[0]-t.DV;if(0==t.t)return-1}else{if(1==t.t)return t[0];if(0==t.t)return 0}return(t[1]&(1<<32-t.DB)-1)<<t.DB|t[0]};Jo=function(){var t,e,i=function(t){var e=t.split(""),i=u(t);return e.forEach(function(t){t.length>0&&i&&(wi+=U(t))}),i}(G),n=i.substr(0,4),o=i.substr(4,2),a=i.substr(6,2),s=!1,l=f,c=[],h=ei.charAt(7);if(v&&(v[y]().indexOf("nat")<0||v[oe][y]().indexOf("nat")<0||!i?t=js(na[h]):(e=(i=new v(n-0,o-1,a-0)).setHours(9),v[oe]()>e?t=js(na[h]):s=!0)),i&&t&&l){for(var d in t)c.push(d);var g,p=0,I=t[c[p++]],_=t[c[p++]],C=t[c[p++]],m=t[c[p++]],w=t[c[p++]],b=t[c[p++]],A=t[c[p++]],M=it._27O(l);if(M&&A){g=I+_+C+m+w+b;var x=!b||b===ui;if(!x&&b)for(var D,T=0,N=b.length;N>T;T++)b[T]===ye[p]?D===ui?x=!0:D=r:(D==r?D=b[T]:D+=b[T],T===N-1&&D===ui&&(x=!0));g&&M._31O(g,A)&&x&&(!w||v[oe]()<w)&&(s=!0)}}return s||(ca=En),h};var L=g.prototype;L._37O=function(t){return t._53O(this.e,this.n)},L._38O=function(t,e){var i=this;i.isPublic=!0,typeof t!==Je?(i.n=t,i.e=e):t!=r&&e!=r&&t.length>0&&e.length>0&&(i.n=d(t,16),i.e=U(e,16))};var B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O="=",W=25,G="IBkFFQ==",F=F||function(t,e){var i={},n=i._7A={},o=n._6A=function(){function t(){}return{_80O:function(e){t.prototype=this;var i=new t;return e&&i._5A(e),i.hasOwnProperty("_82O")||(i._82O=function(){i.$super._82O.apply(this,arguments)}),i._82O.prototype=i,i.$super=this,i},_3A:function(){var t=this._80O();return t._82O.apply(t,arguments),t},_82O:function(){},_5A:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty(y)&&(this.toString=t.toString)},_88O:function(){return this._82O.prototype._80O(this)}}}(),a=n._39O=o._80O({_82O:function(t,e){t=this._84O=t||[],this._65O=void 0!=e?e:4*t.length},toString:function(t){return(t||s).stringify(this)},_89O:function(t){var e=this._84O,i=t._84O,n=this._65O,o=t._65O;if(this._57O(),n%4)for(var a=0;o>a;a++){var r=255&i[a>>>2]>>>24-a%4*8;e[n+a>>>2]|=r<<24-(n+a)%4*8}else if(i.length>65535)for(a=0;o>a;a+=4)e[n+a>>>2]=i[a>>>2];else e.push.apply(e,i);return this._65O+=o,this},_57O:function(){var t=this._84O,e=this._65O;t[e>>>2]&=4294967295<<32-e%4*8,t.length=b(e/4)},_88O:function(){var t=o._88O.call(this);return t._84O=this._84O.slice(0),t},_87O:function(t){for(var e=[],i=0;t>i;i+=4)e.push(0|4294967296*Z);return new a._82O(e,t)}}),r=i._2A={},s=r._69O={stringify:function(t){var e,i=t._84O,n=t._65O,o=[];for(e=0;n>e;e++){var a=255&i[e>>>2]>>>24-e%4*8;o.push((a>>>4).toString(16)),o.push((15&a).toString(16))}return o.join("")},_68O:function(t){for(var e=t.length,i=[],n=0;e>n;n+=2)i[n>>>3]|=U(t.substr(n,2),16)<<24-n%8*4;return new a._82O(i,e/2)}},l=r._8A={stringify:function(t){var e,i=t._84O,n=t._65O,o=[];for(e=0;n>e;e++){var a=255&i[e>>>2]>>>24-e%4*8;o.push(j(a))}return o.join("")},_68O:function(t){var e,i=t.length,n=[];for(e=0;i>e;e++)n[e>>>2]|=(255&t.charCodeAt(e))<<24-e%4*8;return new a._82O(n,i)}},c=r._9A={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("")}},_68O:function(t){return l._68O(unescape(encodeURIComponent(t)))}},h=n._32O=o._80O({_1A:function(){this._83O=new a._82O,this._23O=0},_33O:function(t){typeof t==Je&&(t=c._68O(t)),this._83O._89O(t),this._23O+=t._65O},_25O:function(t){var e=this._83O,i=e._84O,n=e._65O,o=this._79O,r=n/(4*o),s=(r=t?b(r):M((0|r)-this._22O,0))*o,l=x(4*s,n);if(s){for(var c=0;s>c;c+=o)this._20O(i,c);var h=i.splice(0,s);e._65O-=l}return new a._82O(h,l)},_88O:function(){var t=o._88O.call(this);return t._83O=this._83O._88O(),t},_22O:0});n._66O=h._80O({cfg:o._80O(),_82O:function(t){this.cfg=this.cfg._80O(t),this._1A()},_1A:function(){h._1A.call(this),this._34O()},_81O:function(t){return this._33O(t),this._25O(),this},_72O:function(t){return t&&this._33O(t),this._21O()},_79O:16,_26O:function(t){return function(e,i){return new t._82O(i)._72O(e)}},_19O:function(t){return function(e,i){return new d._71O._82O(t,i)._72O(e)}}});var d=i._67O={};return i}();!function(){var t=F,e=t._7A,i=e._39O,n=e._66O,o=t._67O,a=[],r=[];!function(){function t(t){for(var e=A(t),i=2;e>=i;i++)if(!(t%i))return!1;return!0}function e(t){return 0|4294967296*(t-(0|t))}for(var i=2,n=0;64>n;)t(i)&&(8>n&&(a[n]=e(z(i,.5))),r[n]=e(z(i,1/3)),n++),i++}();var s=[],l=o._41O=n._80O({_34O:function(){this._64O=new i._82O(a.slice(0))},_20O:function(t,e){for(var i=this._64O._84O,n=i[0],o=i[1],a=i[2],l=i[3],c=i[4],h=i[5],d=i[6],g=i[7],u=0;64>u;u++){if(16>u)s[u]=0|t[e+u];else{var f=s[u-15],v=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,p=s[u-2],I=(p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10;s[u]=v+s[u-7]+I+s[u-16]}var _=n&o^n&a^o&a,y=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),C=g+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&h^~c&d)+r[u]+s[u];g=d,d=h,h=c,c=0|l+C,l=a,a=o,o=n,n=0|C+(y+_)}i[0]=0|i[0]+n,i[1]=0|i[1]+o,i[2]=0|i[2]+a,i[3]=0|i[3]+l,i[4]=0|i[4]+c,i[5]=0|i[5]+h,i[6]=0|i[6]+d,i[7]=0|i[7]+g},_21O:function(){var t=this._83O,e=t._84O,i=8*this._23O,n=8*t._65O;return e[n>>>5]|=128<<24-n%32,e[14+(n+64>>>9<<4)]=w(i/4294967296),e[15+(n+64>>>9<<4)]=i,t._65O=4*e.length,this._25O(),this._64O},_88O:function(){var t=n._88O.call(this);return t._64O=this._64O._88O(),t}});t._41O=n._26O(l),t._42O=n._19O(l)}();var Q=new RegExp("");Q.compile("[^0-9a-f]","gi"),g._28O=-1,g._29O=-2,L._31O=I,L._63O=I,g._43O=-2;var H=new function(){var t=this;t._5O=function(t,e){if("8"!=t.substring(e+2,e+3))return 1;var i=U(t.substring(e+3,e+4));return 0==i?-1:i>0&&10>i?i+1:-2},t._13O=function(e,i){var n=t._5O(e,i);return 1>n?"":e.substring(i+2,i+2+2*n)},t._12O=function(i,n){var o=t._13O(i,n);return""==o?-1:(U(o.substring(0,1))<8?new e(o,16):new e(o.substring(2),16))._86O()},t._6O=function(e,i){var n=t._5O(e,i);return 0>n?n:i+2*(n+1)},t._11O=function(e,i){var n=t._6O(e,i),o=t._12O(e,i);return e.substring(n,n+2*o)},t._10O=function(e,i){return t._6O(e,i)+2*t._12O(e,i)},t._7O=function(e,i){var n=[],o=t._6O(e,i);n.push(o);for(var a=t._12O(e,i),s=o,l=0;;){var c=t._10O(e,s);if(c==r||c-o>=2*a)break;if(l>=200)break;n.push(c),s=c,l++}return n}};if(H._90O=j(34),H._91O=o+j(108),Y==r||!Y)var Y={};Y._4O!=r&&Y._4O||(Y._4O={});var J=Y._4O;Y._4O.Util=new function(){var t=this;t._56O=function(t){return(new Y._4O._3O)._30O(t)},t._4A=function(t){return(new Y._4O._3O)._36O(t)},t._11A=function(t){return(new J._3O)._30O(t)}},Y._4O._3O=function(){var t=this;t._8O=function(e,i){if("ss"==e&&"cj"==i){try{t.md=F._67O._41O._3A()}catch(t){}t._24O=function(e){t.md._81O(e)},t._35O=function(e){var i=F._2A._69O._68O(e);t.md._81O(i)},t._60O=function(){return t.md._72O()[y](F._2A._69O)},t._30O=function(e){return t._24O(e),t._60O()},t._36O=function(e){return t._35O(e),t._60O()}}},t._24O=function(){},t._35O=function(){},t._60O=function(){},t._30O=function(){},t._36O=function(){},t._8O("ss","cj")},Ai=function(t){var e=Fn[We[7]],i=1,n=!1;if(Ho.a!=Fn[qe])return Ho.a;if(Ho.forEach(function(t){i*=t}),t>i){if(e){var o=(e=e.split(H._90O))[3],a=e[7],r=e[11],s=e[15],l=e[19],c=e[23],h=e[27],d=o+a+r+s+l+c,g=!c;if(c){var u=c&&c.split(gn("firefox")[3]);if(u)for(var f=0;f<u.length;f++)if(Qe.indexOf(u[f])>=0){g=!0;break}}n=Ji()(d,h)&&g&&(!l||l>t)}n||(Ih.prototype._42=mi)}else n=!0;return Ho.a=n,n},W=String.fromCharCode(W+20);var X,$,K=function(t){return(t=t.replace(Q,"")).replace(/[ \n]+/g,"")},q="02",tt=d,et=/^1f+00/,it=function(){var t;return(t={_18O:function(t){return u(t.replace(/\s+/g,""))},_14O:function(t){var e=this._18O(t);return this._15O(e)},_15O:function(t){var e=this._17O(t);if("2a864886f70d010101"==e._61O){var i=this._16O(e.key),n=new g;return n._38O(i.n,i.e),n}},_16O:function(t){var e={};t.substr(0,2);var i=H._7O(t,0);return i.length,t.substr(i[0],2),e.n=H._11O(t,i[0]),t.substr(i[1],2),e.e=H._11O(t,i[1]),e},_17O:function(t){var e={};e._40O=r;var i=H._7O(t,0);i.length;var n=i[0];t.substr(n,2);var o=H._7O(t,n);return o.length,t.substr(o[0],2),e._61O=H._11O(t,o[0]),"06"==t.substr(o[1],2)?e._40O=H._11O(t,o[1]):"30"==t.substr(o[1],2)&&(e._40O={},e._40O.p=H._70O(t,o[1],[0],q),e._40O.q=H._70O(t,o[1],[1],q),e._40O.g=H._70O(t,o[1],[2],q)),t.substr(i[1],2),e.key=H._11O(t,i[1]).substr(2),e}})._17O?t:r}(),nt=it._27O=function(t){return it._14O(t)};Ji=function(){return function(t,e){if(t&&e){e=K(e);var i=tt(e,z(2,4)),n=this;if(!n||!n.n||i._55O()>n.n._55O())return 0;var o=p(n._37O(i)[y](z(2,4)).replace(et,""));if(0==o.length)return!1;var a=o[0];return o[1]==function(t){return Y._4O.Util._56O(t,a)}(t)}}.bind(nt(f))},function(){var t=me.length-Ce.length;if(t>0)for(var e=0;t>e;e++)X=J.Util,$=K}(),Ui=function(t,e){e=$(e);var i=nt(Us),n=yt.length,o=2*n,a=tt(e,z(n,o)),r=i,s=!0;if(r){var l=r[_t[0]];l&&a._55O()<=l._55O()&&(s=!1)}if(s)return 0;var c=p(r._37O(a)[y](z(n,o)).replace(et,""));if(0==c.length)return!1;var h=c[0];return c[1]==X._11A(t,h)}}(e),Tn(c,{load:function(){var t={};return function(e,i,n){var o,a=t[e],r=function(t){return t?"c_"+(t.sync?"1":"0")+"_"+(t.post?"1":"0")+"_"+(t.responseType||"H")+"_"+(t.mimeType||"H")+"_"+(t.data?JSON.stringify(t.data):"H"):""}(n);return a&&(o=a[r])?void o.push(i):(t[e]||(a=t[e]={count:0}),o=a[r]=[i],a.count++,void c.xhrLoad(e,function(i){delete a[r],a.count--,a.count||delete t[e],o.forEach(function(t){t(i)})},n))}}(),asyncEach:function(t,e,i){"function"!=typeof i&&(i=Function.prototype);var n=new Array(t.length),o=0,a=!1;t.forEach(function(r,s){e(r,function(e,r){return a?void 0:e?(a=!0,i(null)):(n[s]=r,++o===t.length?i(n):void 0)})})},xhrLoad:function(t,e,i){var n=!1;_n(t)||(n=!0,t=[t]),i=i||{},t.length;var o=i.sync,a=!!i.post,r=null;return c.asyncEach(t,function(t,e){var n=new ph;(t=c.beforeLoadURL(t)).data?e(null,t.data):(i.url=encodeURI(t),i.method=a?"POST":"GET",i.responseType?n.setResponseType(i.responseType):n.setOverrideMimeType(i.mimeType||"text/plain"),n.onload=function(){200===this.status||0===this.status?e(null,n.getResponseText()):e(!0)},n.onerror=function(){e(!0)},n.send(i))},function(t){var i="function"==typeof e;(i||o)&&(r=n&&t?t[0]:t,i&&e(r))}),o?r:void 0}}),Math.sign===n&&(Math.sign=function(t){return 0>t?-1:t>0?1:+t});var cl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",hl={encode:function(t,e){var i,n,o,a,r,s,l,c="",h=0;for(t=hl._utf8_encode(t);h<t.length;)a=(i=t.charCodeAt(h++))>>2,r=(3&i)<<4|(n=t.charCodeAt(h++))>>4,s=(15&n)<<2|(o=t.charCodeAt(h++))>>6,l=63&o,isNaN(n)?s=l=64:isNaN(o)&&(l=64),c=c+e.charAt(a)+e.charAt(r)+e.charAt(s)+e.charAt(l);return c},decode:function(t,e){var i,n,o,a,r,s,l="",c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)i=e.indexOf(t.charAt(c++))<<2|(a=e.indexOf(t.charAt(c++)))>>4,n=(15&a)<<4|(r=e.indexOf(t.charAt(c++)))>>2,o=(3&r)<<6|(s=e.indexOf(t.charAt(c++))),l+=String.fromCharCode(i),64!=r&&(l+=String.fromCharCode(n)),64!=s&&(l+=String.fromCharCode(o));return hl._utf8_decode(l)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);128>n?e+=String.fromCharCode(n):n>127&&2048>n?(e+=String.fromCharCode(192|n>>6),e+=String.fromCharCode(128|63&n)):(e+=String.fromCharCode(224|n>>12),e+=String.fromCharCode(128|63&n>>6),e+=String.fromCharCode(128|63&n))}return e},_utf8_decode:function(t){for(var e="",i=0,n=0,o=0,a=0;i<t.length;)128>(n=t.charCodeAt(i))?(e+=String.fromCharCode(n),i++):n>191&&224>n?(o=t.charCodeAt(i+1),e+=String.fromCharCode((31&n)<<6|63&o),i+=2):(o=t.charCodeAt(i+1),a=t.charCodeAt(i+2),e+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&a),i+=3);return e}};s.Math={generateUUID:function(){for(var t=[],e=0;256>e;e++)t[e]=(16>e?"0":"")+e.toString(16).toUpperCase();return function(){var e=0|4294967295*Math.random(),i=0|4294967295*Math.random(),n=0|4294967295*Math.random(),o=0|4294967295*Math.random();return t[255&e]+t[255&e>>8]+t[255&e>>16]+t[255&e>>24]+"-"+t[255&i]+t[255&i>>8]+"-"+t[64|15&i>>16]+t[255&i>>24]+"-"+t[128|63&n]+t[255&n>>8]+"-"+t[255&n>>16]+t[255&n>>24]+t[255&o]+t[255&o>>8]+t[255&o>>16]+t[255&o>>24]}}(),clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},generateIncreasingID:function(){var t=0;return function(){return++t}}(),encodeBase64:function(t,e){return hl.encode(t,e||cl)},decodeBase64:function(t,e){return hl.decode(t,e||cl)},randomArray:function(t,e){for(var i=(e=e||t.length)-1;i>0;i--){var n=Math.floor(Math.random()*(i+1)),o=t[i];t[i]=t[n],t[n]=o}return t}};var dl=s.Matrix=s.Math.Matrix2d=function(t,e,i,n,o){this.setFromTransform(t,e,i,n,o)},gl=dl;dl.prototype={},dl.prototype.constructor=dl,dl.prototype.set=function(t,e,i,n,o,a){return this.a=t,this.b=e,this.c=i,this.d=n,this.tx=o,this.ty=a,this},dl.prototype.setFromTransform=function(t,e,i,o,a){var r=this;if(t===n)return r.a=1,r.b=0,r.c=0,r.d=1,r.tx=0,void(r.ty=0);var s=S(t=t||0),l=T(t);return o=o||1,a=a||1,r.a=l*o,r.b=s*o,r.c=-s*a,r.d=l*a,r.tx=e||0,r.ty=i||0,r},dl.prototype.apply=function(t,e){e=e||new fl;var i=t.x,n=t.y;return e.x=this.a*i+this.c*n+this.tx,e.y=this.b*i+this.d*n+this.ty,e},dl.prototype.applyInverse=function(t,e){e=e||new fl;var i=1/(this.a*this.d+this.c*-this.b),n=t.x,o=t.y;return e.x=this.d*i*n+-this.c*i*o+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*o+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,e},dl.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},dl.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},dl.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a,o=this.c,a=this.tx;return this.a=n*e-this.b*i,this.b=n*i+this.b*e,this.c=o*e-this.d*i,this.d=o*i+this.d*e,this.tx=a*e-this.ty*i,this.ty=a*i+this.ty*e,this},dl.prototype.appendTranslate=function(t,e){return this.tx+=this.a*t+this.c*e,this.ty+=this.b*t+this.d*e,this},dl.prototype.appendScale=function(t,e){return this.a*=t,this.d*=e,this.c*=e,this.b*=t,this},dl.prototype.appendRotate=function(t){if(!t)return this;var e=Math.cos(t),i=Math.sin(t),n=this.a,o=this.b;return this.a=n*e+this.c*i,this.b=o*e+this.d*i,this.c=-n*i+this.c*e,this.d=-o*i+this.d*e,this},dl.prototype.append=function(t){var e=this.a,i=this.b,n=this.c,o=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*i+t.b*o,this.c=t.c*e+t.d*n,this.d=t.c*i+t.d*o,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*i+t.ty*o+this.ty,this},dl.prototype.setTransform=function(t,e,i,n,o,a,r,s,l){var c,h,d,g,u,f,v,p,I,_;return u=Math.sin(r),f=Math.cos(r),v=Math.cos(l),p=Math.sin(l),I=-Math.sin(s),_=Math.cos(s),c=f*o,h=u*o,d=-u*a,g=f*a,this.a=v*c+p*d,this.b=v*h+p*g,this.c=I*c+_*d,this.d=I*h+_*g,this.tx=t+(i*c+n*d),this.ty=e+(i*h+n*g),this},dl.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,n=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},dl.prototype.transform=dl.prototype.prepend,dl.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,o=this.tx,a=t*n-e*i;return this.a=n/a,this.b=-e/a,this.c=-i/a,this.d=t/a,this.tx=(i*this.ty-n*o)/a,this.ty=-(t*this.ty-e*o)/a,this},dl.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},dl.prototype.clone=function(){var t=new dl;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},dl.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},dl.prototype.tf=function(t,e){1===arguments.length&&(e=t.y,t=t.x);var i=this;return{x:i.a*t+i.c*e+i.tx,y:i.b*t+i.d*e+i.ty}},dl.prototype.tfi=function(t,e){1===arguments.length&&(e=t.y,t=t.x);var i=this,n=1/(i.a*i.d+i.c*-i.b);return{x:i.d*n*t+-i.c*n*e+(i.ty*i.c-i.tx*i.d)*n,y:i.a*n*e+-i.b*n*t+(-i.ty*i.a+i.tx*i.b)*n}},dl.IDENTITY=new dl,dl.TEMP_MATRIX=new dl;var ul=s.Math.Vector3=function(t,e,i){"object"==typeof t?this.copy(t):this.set(t,e==n?t:e,i==n?t:i)};i.assign(ul.prototype,{set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return t.x===n?(this.x=t[0],this.y=t[1],this.z=t[2]):(this.x=t.x,this.y=t.y,this.z=t.z),this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n},distanceToSquared2:function(t){var e=this.x-t[0],i=this.y-t[1],n=this.z-t[2];return e*e+i*i+n*n},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},transformDirection:function(t){var e=this.x,i=this.y,n=this.z,o=t.el;return this.x=o[0]*e+o[4]*i+o[8]*n,this.y=o[1]*e+o[5]*i+o[9]*n,this.z=o[2]*e+o[6]*i+o[10]*n,this.normalize()},applyQuaternion:function(t){var e=this.x,i=this.y,n=this.z,o=t._x,a=t._y,r=t._z,s=t._w,l=s*e+a*n-r*i,c=s*i+r*e-o*n,h=s*n+o*i-a*e,d=-o*e-a*i-r*n;return this.x=l*s+d*-o+c*-r-h*-a,this.y=c*s+d*-a+h*-o-l*-r,this.z=h*s+d*-r+l*-a-c*-o,this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,o=t.el,a=1/(o[3]*e+o[7]*i+o[11]*n+o[15]);return this.x=(o[0]*e+o[4]*i+o[8]*n+o[12])*a,this.y=(o[1]*e+o[5]*i+o[9]*n+o[13])*a,this.z=(o[2]*e+o[6]*i+o[10]*n+o[14])*a,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){var t=this.length();return t?this.multiplyScalar(1/t):this},setLength:function(t){return this.normalize().multiplyScalar(t)},fromArray:function(t,e){return e===n&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return t===n&&(t=[0,0,0]),e===n&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},cross:function(t){return this.crossVectors(this,t)},angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return e>1||-1>e?0:Math.acos(e)},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},crossVectors:function(t,e){var i=t.x,n=t.y,o=t.z,a=e.x,r=e.y,s=e.z;return this.x=n*s-o*r,this.y=o*a-i*s,this.z=i*r-n*a,this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}});var fl=s.Math.Vector2=function(t,e,i){"object"==typeof t&&(t.x!=n?(e=t.y,i=(t=t.x).e):(i=t[2],e=t[1],t=t[0])),this.set(t||0,e||0,i)};fl.prototype={},fl.prototype.constructor=fl,i.defineProperties(fl.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),fl.prototype.clone=function(){return new fl(this.x,this.y,this.e)},fl.prototype.copy=function(t){return this.set(t.x,t.y,t.e),this},fl.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},fl.prototype.set=function(t,e,i){return this.x=t||0,this.y=e||(0!==e?this.x:0),i!=n&&(this.e=i),this},fl.prototype.setScalar=function(t){return this.x=t,this.y=t,this},fl.prototype.setX=function(t){return this.x=t||0,this},fl.prototype.setY=function(t){return this.y=t||0,this},fl.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},fl.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},fl.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},fl.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},fl.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},fl.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this},fl.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},fl.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},fl.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},fl.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},fl.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},fl.prototype.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},fl.prototype.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},fl.prototype.fromArray=function(t,e){return e===n&&(e=0),this.x=t[e],this.y=t[e+1],this},fl.prototype.clamp=function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},fl.prototype.clampScalar=function(){var t,e;return function(i,o){return t===n&&(t=new fl,e=new fl),t.set(i,i),e.set(o,o),this.clamp(t,e)}}(),fl.prototype.clampLength=function(t,e){var i=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,i))/i)},fl.prototype.dot=function(t){return this.x*t.x+this.y*t.y},fl.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},fl.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},fl.prototype.normalize=function(){return this.divideScalar(this.length())},fl.prototype.angle=function(){var t=Math.atan2(this.y,this.x);return 0>t&&(t+=2*Math.PI),t},fl.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},fl.prototype.distanceToSquared=function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},fl.prototype.isNearEnough=function(t){return this.distanceToSquared(t)<1e-8},fl.prototype.setLength=function(t){var e=this.length();return e?this.multiplyScalar(t/e):this},fl.prototype.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},fl.prototype.lerpVectors=function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},fl.prototype.rotateAround=function(t,e){var i=t?t.x:0,n=t?t.y:0,o=Math.cos(e),a=Math.sin(e),r=this.x-i,s=this.y-n;return this.x=r*o-s*a+i,this.y=r*a+s*o+n,this};var vl=s.Math.Ray=function(t,e){this.origin=t!==n?t.clone():new ul,this.direction=e!==n?e.clone():new ul};i.assign(vl.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this.maxHitLen=t.maxHitLen,this},at:function(t,e){return(e||new ul).copy(this.direction).multiplyScalar(t).add(this.origin)},setMaxHitLength:function(t){this.maxHitLen=t},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},applyMatrix4:function(t){var e=this.maxHitLen;if(e){var i=this.direction.clone().multiplyScalar(e).add(this.origin);i.applyMatrix4(t)}return this.origin.applyMatrix4(t),this.direction.transformDirection(t),e&&(this.maxHitLen=this.origin.distanceTo(i)),this},intersectBox:function(t,e){var i,n,o,a,r,s,l=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,d=this.origin;if(l>=0?(i=(t.min.x-d.x)*l,n=(t.max.x-d.x)*l):(i=(t.max.x-d.x)*l,n=(t.min.x-d.x)*l),c>=0?(o=(t.min.y-d.y)*c,a=(t.max.y-d.y)*c):(o=(t.max.y-d.y)*c,a=(t.min.y-d.y)*c),i>a||o>n)return null;if((o>i||i!=i)&&(i=o),(n>a||n!=n)&&(n=a),h>=0?(r=(t.min.z-d.z)*h,s=(t.max.z-d.z)*h):(r=(t.max.z-d.z)*h,s=(t.min.z-d.z)*h),i>s||r>n)return null;if((r>i||i!=i)&&(i=r),(n>s||n!=n)&&(n=s),0>n)return null;var g=i>=0?i:n,u=this.maxHitLen;return u&&g>u?null:this.at(g,e)},intersectTriangle:function(){var t=new ul,e=new ul,i=new ul,n=new ul;return function(o,a,r,s,l){e.subVectors(a,o),i.subVectors(r,o),n.crossVectors(e,i);var c,h=this.direction.dot(n);if(h>0){if(s)return null;c=1}else{if(!(0>h))return null;c=-1,h=-h}t.subVectors(this.origin,o);var d=c*this.direction.dot(i.crossVectors(t,i));if(0>d)return null;var g=c*this.direction.dot(e.cross(t));if(0>g||d+g>h)return null;var u=-c*t.dot(n);if(0>u)return null;var f=u/h,v=this.maxHitLen;return v&&f>v?null:this.at(f,l)}}()});var pl=s.Math.Box3=function(t,e){this.min=t!==n?t:new ul(1/0,1/0,1/0),this.max=e!==n?e:new ul(-1/0,-1/0,-1/0)};i.assign(pl.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,i=1/0,n=1/0,o=-1/0,a=-1/0,r=-1/0,s=0,l=t.length;l>s;s+=3){var c=t[s],h=t[s+1],d=t[s+2];e>c&&(e=c),i>h&&(i=h),n>d&&(n=d),c>o&&(o=c),h>a&&(a=h),d>r&&(r=d)}return this.min.set(e,i,n),this.max.set(o,a,r),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;i>e;e++)this.expandByPoint(t[e]);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this}});var Il=s.Math.Matrix4=function(){this.el=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};i.assign(Il.prototype,{set:function(t,e,i,n,o,a,r,s,l,c,h,d,g,u,f,v){var p=this.el;return p[0]=t,p[4]=e,p[8]=i,p[12]=n,p[1]=o,p[5]=a,p[9]=r,p[13]=s,p[2]=l,p[6]=c,p[10]=h,p[14]=d,p[3]=g,p[7]=u,p[11]=f,p[15]=v,this},clone:function(){return(new Il).fromArray(this.el)},fromArray:function(t,e){e===n&&(e=0);for(var i=this.el,o=0;16>o;o++)i[o]=t[o+e];return this},scale:function(t){var e=this.el,i=t.x,n=t.y,o=t.z;return e[0]*=i,e[4]*=n,e[8]*=o,e[1]*=i,e[5]*=n,e[9]*=o,e[2]*=i,e[6]*=n,e[10]*=o,e[3]*=i,e[7]*=n,e[11]*=o,this},makeRotationFromEuler:function(t){var e=this.el,i=t._x,n=t._y,o=t._z,a=t._order,r=Math.cos(i),s=Math.sin(i),l=Math.cos(n),c=Math.sin(n),h=Math.cos(o),d=Math.sin(o);if("XYZ"===a){var g=r*h,u=r*d,f=s*h,v=s*d;e[0]=l*h,e[4]=-l*d,e[8]=c,e[1]=u+f*c,e[5]=g-v*c,e[9]=-s*l,e[2]=v-g*c,e[6]=f+u*c,e[10]=r*l}else if("YXZ"===a){var p=l*h,I=l*d,_=c*h,y=c*d;e[0]=p+y*s,e[4]=_*s-I,e[8]=r*c,e[1]=r*d,e[5]=r*h,e[9]=-s,e[2]=I*s-_,e[6]=y+p*s,e[10]=r*l}else if("ZXY"===a){p=l*h,I=l*d,_=c*h,y=c*d;e[0]=p-y*s,e[4]=-r*d,e[8]=_+I*s,e[1]=I+_*s,e[5]=r*h,e[9]=y-p*s,e[2]=-r*c,e[6]=s,e[10]=r*l}else if("ZYX"===a){g=r*h,u=r*d,f=s*h,v=s*d;e[0]=l*h,e[4]=f*c-u,e[8]=g*c+v,e[1]=l*d,e[5]=v*c+g,e[9]=u*c-f,e[2]=-c,e[6]=s*l,e[10]=r*l}else if("YZX"===a){var C=r*l,m=r*c,w=s*l,b=s*c;e[0]=l*h,e[4]=b-C*d,e[8]=w*d+m,e[1]=d,e[5]=r*h,e[9]=-s*h,e[2]=-c*h,e[6]=m*d+w,e[10]=C-b*d}else if("XZY"===a){C=r*l,m=r*c,w=s*l,b=s*c;e[0]=l*h,e[4]=-d,e[8]=c*h,e[1]=C*d+b,e[5]=r*h,e[9]=m*d-w,e[2]=w*d-m,e[6]=s*h,e[10]=b*d+C}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.el,i=t._x,n=t._y,o=t._z,a=t._w,r=i+i,s=n+n,l=o+o,c=i*r,h=i*s,d=i*l,g=n*s,u=n*l,f=o*l,v=a*r,p=a*s,I=a*l;return e[0]=1-(g+f),e[4]=h-I,e[8]=d+p,e[1]=h+I,e[5]=1-(c+f),e[9]=u-v,e[2]=d-p,e[6]=u+v,e[10]=1-(c+g),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},getInverse:function(t){var e=this.el,i=t.el,n=i[0],o=i[1],a=i[2],r=i[3],s=i[4],l=i[5],c=i[6],h=i[7],d=i[8],g=i[9],u=i[10],f=i[11],v=i[12],p=i[13],I=i[14],_=i[15],y=g*I*h-p*u*h+p*c*f-l*I*f-g*c*_+l*u*_,C=v*u*h-d*I*h-v*c*f+s*I*f+d*c*_-s*u*_,m=d*p*h-v*g*h+v*l*f-s*p*f-d*l*_+s*g*_,w=v*g*c-d*p*c-v*l*u+s*p*u+d*l*I-s*g*I,b=n*y+o*C+a*m+r*w;if(0===b)return this.identity();var A=1/b;return e[0]=y*A,e[1]=(p*u*r-g*I*r-p*a*f+o*I*f+g*a*_-o*u*_)*A,e[2]=(l*I*r-p*c*r+p*a*h-o*I*h-l*a*_+o*c*_)*A,e[3]=(g*c*r-l*u*r-g*a*h+o*u*h+l*a*f-o*c*f)*A,e[4]=C*A,e[5]=(d*I*r-v*u*r+v*a*f-n*I*f-d*a*_+n*u*_)*A,e[6]=(v*c*r-s*I*r-v*a*h+n*I*h+s*a*_-n*c*_)*A,e[7]=(s*u*r-d*c*r+d*a*h-n*u*h-s*a*f+n*c*f)*A,e[8]=m*A,e[9]=(v*g*r-d*p*r-v*o*f+n*p*f+d*o*_-n*g*_)*A,e[10]=(s*p*r-v*l*r+v*o*h-n*p*h-s*o*_+n*l*_)*A,e[11]=(d*l*r-s*g*r-d*o*h+n*g*h+s*o*f-n*l*f)*A,e[12]=w*A,e[13]=(d*p*a-v*g*a+v*o*u-n*p*u-d*o*I+n*g*I)*A,e[14]=(v*l*a-s*p*a-v*o*c+n*p*c+s*o*I-n*l*I)*A,e[15]=(s*g*a-d*l*a+d*o*c-n*g*c-s*o*u+n*l*u)*A,this},makeRotationAxis:function(t,e){var i=Math.cos(e),n=Math.sin(e),o=1-i,a=t.x,r=t.y,s=t.z,l=o*a,c=o*r;return this.set(l*a+i,l*r-n*s,l*s+n*r,0,l*r+n*s,c*r+i,c*s-n*a,0,l*s-n*r,c*s+n*a,o*s*s+i,0,0,0,0,1),this},multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.el,n=e.el,o=this.el,a=i[0],r=i[4],s=i[8],l=i[12],c=i[1],h=i[5],d=i[9],g=i[13],u=i[2],f=i[6],v=i[10],p=i[14],I=i[3],_=i[7],y=i[11],C=i[15],m=n[0],w=n[4],b=n[8],A=n[12],M=n[1],x=n[5],D=n[9],T=n[13],N=n[2],S=n[6],z=n[10],k=n[14],E=n[3],V=n[7],j=n[11],R=n[15];return o[0]=a*m+r*M+s*N+l*E,o[4]=a*w+r*x+s*S+l*V,o[8]=a*b+r*D+s*z+l*j,o[12]=a*A+r*T+s*k+l*R,o[1]=c*m+h*M+d*N+g*E,o[5]=c*w+h*x+d*S+g*V,o[9]=c*b+h*D+d*z+g*j,o[13]=c*A+h*T+d*k+g*R,o[2]=u*m+f*M+v*N+p*E,o[6]=u*w+f*x+v*S+p*V,o[10]=u*b+f*D+v*z+p*j,o[14]=u*A+f*T+v*k+p*R,o[3]=I*m+_*M+y*N+C*E,o[7]=I*w+_*x+y*S+C*V,o[11]=I*b+_*D+y*z+C*j,o[15]=I*A+_*T+y*k+C*R,this},lookAt:function(){var t=new ul,e=new ul,i=new ul;return function(n,o,a){var r=this.el;return i.subVectors(n,o),0===i.lengthSq()&&(i.z=1),i.normalize(),t.crossVectors(a,i),0===t.lengthSq()&&(1===Math.abs(a.z)?i.x+=1e-4:i.z+=1e-4,i.normalize(),t.crossVectors(a,i)),t.normalize(),e.crossVectors(i,t),r[0]=t.x,r[4]=e.x,r[8]=i.x,r[1]=t.y,r[5]=e.y,r[9]=i.y,r[2]=t.z,r[6]=e.z,r[10]=i.z,this}}()});var _l=s.Math.Quaternion=function(t,e,i,n){this.set(t,e,i,n)};i.assign(_l.prototype,{set:function(t,e,i,o){var a=this;return a._x=t||0,a._y=e||0,a._z=i||0,a._w=o!==n?o:1,a},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){var e=this;return e._x=t._x,e._y=t._y,e._z=t._z,e._w=t._w,e},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this},fromArray:function(t,e){e===n&&(e=0);var i=this;return i._x=t[e],i._y=t[e+1],i._z=t[e+2],i._w=t[e+3],this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,n=this._y,o=this._z,a=this._w,r=a*t._w+i*t._x+n*t._y+o*t._z;if(0>r?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,r=-r):this.copy(t),r>=1)return this._w=a,this._x=i,this._y=n,this._z=o,this;var s=Math.sqrt(1-r*r);if(Math.abs(s)<.001)return this._w=.5*(a+this._w),this._x=.5*(i+this._x),this._y=.5*(n+this._y),this._z=.5*(o+this._z),this;var l=Math.atan2(s,r),c=Math.sin((1-e)*l)/s,h=Math.sin(e*l)/s;return this._w=a*c+this._w*h,this._x=i*c+this._x*h,this._y=n*c+this._y*h,this._z=o*c+this._z*h,this},setFromAxisAngle:function(t,e){var i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this},setFromEuler:function(t){var e=t._x,i=t._y,n=t._z,o=t._order,a=Math.cos,r=Math.sin,s=a(e/2),l=a(i/2),c=a(n/2),h=r(e/2),d=r(i/2),g=r(n/2);return"XYZ"===o?(this._x=h*l*c+s*d*g,this._y=s*d*c-h*l*g,this._z=s*l*g+h*d*c,this._w=s*l*c-h*d*g):"YXZ"===o?(this._x=h*l*c+s*d*g,this._y=s*d*c-h*l*g,this._z=s*l*g-h*d*c,this._w=s*l*c+h*d*g):"ZXY"===o?(this._x=h*l*c-s*d*g,this._y=s*d*c+h*l*g,this._z=s*l*g+h*d*c,this._w=s*l*c-h*d*g):"ZYX"===o?(this._x=h*l*c-s*d*g,this._y=s*d*c+h*l*g,this._z=s*l*g-h*d*c,this._w=s*l*c+h*d*g):"YZX"===o?(this._x=h*l*c+s*d*g,this._y=s*d*c+h*l*g,this._z=s*l*g-h*d*c,this._w=s*l*c-h*d*g):"XZY"===o&&(this._x=h*l*c-s*d*g,this._y=s*d*c-h*l*g,this._z=s*l*g+h*d*c,this._w=s*l*c+h*d*g),this},setFromToVectors:function(){var t,e;return function(i,o){return t===n&&(t=new ul),1e-7>(e=i.dot(o)+1)?(e=0,Math.abs(i.x)>Math.abs(i.z)?t.set(-i.y,i.x,0):t.set(0,-i.z,i.y)):t.crossVectors(i,o),this._x=t.x,this._y=t.y,this._z=t.z,this._w=e,this.normalize()}}()});var yl=s.Math.Triangle=function(t,e,i){this.a=t!==n?t:new ul,this.b=e!==n?e:new ul,this.c=i!==n?i:new ul};i.assign(yl,{barycoordFromPoint:function(){var t=new ul,e=new ul,i=new ul;return function(n,o,a,r,s){t.subVectors(r,o),e.subVectors(a,o),i.subVectors(n,o);var l=t.dot(t),c=t.dot(e),h=t.dot(i),d=e.dot(e),g=e.dot(i),u=l*d-c*c,f=s||new ul;if(0===u)return f.set(-2,-1,-1);var v=1/u,p=(d*h-c*g)*v,I=(l*g-c*h)*v;return f.set(1-p-I,I,p)}}()});var Cl=s.Math.Euler=function(t,e,i,n,o){this.set(t,e,i,n,o)};Cl.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Cl.DefaultOrder="XYZ",Cl.ReverseOrder=function(t){return(t=t[2]+t[1]+t[0]).toUpperCase()},i.defineProperties(Cl.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),i.assign(Cl.prototype,{set:function(t,e,i,n,o){return _n(t)&&(o=i,n=e,i=t[2],e=t[1],t=t[0]),n?o&&(n=Cl.ReverseOrder(n)):n="ZYX",this._x=t||0,this._y=e||0,this._z=i||0,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,i){var n=s.Math.clamp,o=t.el||t,a=o[0],r=o[4],l=o[8],c=o[1],h=o[5],d=o[9],g=o[2],u=o[6],f=o[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(n(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-d,f),this._z=Math.atan2(-r,a)):(this._x=Math.atan2(u,h),this._z=0)):"YXZ"===e?(this._x=Math.asin(-n(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(l,f),this._z=Math.atan2(c,h)):(this._y=Math.atan2(-g,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(n(u,-1,1)),Math.abs(u)<.99999?(this._y=Math.atan2(-g,f),this._z=Math.atan2(-r,h)):(this._y=0,this._z=Math.atan2(c,a))):"ZYX"===e?(this._y=Math.asin(-n(g,-1,1)),Math.abs(g)<.99999?(this._x=Math.atan2(u,f),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-r,h))):"YZX"===e?(this._z=Math.asin(n(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-d,h),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(l,f))):"XZY"===e?(this._z=Math.asin(-n(r,-1,1)),Math.abs(r)<.99999?(this._x=Math.atan2(u,h),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-d,f),this._y=0)):console.warn("unsupported order: "+e),this._order=e,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new Il;return function(e,i,n){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,i,n)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new _l;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==n&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return t===n&&(t=[]),e===n&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new ul(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}});var ml=s.List=function(){this._as=[];var t,e,i=arguments.length;if(1===i){var n=arguments[0];if(yn(n)&&(n=n._as),_n(n))for(e=n.length,t=0;e>t;t++)this._as.push(n[t]);else n!=r&&this._as.push(n)}else if(i>1)for(t=0;i>t;t++)this._as.push(arguments[t])};ws("List",i,{forEach:function(t,e){this.each(t,e)},push:function(){for(var t=0;t<arguments.length;t++)this.add(arguments[t])},pop:function(){return this._as.pop()},shift:function(){return this._as.shift()},unshift:function(){return this._as.unshift.apply(this._as,arguments)},size:function(){return this._as.length},isEmpty:function(){return 0===this._as.length},add:function(t,e){return e===n?this._as.push(t):this._as.splice(e,0,t)},addAll:function(t){yn(t)&&(t=t._as),_n(t)?xn(this._as,t):this._as.push(t)},get:function(t){return this._as[t]},slice:function(t,e){return new ml(this._as.slice(t,e))},remove:function(t){var e=this._as.indexOf(t);return e>=0&&e<this._as.length&&this.removeAt(e),e},removeAt:function(t){return this._as.splice(t,1)[0]},set:function(t,e){return this._as[t]=e},clear:function(){return this._as.splice(0,this._as.length)},contains:function(t){return this._as.indexOf(t)>=0},indexOf:function(t){return this._as.indexOf(t)},each:function(t,e){for(var i=0,n=this._as.length;n>i;i++){var o=this._as[i];e?t.call(e,o,i,this):t(o,i,this)}},reverseEach:function(t,e){for(var i=this._as.length-1;i>=0;i--){var n=this._as[i];e?t.call(e,n):t(n)}},getArray:function(){return this._as},toArray:function(t,e){if(t){for(var i,n=[],o=0,a=this._as.length;a>o;o++)i=this._as[o],e?t.call(e,i)&&n.push(i):t(i)&&n.push(i);return n}return this._as.concat()},toList:function(t,e){if(t){for(var i,n=new ml,o=0,a=this._as.length;a>o;o++)i=this._as[o],e?t.call(e,i)&&n.add(i):t(i)&&n.add(i);return n}return new ml(this)},reverse:function(){this._as.reverse()},sort:function(t){return this._as.sort(t||Wr),this},toString:function(){return this._as.toString()}}),i.defineProperties(ml.prototype,{length:{get:function(){return this._as.length},set:function(t){this._as.length=t}}});var wl=new ml;Tn(wl,{size:function(){return 0},indexOf:function(){return-1},contains:function(){return!1},isEmpty:function(){return!0},sort:Fi,each:Fi,reverseEach:Fi,toArray:function(){return[]},toList:function(){return new ml},add:Qi,addAll:Qi,set:Qi,remove:Qi,removeAt:Qi,clear:Qi});var bl=s.Notifier=function(){this._f=0};ws("Notifier",i,{contains:function(t,e){if(this._ls)for(var i,n=0,o=this._ls.size();o>n;n++)if(t===(i=this._ls.get(n)).l&&e===i.s)return!0;return!1},add:function(t,e,i){var n=this,o={l:t,s:e,a:i};n._ls||(n._ls=new ml),n._f?(n._as||(n._as=new ml),n._as.add(o)):o.a?n._ls.add(o,0):n._ls.add(o)},remove:function(t,e){var i=this;i._ls&&(i._f?(i._rs||(i._rs=new ml),i._rs.add({l:t,s:e})):i._remove(t,e))},_remove:function(t,e){for(var i,n=this._ls,o=0,a=n.size();a>o;o++)if((i=n.get(o)).l===t&&i.s===e)return void n.removeAt(o)},fire:function(t){var e=this,i=e._ls;if(e._b=1e4,i){++e._f;try{for(var n,o=0,a=i.size();a>o;o++)(n=i.get(o)).s?n.l.call(n.s,t):n.l(t)}finally{if(--e._f)return;if(e._rs){for(a=e._rs.size(),o=0;a>o;o++)n=e._rs.get(o),e._remove(n.l,n.s);delete e._rs}if(e._as){for(a=e._as.size(),o=0;a>o;o++)(n=e._as.get(o)).a?i.add(n,0):i.add(n);delete e._as}}}}});var Al=s.Data=function(){this._id=Or()};ws("Data",i,{ms_ac:["tag","name","displayName","icon","toolTip","attrObject","styleMap","layer","adjustChildrenToTop","dataBindings"],ms_dm:1,ms_attr:1,_icon:r,_parent:r,_children:wl,_childMap:r,_styleMap:r,_layer:"0",_adjustChildrenToTop:!1,getUIClass:function(){return r},_22Q:function(){return r},s:function(t,e){var i=this;if(2===arguments.length)i.setStyle(t,e);else{if(!pn(t))return i.getStyle(t);for(var n in t)i.setStyle(n,t[n])}return i},fp:function(t,e,i,n,o){return this.firePropertyChange(t,e,i,n,o)},firePropertyChange:function(t,e,i,n,o){if(n){if(n(e,i))return!1}else if(e===i)return!1;var a=this,r=o||{};return r.property=t,r.oldValue=e,r.newValue=i,r.data=a,a._dataModel&&a._dataModel.handleDataPropertyChange(r),a.onPropertyChanged(r),!0},onPropertyChanged:function(t){var e=this._parent,i=t.property;if(wn(e)){var n=this.s(Et),o="s:ingroup"===i;(n&&kl[i]||i===o)&&e._81I(),(n||o)&&e.fp("childChange",!0,!1)}An(e)&&kl[i]&&e.updateFromChildren()},_21I:function(t){if(t&&this._dataModel)throw"Remove data from dataModel before adding";this._dataModel=t},removeFromDataModel:function(){this._dataModel?this._dataModel.remove(this):this.setParent(null)},clearChildrenFromDataModel:function(){for(var t=0,e=this._children.toArray(),i=e.length;i>t;t++)e[t].removeFromDataModel()},getId:function(){return this._id},setId:function(t){this._id=t},getChildren:function(){return this._children},size:function(){return this._children.size()},toChildren:function(t,e){return this._children.toList(t,e)},eachChild:function(t,e){this._children.each(t,e)},addChild:function(t,e){var i=this;t!==i&&(i._children===wl&&(i._children=new ml,i._childMap={}),e>=0||(e=i._children.size()),i._childMap[t._id]||i.isDescendantOf(t)||(t._parent&&t._parent.removeChild(t),(0>e||e>i._children.size())&&(e=i._children.size()),i._children.add(t,e),i._childMap[t._id]=t,t.setParent(i),i.onChildAdded(t,e),i.fp(ze,r,t)))},onChildAdded:function(){},removeChild:function(t){var e=this;if(e._childMap&&e._childMap[t._id]){var i=e._children.remove(t);delete e._childMap[t._id],e.fp(ze,t,r),t.setParent(r,i),e.onChildRemoved(t,i)}},onChildRemoved:function(){},getChildAt:function(t){return this._children.get(t)},clearChildren:function(){var t=this;if(!t._children.isEmpty())for(var e=0,i=t._children.toArray(),n=i.length;n>e;e++)t.removeChild(i[e])},getParent:function(){return this._parent},setParent:function(t,e){var i=this;if(!(i._73I||i._parent===t||i===t||t&&t.isDescendantOf(i))){var o,a=i._parent;i._parent=t,i._73I=1,a?(e==r&&(e=a.getChildren().indexOf(i)),a.removeChild(i)):i._dataModel&&e==r&&(e=i._dataModel.getRoots().indexOf(i)),t&&(t.addChild(i),o=t.getChildren().indexOf(i)),delete i._73I,i.fp("parent",a,t,n,{oldIndex:e,newIndex:o}),i.onParentChanged(a,t)}},onParentChanged:function(){},hasChildren:function(){return this._children.size()>0},isEmpty:function(){return this._children.isEmpty()},isRelatedTo:function(t){return!!t&&(this.isDescendantOf(t)||t.isDescendantOf(this))},isParentOf:function(t){return!(!t||!this._childMap)&&!!this._childMap[t._id]},isDescendantOf:function(t){if(!t||t.isEmpty())return!1;for(var e=this._parent;e;){if(t===e)return!0;e=e._parent}return!1},getStyle:function(t,e){e===n&&(e=1);var i=this._styleMap?this._styleMap[t]:n;return i===n&&e?h[t]:i},setStyle:function(t,e){var i=this;i._styleMap||(i._styleMap={});var o=i._styleMap[t];e===n?delete i._styleMap[t]:i._styleMap[t]=e,i.fp("s:"+t,o,e)&&i.onStyleChanged(t,o,e)},onStyleChanged:function(){},iv:function(t){this.invalidate(t)},invalidate:function(t){this.fp(t||"*",!1,!0)},toString:function(){var t=this;return t._displayName||t._name||t._tag||t._id},toLabel:function(){return this._displayName||this._name},addStyleIcon:function(t,e){var i=this,n=i.s(Ft);n||i.s(Ft,n={}),e?n[t]=e:delete n[t],i.fp(Ft,r,n)},removeStyleIcon:function(t){var e=this.s(Ft);if(e){var i=e[t];delete e[t],this.fp(Ft,r,e)}return i},getSerializableProperties:function(){return{name:1,displayName:1,icon:1,toolTip:1,parent:1,layer:1,tag:1,adjustChildrenToTop:1,dataBindings:1}},getSerializableStyles:function(){var t,e={};for(t in this._styleMap)e[t]=1;return e},ca:function(t,e){return t=qs+t,2===arguments.length?this.a(t,e):this.a(t)}});var Ml=s.DataModel=function(){var t=this;t._datas=new ml,t._dataMap={},t._roots=new ml,t._rootMap={},t._fsDataMap={},t._78O={},t._36I=new bl,t._35I=new bl,t._serializeNotifier=new bl,t._selectionModel=new xl(t);var i=t._29Q=[],n=t._scheduleCallback=function(){for(var o=Date.now(),a=0;a<i.length;a++){var r=i[a];r.enabled&&o-r.lastTime>r.interval&&(r.beforeAction&&r.beforeAction(),t.each(function(t){r.action(t)}),r.afterAction&&r.afterAction(),r.lastTime=o)}i.length&&(t._30Q=e.requestAnimationFrame(n))}};ws("DataModel",i,{ms_fire:1,ms_attr:1,ms_ac:["layers","name","autoAdjustIndex","hierarchicalRendering","background","envmap","postProcessingData","init"],_name:n,_autoAdjustIndex:!0,_hierarchicalRendering:!1,_background:n,_init:n,_envmap:n,_postProcessingData:n,sm:function(){return this.getSelectionModel()},mm:function(t,e,i){this.addDataModelChangeListener(t,e,i)},umm:function(t,e){this.removeDataModelChangeListener(t,e)},md:function(t,e,i){this.addDataPropertyChangeListener(t,e,i)},umd:function(t,e){this.removeDataPropertyChangeListener(t,e)},mh:function(t,e,i){this.addHierarchyChangeListener(t,e,i)},umh:function(t,e){this.removeHierarchyChangeListener(t,e)},getAttrObject:function(){return this._attrObject},setAttrObject:function(t){return this._attrObject=t},getSelectionModel:function(){return this._selectionModel},size:function(){return this._datas.size()},isEmpty:function(){return this._datas.isEmpty()},getRoots:function(){return this._roots},getDatas:function(){return this._datas},getFullscreenDatas:function(){return this._fsDataMap},getDataById:function(t){return this._dataMap[t]},removeDataById:function(t){this.remove(this.getDataById(t))},toDatas:function(t,e){return this._datas.toList(t,e)},each:function(t,e){this._datas.each(t,e)},getDataByTag:function(t){return this._78O[t]},getTagMap:function(){return this._78O},removeDataByTag:function(t){this.remove(this.getDataByTag(t))},add:function(t,e,i){var o=this,a=t._id,s=t._tag,l=o._roots;if(o._dataMap[a])throw"'"+a+"' already exists";s!=r&&(o._78O[s]=t),o._dataMap[a]=t,i>=0?o._datas.add(t,i):o._datas.add(t),t._parent||(o._rootMap[a]=t,e>=0?l.add(t,e):l.add(t)),t.s("fullscreen")!==n&&(o._fsDataMap[a]=t),t._21I(o),o.onAdded(t),o._36I.fire({kind:"add",data:t,rootsIndex:e,datasIndex:i})},onAdded:function(){},remove:function(t,e){if(t){var i=this,n=t._id,o=e&&e.keepStructure,a=e&&e.keepChildren,s=t.getTag();if(t._dataModel===i){this.beginTransaction(),o?i._removingData||(i._removingData=t):i.prepareRemove(t),a||t.toChildren().each(function(t){i.remove(t,e)},i),o?i._removingData===t&&(t._parent&&t._parent.removeChild(t),delete i._removingData):t._parent&&t._parent.removeChild(t);var l,c=i._datas.remove(t);delete i._dataMap[n],s!=r&&delete i._78O[s],i._rootMap[n]&&(delete i._rootMap[n],l=i._roots.remove(t)),i._fsDataMap[n]&&delete i._fsDataMap[n],t._21I(r),i.onRemoved(t),i._36I.fire({kind:Nt,data:t,rootsIndex:l,datasIndex:c}),this.endTransaction()}}},onRemoved:function(){},prepareRemove:function(){},clear:function(){var t=this;if(t._datas.size()){var e=t._historyManager?this.toJSON():n;t._datas.toArray().forEach(function(t){t._21I(r)}),t._datas.clear(),t._dataMap={},t._roots.clear(),t._rootMap={},t._fsDataMap={},t._78O={},t._36I.fire({kind:St,json:e})}},contains:function(t){return t&&t._dataModel===this},handleDataPropertyChange:function(t){var e=this,i=t.data,n=t.property;if("parent"===n){var o=i._id,a=e._rootMap,s=e._roots;i._parent?a[o]&&(delete a[o],s.remove(i)):a[o]||(a[o]=i,s.add(i))}else if("tag"===n){var l=t.oldValue,c=t.newValue,h=e._78O;l!=r&&delete h[l],c!=r&&(h[c]=i)}else if("s:fullscreen"===n){o=i._id;var d=e._fsDataMap;t.oldValue!=r&&delete d[o],t.newValue!=r&&(d[o]=i)}this.onDataPropertyChanged(i,t),this._35I.fire(t)},onDataPropertyChanged:function(){},addDataModelChangeListener:function(t,e,i){this._36I.add(t,e,i)},removeDataModelChangeListener:function(t,e){this._36I.remove(t,e)},addSerializeListener:function(t,e,i){this._serializeNotifier.add(t,e,i)},removeSerializeListener:function(t,e){this._serializeNotifier.remove(t,e)},fireSerializeEvent:function(t){this._serializeNotifier.fire(t)},addDataPropertyChangeListener:function(t,e,i){this._35I.add(t,e,i)},removeDataPropertyChangeListener:function(t,e){this._35I.remove(t,e)},_38I:function(t,e,i){this._37I&&this._37I.fire({data:t,oldIndex:e,newIndex:i})},addHierarchyChangeListener:function(t,e,i){this._37I||(this._37I=new bl),this._37I.add(t,e,i)},removeHierarchyChangeListener:function(t,e){this._37I.remove(t,e)},getSiblings:function(t){var e=t._parent;return e?e._children:this._roots},eachByHierarchical:function(t,e,i){if(e)return this._eachByHierarchical(t,e,i);for(var n=0,o=this._roots,a=o.size();a>n;n++)if(!1===this._eachByHierarchical(t,o.get(n),i))return!1;return!0},_eachByHierarchical:function(t,e,i){if(i){if(!1===t.call(i,e))return!1}else if(!1===t(e))return!1;for(var n=e.size(),o=0;n>o;o++)if(!1===this._eachByHierarchical(t,e.getChildAt(o),i))return!1;return!0},reverseEachByHierarchical:function(t,e,i){if(e)return this._reverseEachByHierarchical(t,e,i);for(var n=this._roots,o=n.size()-1;o>=0;o--)if(!1===this._reverseEachByHierarchical(t,n.get(o),i))return!1;return!0},_reverseEachByHierarchical:function(t,e,i){for(var n=e.size()-1;n>=0;n--)if(!1===this._reverseEachByHierarchical(t,e.getChildAt(n),i))return!1;if(i){if(!1===t.call(i,e))return!1}else if(!1===t(e))return!1;return!0},eachByDepthFirst:function(t,e,i){if(e)return this._11I(t,e,i);for(var n=0,o=this._roots,a=o.size();a>n;n++)if(!1===this._11I(t,o.get(n),i))return!1;return!0},_11I:function(t,e,i){for(var n=e.size(),o=0;n>o;o++)if(!1===this._11I(t,e.getChildAt(o),i))return!1;if(i){if(!1===t.call(i,e))return!1}else if(!1===t(e))return!1;return!0},eachByBreadthFirst:function(t,e,i){var n=new ml;for(e?n.add(e):this._roots.each(n.add,n);n.size()>0;)if((e=n.removeAt(0)).eachChild(n.add,n),i){if(!1===t.call(i,e))return!1}else if(!1===t(e))return!1;return!0},moveTo:function(t,e){var i=this.getSiblings(t),n=i.indexOf(t);n===e||0>n||e>=0&&e<=i.size()&&(i.remove(t),e>i.size()&&e--,i.add(t,e),this._38I(t,n,e))},moveUp:function(t){this.moveTo(t,this.getSiblings(t).indexOf(t)-1)},moveDown:function(t){this.moveTo(t,this.getSiblings(t).indexOf(t)+1)},moveToTop:function(t){this.moveTo(t,0)},moveToBottom:function(t){this.moveTo(t,this.getSiblings(t).size())},moveSelectionUp:function(t){this.beginTransaction(),t||(t=this.sm());var e=new ml;xa(t,e,this._roots),e.each(this.moveUp,this),this.endTransaction()},moveSelectionDown:function(t){this.beginTransaction(),t||(t=this.sm());var e=new ml;Da(t,e,this._roots),e.each(this.moveDown,this),this.endTransaction()},moveSelectionToTop:function(t){this.beginTransaction(),t||(t=this.sm());var e=new ml;Ma(t,e,this._roots),e.each(this.moveToTop,this),this.endTransaction()},moveSelectionToBottom:function(t){this.beginTransaction(),t||(t=this.sm());var e=new ml;Aa(t,e,this._roots),e.each(this.moveToBottom,this),this.endTransaction()},moveToIndex:function(t,e,i){var n=this.getDatas();null==i&&(i=n.indexOf(t)),i===e||0>i||e>=0&&e<=n.size()&&(n.remove(t),e>n.size()&&e--,n.add(t,e),this._76I(t,i,e))},bringForward:function(t){this.moveToIndex(t,this.getDatas().indexOf(t)+1)},bringToFront:function(t){this.moveToIndex(t,this.size())},sendBackward:function(t){this.moveToIndex(t,this.getDatas().indexOf(t)-1)},sendToBack:function(t){this.moveToIndex(t,0)},bringSelectionForward:function(t){this.beginTransaction(),t||(t=this.sm());for(var e=new ml,i=this.getDatas(),n=!1,o=0;o<i.size();o++){var a=i.get(i.size()-1-o);t.contains(a)?n&&e.add(a):n=!0}e.each(this.bringForward,this),this.endTransaction()},bringSelectionToFront:function(t){this.beginTransaction(),t||(t=this.sm());for(var e=new ml,i=this.getDatas(),n=0;n<i.size();n++){var o=i.get(n);t.contains(o)&&e.add(o)}e.each(this.bringToFront,this),this.endTransaction()},sendSelectionBackward:function(t){this.beginTransaction(),t||(t=this.sm());for(var e=new ml,i=this.getDatas(),n=!1,o=0;o<i.size();o++){var a=i.get(o);t.contains(a)?n&&e.add(a):n=!0}e.each(this.sendBackward,this),this.endTransaction()},sendSelectionToBack:function(t){this.beginTransaction(),t||(t=this.sm());for(var e=new ml,i=this.getDatas(),n=0;n<i.size();n++){var o=i.get(i.size()-1-n);t.contains(o)&&e.add(o)}e.each(this.sendToBack,this),this.endTransaction()},addScheduleTask:function(t){var i=this;i.removeScheduleTask(t),t.enabled==r&&(t.enabled=!0),t.interval==r&&(t.interval=10),t.action==r&&(t.action=Fi),t.lastTime=Date.now(),i._29Q.push(t),i._30Q==r&&(i._30Q=e.requestAnimationFrame(i._scheduleCallback))},removeScheduleTask:function(t){var i=this,n=i._29Q,o=n.indexOf(t);o>=0&&n.splice(o,1),n.length||i._30Q==r||(e.cancelAnimationFrame(i._30Q),delete i._30Q)},getHistoryManager:function(){return this._historyManager},enableHistoryManager:function(t){this._historyManager||new s.HistoryManager(this),null!=t&&this._historyManager.setMaxHistoryCount(t),this._historyManager.setDisabled(!1)},disableHistoryManager:function(){this._historyManager&&this._historyManager.setDisabled(!0)},clearHistoryManager:function(){this._historyManager&&this._historyManager.clear()},undo:function(t){this._historyManager&&this._historyManager.undo(t)},redo:function(t){this._historyManager&&this._historyManager.redo(t)},beginTransaction:function(){this._historyManager&&this._historyManager.beginTransaction()},endTransaction:function(){this._historyManager&&this._historyManager.endTransaction()},addHistory:function(t){this._historyManager&&this._historyManager.addHistory(t)},onHistoryManagerChanged:function(){}});var xl=s.SelectionModel=function(t){var e=this;e._68O=rt,e._map={},e._73O=new ml,e._74I=new bl,e._21I(t)};ws("SelectionModel",i,{ms_fire:1,ms_dm:1,ms:function(t,e,i){this.addSelectionChangeListener(t,e,i)},ums:function(t,e){this.removeSelectionChangeListener(t,e)},fd:function(){return this.getFirstData()},ld:function(){return this.getLastData()},sg:function(){return this._68O===at},co:function(t){return this._map[t._id]!=r},ss:function(t){this.setSelection(t)},as:function(t){this.appendSelection(t)},rs:function(t){this.removeSelection(t)},cs:function(){this.clearSelection()},sa:function(){this.selectAll()},getSelectionMode:function(){return this._68O},setSelectionMode:function(t){var e=this;if(e._68O!==t&&(t===_t||t===at||t===rt)){e.cs();var i=e._68O;e._68O=t,e.fp("selectionMode",i,t)}},_21I:function(t){var e=this,i=e._dataModel;i!==t&&(i&&(e.cs(),i.umm(e.handleDataModelChange,e)),e._dataModel=t,t.mm(e.handleDataModelChange,e,!0),e.fp(Ve,i,t))},dispose:function(){var t=this;t.cs(),t._dataModel.umm(t.handleDataModelChange,t)},handleDataModelChange:function(t){var e=this;if(t.kind===Nt){var i=t.data;e.co(i)&&(e._73O.remove(i),delete e._map[i._id],e._75I(Nt,new ml(i)))}else t.kind===St&&e.cs()},getFilterFunc:function(){return this._filterFunc},setFilterFunc:function(t){var e=this;if(e._filterFunc!==t){e.cs();var i=e._filterFunc;e._filterFunc=t,e.fp("filterFunc",i,e._filterFunc)}},_75I:function(t,e,i,n){i&&(this._73O.each(function(t){n[t._id]?i.remove(t):i.add(t)}),e=i.toList()),this._74I.fire({kind:t,datas:new ml(e)})},addSelectionChangeListener:function(t,e,i){this._74I.add(t,e,i)},removeSelectionChangeListener:function(t,e){this._74I.remove(t,e)},_97O:function(t,e){for(var i,n=this,o=0,a=new ml(t);o<a.size();o++)i=a.get(o),(n._filterFunc&&!n._filterFunc(i)||e&&n.co(i)||!e&&!n.co(i)||!n._dataModel.contains(i))&&(a.removeAt(o),o--);return a},appendSelection:function(t){var e=this;if(e._68O!==_t){var i,n,o=e._73O,a=e._97O(t,!0);a.isEmpty()||(e.sg()&&(i=new ml(o),n=e._map,o.clear(),e._map={},a=new ml(a.get(a.size()-1))),a.each(function(t){o.add(t),e._map[t._id]=t}),e._75I("append",a,i,n))}},removeSelection:function(t){var e=this,i=e._97O(t),n=0,o=i.size();if(0!==o){for(;o>n;n++){var a=i.get(n);e._73O.remove(a),delete e._map[a._id]}e._75I(Nt,i)}},toSelection:function(t,e){return this._73O.toList(t,e)},getSelection:function(){return this._73O},each:function(t,e){this._73O.each(t,e)},setSelection:function(t){var e=this,i=e._73O;if(e._68O!==_t&&!(i.isEmpty()&&!t||1===i.size()&&e.ld()===t)){var n=new ml(i),o=e._map;i.clear(),e._map={};var a=e._97O(t,!0);e.sg()&&a.size()>1&&(a=new ml(a.get(a.size()-1))),a.each(function(t){i.add(t),e._map[t._id]=t}),e._75I("set",r,n,o)}},clearSelection:function(){var t=this,e=t._73O;if(e.size()>0){var i=e.toList();e.clear(),t._map={},t._75I(St,i)}},selectAll:function(){var t=this;if(t._68O!==_t){var e,i,n=t._dataModel.toDatas();if(t._filterFunc)for(e=0;e<n.size();e++)i=n.get(e),t._filterFunc(i)||(n.removeAt(e),e--);var o=t._73O,a=new ml(o),s=t._map;o.clear(),t._map={},t.sg()&&n.size()>1&&(n=new ml(n.get(n.size()-1)));var l=n.size();for(e=0;l>e;e++)i=n.get(e),o.add(i),t._map[i._id]=i;t._75I("all",r,a,s)}},size:function(){return this._73O.size()},isEmpty:function(){return this._73O.isEmpty()},contains:function(t){return this._map[t._id]!=r},getLastData:function(){var t=this._73O;return t.size()>0?t.get(t.size()-1):r},getFirstData:function(){var t=this._73O;return t.size()>0?t.get(0):r},isSelectable:function(t){var e=this;return!(!t||e._68O===_t)&&(!e._filterFunc||e._filterFunc(t))},getTopSelection:function(){var t=this,e=new ml;return t._73O.each(function(i){for(var n=i.getParent();n;){if(t.contains(n)){i=r;break}n=n.parent}i&&e.add(i)}),e}});var Dl=(function(t,i,n,o){var a=this;i||(i=nt?5:3,n=20,o=20);var r={x:t,y:i,width:n,height:o};if(n)for(var s=0;n>s;s++)if(3===n)o=20;else for(var l=0;o>l;l++)a=e||n;if(ss(r,{x:E,y:2*E})){var c=kt[0]+dt[0]+St[1]+(De.length-1);qo.eye=a[c],a[c]=gn.eye}}(0),function(t,e){var i;if(bn(e)){var n=t.getDataUI(e);n&&n._88I&&(i=n._88I.rect)}return i||e.getRect()});Tn(c,{edgeGroupAgentFunc:r,graphViewAutoScrollZone:16,graphViewZoomable:!0,graphViewResettable:!1,graphViewPannable:!0,graphViewRectSelectable:!0,graphViewScrollBarVisible:!0,graphViewRectSelectBorderColor:g.rectSelectBorder,graphViewRectSelectBackground:Va,graphViewEditPointSize:nt?17:7,graphViewEditPointBorderColor:g.editPointBorder,graphViewEditPointBackground:g.editPointBackground,setEdgeType:function(t,e,i){Pi[t]=e,Li[t]=i},getEdgeType:function(t){return Pi[t]},getEdgeTypeMap:function(){return Pi},getNodeRect:Dl},!0),Tn(h,{"layout.h":n,"layout.v":n,"2d.selectable":!0,"2d.visible":!0,"2d.movable":!0,"2d.editable":!0,"2d.move.mode":n,interactive:!1,"image.stretch":"fill",icons:n,ingroup:!0,"body.color":n,"2d.gray":!1,fullscreen:n,"fullscreen.gap":2,"fullscreen.lock":!1,opacity:n,pixelPerfect:!0,keepAspectRatio:!1,"attach.points":null,"attach.style":null,"attach.close.threshold":16,"clip.direction":"top","clip.percentage":1,"select.color":Ha,"select.width":1,"select.padding":2,"select.type":bt,shadow:!1,"shadow.blur":6,"shadow.offset.x":3,"shadow.offset.y":3,"border.color":n,"border.width":2,"border.padding":2,"border.type":bt,label:n,"label.font":n,"label.color":Ir,"label.background":n,"label.position":31,"label.position.fixed":!1,"label.offset.x":0,"label.offset.y":2,"label.rotation":n,"label.max":n,"label.opacity":n,"label.scale":1,"label.align":n,"label.selectable":!0,label2:n,"label2.font":n,"label2.color":Ir,"label2.background":n,"label2.position":34,"label2.position.fixed":!1,"label2.offset.x":0,"label2.offset.y":-2,"label2.rotation":n,"label2.max":n,"label2.opacity":n,"label2.scale":1,"label2.align":n,"label2.selectable":!0,note:n,"note.expanded":!0,"note.font":n,"note.color":_r,"note.background":Ha,"note.position":8,"note.offset.x":-3,"note.offset.y":3,"note.max":n,"note.toggleable":!0,"note.border.width":1,"note.border.color":n,"note.opacity":n,"note.scale":1,"note.align":n,note2:n,"note2.expanded":!0,"note2.font":n,"note2.color":_r,"note2.background":Ha,"note2.position":3,"note2.offset.x":3,"note2.offset.y":-3,"note2.max":n,"note2.toggleable":!0,"note2.border.width":1,"note2.border.color":n,"note2.opacity":n,"note2.scale":1,"note2.align":n,"group.type":n,"group.image":n,"group.image.stretch":"fill","group.repeat.image":n,"group.padding":8,"group.padding.left":0,"group.padding.right":0,"group.padding.top":0,"group.padding.bottom":0,"group.position":17,"group.toggleable":!0,"group.title.font":n,"group.title.color":_r,"group.title.background":g.groupTitleBackground,"group.title.align":ct,"group.title.orientation":dt,"group.background":g.groupBackground,"group.depth":1,"group.border.width":1,"group.border.pattern":n,"group.border.color":Fa,"group.border.radius":0,"group.border.cap":vr,"group.border.join":pr,"group.splitLine":!1,"group.gradient":r,"group.gradient.color":"#FFF",shape:n,"shape.background":Fa,"shape.repeat.image":n,"shape.border.width":0,"shape.border.width.absolute":!1,"shape.border.color":Fa,"shape.border.3d":!1,"shape.border.3d.color":n,"shape.border.3d.accuracy":n,"shape.border.cap":vr,"shape.border.join":pr,"shape.border.pattern":n,"shape.gradient":r,"shape.gradient.color":"#FFF","shape.depth":0,"shape.dash":!1,"shape.dash.pattern":fr,"shape.dash.offset":0,"shape.dash.color":ja,"shape.dash.width":n,"shape.dash.3d":!1,"shape.dash.3d.color":n,"shape.dash.3d.accuracy":n,"shape.polygon.side":6,"shape.arc.from":E,"shape.arc.to":V,"shape.arc.close":!0,"shape.arc.oval":!1,"shape.corner.radius":n,"shape.gradient.pack":n,"shape.fill.rule":"nonzero","shape.fill.clip.direction":"top","shape.fill.clip.percentage":1,"shape.foreground":n,"shape.foreground.gradient":r,"shape.foreground.gradient.color":"#FFF","shape.foreground.clip.direction":"top","shape.foreground.clip.percentage":1,"autolayout.gap":n,"autolayout.hgap":n,"autolayout.vgap":n,"edge.type":n,"edge.points":n,"edge.segments":n,"edge.color":Fa,"edge.width":2,"edge.width.absolute":!1,"edge.offset":0,"edge.group":0,"edge.expanded":!0,"edge.gap":12,"edge.toggleable":!0,"edge.center":!1,"edge.3d":!1,"edge.3d.color":n,"edge.3d.accuracy":n,"edge.cap":vr,"edge.join":pr,"edge.source.position":17,"edge.source.anchor.x":n,"edge.source.anchor.y":n,"edge.source.offset.x":0,"edge.source.offset.y":0,"edge.target.position":17,"edge.target.anchor.x":n,"edge.target.anchor.y":n,"edge.target.offset.x":0,"edge.target.offset.y":0,"edge.pattern":n,"edge.dash":!1,"edge.dash.pattern":fr,"edge.dash.offset":0,"edge.dash.color":ja,"edge.dash.width":n,"edge.dash.3d":!1,"edge.dash.3d.color":n,"edge.dash.3d.accuracy":n,"edge.independent":!1,"attach.row.index":0,"attach.column.index":0,"attach.row.span":1,"attach.column.span":1,"attach.padding":0,"attach.padding.left":0,"attach.padding.right":0,"attach.padding.top":0,"attach.padding.bottom":0,"attach.index":-1,"attach.offset":0,"attach.offset.relative":!1,"attach.offset.opposite":!1,"attach.thickness":n,"attach.gap":0,"attach.gap.relative":!1,"grid.row.count":1,"grid.column.count":1,"grid.row.percents":n,"grid.column.percents":n,"grid.border":1,"grid.border.left":0,"grid.border.right":0,"grid.border.top":0,"grid.border.bottom":0,"grid.gap":1,"grid.background":g.gridBackground,"grid.depth":1,"grid.cell.depth":-1,"grid.cell.border.color":g.gridCellBorderColor,"grid.block":n,"grid.block.padding":3,"grid.block.width":1,"grid.block.color":g.gridBlockColor,text:"","text.align":"left","text.vAlign":"middle","text.color":Ir,"text.font":yr,"text.shadow":!1,"text.shadow.color":Ha,"text.shadow.blur":6,"text.shadow.offset.x":3,"text.shadow.offset.y":3,"text.scale.x":1,"text.scale.y":1},!0),Tn(Ml,{_76I:function(t,e,i){this._39I&&this._39I.fire({data:t,oldIndex:e,newIndex:i})},addIndexChangeListener:function(t,e,i){var n=this;n._39I||(n._39I=new bl),n._39I.add(t,e,i)},removeIndexChangeListener:function(t,e){this._39I.remove(t,e)},prepareRemove:function(t){mn(t)&&(t.setSource(r),t.setTarget(r)),t._70O&&t._70O.toList().each(this.remove,this),t._69O&&t._69O.toList().each(function(t){t.setHost(r)}),t._host&&t.setHost(r)},onAdded:function(t){this.isAutoAdjustIndex()&&this.adjustIndex(t)},onDataPropertyChanged:function(t,e){zl[e.property]&&this.isAutoAdjustIndex()&&this.adjustIndex(t)},isAdjustable:function(t){return Cn(t)||mn(t)},isAdjustedToBottom:function(t){return!!wn(t)&&(t.isExpanded()&&Bl(t))},adjustIndex:function(t){var e=this;this.isHierarchicalRendering()||(e.isAdjustedToBottom(t)?(e.sendToBottom(t),t.eachChild(e.adjustIndex,e)):e.sendToTop(t))},sendToTop:function(t){var e=this;if(e.contains(t)&&e.isAdjustable(t)){var i=e._datas;if(t!==i.get(e.size()-1)){var n=i.indexOf(t);i.removeAt(n),i.add(t),e._76I(t,n,e.size()-1)}if(mn(t)){var o=t._40I;o&&!e.isAdjustedToBottom(o)&&e.sendToTop(o),(o=t._41I)&&!e.isAdjustedToBottom(o)&&e.sendToTop(o)}t._69O&&t._69O.each(function(i){i.isRelatedTo(t)||Cn(t)&&i.isLoopedHostOn(t)||e.sendToTop(i)}),t.ISubGraph||(!wn(t)||t.isExpanded())&&t._adjustChildrenToTop&&t.eachChild(function(t){mn(t)||e.sendToTop(t)})}},sendToBottom:function(t,e){var i=this;if(t!==e&&i.contains(t)&&i.isAdjustable(t)&&(!e||i.contains(e))){var n=i._datas,o=n.remove(t),a=e?i._datas.indexOf(e):0;if(n.add(t,a),o!==a){i._76I(t,o,a);var r=t._parent;!r||r.ISubGraph||mn(r)||i.sendToBottom(t._parent,t)}}}}),Tn(ar,{ms_edit:function(t){t._46O=function(t){var e=this,i=e.gv.dm(),n=e._index,o=e._89I,a=e._node,r=e._shape,s=e._edge,l=e._77I;a&&o?(this.fi({kind:"endEditRect",event:t,data:a,direction:o}),i.endTransaction()):r&&n>=0?(e.fi({kind:"endEditPoint",event:t,data:r,index:n}),i.endTransaction()):s&&n>=0?(e.fi({kind:"endEditPoint",event:t,data:s,index:n}),i.endTransaction()):l&&(e.fi({kind:"endEditRotation",event:t,data:l}),i.endTransaction())},t._78I=function(t){var e=this;e.autoScroll(t);var i=e.gv.lp(t),n=e._index,o=e._89I,a=e._node,s=e._shape,l=e._edge,c=e._77I;if(a&&o)e._80O(i),e.fi({kind:"betweenEditRect",event:t,data:a,direction:o});else if(s&&n>=0)i.e=s.getPoints().get(n).e,s.setPoint(n,i),e.fi({kind:"betweenEditPoint",event:t,data:s,index:n});else if(l&&n>=0){var h=l.s(Kt);i.e=h.get(n).e,h.set(n,i),l.fp(Kt,r,h),e.fi({kind:"betweenEditPoint",event:t,data:l,index:n})}else if(c){var d=c.p(),g=c.getScale(),u=j+P(i.y-d.y,i.x-d.x);g.y<0&&(u+=E),D(u)<.04&&(u=0),c.setRotation(u),e.fi({kind:"betweenEditRotation",event:t,data:c})}},t._80O=function(t){var e=this,i=e._node,n=e._rect,o=n.x,a=n.y,r=n.width,s=n.height,l=e._89I,c=e._anchor,h=e._matrix;t=h.tfi(t);"northwest"===l?n=as(t,{x:o+r,y:a+s}):l===It?n=as({x:o,y:t.y},{x:o+r,y:a+s}):"northeast"===l?n=as({x:o,y:t.y},{x:t.x,y:a+s}):l===pt?n=as({x:t.x,y:a},{x:o+r,y:a+s}):l===vt?n=as({x:o,y:a},{x:t.x,y:a+s}):"southwest"===l?n=as({x:t.x,y:a},{x:o+r,y:t.y}):"south"===l?n=as({x:o,y:a},{x:o+r,y:t.y}):"southeast"===l&&(n=as({x:o,y:a},t)),i.setPosition(h.tf(n.x+n.width*c.x,n.y+n.height*c.y)),i.setWidth(n.width),i.setHeight(n.height)},t._80I=function(t,e,i,n){var o=this,a=o.gv._zoom,r=(o.gv.getEditPointSize()+2)/a;return!!ss({x:e-r/2,y:i-r/2,width:r,height:r},t)&&(o._89I!==n&&(o._89I=n),!0)},t._79I=function(t,e,i){var n=this,o=n.gv,a=e?o.getDataUI(e):r,s=a?a._55O:r;if(s){var l,c,h=o._zoom,d=(o.getEditPointSize()+2)/h,g=o.lp(t);if(Cn(e)){if(s._56O&&Cn(e)&&(l=s._98o,ss({x:l.x-d/2,y:l.y-d/2,width:d,height:d},g)))return n._77I=e,i&&n.fi({kind:"beginEditRotation",event:t,data:e}),n.setCursor("crosshair"),!0;if(s._43O&&e instanceof hh)for(v=(c=e.getPoints()).size()-1;v>=0;v--)if(l=c.get(v),ss({x:l.x-d/2,y:l.y-d/2,width:d,height:d},g))return n._index=v,n._shape=e,i&&n.fi({kind:"beginEditPoint",event:t,data:e,index:v}),n.setCursor("crosshair"),!0;if(s._42O)for(var u=e.getEditControlPoints(),f=["northwest",-1,-1,pt,-1,0,"southwest",-1,1,"south",0,1,"southeast",1,1,vt,1,0,"northeast",1,-1,It,0,-1],v=0,p=u.length;p>v;v++){var I=f[3*v],_=u[v];if(n._80I(g,_.x,_.y,I)){n._node=e;var y=e.getWidth(),C=e.getHeight(),m=e.getAnchor();n._rect={x:-y*m.x,y:-C*m.y,width:y,height:C},n._anchor=m,n._matrix=e.getMatrix();var w=e.getRotation(),b=T(w),A=S(w),M=f[3*v+1]*Rn(e.getScale().x),x=f[3*v+2]*Rn(e.getScale().y),D=Math.atan2(-A*M-b*x,b*M-A*x),N=(Math.round(D/(Math.PI/4))+8)%8,z=[ti,"nesw-resize",ei,"nwse-resize",ti,"nesw-resize",ei,"nwse-resize"][N];return n.setCursor(z),i&&n.fi({kind:"beginEditRect",event:t,data:e,direction:n._89I}),!0}}}if(s._43O&&mn(e)&&e.s(qt)===Zt&&(c=e.s(Kt)))for(v=c.size()-1;v>=0;v--)if(l=c.get(v),ss({x:l.x-d/2,y:l.y-d/2,width:d,height:d},g))return n._index=v,n._edge=e,i&&n.fi({kind:"beginEditPoint",event:t,data:e,index:v}),n.setCursor("crosshair"),!0}return!1}},ms_gv:function(t){t._currentSubGraph=r,t._fpsInfo={time:0,fps:0,frames:0},t.upSubGraph=function(){this.setCurrentSubGraph(Zl(this._currentSubGraph))},t.isVisible=function(t){var e=this;if(Zl(t)!==e._currentSubGraph)return!1;if(mn(t)){var i=t._40I,n=t._41I;if(!i||!n)return!1;if(!(t.s("edge.independent")||e.isVisible(i)&&e.isVisible(n)))return!1;if(t.isEdgeGroupHidden())return!1}else for(var o=t._parent;o&&!o.ISubGraph;){if(wn(o)&&(!o.isExpanded()||!e.isVisible(o)))return!1;o=o._parent}if(t._parent instanceof sh&&!e.isVisible(t._parent))return!1;if(t._refGraph instanceof uh&&!e.isVisible(t._refGraph))return!1;if(e instanceof vf){if(!t.s("3d.visible"))return!1}else{var a=e.getLayersInfo();if(a){var r=a[t._layer];if(r&&!1===r.visible)return!1}if(!t.s("2d.visible"))return!1}return!e._visibleFunc||e._visibleFunc(t)},t.handleSelectionChange=function(t){var e=this;t.datas.each(function(t){e.invalidateData(t);var i=t._parent;wn(i)&&Cn(t)&&t.s(Et)&&(e.invalidateData(i),i._49I&&i._49I.each(function(t){e.invalidateData(t)}))}),e.onSelectionChanged(t)},t.onSelectionChanged=function(t){var e=this,i=e.sm();if(1===i.size()&&("set"===t.kind||"append"===t.kind)){var n=i.ld();e.isAutoMakeVisible()&&e.makeVisible(n),e.adjustIndex&&e._dataModel.isAutoAdjustIndex()&&e.adjustIndex(n)}},t.makeVisible=function(t){if(t){var e=this;if(e.getDataUI?e.getDataUI(t):e.getData3dUI(t)){var i=t,n=Zl(t);for(n!==e._currentSubGraph&&e.setCurrentSubGraph(n);(i=i._parent)&&i!==n;)wn(i)&&i.setExpanded(!0);e._23I=t,e.iv()}}},t.getLabel=function(t){var e=t.getStyle(Ot);return e===n?t.getName():e},t.getLabelBackground=function(t){return t.getStyle("label.background")},t.getLabelColor=function(t){return t.getStyle("label.color")},t.getLabel2=function(t){return t.getStyle("label2")},t.getLabel2Background=function(t){return t.getStyle("label2.background")},t.getLabel2Color=function(t){return t.getStyle("label2.color")},t.getNote=function(t){return t.getStyle(Wt)},t.getNoteBackground=function(t){return t.getStyle("note.background")},t.getNote2=function(t){return t.getStyle(Gt)},t.getNote2Background=function(t){return t.getStyle("note2.background")},t.handleClick=function(t,e,i){var n=this;e?(n.fi({kind:"clickData",event:t,data:e,part:i}),n.onDataClicked(e,t)):(n.fi({kind:"clickBackground",event:t}),n.onBackgroundClicked(t))},t.handleDoubleClick=function(t,e,i){var n=this;$r(t)&&(e?(n.fi({kind:"doubleClickData",event:t,data:e,part:i}),n.onDataDoubleClicked(e,t,i),n.checkDoubleClickOnNote(t,e,i)||n.checkDoubleClickOnRotation&&n.checkDoubleClickOnRotation(t,e,i)||(mn(e)?n.onEdgeDoubleClicked(e,t,i):e.ISubGraph?n.onSubGraphDoubleClicked(e,t,i):wn(e)?n.onGroupDoubleClicked(e,t,i):e.IDoorWindow?n.onDoorWindowDoubleClicked(e,t,i):e.ICSGBox&&n.onCSGBoxDoubleClicked(e,t,i))):(n.fi({kind:"doubleClickBackground",event:t}),n.onBackgroundDoubleClicked(t)))},t.onSubGraphDoubleClicked=function(t){this.setCurrentSubGraph(t)},t.onEdgeDoubleClicked=function(t,e){t.ISubGraph&&!es(e)?this.setCurrentSubGraph(t):t.s("edge.toggleable")&&t.toggle()},t.onGroupDoubleClicked=function(t){t.s("group.toggleable")&&t.toggle()},t.onDoorWindowDoubleClicked=function(t){t.s("dw.toggleable")&&t.toggle(!0)},t.onCSGBoxDoubleClicked=function(t,e){if(this instanceof vf){var i=this.getHitFaceInfo(e);i&&i.face&&t.s(i.face+".toggleable")&&t.toggleFace(i.face,!0)}},t.onBackgroundClicked=function(){},t.onBackgroundDoubleClicked=function(){this.upSubGraph()},t.onDataClicked=function(){},t.onDataDoubleClicked=function(){},t.onAutoLayoutEnded=function(){},t.onMoveEnded=function(){},t.onPanEnded=function(){},t.onPinchEnded=function(){},t.onRectSelectEnded=function(){},t.onZoomEnded=function(){},t.serialize=function(t){return this.dm().serialize(t)},t.toJSON=function(){return this.dm().toJSON()},t.deserialize=function(t,e){var i=this;(e=e instanceof Al?{rootParent:e}:vn(e)?{setId:e}:In(e)?{finishFunc:e}:e||{}).view=i;var n=i.dm(),o=e.finishFunc;return e.finishFunc=function(){o&&o.apply(e,arguments),vn(n.a("zoomable"))&&i.setZoomable&&i.setZoomable(n.a("zoomable")),vn(n.a("pannable"))&&i.setPannable&&i.setPannable(n.a("pannable")),vn(n.a("rectSelectable"))&&i.setRectSelectable&&i.setRectSelectable(n.a("rectSelectable")),!0===n.a("fitContent")&&i.fitContent&&i.fitContent(!0,0)},n.deserialize(t,e.rootParent,e)},t.showDebugTip=function(){var t=this,e=t._debugDiv;if(!e){(e=t._debugDiv=a.createElement("div")).style.position="absolute",e.style.overflow="hidden",e.style.backgroundColor="white",e.style.color="black";var i=t.getView();t._79O?i.insertBefore(e,t._79O):i.appendChild(e);var n=function(){t.redraw();var i="FPS : "+t._fpsInfo.fps+"<br/>Datas : "+t.dm().getDatas().length,o=t.getDebugTip();o&&(i+="<br/>------<br/>"+o),e.innerHTML=i,t._isDebugging&&requestAnimationFrame(n)};requestAnimationFrame(n),t._isDebugging=!0}},t.hideDebugTip=function(){var t=this,e=t._debugDiv;e&&(delete t._debugDiv,t.getView().removeChild(e),t._isDebugging=!1)},t.countFrame=function(){if(this._isDebugging){var t=Date.now(),e=this._fpsInfo;t-e.time>1e3?(e.fps=Math.round(1e5*(e.frames+1)/(t-e.time))/100,e.time=t,e.frames=0):e.frames++}}},ms_icons:function(t){t.getRotation=function(t){return t==r?0:t},t._15O=function(){var t=this,e=t.s(Ft);if(e){var i=t,n=t.data||t._data,o=t._38o={icons:e,rects:{}};for(var a in e){var s=e[a],l=sl(s.shape3d,n,i);if(!(!1===sl(s.visible,n,i)||sl(s.for3d,n,i)&&!t.I3d||l&&!t.I3d)){var c=l?[l]:sl(s.names,n,i),h=c?c.length:0,d=sl(s.position,n,i)||3,g=sl(s.offsetX,n,i)||0,u=sl(s.offsetY,n,i)||0,f=sl(s.direction,n,i)||vt,v=sl(s.gap,n,i),p=v!=r?v:1,I=sl(s.rotation,n,i),_=sl(s.keepOrien,n,i),y=sl(s.rotationFixed,n,i)?I:t.getRotation(I,_,d),C=r,m=o.rects[a]=new Array(h);m.rotation=y;for(var w=0;h>w;w++){var b,A,M,x,D=c[w];if(l)M=0,x=0;else{var T=Pr(D);M=sl(s.width,n,i),x=sl(s.height,n,i),M==r&&(M=al(T,n)),x==r&&(x=rl(T,n))}if(C?f===vt?g+=M/2:f===pt?g-=M/2:f===It?u-=x/2:u+=x/2:C={width:M,height:x},t.I3d){var N=-M/2,S=-x/2;A={width:M,height:x,mat:t._16O(sl(s.autorotate,n,i),d,C,sl(s.face,n,i)||st,sl(s.t3,n,i),sl(s.r3,n,i),sl(s.rotationMode,n,i),g,u),vs:new xs([N,-S,0,N,-S-x,0,N+M,-S-x,0,N+M,-S,0])}}else A={x:(b=t.getPosition(d,g,u,C,sl(s.positionFixed,n,i))).x-M/2,y:b.y-x/2,width:M,height:x},t._68o(A,y);m[w]=A,f===vt?g+=M/2+p:f===pt?g-=M/2+p:f===It?u-=x/2+p:u+=x/2+p}}}}}}});var Tl={1:1,2:1,6:1,9:1,10:1,14:1,15:1,16:1,21:1,22:1,26:1,29:1,30:1,34:1,36:1,38:1,40:1,42:1,45:1,50:1,52:1,54:1},Nl={3:1,7:1,11:1,17:1,23:1,27:1,31:1,44:1,46:1,47:1,49:1},Sl={translateX:1,translateY:1,zoom:1,scrollBarVisible:1},zl={sourceAgent:1,targetAgent:1,expanded:1,parent:1,host:1},kl={position:1,width:1,height:1,expanded:1,rotation:1,anchor:1,scale:1,"s:edge.points":1},El={"edge.type":1,"edge.group":1},Vl={rotation:1,rotationX:1,rotationZ:1},jl={position:1,width:1,height:1,anchor:1,scale:1,"s:grid.row.count":1,"s:grid.column.count":1,"s:grid.row.percents":1,"s:grid.column.percents":1,"s:grid.border":1,"s:grid.border.left":1,"s:grid.border.right":1,"s:grid.border.top":1,"s:grid.border.bottom":1,"s:grid.gap":1},Rl={"attach.row.index":1,"attach.column.index":1,"attach.row.span":1,"attach.column.span":1,"attach.padding":1,"attach.padding.left":1,"attach.padding.right":1,"attach.padding.top":1,"attach.padding.bottom":1,"attach.index":1,"attach.offset":1,"attach.offset.relative":1,"attach.offset.opposite":1,"attach.gap":1,"attach.gap.relative":1,"attach.thickness":1},Pl={shape:1,thickness:1,position:1,anchor:1,scale:1},Zl=function(t){if(!t)return r;if(mn(t)){var e=t._40I,i=t._41I;if(!e||!i)return r;var n=Zl(e);return n===Zl(i)?n:r}for(var o=t._parent;mn(o)&&!o.ISubGraph;)o=o._parent;return o?o.ISubGraph?o:Zl(o):r},Ll=function(t,e,i,n){var o=e.getStyle(i)*n;o&&gs(t,o),(o=e.getStyle(i+".left")*n)&&(t.x-=o,t.width+=o),(o=e.getStyle(i+".right")*n)&&(t.width+=o),(o=e.getStyle(i+".top")*n)&&(t.y-=o,t.height+=o),(o=e.getStyle(i+".bottom")*n)&&(t.height+=o),t.width<0&&(t.width=-t.width,t.x-=t.width),t.height<0&&(t.height=-t.height,t.y-=t.height)},Bl=function(t){for(var e,i=0,n=t.size();n>i;i++)if(e=t.getChildAt(i),Cn(e)&&Bl(e))return!0;return t.hasAgentEdges()},Ol=function(t){if(!t)return r;for(var e=t._parent;wn(e);){if(!wn(e._parent))return e.isExpanded()?t:e;e.isExpanded()||(t=e),e=e._parent}return t},Ul=function(t,e){if(!t||!e)return r;var i,n,o,a=Zl(t),s=Zl(e);if(a!==s){for(;s&&a!==s;)s=Zl(s);if(a===s)return t;(i=new ml).add(t,0);for(var l=t._parent;Cn(l)&&!e.isDescendantOf(l);)i.add(l,0),l=l._parent;for(o=i.size(),n=0;o>n;n++){var c=i.get(n);if(wn(c)&&!c.isExpanded())return c;if(c.ISubGraph)return c}return t}return t},Wl=function(t,e,i){"target"!==i&&(i="source");var o="target"===i?e.getTargetAgent():e.getSourceAgent(),a="edge."+i+".";if(mn(o)){var r=t.getDataUI(o);r._79o();var s=e.s(a+"index");if(s!==n){var l=hc(r);return l[Math.max(0,Math.min(s,l.length-1))]}var c=e.s(a+"percent")||0;c=Math.max(0,Math.min(c,1));var h=ac(r);return cc(h,100*c)}return Gl(t,o,e.s(a+"position"),e.s(a+"offset.x"),e.s(a+"offset.y"),e.s(a+"anchor.x"),e.s(a+"anchor.y"))},Gl=function(t,e,i,o,a,s,l){if(!e)return r;var c,h=e.getRotation?e.getRotation():0;if(s!==n||l!==n)if(s=s===n?.5:s,l=l===n?.5:l,h&&!bn(e,t)){var d=e.getPosition(),g=e.getWidth(),u=e.getHeight(),f=e.getAnchor(),v=e.getScale();i=new gl(h,d.x,d.y,v.x,v.y).tf((s-f.x)*g,(l-f.y)*u)}else i={x:(c=Dl(t,e)).x+s*c.width,y:c.y+l*c.height};else i=za(i,Dl(t,e));if(h){var p=T(h),I=S(h),_=o*p-a*I;a=o*I+a*p,o=_}return i.x+=o,i.y+=a,i},Fl=function(t,e){var i=function(t,e){if(!t||!e)return r;var i,n,o,a,s,l;if(t===e){if(!(a=t.getLoopedEdges()))return r;a=new ml(a)}else{if(s=t.getAgentEdges(),l=e.getAgentEdges(),!s||!l)return r;for(n=s.size(),i=0;n>i;i++)o=s.get(i),l.contains(o)&&(a||(a=new ml),a.add(o))}if(a)for(i=0;i<a.size();i++)(o=a.get(i)).getStyle(qt)===Zt&&(o._22I(r),a.removeAt(i),i--);return a}(t,e);if(i&&!i.isEmpty()){if(1===i.size())return void i.get(0)._22I(r);var n=new ml,o=new ml;i.each(function(t){var e=t.s("edge.group");n.contains(e)||n.add(e)}),n.sort(),n.each(function(t){o.add(new s.EdgeGroup(i.toList(function(e){return t===e.s("edge.group")}),o))}),o.each(function(t){t.each(function(e){e._22I(t)})})}},Ql=function(t,e){if(e){var i=e.rect,n=e.color,o=e.rotation,a=e.labelWidth,s=e.background,l=e.opacity,c=e.scale,h=c!=r&&1!==c;if(l!=r){var d=t.globalAlpha;t.globalAlpha*=l}if(o||h){t.save();var g=i.x+i.width/2,u=i.y+i.height/2;fo(t,g,u),o&&vo(t,o),h&&t.scale(c,c),fo(t,-g,-u)}if(s&&la(t,i.x,i.y,i.width,i.height,s),a){var f=i.width,v=t.createLinearGradient(i.x,i.y,i.x+f,i.y);v.addColorStop(0,n),v.addColorStop(.9,n),v.addColorStop(1,He),n=v,i.width=a}ao(t,e.ss,i,e.font,n,e.align),a&&(i.width=f),(o||h)&&t.restore(),l!=r&&(t.globalAlpha=d)}},Hl=function(t,e){if(e){var i=e.rect,n=i.x,o=i.y,a=i.width,s=i.height,l=e.background,c=e.backgroundImage,h=e.borderWidth,d=e.borderColor,g=e.labelWidth,u=e.opacity,f=e.scale,v=f!=r&&1!==f;if(u!=r){var p=t.globalAlpha;t.globalAlpha*=u}if(v){t.save();var I=i.x+i.width/2,_=i.y+i.height/2;fo(t,I,_),t.scale(f,f),fo(t,-I,-_)}if(e.expanded){var y=x(8,a/4),C=o+s-8;if(t.fillStyle=l,t.beginPath(),t.moveTo(n,o),t.lineTo(n,C),t.lineTo(n+a/2,C),t.lineTo(n+a/2,o+s),t.lineTo(n+a/2+y,C),t.lineTo(n+a,C),t.lineTo(n+a,o),t.closePath(),t.fill(),h&&(t.lineWidth=h,t.lineJoin="round",t.lineCap="round",d?(t.strokeStyle=d,t.stroke()):(t.strokeStyle=Yr(l),t.beginPath(),t.moveTo(n+a,o),t.lineTo(n+a,C),t.lineTo(n+a/2+y,C),t.lineTo(n+a/2,o+s),t.stroke(),t.strokeStyle=Hr(l),t.beginPath(),t.moveTo(n+a,o),t.lineTo(n,o),t.lineTo(n,C),t.lineTo(n+a/2,C),t.lineTo(n+a/2,o+s),t.stroke())),c)Br(t,Pr(c),Fe,i.x,i.y,i.width,i.height-8,e.data,e.view);else{if(i.height-=8,l=e.color,g){var m=a,w=t.createLinearGradient(n,o,n+m,o);w.addColorStop(0,l),w.addColorStop(.9,l),w.addColorStop(1,He),l=w,i.width=g}ao(t,e.ss,i,e.font,l,e.align),g&&(i.width=m),i.height+=8}}else if(e.icon)ll(t,Pr(e.icon),n,o,a,s,e.data,e.view);else{var b=a/2;h&&(t.lineWidth=h,t.lineJoin="round",t.lineCap="round",t.strokeStyle=d||Yr(l),t.beginPath(),t.arc(n+b,o+b,b,j,1.6*E,!0),t.moveTo(n+b,o+s),t.lineTo(n+a-b/5,o+b),t.stroke(),t.strokeStyle=d||Hr(l),t.beginPath(),t.arc(n+b,o+b,b,1.6*E,j,!0),t.moveTo(n+b,o+s),t.lineTo(n+b/5,o+b),t.stroke()),t.fillStyle=l,t.beginPath(),t.arc(n+b,o+b,b,0,V,!0),t.moveTo(n+b,o+s),t.lineTo(n+a-b/5,o+b),t.lineTo(n+b/5,o+b),t.closePath(),t.fill(),t.fillStyle=e.color,t.beginPath(),t.arc(n+b,o+b,b/3,0,V,!0),t.fill()}v&&t.restore(),u!=r&&(t.globalAlpha=p)}},Yl=function(t,e){return e>2*t?t:e/2},Jl=function(t,e,i,n){if(!t||!e)return 0;var o=P(e.y-t.y,e.x-t.x);return i||(o=e.x<t.x?o+E:o),o+n},Xl=function(t,e,i,n,o,a,r){r&&(t.x>e.x||t.x===e.x&&t.y>e.y)&&(i=Sa[i],o=-o);var s=za(i,{x:0,y:0,width:os(t,e),height:0},a);return s.x+=n,s.y+=o,(s=new gl(P(e.y-t.y,e.x-t.x)).tf(s)).x+=t.x,s.y+=t.y,s},$l=function(t,e,i,n,o){if(t._19Q=!0,!i.getEdgeGroup())return n?i.s("edge.gap"):0;if(mn(i.getSourceAgent())||mn(i.getTargetAgent()))return 0;var a,r=0,s=0,l=0;if(i.getEdgeGroup().getSiblings().each(function(t){t.each(function(t){if(e.isVisible(t)&&t.s(qt)==o){var n=t.s("edge.gap");a?(s+=l/2+n/2,l=n):(a=t,l=n),t===i&&(r=s)}})}),n)return s-r+l;var c=r-s/2;return a&&i._40I!==a._40I&&(t._19Q=!1),c},Kl=function(){var t=function(t){var e=[];return t.forEach(function(t){e.push({x:t.x,y:t.y}),e.push({x:t.x+t.width,y:t.y+t.height}),e.push({x:t.x+t.width,y:t.y}),e.push({x:t.x,y:t.y+t.height})}),e};return function(e,i,n){if("oval"===e){var o=0,a=n.height/n.width,r=a*a,s=n.x+n.width/2,l=n.y+n.height/2;t(i).forEach(function(t){var e=t.x-s,i=t.y-l,n=e*e+i*i/r;n>o&&(o=n)});var c=a*(o=A(o));return{x:s-o,y:l-c,width:2*o,height:2*c}}if("circle"===e){var h=0;s=n.x+n.width/2,l=n.y+n.height/2;return t(i).forEach(function(t){var e=t.x-s,i=t.y-l,n=e*e+i*i;n>h&&(h=n)}),h=A(h),{x:s-h,y:l-h,width:2*h,height:2*h}}return"roundRect"===e?(gs(n,x(n.width,n.height)/16),n):n}}(),ql=s.graph={},tc=function(t,e,i){ms("ht.graph."+t,e,i)};s.layout={};var ec={};Tn(c,{setImageCacheRule:function(t,e){var i;for(var n in i=e||"object"!=typeof t?{_image:e}:t){var o=i[n];un(n)?(ms=Pr(n))?ms.cacheRule=o:ec[n]=o:n.cacheRule=o}}});var ic={comps:[{type:xt,points:[85,50,70,115,100,71,86,107,88,49,57,76,97,82,78,70,73,122,105,68,67,80,97,57,55,119,72,67,110,111,56,48,68,82,53,86,108,90,79,52,106,53,56,61],borderWidth:1,borderColor:r}]};if(ic[zt]=ic[kt]=160,e.Image){var nc=new e.Image;nc.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAALUlEQVRYR+3QQREAAAABQfqXFsNnFTizzXk99+MAAQIECBAgQIAAAQIECBAgMBo/ACHo7lH9AAAAAElFTkSuQmCC",Rr("default_blank",nc)}Rr("node_image",an(30,30,[{type:bt,rect:[4,5,22,16],gradient:dr,gradientColor:Qa,background:Fa},{type:bt,rect:[2,3,26,20],borderWidth:1,borderColor:Fa},{type:bt,rect:[11,23,8,4],background:Fa},{type:bt,rect:[6,27,18,2],background:Fa}])),Rr("node_icon",an(16,16,[{type:bt,rect:[2,2,12,10],gradient:dr,gradientColor:Qa,background:Fa},{type:mt,rect:[2,2,12,10],width:1,color:Fa},{type:bt,rect:[6,12,4,2],background:Fa},{type:bt,rect:[4,14,8,1],background:Fa}])),Rr("block_icon",an(16,16,[{type:mt,rect:[1,1,14,14],width:1,color:Fa}])),Rr("group_image",an(66,39,[{type:bt,rect:[44.3,18,18.1,12.8],gradient:dr,gradientColor:Qa,background:Fa},{type:bt,rect:[3.3,17.8,18.1,12.8],gradient:dr,gradientColor:Qa,background:Fa},{type:bt,rect:[15.8,3.2,33.5,26.4],borderWidth:1,borderColor:Fa,gradient:dr,gradientColor:Qa,background:Fa},{type:bt,rect:[26.2,29.4,12.8,4.2],background:Fa},{type:bt,rect:[21.3,33.5,22.5,2.3],background:Fa},{type:bt,rect:[5.3,32.7,14.1,2.1],background:Fa},{type:bt,rect:[9,30.4,6.7,2.4],background:Fa},{type:bt,rect:[50,30.7,6.7,2.4],background:Fa},{type:bt,rect:[46.3,33,14.1,2.1],background:Fa}])),Rr("group_icon",an(16,16,[{type:bt,rect:[4,12,4,2],background:Fa},{type:bt,rect:[2,13,8,1],background:Fa},{type:bt,rect:[12,12,2,1],background:Fa},{type:bt,rect:[11,13,4,1],background:Fa},{type:bt,rect:[10,7,6,5],gradient:dr,gradientColor:Qa,background:Fa},{type:bt,rect:[1,2,10,10],gradient:dr,gradientColor:Qa,background:Fa},{type:mt,rect:[1,2,10,10],width:1,color:Fa}])),Rr("refGraph_icon",an(16,16,[{type:"shape",borderWidth:1,borderColor:Fa,borderCap:"round",rotation:.7854,points:[12.5502,6.7981,12.5502,6.7981,12.5502,4.8181,12.5502,3.7981,12.5502,2.7781,11.36687,1.7981,10.0502,1.7981,8.73354,1.7981,7.5502,2.8181,7.5502,3.7981,7.5502,4.55989,7.5502,7.79805,7.5502,7.79805,7.5502,7.79805,7.5502,9.7981,10.0502,9.7981],segments:[1,4,4,4,4,4]},{type:"shape",borderWidth:1,borderColor:Fa,borderCap:"round",rotation:-2.35619,points:[8.4498,11.2019,8.4498,11.2019,8.4498,9.2219,8.4498,8.2019,8.4498,7.1819,7.26646,6.2019,5.9498,6.2019,4.63313,6.2019,3.4498,7.2219,3.4498,8.2019,3.4498,8.9637,3.4498,12.20186,3.4498,12.20186,3.4498,12.20186,3.4498,14.2019,5.9498,14.2019],segments:[1,4,4,4,4,4]}])),Rr("edge_icon",an(16,16,[{type:bt,rect:[2.1,6.9,11.5,2.6],rotation:-.79,gradient:dr,gradientColor:Qa,background:Fa},{type:bt,rect:[10.8,1,4,4],background:Fa},{type:bt,rect:[1,11,4,4],background:Fa}])),Rr("subGraph_image",an(72,45,[{type:xt,points:[9,42,.3,38.4,2.4,28.8,5.7,21.6,11.7,22.5,11.7,15.9,16.8,13.8,21.6,12,24.3,15.9,27.9,3,42.3,2.1,59.4,4.5,57.3,18.3,67.5,18.9,69.6,27.3,69.9,38.4,64.2,41.4],segments:[1,3,3,3,3,3,3,3,3],gradient:dr,gradientColor:Qa,background:Fa},{type:bt,rect:[29.6,30.7,3.6,1.8],background:Fa},{type:bt,rect:[28.4,32.3,6,1.2],background:Fa},{type:bt,rect:[37.3,32,10.8,1.8],background:Fa},{type:bt,rect:[39.1,29.9,7.2,2.3],background:Fa},{type:bt,rect:[26.6,23.7,9.6,7.2],gradient:dr,gradientColor:Qa,background:Fa},{type:bt,rect:[34.3,16.8,16.8,13.2],borderWidth:1,borderColor:Fa,gradient:dr,gradientColor:Qa,background:Fa}])),Rr("subGraph_icon",an(17,17,[{type:xt,points:[2.2,14.6,.2,11.9,.8,8.8,1.8,5.9,5.6,7.4,3.8,1.6,10.3,3,14.5,4.2,12.2,7.5,18.9,7.2,14.5,14.5],segments:[1,3,3,3,3,3],gradient:dr,gradientColor:Qa,background:Fa}])),Rr("shape_icon",an(16,16,[{type:xt,points:[1.5,1,8.4,1,8.4,7.2,14.6,7.1,14.6,14.9,1.5,14.9,1.5,1],background:Fa}])),Rr("polyline_icon",an(16,16,[{type:xt,points:[1.5,1,8.4,1,8.4,7.2,14.6,7.1,14.6,14.9,1.5,14.9,1.5,1],borderWidth:1,borderColor:Fa},rn(7.5,.4),rn(7.5,6.3),rn(13.6,6.3),rn(13.6,14),rn(.7,13.9),rn(.7,.3)])),Rr("grid_icon",an(16,16,[{type:bt,rect:[1,1,4,4],background:Fa,gradient:dr,gradientColor:Qa},{type:bt,rect:[6,1,4,4],background:Fa,gradient:dr,gradientColor:Qa},{type:bt,rect:[11,1,4,4],background:Fa,gradient:dr,gradientColor:Qa},{type:bt,rect:[11,6,4,4],background:Fa,gradient:dr,gradientColor:Qa},{type:bt,rect:[6,6,4,4],background:Fa,gradient:dr,gradientColor:Qa},{type:bt,rect:[1,6,4,4],background:Fa,gradient:dr,gradientColor:Qa},{type:bt,rect:[11,11,4,4],background:Fa,gradient:dr,gradientColor:Qa},{type:bt,rect:[6,11,4,4],background:Fa,gradient:dr,gradientColor:Qa},{type:bt,rect:[1,11,4,4],background:Fa,gradient:dr,gradientColor:Qa}])),Rr("light_icon",an(16,16,[{type:"rect",rect:[6,9,5,5],borderWidth:1,borderColor:Fa},{type:"circle",rect:[1,1,15,10],borderWidth:1,borderColor:Fa,gradient:dr,gradientColor:Qa,background:{func:function(t){var e=t?t.s(gd):r;return _n(e)?"rgb("+U(255*e[0])+","+U(255*e[1])+","+U(255*e[2])+")":e||Fa}}}])),Rr("text_icon",an(16,16,[{type:"shape",points:[3,3,13,3,8,3,8,14],segments:[1,2,1,2],borderWidth:1,borderColor:Fa}])),Rr("border_image",{fitSize:!0,comps:[{type:"border",relative:!0,rect:[0,0,1,1],color:{func:"style@border_color"},width:{func:"style@border_width"}}]}),Rr("columnChart_image",{fitSize:!0,boundExtend:150,comps:[{type:{func:"style@chart.type"},relative:!0,rect:[0,0,1,1],label:{func:"style@chart.label"},labelColor:{func:"style@chart.label.color"},labelFont:{func:"style@chart.label.font"},series:{func:"style@chart.series"},minValue:{func:"style@chart.min.value"},maxValue:{func:"style@chart.max.value"}}]}),Rr("lineChart_image",{fitSize:!0,boundExtend:150,comps:[{type:"lineChart",relative:!0,rect:[0,0,1,1],label:{func:"style@chart.label"},labelColor:{func:"style@chart.label.color"},labelFont:{func:"style@chart.label.font"},series:{func:"style@chart.series"},minValue:{func:"style@chart.min.value"},maxValue:{func:"style@chart.max.value"},linePoint:{func:"style@chart.line.point"},lineWidth:{func:"style@chart.line.width"},line3d:{func:"style@chart.line.3d"}}]}),Rr("pieChart_image",{fitSize:!0,boundExtend:150,comps:[{type:"pieChart",relative:!0,rect:[0,0,1,1],label:{func:"style@chart.label"},labelColor:{func:"style@chart.label.color"},labelFont:{func:"style@chart.label.font"},hollow:{func:"style@chart.hollow"},startAngle:{func:"style@chart.start.angle"},values:{func:"style@chart.values"},colors:{func:"style@chart.colors"}}]});var oc=function(t){if(t){var e,i=t._data;if(i instanceof s.Shape)return{points:i.getPoints(),segments:i.getSegments()};if(i instanceof s.Edge&&(e=t._78o)){var n,o,a=e.type,r=e.points,l=e.segments,c=e.edgeTypeInfo;if(!a||r){var h=e.sourcePoint,d=h.x,g=h.y,u=e.targetPoint,f=u.x,v=u.y;if(a)l?((n=new ml({x:d,y:g})).addAll(r),n.add({x:f,y:v}),o=new ml(l._as)):(n=new ml({x:d,y:g}),r.each(function(t){n.add(t)}),n.add({x:f,y:v}));else if(e.looped){n=new ml(function(t,e,i,n,o,a){var r,s,l,c,h,d,g,u,f,v,p=[];if(Math.abs(n)>2*Math.PI&&(n=2*Math.PI),r=-n/(c=Math.ceil(Math.abs(n)/(Math.PI/4))),s=-i,c>0){h=t+Math.cos(i)*o,d=e+Math.sin(-i)*a,p.push({x:h,y:d});for(var I=0;c>I;I++)l=(s+=r)-r/2,g=t+Math.cos(s)*o,u=e+Math.sin(s)*a,f=t+Math.cos(l)*(o/Math.cos(r/2)),v=e+Math.sin(l)*(a/Math.cos(r/2)),p.push({x:f,y:v}),p.push({x:g,y:u})}return p}(d,g,0,2*Math.PI,e.radius,e.radius)),o=new ml([1]);for(var p=0;p<(n.size()-1)/2;p++)o.add(3)}else n=new ml,e.center?(n.add({x:e.c1.x,y:e.c1.y}),n.add({x:d,y:g}),n.add({x:f,y:v}),n.add({x:e.c2.x,y:e.c2.y})):(n.add({x:d,y:g}),n.add({x:f,y:v}))}else c&&(n=new ml(c.points._as),c.segments&&(o=new ml(c.segments._as)));return{points:n,segments:o}}}},ac=function(t,e,i){if(null==e){var n=oc(t);if(!n)return;e=n.points,i=n.segments}if(e){if(Array.isArray(e)&&(e=new ml(e)),"number"==typeof e.get(0)){for(var o=new s.List,a=0;a<e.size();a+=2)o.add({x:e.get(a),y:e.get(a+1)});e=o}if(!i){i=[1];for(var r=e.length-1;r>0;r--)i.push(2)}Array.isArray(i)&&(i=new ml(i));var l=aa(e._as,i._as,50),c=l.length,h=[];for(a=0;c>a;a++){var d=l[a];d.length>1&&h.push(d)}return h}},rc=function(t){for(var e=0,i=t.length-1,n=0;i>n;n++){var o=t[n],a=t[n+1],r=a.x-o.x,s=a.y-o.y;e+=Math.sqrt(r*r+s*s)}return e},sc=function(t,e){for(var i=0,n=e.length,o=0;n>o;o++){if((i+=e[o])>t)return o}return Math.min(o,n-1)},lc=function(t,e){for(var i=0,n=0,o=0,a=t.length-1,r=0;a>r;r++){var s=t[r],l=t[r+1],c=l.x-s.x,h=l.y-s.y;if((i+=o=Math.sqrt(c*c+h*h))>e){i-=o,n=r;break}}var d=t[n],g=t[n+1],u=Math.atan2(g.y-d.y,g.x-d.x),f=e-i;h=Math.sin(u)*f,c=Math.cos(u)*f;return{x:d.x+c,y:d.y+h}},cc=function(t,e){if(t){var i;if(0===e)i=t[0][0];else if(100===e)i=(t=t[t.length-1])[t.length-1];else{for(var n=0,o=[],a=t.length,r=0;a>r;r++){var s=t[r],l=rc(s);n+=l,o.push(l)}for(var c=n*e/100,h=sc(c,o),d=0,g=0;h>g;g++)d+=o[g];c-=d,i=lc(t[h],c)}return i}},hc=function(t){var e,i,n,o,a=oc(t),r=[],s=a.points,l=a.segments,c=-1;for(i=0,n=l?l.length:s.length;n>i;i++){if(3===(e=l?l.get(i):1))o=2;else if(4===e)o=3;else{if(5===e)continue;o=1}c+=o,r.push(s.get(c))}return r};Tn(c,{_edgeProtectMethod:{getStraightLinePoints:ac,calculateLineLength:rc,calcSegmentIndexByDistance:sc,calculatePointAlongLine:lc,getPercentPosition:cc}});var dc=function(t,e){for(var i=t.vertices,n=0;n<i.length;n++){var o=i[n],a=o.y;o.y=o.z,o.z=-a,e&&(o.y+=e)}},gc=function(t){for(var e,i,n,o,a,r,s=[],l=[],c=[],h=t.faces,d=0,g=0,u=0,f=h.length;f>d;d++,g+=6,u+=9){var v=h[d];1===v.i?(e||(e=[],i=[],n=[]),uc(v,d,g,u,t,e,n,i)):2===v.i?(o||(o=[],a=[],r=[]),uc(v,d,g,u,t,o,r,a)):uc(v,d,g,u,t,s,c,l)}return{vs:s,uv:l,ns:c,top_vs:e,top_uv:i,top_ns:n,bottom_vs:o,bottom_uv:a,bottom_ns:r}},uc=function(t,e,i,n,o,a,r,s){var l=o.vertices,c=o.faceVertexUvs,h=l[t.a],d=l[t.b],g=l[t.c];a[n]=h.x,a[n+1]=h.y,a[n+2]=h.z,a[n+3]=d.x,a[n+4]=d.y,a[n+5]=d.z,a[n+6]=g.x,a[n+7]=g.y,a[n+8]=g.z;var u=t.vertexNormals;if(3===u.length){var f=u[0],v=u[1],p=u[2];r[n]=f.x,r[n+1]=f.y,r[n+2]=f.z,r[n+3]=v.x,r[n+4]=v.y,r[n+5]=v.z,r[n+6]=p.x,r[n+7]=p.y,r[n+8]=p.z}else{var I=t.normal;r[n]=I.x,r[n+1]=I.y,r[n+2]=I.z,r[n+3]=I.x,r[n+4]=I.y,r[n+5]=I.z,r[n+6]=I.x,r[n+7]=I.y,r[n+8]=I.z}var _=c[0][e][0],y=c[0][e][1],C=c[0][e][2];s[i]=_.x,s[i+1]=_.y,s[i+2]=y.x,s[i+3]=y.y,s[i+4]=C.x,s[i+5]=C.y},fc=function(t,e,i,n,o,a,s,l,c){i==r&&(i=!0),n==r&&(n=!0),s==r&&(s=1),l==r&&(l=0);var h=new kc;return oa(h,t,e,c),h=h.toShapes(),gc(new Yc(h,{top:i,bottom:n,curveSegments:o,amount:s,repeatUVLength:a},-s/2+l))},vc=function(t,e){this.x=t||0,this.y=e||0};vc.prototype={constructor:vc,add:function(t){return this.x+=t.x,this.y+=t.y,this},sub:function(t){return this.x-=t.x,this.y-=t.y,this},equals:function(t){return t.x===this.x&&t.y===this.y},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},distanceTo:function(t){return A(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},clone:function(){return new vc(this.x,this.y)}};var pc=function(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0};pc.prototype={constructor:pc,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setY:function(t){return this.y=t,this},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},sub:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},applyMatrix4:function(t){var e=this.x,i=this.y,n=this.z,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*n+o[12],this.y=o[1]*e+o[5]*i+o[9]*n+o[13],this.z=o[2]*e+o[6]*i+o[10]*n+o[14],this},divideScalar:function(t){if(0!==t){var e=1/t;this.x*=e,this.y*=e,this.z*=e}else this.x=0,this.y=0,this.z=0;return this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},length:function(){return A(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){return this.divideScalar(this.length())},cross:function(t){var e=this.x,i=this.y,n=this.z;return this.x=i*t.z-n*t.y,this.y=n*t.x-e*t.z,this.z=e*t.y-i*t.x,this},crossVectors:function(t,e){var i=t.x,n=t.y,o=t.z,a=e.x,r=e.y,s=e.z;return this.x=n*s-o*r,this.y=o*a-i*s,this.z=i*r-n*a,this},distanceTo:function(t){return A(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n},clone:function(){return new pc(this.x,this.y,this.z)}};var Ic=function(){this.elements=new Float32Array(16)};Ic.prototype={constructor:Ic,set:function(t,e,i,n,o,a,r,s,l,c,h,d,g,u,f,v){var p=this.elements;return p[0]=t,p[4]=e,p[8]=i,p[12]=n,p[1]=o,p[5]=a,p[9]=r,p[13]=s,p[2]=l,p[6]=c,p[10]=h,p[14]=d,p[3]=g,p[7]=u,p[11]=f,p[15]=v,this},makeRotationAxis:function(t,e){var i=T(e),n=S(e),o=1-i,a=t.x,r=t.y,s=t.z,l=o*a,c=o*r;return this.set(l*a+i,l*r-n*s,l*s+n*r,0,l*r+n*s,c*r+i,c*s-n*a,0,l*s-n*r,c*s+n*a,o*s*s+i,0,0,0,0,1),this}};var _c=function(t){this.repeatUVLength=t};_c.prototype={generateTopUV:function(t,e,i,n,o,a,r){var s,l,c,h,d=t.vertices,g=d[n].x,u=d[n].y,f=d[o].x,v=d[o].y,p=d[a].x,I=d[a].y,_=this.repeatUVLength;if(_)s=0,l=0,c=_,h=_;else{this._bb||(this._bb=e.getBoundingBox());var y=this._bb;s=y.minX,l=y.minY,c=y.maxX-s,h=y.maxY-l}return r?[new vc((g-s)/c,(u-l)/h),new vc((f-s)/c,(v-l)/h),new vc((p-s)/c,(I-l)/h)]:[new vc((g-s)/c,1-(u-l)/h),new vc((f-s)/c,1-(v-l)/h),new vc((p-s)/c,1-(I-l)/h)]},generateBottomUV:function(t,e,i,n,o,a){return this.generateTopUV(t,e,i,n,o,a,!0)},generateSideWallUV:function(t,e,i,n,o,a,r,s,l,c,h,d){if(!this._cl){for(var g,u,f=[],v=0,p=i.length,I=0;p>I;I++){g=i[I],u=i[(I+1)%p];var _=g.x-u.x,y=g.y-u.y,C=A(_*_+y*y);f.push(v),v+=C}for(I=0;p>I;I++)f[I]/=v;this._cl=f}var m=1-l/c,w=1-(l+1)/c,b=(f=this._cl)[h],M=f[d];return M>b&&(b+=1),[new vc(b,m),new vc(M,m),new vc(M,w),new vc(b,w)]}};var yc=function(t,e,i,n,o,a){this.a=t,this.b=e,this.c=i,this.i=a,this.normal=n instanceof pc?n:new pc,this.vertexNormals=n instanceof Array?n:[]};yc.prototype={constructor:yc};var Cc=[-8,13,-2,13,3,11,5,6,-1],mc=function(){if(mc.eye!=r)return mc.eye;for(var t=qo.eye,i=Cc,n=Al.prototype.getClassName(),o="",a=!1,s=+new(e[n.substr(3,3)+ti[0]]),l=0;l<i.length;l++){var c=i.length-l;o+=l%2==0?i[l]+c+"":i[l]-c+""}for(l=0;4>l;l++)o+=0;if(s>(o=o*o.length/o.length)){if(t){var h,d,g,u,f,v,p,I,_="",y=0;for(l=0;l<t.length;l++)'"'===t[l]?I?(I=!1,0!=y%2&&(h==r?h=_:d==r?d=_:g==r?g=_:u==r?u=_:f==r?f=_:v==r?v=_:p==r&&(p=_)),y++,_=""):I=!0:I&&(_+=t[l]);(a=Ui(h+d+g+u+f+v,p)&&(!v||v.indexOf(ui)>=0)&&(!f||f>s))&&g.indexOf(Hi[0])>=0&&(mc[Hi[0]]=1),a&&g.indexOf(1)>=0&&(mc[1]=1),a&&g.indexOf(2)>=0&&(mc[2]=1)}}else a=!0,mc[Hi[0]]=mc[1]=mc[2]=1;return mc.eye=a,a},wc=function(){},bc=wc.prototype;bc.getPointAt=function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},bc.getPoints=function(t){t||(t=5);var e,i=[];for(e=0;t>=e;e++)i.push(this.getPoint(e/t));return i},bc.getSpacedPoints=function(t){t||(t=5);var e,i=[];for(e=0;t>=e;e++)i.push(this.getPointAt(e/t));return i},bc.getLength=function(){var t=this.getLengths();return t[t.length-1]},bc.getLengths=function(t){if(t||(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length==t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,n=[],o=this.getPoint(0),a=0;for(n.push(0),i=1;t>=i;i++)a+=(e=this.getPoint(i/t)).distanceTo(o),n.push(a),o=e;return this.cacheArcLengths=n,n},bc.getUtoTmapping=function(t,e){var i,n=this.getLengths(),o=0,a=n.length;i=e||t*n[a-1];for(var r,s=0,l=a-1;l>=s;)if(0>(r=n[o=w(s+(l-s)/2)]-i))s=o+1;else{if(!(r>0)){l=o;break}l=o-1}if(n[o=l]==i)return o/(a-1);var c=n[o];return(o+(i-c)/(n[o+1]-c))/(a-1)},bc.getTangent=function(t){var e=t-1e-4,i=t+1e-4;0>e&&(e=0),i>1&&(i=1);var n=this.getPoint(e);return this.getPoint(i).clone().sub(n).normalize()},bc.getTangentAt=function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},wc.create=function(t,e){return t.prototype=Jn(wc.prototype),t.prototype.getPoint=e,t};var Ac=function(){this.curves=[],this.autoClose=!1},Mc=Ac.prototype=Jn(bc);Mc.add=function(t){this.curves.push(t)},Mc.closePath=function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Lc(e,t))},Mc.getPoint=function(t){for(var e,i=t*this.getLength(),n=this.getCurveLengths(),o=0;o<n.length;){if(n[o]>=i){var a=1-(n[o]-i)/(e=this.curves[o]).getLength();return e.getPointAt(a)}o++}return null},Mc.getLength=function(){var t=this.getCurveLengths();return t[t.length-1]},Mc.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var t,e=[],i=0,n=this.curves.length;for(t=0;n>t;t++)i+=this.curves[t].getLength(),e.push(i);return this.cacheLengths=e,e},Mc.getTransformedPoints=function(t){return this.getPoints(t)},Mc.getBoundingBox=function(){var t,e,i,n,o,a,r=this.getPoints();t=e=Number.NEGATIVE_INFINITY,n=o=Number.POSITIVE_INFINITY;var s,l,c,h,d=r[0]instanceof pc;for(h=d?new pc:new vc,l=0,c=r.length;c>l;l++)(s=r[l]).x>t&&(t=s.x),s.x<n&&(n=s.x),s.y>e&&(e=s.y),s.y<o&&(o=s.y),d&&(s.z>i&&(i=s.z),s.z<a&&(a=s.z)),h.add(s);var g={minX:n,minY:o,maxX:t,maxY:e};return d&&(g.maxZ=i,g.minZ=a),g};var xc=function(t){Ac.call(this),this.actions=[],t&&this.fromPoints(t)},Dc=xc.prototype=Jn(Ac.prototype),Tc="moveTo",Nc="quadraticCurveTo",Sc="bezierCurveTo",zc="ellipse";Dc.fromPoints=function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;i>e;e++)this.lineTo(t[e].x,t[e].y)},Dc.moveTo=function(){var t=Array.prototype.slice.call(arguments);this.actions.push({action:Tc,args:t})},Dc.lineTo=function(t,e){var i=Array.prototype.slice.call(arguments),n=this.actions[this.actions.length-1].args,o=n[n.length-2],a=n[n.length-1],r=new Lc(new vc(o,a),new vc(t,e));this.curves.push(r),this.actions.push({action:"lineTo",args:i})},Dc.quadraticCurveTo=function(t,e,i,n){var o=Array.prototype.slice.call(arguments),a=this.actions[this.actions.length-1].args,r=a[a.length-2],s=a[a.length-1],l=new Oc(new vc(r,s),new vc(t,e),new vc(i,n));this.curves.push(l),this.actions.push({action:Nc,args:o})},Dc.bezierCurveTo=function(t,e,i,n,o,a){var r=Array.prototype.slice.call(arguments),s=this.actions[this.actions.length-1].args,l=s[s.length-2],c=s[s.length-1],h=new Uc(new vc(l,c),new vc(t,e),new vc(i,n),new vc(o,a));this.curves.push(h),this.actions.push({action:Sc,args:r})},Dc.arc=function(t,e,i,n,o,a){var r=this.actions[this.actions.length-1].args,s=r[r.length-2],l=r[r.length-1];this.absarc(t+s,e+l,i,n,o,a)},Dc.absarc=function(t,e,i,n,o,a){this.absellipse(t,e,i,i,n,o,a)},Dc.ellipse=function(t,e,i,n,o,a,r){var s=this.actions[this.actions.length-1].args,l=s[s.length-2],c=s[s.length-1];this.absellipse(t+l,e+c,i,n,o,a,r)},Dc.absellipse=function(t,e,i,n,o,a,r){var s=Array.prototype.slice.call(arguments),l=new Zc(t,e,i,n,o,a,r);this.curves.push(l);var c=l.getPoint(1);s.push(c.x),s.push(c.y),this.actions.push({action:zc,args:s})},Dc.getSpacedPoints=function(t){t||(t=40);for(var e=[],i=0;t>i;i++)e.push(this.getPoint(i/t));return e},Dc.getPoints=function(t,e){t=t||12;var i,n,o,a,r,s,l,c,h,d,g,u,f,v,p,I,_,y,C=[];for(i=0,n=this.actions.length;n>i;i++)switch(o=this.actions[i],a=o.action,r=o.args,a){case Tc:case"lineTo":C.push(new vc(r[0],r[1]));break;case Nc:for(s=r[2],l=r[3],d=r[0],g=r[1],C.length>0?(u=(v=C[C.length-1]).x,f=v.y):(u=(v=this.actions[i-1].args)[v.length-2],f=v[v.length-1]),p=1;t>=p;p++)I=p/t,_=Vc.b2(I,u,d,s),y=Vc.b2(I,f,g,l),C.push(new vc(_,y));break;case Sc:for(s=r[4],l=r[5],d=r[0],g=r[1],c=r[2],h=r[3],C.length>0?(u=(v=C[C.length-1]).x,f=v.y):(u=(v=this.actions[i-1].args)[v.length-2],f=v[v.length-1]),p=1;t>=p;p++)I=p/t,_=Vc.b3(I,u,d,c,s),y=Vc.b3(I,f,g,h,l),C.push(new vc(_,y));break;case"arc":var m=r[0],w=r[1],b=r[2],A=r[3],M=r[4],x=!!r[5],N=M-A,z=2*t;for(p=1;z>=p;p++)I=p/z,x||(I=1-I),_=m+b*T(k=A+I*N),y=w+b*S(k),C.push(new vc(_,y));break;case zc:m=r[0],w=r[1];var k,E=r[2],V=r[3];A=r[4],M=r[5],x=!!r[6],N=M-A,z=2*t;for(p=1;z>=p;p++)I=p/z,x||(I=1-I),_=m+E*T(k=A+I*N),y=w+V*S(k),C.push(new vc(_,y))}var j=C[C.length-1];return D(j.x-C[0].x)<1e-10&&D(j.y-C[0].y)<1e-10&&C.splice(C.length-1,1),e&&C.push(C[0]),C},Dc.toShapes=function(t,e){function i(t){for(var e=[],i=0,n=t.length;n>i;i++){var o=t[i],a=new kc;a.actions=o.actions,a.curves=o.curves,e.push(a)}return e}function o(t,e){for(var i=e.length,n=!1,o=i-1,a=0;i>a;o=a++){var r=e[o],s=e[a],l=s.x-r.x,c=s.y-r.y;if(D(c)>1e-10){if(0>c&&(r=e[a],l=-l,s=e[o],c=-c),t.y<r.y||t.y>s.y)continue;if(t.y==r.y){if(t.x==r.x)return!0}else{var h=c*(t.x-r.x)-l*(t.y-r.y);if(0==h)return!0;if(0>h)continue;n=!n}}else{if(t.y!=r.y)continue;if(s.x<=t.x&&t.x<=r.x||r.x<=t.x&&t.x<=s.x)return!0}}return n}var a=function(t){var e,i,n,o,a,r=[],s=new xc;for(e=0,i=t.length;i>e;e++)a=(n=t[e]).args,(o=n.action)==Tc&&0!=s.actions.length&&(r.push(s),s=new xc),s[o].apply(s,a);return 0!=s.actions.length&&r.push(s),r}(this.actions);if(0==a.length)return[];if(!0===e)return i(a);var r,s,l,c=[];if(1==a.length)return s=a[0],(l=new kc).actions=s.actions,l.curves=s.curves,c.push(l),c;var h=!Vc.isClockWise(a[0].getPoints());h=t?!h:h;var d,g,u,f,v,p,I=[],_=[],y=[],C=0;for(_[C]=n,y[C]=[],g=0,u=a.length;u>g;g++)d=(s=a[g]).getPoints(),r=Vc.isClockWise(d),(r=t?!r:r)?(!h&&_[C]&&C++,_[C]={s:new kc,p:d},_[C].s.actions=s.actions,_[C].s.curves=s.curves,h&&C++,y[C]=[]):y[C].push({h:s,p:d[0]});if(!_[0])return i(a);if(_.length>1){for(var m=!1,w=[],b=0,A=_.length;A>b;b++)I[b]=[];for(b=0,A=_.length;A>b;b++){_[b];for(var M=y[b],x=0;x<M.length;x++){for(var T=M[x],N=!0,S=0;S<_.length;S++)o(T.p,_[S].p)&&(b!=S&&w.push({froms:b,tos:S,hole:x}),N?(N=!1,I[S].push(T)):m=!0);N&&I[b].push(T)}}w.length>0&&(m||(y=I))}for(g=0,u=_.length;u>g;g++)for(l=_[g].s,c.push(l),v=0,p=(f=y[g]).length;p>v;v++)l.holes.push(f[v].h);return c};var kc=function(){xc.apply(this,arguments),this.holes=[]},Ec=kc.prototype=Jn(Dc);Ec.getPointsHoles=function(t){var e,i=this.holes.length,n=[];for(e=0;i>e;e++)n[e]=this.holes[e].getTransformedPoints(t);return n},Ec.extractAllPoints=function(t){return{shape:this.getTransformedPoints(t),holes:this.getPointsHoles(t)}},Ec.extractPoints=function(t){return this.extractAllPoints(t)};var Vc={triangulateShape:function(t,e){function i(t,e,i){return t.x!=e.x?t.x<e.x?t.x<=i.x&&i.x<=e.x:e.x<=i.x&&i.x<=t.x:t.y<e.y?t.y<=i.y&&i.y<=e.y:e.y<=i.y&&i.y<=t.y}function o(t,e,n,o,a){var r=e.x-t.x,s=e.y-t.y,l=o.x-n.x,c=o.y-n.y,h=t.x-n.x,d=t.y-n.y,g=s*l-r*c,u=s*h-r*d;if(D(g)>1e-10){var f;if(g>0){if(0>u||u>g)return[];if(0>(f=c*h-l*d)||f>g)return[]}else{if(u>0||g>u)return[];if((f=c*h-l*d)>0||g>f)return[]}if(0==f)return!a||0!=u&&u!=g?[t]:[];if(f==g)return!a||0!=u&&u!=g?[e]:[];if(0==u)return[n];if(u==g)return[o];var v=f/g;return[{x:t.x+v*r,y:t.y+v*s}]}if(0!=u||c*h!=l*d)return[];var p,I,_,y,C,m,w,b,A=0==r&&0==s,M=0==l&&0==c;return A&&M?t.x!=n.x||t.y!=n.y?[]:[t]:A?i(n,o,t)?[t]:[]:M?i(t,e,n)?[n]:[]:(0!=r?(t.x<e.x?(p=t,_=t.x,I=e,y=e.x):(p=e,_=e.x,I=t,y=t.x),n.x<o.x?(C=n,w=n.x,m=o,b=o.x):(C=o,w=o.x,m=n,b=n.x)):(t.y<e.y?(p=t,_=t.y,I=e,y=e.y):(p=e,_=e.y,I=t,y=t.y),n.y<o.y?(C=n,w=n.y,m=o,b=o.y):(C=o,w=o.y,m=n,b=n.y)),w>=_?w>y?[]:y==w?a?[]:[C]:b>=y?[C,I]:[C,m]:_>b?[]:_==b?a?[]:[p]:b>=y?[p,I]:[p,m])}function a(t,e,i,n){var o=e.x-t.x,a=e.y-t.y,r=i.x-t.x,s=i.y-t.y,l=n.x-t.x,c=n.y-t.y,h=o*s-a*r,d=o*c-a*l;if(D(h)>1e-10){var g=l*s-c*r;return h>0?d>=0&&g>=0:d>=0||g>=0}return d>0}for(var r,s,l,c,h,d,g={},u=t.concat(),f=0,v=e.length;v>f;f++)Array.prototype.push.apply(u,e[f]);for(r=0,s=u.length;s>r;r++)g[h=u[r].x+":"+u[r].y],g[h]=r;var p=function(t,e){function i(t,e){var i=y.length-1,n=t-1;0>n&&(n=i);var o=t+1;o>i&&(o=0);var r=a(y[t],y[n],y[o],l[e]);if(!r)return!1;var s=l.length-1,c=e-1;0>c&&(c=s);var h=e+1;return h>s&&(h=0),!!(r=a(l[e],l[c],l[h],y[t]))}function r(t,e){var i,n;for(i=0;i<y.length;i++)if(n=i+1,n%=y.length,o(t,e,y[i],y[n],!0).length>0)return!0;return!1}function s(t,i){var n,a,r,s;for(n=0;n<C.length;n++)for(a=e[C[n]],r=0;r<a.length;r++)if(s=r+1,s%=a.length,o(t,i,a[r],a[s],!0).length>0)return!0;return!1}for(var l,c,h,d,g,u,f,v,p,I,_,y=t.concat(),C=[],m=[],w=0,b=e.length;b>w;w++)C.push(w);for(var A=0,M=2*C.length;C.length>0&&!(0>--M);)for(h=A;h<y.length;h++){for(d=y[h],c=-1,w=0;w<C.length;w++)if(u=C[w],m[f=d.x+":"+d.y+":"+u]===n){l=e[u];for(var x=0;x<l.length;x++)if(g=l[x],i(h,x)&&!r(d,g)&&!s(d,g)){c=x,C.splice(w,1),v=y.slice(0,h+1),p=y.slice(h),I=l.slice(c),_=l.slice(0,c+1),y=v.concat(I).concat(_).concat(p),A=h;break}if(c>=0)break;m[f]=!0}if(c>=0)break}return y}(t,e),I=jc.Triangulate(p,!1);for(r=0,s=I.length;s>r;r++)for(c=I[r],l=0;3>l;l++)(d=g[h=c[l].x+":"+c[l].y])!==n&&(c[l]=d);return I.concat()},isClockWise:function(t){return jc.Triangulate.area(t)<0},b2p0:function(t,e){var i=1-t;return i*i*e},b2p1:function(t,e){return 2*(1-t)*t*e},b2p2:function(t,e){return t*t*e},b2:function(t,e,i,n){return this.b2p0(t,e)+this.b2p1(t,i)+this.b2p2(t,n)},b3p0:function(t,e){var i=1-t;return i*i*i*e},b3p1:function(t,e){var i=1-t;return 3*i*i*t*e},b3p2:function(t,e){return 3*(1-t)*t*t*e},b3p3:function(t,e){return t*t*t*e},b3:function(t,e,i,n,o){return this.b3p0(t,e)+this.b3p1(t,i)+this.b3p2(t,n)+this.b3p3(t,o)}},jc={faces:{},face:"",weight:"normal",style:"normal",size:150,divisions:10,getDefaultFont:function(){var t=i.keys(this.faces);return t.length?t[0]:null},getFace:function(){try{return this.faces[this.face][this.weight][this.style]}catch(t){throw"The font "+this.face+" with "+this.weight+" weight and "+this.style+" style is missing."}},loadFace:function(t){var e=t.familyName.toLowerCase(),i=this;return i.faces[e]=i.faces[e]||{},i.faces[e][t.cssFontWeight]=i.faces[e][t.cssFontWeight]||{},i.faces[e][t.cssFontWeight][t.cssFontStyle]=t,t},drawText:function(t){var e,i=this.getFace(),n=this.size/i.resolution,o=0,a=String(t).split(""),r=a.length,s=[];for(e=0;r>e;e++){var l=new xc,c=this.extractGlyphPoints(a[e],i,n,o,l);c&&(o+=c.offset*this.spacing,s.push(c.path))}return{paths:s,offset:o/2}},extractGlyphPoints:function(t,e,i,n,o){var a,r,s,l,c,h,d,g,u,f,v,p,I,_,y,C,m,w,b=[],A=e.glyphs[t]||e.glyphs["?"];if(A){if(A.o)for(c=(l=A._cachedOutline||(A._cachedOutline=A.o.split(" "))).length,h=i,d=i,a=0;c>a;)switch(l[a++]){case"m":g=l[a++]*h+n,u=l[a++]*d,o.moveTo(g,u);break;case"l":g=l[a++]*h+n,u=l[a++]*d,o.lineTo(g,u);break;case"q":if(f=l[a++]*h+n,v=l[a++]*d,_=l[a++]*h+n,y=l[a++]*d,o.quadraticCurveTo(_,y,f,v),w=b[b.length-1])for(p=w.x,I=w.y,r=1,s=this.divisions;s>=r;r++){var M=r/s;Vc.b2(M,p,_,f),Vc.b2(M,I,y,v)}break;case"b":if(f=l[a++]*h+n,v=l[a++]*d,_=l[a++]*h+n,y=l[a++]*d,C=l[a++]*h+n,m=l[a++]*d,o.bezierCurveTo(_,y,C,m,f,v),w=b[b.length-1])for(p=w.x,I=w.y,r=1,s=this.divisions;s>=r;r++){M=r/s;Vc.b3(M,p,_,C,f),Vc.b3(M,I,y,m,v)}}return{offset:A.ha*i,path:o}}},generateShapes:function(t,e){var i=(e=e||{}).font;if(i===n&&!(i=jc.getDefaultFont()))return console.log("There's no valid font face, use ht.Default.loadFontFace to load font first."),[];var o=e.size!==n?e.size:1,a=e.curveSegments!==n?e.curveSegments:4,r=e.spacing!==n?e.spacing:1,s=e.weight!==n?e.weight:"normal",l=e.style!==n?e.style:"normal";jc.size=o,jc.divisions=a,jc.face=i,jc.weight=s,jc.style=l,jc.spacing=r;for(var c=jc.drawText(t).paths,h=[],d=0,g=c.length;g>d;d++)Array.prototype.push.apply(h,c[d].toShapes());return h}};(function(t){var e=1e-10,i=function(t){for(var e=t.length,i=0,n=e-1,o=0;e>o;n=o++)i+=t[n].x*t[o].y-t[o].x*t[n].y;return.5*i},n=function(t,i,n,o,a,r){var s,l,c,h,d,g,u,f,v,p,I,_,y,C,m;if(l=t[r[i]].x,c=t[r[i]].y,h=t[r[n]].x,d=t[r[n]].y,g=t[r[o]].x,u=t[r[o]].y,e>(h-l)*(u-c)-(d-c)*(g-l))return!1;for(p=g-h,I=u-d,_=l-g,y=c-u,C=h-l,m=d-c,s=0;a>s;s++)if(f=t[r[s]].x,v=t[r[s]].y,!(f===l&&v===c||f===h&&v===d||f===g&&v===u)&&(p*(v-d)-I*(f-h)>=-e&&_*(v-u)-y*(f-g)>=-e&&C*(v-c)-m*(f-l)>=-e))return!1;return!0};t.Triangulate=function(t,e){var o=t.length;if(3>o)return null;var a,r,s,l=[],c=[],h=[];if(i(t)>0)for(r=0;o>r;r++)c[r]=r;else for(r=0;o>r;r++)c[r]=o-1-r;var d=o,g=2*d;for(r=d-1;d>2;){if(g--<=0)return e?h:l;if((a=r)>=d&&(a=0),(r=a+1)>=d&&(r=0),(s=r+1)>=d&&(s=0),n(t,a,r,s,d,c)){var u,f,v,p,I;for(u=c[a],f=c[r],v=c[s],l.push([t[u],t[f],t[v]]),h.push([c[a],c[r],c[s]]),p=r,I=r+1;d>I;p++,I++)c[p]=c[I];g=2*--d}}return e?h:l},t.Triangulate.area=i})(jc),e._typeface_js={faces:jc.faces,loadFace:jc.loadFace};var Rc=function(){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]]},Pc=Rc.prototype={constructor:Rc,computeFaceNormals:function(){for(var t=new pc,e=new pc,i=0,n=this.faces.length;n>i;i++){var o=this.faces[i],a=this.vertices[o.a],r=this.vertices[o.b],s=this.vertices[o.c];t.subVectors(s,r),e.subVectors(a,r),t.cross(e),t.normalize(),o.normal.copy(t)}},computeVertexNormals:function(t){var e,i,n,o,a,r;for(r=new Array(this.vertices.length),e=0,i=this.vertices.length;i>e;e++)r[e]=new pc;if(t){var s,l,c,h=new pc,d=new pc;for(n=0,o=this.faces.length;o>n;n++)a=this.faces[n],s=this.vertices[a.a],l=this.vertices[a.b],c=this.vertices[a.c],h.subVectors(c,l),d.subVectors(s,l),h.cross(d),r[a.a].add(h),r[a.b].add(h),r[a.c].add(h)}else for(n=0,o=this.faces.length;o>n;n++)r[(a=this.faces[n]).a].add(a.normal),r[a.b].add(a.normal),r[a.c].add(a.normal);for(e=0,i=this.vertices.length;i>e;e++)r[e].normalize();for(n=0,o=this.faces.length;o>n;n++)(a=this.faces[n]).vertexNormals[0]=r[a.a].clone(),a.vertexNormals[1]=r[a.b].clone(),a.vertexNormals[2]=r[a.c].clone()},mergeVertices:function(){var t,e,i,o,a,r,s,l,c={},h=[],d=[],g=z(10,4);for(i=0,o=this.vertices.length;o>i;i++)t=this.vertices[i],c[e=m(t.x*g)+"_"+m(t.y*g)+"_"+m(t.z*g)]===n?(c[e]=i,h.push(this.vertices[i]),d[i]=h.length-1):d[i]=d[c[e]];var u=[];for(i=0,o=this.faces.length;o>i;i++){(a=this.faces[i]).a=d[a.a],a.b=d[a.b],a.c=d[a.c],r=[a.a,a.b,a.c];for(var f=0;3>f;f++)if(r[f]==r[(f+1)%3]){u.push(i);break}}for(i=u.length-1;i>=0;i--){var v=u[i];for(this.faces.splice(v,1),s=0,l=this.faceVertexUvs.length;l>s;s++)this.faceVertexUvs[s].splice(v,1)}var p=this.vertices.length-h.length;return this.vertices=h,p}},Zc=function(t,e,i,n,o,a,r){this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=n,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=r};Zc.prototype=Jn(bc),Zc.prototype.getPoint=function(t){var e,i=this.aEndAngle-this.aStartAngle;0>i&&(i+=V),i>V&&(i-=V),e=!0===this.aClockwise?this.aEndAngle+(1-t)*(V-i):this.aStartAngle+t*i;var n=this.aX+this.xRadius*T(e),o=this.aY+this.yRadius*S(e);return new vc(n,o)};var Lc=function(t,e){this.v1=t,this.v2=e},Bc=Lc.prototype=Jn(bc);Bc.getPoint=function(t){var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},Bc.getPointAt=function(t){return this.getPoint(t)},Bc.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()};var Oc=function(t,e,i){this.v0=t,this.v1=e,this.v2=i};Oc.prototype=Jn(bc),Oc.prototype.getPoint=function(t){var e,i;return e=Vc.b2(t,this.v0.x,this.v1.x,this.v2.x),i=Vc.b2(t,this.v0.y,this.v1.y,this.v2.y),new vc(e,i)};var Uc=function(t,e,i,n){this.v0=t,this.v1=e,this.v2=i,this.v3=n};Uc.prototype=Jn(bc),Uc.prototype.getPoint=function(t){var e,i;return e=Vc.b3(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),i=Vc.b3(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),new vc(e,i)},wc.create(function(t,e){this.v1=t,this.v2=e},function(t){var e=new pc;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e});var Wc=wc.create(function(t,e,i){this.v0=t,this.v1=e,this.v2=i},function(t){var e,i,n;return e=Vc.b2(t,this.v0.x,this.v1.x,this.v2.x),i=Vc.b2(t,this.v0.y,this.v1.y,this.v2.y),n=Vc.b2(t,this.v0.z,this.v1.z,this.v2.z),new pc(e,i,n)}),Gc=wc.create(function(t,e,i,n){this.v0=t,this.v1=e,this.v2=i,this.v3=n},function(t){var e,i,n;return e=Vc.b3(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),i=Vc.b3(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),n=Vc.b3(t,this.v0.z,this.v1.z,this.v2.z,this.v3.z),new pc(e,i,n)}),Fc=function(t,e,i,o,a,r,s,l){Rc.call(this),o=o!==n?o:.5,a=a!==n?a:.5,l=l!==n?l:1,t=t||8,r=r||0,s=s||V;var c,h,d=l/2,g=[],u=[],f=this.vertices,v=this.faces,p=this.faceVertexUvs;for(h=0;1>=h;h++){var I=[],_=[],y=h/1,C=y*(a-o)+o;for(c=0;t>=c;c++){var m=c/t,w=new pc,b=-(m*s+r);w.z=C*S(b),w.y=-y*l+d,w.x=C*T(b),f.push(w),I.push(f.length-1),_.push(new vc(m,y))}g.push(I),u.push(_)}var M,x,D=(a-o)/l;for(c=0;t>c;c++)for(0!==o?(M=f[g[0][c]].clone(),x=f[g[0][c+1]].clone()):(M=f[g[1][c]].clone(),x=f[g[1][c+1]].clone()),M.setY(A(M.x*M.x+M.z*M.z)*D).normalize(),x.setY(A(x.x*x.x+x.z*x.z)*D).normalize(),h=0;1>h;h++){var N=g[h][c],z=g[h+1][c],k=g[h+1][c+1],E=g[h][c+1],j=M.clone(),R=M.clone(),P=x.clone(),Z=x.clone(),L=u[h][c].clone(),B=u[h+1][c].clone(),O=u[h+1][c+1].clone(),U=u[h][c+1].clone();v.push(new yc(N,z,E,[j,R,Z])),p[0].push([L,B,U]),v.push(new yc(z,k,E,[R.clone(),P,Z.clone()])),p[0].push([B.clone(),O,U.clone()])}if(e&&o>0)for(this.vertices.push(new pc(0,d,0)),c=0;t>c;c++){N=g[0][c],z=g[0][c+1],k=this.vertices.length-1,j=new pc(0,1,0),R=new pc(0,1,0),P=new pc(0,1,0),L=u[0][c].clone(),B=u[0][c+1].clone(),O=new vc(B.x,0);v.push(new yc(N,z,k,[j,R,P],null,1));var W=T(H=c/t*V),G=S(H),F=T(Y=(c+1)/t*V),Q=S(Y);p[0].push([new vc(.5+.5*W,.5+.5*G),new vc(.5+.5*F,.5+.5*Q),new vc(.5,.5)])}if(i&&a>0)for(this.vertices.push(new pc(0,-d,0)),c=0;t>c;c++){N=g[h][c+1],z=g[h][c],k=f.length-1,j=new pc(0,-1,0),R=new pc(0,-1,0),P=new pc(0,-1,0),L=u[h][c+1].clone(),B=u[h][c].clone();v.push(new yc(N,z,k,[j,R,P],null,2));var H,Y;W=T(H=c/t*V),G=S(H),F=T(Y=(c+1)/t*V),Q=S(Y);p[0].push([new vc(.5+.5*F,.5-.5*Q),new vc(.5+.5*W,.5-.5*G),new vc(.5,.5)])}};Fc.prototype=Jn(Pc);var Qc=function(t,e,i,o,a,r,s){Rc.call(this),s=s||.5,t=t||16,e=e||16,i=(i!==n?i:0)-E,o=o!==n?o:V,a=a!==n?a:0,r=r!==n?r:E;var l,c,h=[],d=[],g=this.vertices,u=this.faces,f=this.faceVertexUvs;for(c=0;e>=c;c++){var v=[],p=[];for(l=0;t>=l;l++){var I=l/t,_=c/e,y=new pc;y.x=-s*T(i+I*o)*S(a+_*r),y.y=s*T(a+_*r),y.z=s*S(i+I*o)*S(a+_*r),g.push(y),v.push(g.length-1),p.push(new vc(I,_))}h.push(v),d.push(p)}for(c=0;e>c;c++)for(l=0;t>l;l++){var C=h[c][l+1],m=h[c][l],w=h[c+1][l],b=h[c+1][l+1],A=g[C].clone().normalize(),M=g[m].clone().normalize(),x=g[w].clone().normalize(),N=g[b].clone().normalize(),z=d[c][l+1].clone(),k=d[c][l].clone(),j=d[c+1][l].clone(),R=d[c+1][l+1].clone();D(g[C].y)===s?(z.x=(z.x+k.x)/2,u.push(new yc(C,w,b,[A,x,N])),f[0].push([z,j,R])):D(g[w].y)===s?(j.x=(j.x+R.x)/2,u.push(new yc(C,m,w,[A,M,x])),f[0].push([z,k,j])):(u.push(new yc(C,m,b,[A,M,N])),f[0].push([z,k,R]),u.push(new yc(m,w,b,[M.clone(),x,N.clone()])),f[0].push([k.clone(),j,R.clone()]))}};Qc.prototype=Jn(Pc);var Hc=function(t,e,i,n,o,a){Rc.call(this),t=t||.33,e=e||.17,n=n||8,i=i||6,o=o||0,a=a||V;for(var r=new pc,s=[],l=[],c=0;n>=c;c++)for(var h=c/n*V+E,d=0;i>=d;d++){var g=d/i*a+o;r.x=t*T(g),r.z=-t*S(g);var u=new pc,f=t+e*T(h);u.x=f*T(g),u.z=-f*S(g),u.y=e*S(h),this.vertices.push(u),s.push(new vc(d/i,1-c/n)),l.push(u.clone().sub(r).normalize())}for(c=1;n>=c;c++)for(d=1;i>=d;d++){var v=(i+1)*c+d-1,p=(i+1)*(c-1)+d-1,I=(i+1)*(c-1)+d,_=(i+1)*c+d,y=new yc(v,p,_,[l[v].clone(),l[p].clone(),l[_].clone()]);this.faces.push(y),this.faceVertexUvs[0].push([s[v].clone(),s[p].clone(),s[_].clone()]),y=new yc(p,I,_,[l[p].clone(),l[I].clone(),l[_].clone()]),this.faces.push(y),this.faceVertexUvs[0].push([s[p].clone(),s[I].clone(),s[_].clone()])}this.computeFaceNormals()};Hc.prototype=Jn(Pc);var Yc=function(t,e,i){return t?(Rc.call(this),t=t instanceof Array?t:[t],this.addShapeList(t,e),!1!==e.convertYZ&&dc(this,i),void this.computeFaceNormals()):void(t=[])},Jc=Yc.prototype=Jn(Rc.prototype);Jc.addShapeList=function(t,e){for(var i=t.length,n=0;i>n;n++){var o=t[n];this.addShape(o,e)}},Jc.addShape=function(t,e){function i(t,e){for(var i,n,o=t.length;--o>=0;){i=o,0>(n=o-1)&&(n=t.length-1);var a=0,s=f;for(a=0;s>a;a++){var l=k*a,c=k*(a+1);r(e+i+l,e+n+l,e+n+c,e+i+c,t,a,s,i,n)}}}function o(t,e,i){m.vertices.push(new pc(t,e,i))}function a(i,n,o,a){i+=w,n+=w,o+=w,m.faces.push(new yc(i,n,o,null,null,a?2:1));var r=a?I.generateBottomUV(m,t,e,i,n,o):I.generateTopUV(m,t,e,i,n,o);m.faceVertexUvs[0].push(r)}function r(i,n,o,a,r,s,l,c,h){i+=w,n+=w,o+=w,a+=w,m.faces.push(new yc(i,n,a)),m.faces.push(new yc(n,o,a));var d=I.generateSideWallUV(m,t,r,e,i,n,o,a,s,l,c,h);m.faceVertexUvs[0].push([d[0],d[1],d[3]]),m.faceVertexUvs[0].push([d[1],d[2],d[3]])}var s,l,c,h,d,g=e.amount,u=e.curveSegments||ys,f=e.steps||1,v=e.extrudePath,p=!1,I=new _c(e.repeatUVLength);v&&(s=v.getSpacedPoints(f),p=!0,l=e.frames!==n?e.frames:new Xc.FrenetFrames(v,f,!1),c=new pc,h=new pc,d=new pc);var _,y,C,m=this,w=this.vertices.length,b=t.extractPoints(u),A=b.shape,M=b.holes,x=!Vc.isClockWise(A);if(x){for(A=A.reverse(),y=0,C=M.length;C>y;y++)_=M[y],Vc.isClockWise(_)&&(M[y]=_.reverse());x=!1}var D,T=Vc.triangulateShape(A,M),N=A;for(y=0,C=M.length;C>y;y++)_=M[y],A=A.concat(_);for(var S,z,k=A.length,E=T.length,V=0;k>V;V++)S=A[V],p?(h.copy(l.normals[0]).multiplyScalar(S.x),c.copy(l.binormals[0]).multiplyScalar(S.y),d.copy(s[0]).add(h).add(c),o(d.x,d.y,d.z)):o(S.x,S.y,0);for(D=1;f>=D;D++)for(V=0;k>V;V++)S=A[V],p?(h.copy(l.normals[D]).multiplyScalar(S.x),c.copy(l.binormals[D]).multiplyScalar(S.y),d.copy(s[D]).add(h).add(c),o(d.x,d.y,d.z)):o(S.x,S.y,g/f*D);(function(){if(e.bottom)for(var t=0;E>t;t++)a((z=T[t])[2],z[1],z[0],!0);if(e.top)for(t=0;E>t;t++)a((z=T[t])[0]+k*f,z[1]+k*f,z[2]+k*f,!1)})(),function(){var t=0;for(i(N,t),t+=N.length,y=0,C=M.length;C>y;y++)i(_=M[y],t),t+=_.length}()};var Xc=function(t,e,i,n,o){function a(t,e,i){return x.vertices.push(new pc(t,e,i))-1}Rc.call(this),e=e||64,i=i||1,n=n||8,o=o||!1;var r,s,l,c,h,d,g,u,f,v,p,I,_,y,C,m,w,b,A,M=[],x=this,D=e+1,N=new pc,z=new Xc.FrenetFrames(t,e,o),k=z.tangents,E=z.normals,j=z.binormals;for(this.tangents=k,this.normals=E,this.binormals=j,u=0;D>u;u++)for(M[u]=[],l=u/(D-1),g=t.getPointAt(l),k[u],r=E[u],s=j[u],f=0;n>f;f++)h=-i*T(c=f/n*V),d=i*S(c),N.copy(g),N.x+=h*r.x+d*s.x,N.y+=h*r.y+d*s.y,N.z+=h*r.z+d*s.z,M[u][f]=a(N.x,N.y,N.z);for(u=0;e>u;u++)for(f=0;n>f;f++)v=o?(u+1)%e:u+1,p=(f+1)%n,I=M[u][f],_=M[v][f],y=M[v][p],C=M[u][p],m=new vc(u/e,f/n),w=new vc((u+1)/e,f/n),b=new vc((u+1)/e,(f+1)/n),A=new vc(u/e,(f+1)/n),this.faces.push(new yc(I,_,C)),this.faceVertexUvs[0].push([m,w,A]),this.faces.push(new yc(_,y,C)),this.faceVertexUvs[0].push([w.clone(),b,A.clone()]);this.computeFaceNormals(),this.computeVertexNormals()};Xc.prototype=Jn(Pc),Xc.FrenetFrames=function(t,e,i){var n,o,a,r,s,l,c,h=new pc,d=[],g=[],u=[],f=new pc,v=new Ic,p=e+1;for(this.tangents=d,this.normals=g,this.binormals=u,l=0;p>l;l++)c=l/(p-1),d[l]=t.getTangentAt(c),d[l].normalize();for(g[0]=new pc,u[0]=new pc,o=Number.MAX_VALUE,a=D(d[0].x),r=D(d[0].y),s=D(d[0].z),o>=a&&(o=a,h.set(1,0,0)),o>=r&&(o=r,h.set(0,1,0)),o>=s&&h.set(0,0,1),f.crossVectors(d[0],h).normalize(),g[0].crossVectors(d[0],f),u[0].crossVectors(d[0],g[0]),l=1;p>l;l++)g[l]=g[l-1].clone(),u[l]=u[l-1].clone(),f.crossVectors(d[l-1],d[l]),f.length()>1e-4&&(f.normalize(),n=N(jn(d[l-1].dot(d[l]),-1,1)),g[l].applyMatrix4(v.makeRotationAxis(f,n))),u[l].crossVectors(d[l],g[l]);if(i)for(n=N(jn(g[0].dot(g[p-1]),-1,1)),n/=p-1,d[0].dot(f.crossVectors(g[0],g[p-1]))>0&&(n=-n),l=1;p>l;l++)g[l].applyMatrix4(v.makeRotationAxis(d[l],n*l)),u[l].crossVectors(d[l],g[l])};var $c=function(t,e,i,n){Rc.call(this),e=e||18,i=i||0,n=n==r?V:n;for(var o=1/(t.length-1),a=1/e,s=0,l=e;l>=s;s++)for(var c=i+s*a*n,h=T(c),d=S(c),g=0,u=t.length;u>g;g++){var f=t[g],v=new pc;v.x=h*f.x-d*f.y,v.y=d*f.x+h*f.y,v.z=f.z,this.vertices.push(v)}var p=t.length;for(s=0,l=e;l>s;s++)for(g=0,u=t.length-1;u>g;g++){var I=g+p*s,_=I,y=I+p,C=(h=I+1+p,I+1),m=s*a,w=g*o,b=m+a,A=w+o;this.faces.push(new yc(_,C,y)),this.faceVertexUvs[0].push([new vc(m,w),new vc(m,A),new vc(b,w)]),this.faces.push(new yc(y,C,h)),this.faceVertexUvs[0].push([new vc(b,w),new vc(m,A),new vc(b,A)])}this.mergeVertices(),dc(this),this.computeFaceNormals(),this.computeVertexNormals()};$c.prototype=Jn(Pc);var Kc=function(t,e){e=e||{};var i=jc.generateShapes(t,e);e.amount=e.amount!==n?e.amount:.5,e.convertYZ=!1,!1!==e.fill&&(e.bottom=!0,e.top=!0),Yc.call(this,i,e)};Kc.prototype=Jn(Jc);var qc=s.Node=function(){zn(qc,this)},th={X:Rs,Y:Ps,Z:Zs},eh={X:0,Y:1,Z:2},ih={xyz:"XYZ",xzy:"XZY",yxz:"YXZ",yzx:"YZX",zxy:"ZXY",zyx:"ZYX"},nh="xzy",oh=function(t,e,i){if(e){var n=e[0],o=e[1],a=e[2];"xzy"===i?(Ps(t,o),Zs(t,a),Rs(t,n)):"xyz"===i?(Zs(t,a),Ps(t,o),Rs(t,n)):"yxz"===i?(Zs(t,a),Rs(t,n),Ps(t,o)):"yzx"===i?(Rs(t,n),Zs(t,a),Ps(t,o)):"zxy"===i?(Ps(t,o),Rs(t,n),Zs(t,a)):"zyx"===i?(Rs(t,n),Ps(t,o),Zs(t,a)):(Ps(t,o),Zs(t,a),Rs(t,n))}};ws("Node",Al,{ms_ac:["rotationMode","anchorElevation"],ms_edge:!0,_adjustChildrenToTop:!0,_icon:"node_icon",_image:"node_image",_rotationMode:nh,_64O:0,_rotationX:0,_53O:0,_host:r,_position:{x:0,y:0},_anchor:{x:.5,y:.5},_anchorElevation:.5,_scale:{x:1,y:1},_scaleTall:1,_54O:0,getUIClass:function(){return qh},_22Q:function(){return Lf},getX:function(){return this.p().x},setX:function(t){this.p(t,this.p().y)},getY:function(){return this.p().y},setY:function(t){this.p(this.p().x,t)},getAnchorX:function(){return this.getAnchor().x},setAnchorX:function(t){this.setAnchor(t,this.getAnchor().y)},getAnchorY:function(){return this.getAnchor().y},setAnchorY:function(t){this.setAnchor(this.getAnchor().x,t)},getScaleX:function(){return this.getScale().x},setScaleX:function(t){this.setScale(t,this.getScale().y)},getScaleY:function(){return this.getScale().y},setScaleY:function(t){this.setScale(this.getScale().x,t)},p:function(){return 0===arguments.length?this.getPosition():(this.setPosition.apply(this,arguments),this)},p3:function(){return 0===arguments.length?this.getPosition3d():(this.setPosition3d.apply(this,arguments),this)},s3:function(){return 0===arguments.length?this.getSize3d():(this.setSize3d.apply(this,arguments),this)},r3:function(){return 0===arguments.length?this.getRotation3d():(this.setRotation3d.apply(this,arguments),this)},t3:function(){return this.translate3d.apply(this,arguments),this},translate3dBy:function(t,e){Es(t,Bs(r,r,this.r3(),this.getRotationMode())),this.translate3d(t[0]*e,t[1]*e,t[2]*e)},translateFront:function(t){this.translate3dBy([0,0,1],t)},translateBack:function(t){this.translate3dBy([0,0,-1],t)},translateLeft:function(t){this.translate3dBy([-1,0,0],t)},translateRight:function(t){this.translate3dBy([1,0,0],t)},translateTop:function(t){this.translate3dBy([0,1,0],t)},translateBottom:function(t){this.translate3dBy([0,-1,0],t)},getPosition3d:function(){return[this._position.x,this._54O,this._position.y]},setPosition3d:function(t,e,i){1===arguments.length&&(e=t[1],i=t[2],t=t[0]),this.p(t,i),this.setElevation(e)},translate3d:function(t,e,i){1===arguments.length&&(e=t[1],i=t[2],t=t[0]),this.translate(t,i),this.setElevation(this._54O+e)},getSize3d:function(){return[this.getWidth(),this.getTall(),this.getHeight()]},setSize3d:function(t,e,i){1===arguments.length&&(e=t[1],i=t[2],t=t[0]),this.setSize(t,i),this.setTall(e)},getRotation3d:function(){return[this._rotationX,-this._64O,this._53O]},setRotation3d:function(t,e,i){1===arguments.length&&(e=t[1],i=t[2],t=t[0]),this.setRotationX(t),this.setRotation(-e),this.setRotationZ(i)},setRotationY:function(t){this.setRotation(-t)},getRotationY:function(){return-this._64O},lookAtDirection:function(t,e){e=e||st;var i=this,n=os(t);e===st?(i.r3([-k(t[1]/n),-P(t[2],t[0])+j,0]),i.setRotationMode("xzy")):e===ht?(i.r3(0,-P(t[2],t[0]),k(t[1]/n)),i.setRotationMode("zyx")):e===ct?(i.r3(0,-P(t[2],t[0])+E,-k(t[1]/n)),i.setRotationMode("zyx")):e===dt?(i.r3([-k(t[1]/n)+j,-P(t[2],t[0])+j,0]),i.setRotationMode("xzy")):e===gt&&(i.r3([-k(t[1]/n)-j,-P(t[2],t[0])+j,0]),i.setRotationMode("xzy")),e===lt&&(i.r3([-k(t[1]/n)+E,-P(t[2],t[0])+j,E]),i.setRotationMode("zxy"))},lookAt:function(t,e){return this.lookAtDirection(Ds(t,this.p3()),e)},lookAtX:function(){var t=new ul,e=new ul,i=new ul,n=new Il,o=new Il,a=new s.Math.Euler;return function(r,l,c){l===ct||l===ht?n.makeRotationAxis(new s.Math.Vector3(0,1,0),Math.PI/2):l===dt||l===gt?n.makeRotationAxis(new s.Math.Vector3(1,0,0),Math.PI/2):n.identity(),l===gt||l===ht||l===lt?(t.fromArray(this.p3()),e.fromArray(r)):(t.fromArray(r),e.fromArray(this.p3())),o.lookAt(t,e,c?i.fromArray(c):i.set(0,1,0)),a.setFromRotationMatrix(o.multiply(n),Cl.ReverseOrder(this.getRotationMode())),this.r3([a.x,a.y,a.z])}}(),getHost:function(){return this._host},setHost:function(t){var e=this;if(e!==t&&e._host!==t){var i=e._host;i&&i._removeAttach(e),e._host=t,e._host&&e._host._addAttach(e),e.fp("host",i,t),e.onHostChanged(i,t)}},getAttaches:function(){return this._69O},_addAttach:function(t){var e=this;e._69O||(e._69O=new ml),e._69O.add(t),e.fp("attaches",r,t)},_removeAttach:function(t){var e=this;e._69O.remove(t),e._69O.isEmpty()&&delete e._69O,e.fp("attaches",t,r)},getImage:function(){this._pendingCheckImageJSON&&(c.getImage(this._image)&&(this._pendingCheckImageJSON=!1,this.getParent()instanceof uh&&this.getParent().checkPendingUpdateInfo()));return this._image},setImage:function(t){var e=this,i=e._image,n=e.getWidth(),o=e.getHeight();e._image=t,e.fp("image",i,t)&&(null!=t&&(pn(t)||un(t)&&/\.json$/i.test(t))&&(this._pendingCheckImageJSON=!0),e.fp(zt,n,e.getWidth()),e.fp(kt,o,e.getHeight()))},getElevation:function(){return this._54O},setElevation:function(t){var e=this;if(!e._50O){e._50O=1;var i=e._54O;e._54O=t,e.fp(Se,i,t),delete this._50O}},getRotation:function(){return this._64O},setRotation:function(t){var e=this;if(!e._49O){e._49O=1;var i=e._64O;e._64O=t,e.fp(te,i,t),delete e._49O}},getRotationX:function(){return this._rotationX},setRotationX:function(t){var e=this;if(!e._51O){e._51O=1;var i=e._rotationX;e._rotationX=t,e.fp("rotationX",i,t),delete e._51O}},getRotationZ:function(){return this._53O},setRotationZ:function(t){var e=this;if(!e._52O){e._52O=1;var i=e._53O;e._53O=t,e.fp("rotationZ",i,t),delete e._52O}},getPosition:function(){return this._position},setPosition:function(t,e){var i=this;if(!i._50I){var n;if(i._50I=1,(n=2===arguments.length?{x:t,y:e}:t).x!==i._position.x||n.y!==i._position.y){var o=i._position;i._position=n,i.fp(Ne,o,n)}delete i._50I}},translate:function(t,e){var i=this._position;this.p(i.x+t,i.y+e)},getWidth:function(){var t=this;if(t._width>=0)return t._width;var e=t.getStyle("shape3d");if(e){var i,n=ud(e);if(n&&n.rawS3)return n.rawS3[0];if("billboard"===e||"plane"===e)return(i=Pr(t.getStyle("shape3d.image")))?al(i,t):20}return(i=Pr(t._image))?al(i,t):20},setWidth:function(t){var e=this,i=e._width;e._width=t,e.fp(zt,i,t)},getHeight:function(){var t=this;if(t._height>=0)return t._height;var e=t.getStyle("shape3d");if(e){var i,n=ud(e);if(n&&n.rawS3)return n.rawS3[2];if("plane"===e)return(i=Pr(t.getStyle("shape3d.image")))?rl(i,t):20;if("billboard"===e)return 2}return(i=Pr(t._image))?rl(i,t):20},setHeight:function(t){var e=this,i=e._height;e._height=t,e.fp(kt,i,t)},getTall:function(){var t=this;if(t._tall>=0)return t._tall;var e=t.getStyle("shape3d");if(e){var i=ud(e);if(i&&i.rawS3)return i.rawS3[1];if("billboard"===e){var n=Pr(t.getStyle("shape3d.image"));return n?rl(n,t):20}if("plane"===e)return 2}return 20},setTall:function(t){var e=this,i=e._tall;e._tall=t,e.fp("tall",i,t)},setSize:function(t,e){var i=this;2===arguments.length?(i.setWidth(t),i.setHeight(e)):(i.setWidth(t.width),i.setHeight(t.height))},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},setRect:function(t,e,i,n,o){var a=this,r=a.getAnchor(),s=a.getScale();arguments.length<=2&&(o=e,e=t.y,i=t.width,n=t.height,t=t.x);var l=o&&s.x<0?1-r.x:r.x,c=o&&s.y<0?1-r.y:r.y;a.p(t+i*l,e+n*c),o&&(i/=Math.abs(s.x),n/=Math.abs(s.y)),a.setWidth(i),a.setHeight(n)},getMatrix:function(){var t=this,e=t._64O,i=t._position,n=t.getScale();return new gl(e,i.x,i.y,n.x,n.y)},getAnchorRect:function(){var t=this,e=t.getWidth(),i=t.getHeight(),n=t.getAnchor();return{x:-e*n.x,y:-i*n.y,width:e,height:i}},toLocal:function(t){return this.getMatrix().tfi(t)},toGlobal:function(t){return this.getMatrix().tf(t)},getAttachPosition:function(){var t=new gl;return function(e,i,n,o){n=n||0,o=o||0;var a=this,r=a.getAnchor(),s=a._64O,l=a._position,c=a.getScale();return t.setFromTransform(s,l.x,l.y).tf({x:n+c.x*a.getWidth()*(e-r.x),y:o+c.y*a.getHeight()*(i-r.y)})}}(),isInRect:function(t){t=this.toLocal(t);var e=this.getWidth(),i=this.getHeight();return t.x+=e*this.getAnchorX(),t.y+=i*this.getAnchorY(),!(t.x<0||t.y<0||t.x>e||t.y>i)},getRect:function(){var t=this,e=t.getWidth(),i=t.getHeight(),n=t.getAnchor(),o={x:-e*n.x,y:-i*n.y,width:e,height:i},a=t.getMatrix();return as([a.tf(o.x,o.y),a.tf(o.x+o.width,o.y),a.tf(o.x+o.width,o.y+o.height),a.tf(o.x,o.y+o.height)])},getAnchorElevation:function(){return this._anchorElevation},getAnchor3d:function(){var t=this.getAnchor(),e=this._anchorElevation;return{x:t.x,y:e,z:t.y}},setAnchorElevation:function(t){var e=this,i=e._anchorElevation;return i!==t&&(e._anchorElevation=t,e.fp("anchorElevation",i,t),!0)},setAnchor3d:function(t,e,i,n){var o,a=this;"number"==typeof t?o={x:t,y:e,z:i}:(o=t.length?{x:t[0],y:t[1],z:t[2]}:t,n=e);var r=a.getDataModel();r&&r.beginTransaction();var s=a.getAnchor3d(),l=a.setAnchor(o.x,o.z);if(a.setAnchorElevation(o.y)&&(l=!0),l&&n&&!Mi){a.getAnchor3d();var c=Ls(a),h=Es([o.x-s.x,o.y-s.y,o.z-s.z],c);a.p3(h)}return r&&r.endTransaction(),l},getAnchor:function(){var t=this;if(t.hasOwnProperty("_anchor"))return t._anchor;var e=Pr(t._image);return e&&e.anchorX!==n?{x:e.anchorX,y:e.anchorY}:t._anchor},setAnchor:function(t,e,i){var n,o=this;"number"==typeof t?n={x:t,y:e}:(n=t.length?{x:t[0],y:t[1]}:t,i=e);var a=o.getAnchor();if(a.x!==n.x||a.y!==n.y){var r=o.getDataModel();if(r&&r.beginTransaction(),o._anchor=n,o.fp("anchor",a,n),i&&!Mi){var s=o.getPosition(),l=o.getSize(),c=o.getRotation(),h=o.getScale(),d=-l.width*(a.x-n.x)*h.x,g=-l.height*(a.y-n.y)*h.y,u=S(c),f=T(c);o.setPosition(s.x+f*d-u*g,s.y+u*d+f*g)}return r&&r.endTransaction(),!0}return!1},getScale:function(){return this._scale},setScale:function(t,e){var i,n=this;i=2===arguments.length?{x:t,y:e}:t;var o=n.getScale();(o.x!==i.x||o.y!==i.y)&&(n._scale=i,n.fp("scale",o,i))},getScaleTall:function(){return this._scaleTall},getScale3d:function(){var t=this._scaleTall,e=this.getScale();return[e.x,t,e.y]},getFinalScale3d:function(){var t=this,e=t.s3(),i=t._dynamicScale3d,n=t.getScale3d();return e&&(n[0]*=e[0],n[1]*=e[1],n[2]*=e[2]),i&&(n[0]*=i[0],n[1]*=i[1],n[2]*=i[2]),n},getFinalRotation3d:function(){return this._dynamicRotation||this.r3()},setScaleTall:function(t){var e=this,i=e._scaleTall;i!==t&&(e._scaleTall=t,e.fp("scaleTall",i,t))},setScale3d:function(t,e,i){var n;n="number"==typeof t?{x:t,y:e,z:i}:t.length?{x:t[0],y:t[1],z:t[2]}:t,this.setScaleTall(n.y),this.setScale(n.x,n.z)},getCorners:function(t,e){t==r&&(t=0),e==r&&(e=t);var i=this,n=i.getAnchor(),o=i.getWidth(),a=i.getHeight(),s=-o*n.x-t,l=-a*n.y-e,c=o+2*t,h=a+2*e,d=i.getMatrix();return[d.tf(s,l),d.tf(s,l+h),d.tf(s+c,l+h),d.tf(s+c,l)]},getEditControlPoints:function(t,e,i){e==r&&(e=0),i==r&&(i=e);var n=this,o=n.getAnchor(),a=n.getWidth(),s=n.getHeight(),l=-a*o.x-e,c=-s*o.y-i,h=a+2*e,d=s+2*i;if(t)return[{x:l,y:c},{x:l,y:0},{x:l,y:c+d},{x:0,y:c+d},{x:l+h,y:c+d},{x:l+h,y:0},{x:l+h,y:c},{x:0,y:c}];var g=n.getMatrix();return[g.tf(l,c),g.tf(l,0),g.tf(l,c+d),g.tf(0,c+d),g.tf(l+h,c+d),g.tf(l+h,0),g.tf(l+h,c),g.tf(0,c)]},rotateAt:function(t,e,i){var n=this,o=n._position,a=n._64O,r=new gl(a,o.x,o.y).tf(t,e),s=A(t*t+e*e),l=P(o.y-r.y,o.x-r.x)+i;n.setRotation(a+i),n.p(r.x+s*T(l),r.y+s*S(l))},onParentChanged:function(){qc.superClass.onParentChanged.apply(this,arguments),this._8I()},onPropertyChanged:function(){var t={};return"width|height|position|anchor|rotation|scale|s:layout.h|s:layout.v".split("|").forEach(function(e){t[e]=!0}),function(e){var i=this;qc.superClass.onPropertyChanged.call(i,e),t[e.property]&&!i._layoutUpdating&&i.updateLayoutParameters(null,e.property),i._69O&&i._69O.each(function(t){t.handleHostPropertyChange(e)}),i._49I&&i._49I.each(function(t){t.fp("agentChange",!0,!1)})}}(),onHostChanged:function(){this.updateAttach()},handleHostPropertyChange:function(t){this.updateAttach(t)},onStyleChanged:function(t){qc.superClass.onStyleChanged.apply(this,arguments),Rl[t]&&this.updateAttach()},updateAttach:function(t){var e=this;e._51I||Mi||(e._51I=1,e._71O(t),delete e._51I)},_71O:function(t){var e,i,n,o,a,l,c=this,h=c._host,d=t?t.property:r,g=t?t.oldValue:r,u=t?t.newValue:r;if(h instanceof s.Grid){if(d===Se)c.setElevation(c._54O+u-g);else if(!t||jl[d]){if(e=c.s("attach.row.index"),i=c.s("attach.column.index"),!(n=h.getCellRect(e,i)))return;o=c.s("attach.row.span"),a=c.s("attach.column.span"),(1!==o||1!==a)&&(n=rs(n,h.getCellRect(e+o-1,i+a-1))),Ll(n,c,"attach.padding",1),c.setRect(n)}}else if(h instanceof hh&&(l=c.s("attach.index"))>=0&&(!t||Pl[d])){var f=c.s("attach.thickness");f!=r&&c.setHeight(h.getThickness()*f);var v=c.s("attach.offset"),p=h.getPoints(),I=p.size();if(I>l){var _=p.get(l),y=I===l+1?p.get(0):p.get(l+1),C=[y.x-_.x,y.y-_.y],m=os(C);if(m){c.s("attach.offset.relative")&&(v*=m),c.s("attach.offset.opposite")&&(v=m-v);var w={x:_.x+C[0]/m*v,y:_.y+C[1]/m*v},b=c.s("attach.gap");b&&(c.s("attach.gap.relative")&&(b*=h.getThickness()),w=Vd(r,w,y,b)),c.p(w),c.setRotation(P(C[1],C[0]))}}}else t&&(d===Ne?c.translate(u.x-g.x,u.y-g.y):d===Se?c.setElevation(c._54O+u-g):Vl[d]?c._11Q(h,d,u-g):("anchor"===d||"width"===d||"height"===d||"scale"===d)&&c.layout(h))},_11Q:function(){var t=new s.Math.Euler,e=s.Math.Euler.ReverseOrder,i=new s.Math.Vector2,n=new s.Math.Vector2;return function(o,a,r){var s=this,l=o.p3(),c=o.r3(),h=s.p3(),d=s.r3();if(a===te&&(a="rotationY",r=-r),(a===te||"rotationY"===a)&&0===d[0]&&0===d[2]&&0===c[0]&&0===c[2]&&0===h[1]&&0===l[1])return s.setRotation(-d[1]-r),i.set(h[0],h[2]).rotateAround(n.set(l[0],l[2]),-r),void s.p(i.x,i.y);var g=ih[o.getRotationMode()],u=g[0],f=g[1],v=g[2],p=th[u],I=th[f],_=th[v],y=Ss();a===te+u?(_(y,c[eh[v]]),I(y,c[eh[f]]),p(y,r),I(y,-c[eh[f]]),_(y,-c[eh[v]])):a===te+f?(_(y,c[eh[v]]),I(y,r),_(y,-c[eh[v]])):a===te+v&&_(y,r);var C=Ds(h,l);Es(C,y),s.p3(l[0]+C[0],l[1]+C[1],l[2]+C[2]);var m=s.getRotationMode();oh(y,s.r3(),m),t.setFromRotationMatrix(y,e(m)),s.r3([t.x,t.y,t.z])}}(),isHostOn:function(t){var e=this;if(e._host&&t&&t._69O)for(var i={},n=e._host;n&&n!==e&&!i[n._id];){if(n===t)return!0;i[n._id]=n,n=n._host}return!1},isLoopedHostOn:function(t){return this.isHostOn(t)&&t.isHostOn(this)},getScaledSize:function(){var t=this.getSize(),e=this.getScale();return t.width*=Math.abs(e.x),t.height*=Math.abs(e.y),t},layout:function(t){if(t=t||this.getHost()){var e=this,i=e.s("layout.h")||"center",o=e.s("layout.v")||"center";if("center"!==i||"center"!==o){var a=new s.Math.Vector2,r=t.getPosition(),l=t.getAnchor(),c=t.getScaledSize();e.getPosition();var h,d,g,u,f,v=1,p=1;switch(e._layoutUpdating=!0,i){case"left":a.setX(e._layoutHValue-l.x*c.width);break;case"right":a.setX((1-l.x)*c.width-e._layoutHValue);break;case"leftright":h=c.width-e._layoutHValue[2],g=e.getRotation()-t.getRotation(),u=Math.abs(Math.sin(g)),v+=(f=Math.abs(Math.cos(g)))*h/e._layoutHValue[3],p+=u*h/e._layoutHValue[4],a.setX(e._layoutHValue[1]+(e._layoutHValue[5]-l.x)*c.width);break;case"center":a.setX((.5-l.x)*c.width-e._layoutHValue);break;case"scale":g=e.getRotation()-t.getRotation(),u=Math.abs(Math.sin(g)),f=Math.abs(Math.cos(g)),a.setX((.5-l.x)*c.width-e._layoutHValue[1]*c.width/e._layoutHValue[0]),v+=f*(d=c.width/e._layoutHValue[2]-1),p+=u*d}switch(o){case"top":a.setY(e._layoutVValue-l.y*c.height);break;case"bottom":a.setY((1-l.y)*c.height-e._layoutVValue);break;case"topbottom":g||(g=e.getRotation()-t.getRotation(),u=Math.abs(Math.sin(g)),f=Math.abs(Math.cos(g))),v+=u*(h=c.height-e._layoutVValue[2])/e._layoutVValue[3],p+=f*h/e._layoutVValue[4],a.setY(e._layoutVValue[1]+(e._layoutVValue[5]-l.y)*c.height);break;case"center":a.setY((.5-l.y)*c.height-e._layoutVValue);break;case"scale":g||(g=e.getRotation()-t.getRotation(),u=Math.abs(Math.sin(g)),f=Math.abs(Math.cos(g))),a.setY((.5-l.y)*c.height-e._layoutVValue[1]*c.height/e._layoutVValue[0]),v+=u*(d=c.height/e._layoutVValue[2]-1),p+=f*d}(1!==v||1!==p)&&("leftright"===i||"scale"===i?e.setSize(e._layoutHValue[3]*v,e._layoutHValue[4]*p):e.setSize(e._layoutVValue[3]*v,e._layoutVValue[4]*p)),a.rotateAround(null,t.getRotation()),this.setPosition(a.x+r.x,a.y+r.y),e._layoutUpdating=n}}},updateLayoutParameters:function(t,e){if(t=t||this.getHost()){var i=this,n=i.s("layout.h"),o=i.s("layout.v");if(n||o){var a,r,l,c,h,d,g=new s.Math.Vector2,u=t.getPosition(),f=t.getAnchor(),v=t.getScaledSize(),p=i.getPosition(),I=i.getSize();switch(g.set(p.x-u.x,p.y-u.y),g.rotateAround(null,-t.getRotation()),n){case"left":i._layoutHValue=g.x+f.x*v.width;break;case"right":i._layoutHValue=-g.x+(1-f.x)*v.width;break;case"center":i._layoutHValue=-g.x+(.5-f.x)*v.width;break;case"leftright":case"scale":"scale"===n?a=-g.x+(.5-f.x)*v.width:(r=i.getAnchor(),l=i.getRotation()-t.getRotation(),c=Math.cos(l),h=Math.sin(l),d=-Math.min(-r.x*c+r.y*h,-r.x*c-(1-r.y)*h,(1-r.x)*c+r.y*h,(1-r.x)*c-(1-r.y)*h),a=g.x-(d-f.x)*v.width),"position"===e&&"object"==typeof i._layoutHValue?(i._layoutHValue[0]=v.width,i._layoutHValue[1]=a):i._layoutHValue=[v.width,a,v.width,I.width,I.height,d]}switch(o){case"top":i._layoutVValue=g.y+f.y*v.height;break;case"bottom":i._layoutVValue=-g.y+(1-f.y)*v.height;break;case"center":i._layoutVValue=-g.y+(.5-f.y)*v.height;break;case"topbottom":case"scale":"scale"===o?a=-g.y+(.5-f.y)*v.height:(l||(r=i.getAnchor(),l=i.getRotation()-t.getRotation(),c=Math.cos(l),h=Math.sin(l)),d=-Math.min(-r.x*h-r.y*c,-r.x*h+(1-r.y)*c,(1-r.x)*h-r.y*c,(1-r.x)*h+(1-r.y)*c),a=g.y-(d-f.y)*v.height),"position"===e&&"object"==typeof i._layoutVValue?(i._layoutVValue[0]=v.height,i._layoutVValue[1]=a):i._layoutVValue=[v.height,a,v.height,I.width,I.height,d]}}}},getSerializableProperties:function(){var t=qc.superClass.getSerializableProperties.call(this);return Tn(t,{image:1,host:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,position:1,anchor:1,anchorElevation:1,scale:1,scaleTall:1,_width:1,_height:1,_tall:1,elevation:1}),t}});var ah=s.Edge=function(t,e){var i=this;zn(ah,i),i.setSource(t),i.setTarget(e)};ws("Edge",Al,{ms_edge:!0,_icon:"edge_icon",getUIClass:function(){return $h},_22Q:function(){return Bf},getSource:function(){return this._source},getTarget:function(){return this._target},getSourceAgent:function(){return this._40I},getTargetAgent:function(){return this._41I},canSetSourceTarget:function(t){if(t===this)return!1;if(Cn(t))return!0;for(var e,i,n,o,a=[this],r=-1,s=0;s>r;)if(e=a[++r]._44I)for(n=0,o=(e=e.getArray()).length;o>n;n++)if(i=e[n],mn(i)&&!(a.indexOf(i)>=0)){if(i===t)return!1;a.push(i),s++}return!0},setSource:function(t){var e=this;if(e._source!==t&&e.canSetSourceTarget(t)){var i=e._source;e._source=t,i&&i._16I(e),t&&t._2I(e),e._7I(),e.fp("source",i,t)}},setTarget:function(t){var e=this;if(e._target!==t&&e.canSetSourceTarget(t)){var i=e._target;e._target=t,i&&i._18I(e),t&&t._4I(e),e._7I(),e.fp("target",i,t)}},isLooped:function(){var t=this;return t._source===t._target&&Cn(t._source)&&Cn(t._target)},onPropertyChanged:function(){this._49I&&this._49I.each(function(t){t.fp("agentChange",!0,!1)})},_7I:function(){var t,e=this,i=function(t){if(t.isLooped())return t._source;var e=Ol(t._source),i=Ol(t._target);return e===i?t._source:Ul(e,i)}(e);e._40I!==i&&((t=this._40I)&&t._15I(e),e._40I=i,i&&i._1I(e),e.fp("sourceAgent",t,i),Fl(t,e._41I),Fl(i,e._41I));var n=function(t){if(t.isLooped())return t._target;var e=Ol(t._source),i=Ol(t._target);return e===i?t._target:Ul(i,e)}(e);e._41I!==n&&((t=e._41I)&&t._17I(e),e._41I=n,n&&n._3I(e),e.fp("targetAgent",t,n),Fl(t,e._40I),Fl(n,e._40I))},_22I:function(t){this._52I=t,this.fp("edgeGroup",!0,!1)},getEdgeGroup:function(){return this._52I},isEdgeGroupHidden:function(){var t=this;return t._52I&&t._52I.get(0)!==t&&!t.getStyle($t)},getEdgeGroupSize:function(){return this._52I?this._52I.size():1},getEdgeGroupIndex:function(){return this._52I?this._52I.indexOf(this):0},isEdgeGroupAgent:function(){var t=this,e=t._52I;return e&&!t.getStyle($t)&&e.size()>1&&t===e.get(0)},toggle:function(){var t=this._52I,e=!this.s($t);t&&t.size()>1&&(t.each(function(t){t.s($t,e)}),t.getSiblings().each(function(e){e!==t&&e.each(function(t){t.fp("edgeGroup",r,e)})}))},setStyle:function(t,e){var i;(t===Kt||"edge.segments"===t)&&(e=_n(i=e)?new ml(i):i),ah.superClass.setStyle.call(this,t,e)},onStyleChanged:function(t){ah.superClass.onStyleChanged.apply(this,arguments),El[t]&&Fl(this._41I,this._40I)},getSerializableProperties:function(){var t=ah.superClass.getSerializableProperties.call(this);return Tn(t,{source:1,target:1}),t}});var rh=s.Group=function(){zn(rh,this)};ws("Group",qc,{_image:"group_image",_icon:"group_icon",_57O:!1,getUIClass:function(){return yh},onChildAdded:function(){rh.superClass.onChildAdded.apply(this,arguments),this._81I()},onChildRemoved:function(){rh.superClass.onChildRemoved.apply(this,arguments),this._81I()},_81I:function(){var t=this;if(!t._54I&&!Mi){var e=t.getChildrenRect();e&&(t._53I=1,t.p(za(t.s("group.position"),e,t.getSize())),delete t._53I)}},getChildrenRect:function(){var t,e=this;return e.eachChild(function(i){Cn(i)&&(t=rs(t,e.getChildRect(i)))}),t},getChildRect:function(t){var e;return Cn(t)&&t.s(Et)&&(wn(t)&&t.isExpanded()&&t.eachChild(function(i){e=rs(e,t.getChildRect(i))}),!e&&t.getRect&&(e=t.getRect())),e},setPosition:function(t,e){var i,n=this;n._54I||(i=2===arguments.length?{x:t,y:e}:t,Mi||n._53I||(n._54I=1,Ta(n._children,i.x-n._position.x,i.y-n._position.y),delete n._54I),rh.superClass.setPosition.call(this,i))},toggle:function(){this.setExpanded(!this.isExpanded())},isExpanded:function(){return this._57O},setExpanded:function(t){var e=this;if(e._57O!==t){var i=e._57O;e._57O=t,e.fp("expanded",i,e._57O),e._fireInvalidateDeep(),e._8I()}},_fireInvalidateDeep:function(){this.eachChild(function(t){wn(t)?t._fireInvalidateDeep():t.iv()})},_8I:function(){rh.superClass._8I.call(this),this.eachChild(function(t){Cn(t)&&t._8I()})},onStyleChanged:function(t){rh.superClass.onStyleChanged.apply(this,arguments),"group.position"===t&&this._81I()},getSerializableProperties:function(){var t=rh.superClass.getSerializableProperties.call(this);return t.expanded=1,t}});var sh=s.Block=function(){zn(sh,this)};ws("Block",qc,{_icon:"block_icon",_clickThroughEnabled:!1,_syncSize:!0,ms_ac:["clickThroughEnabled","syncSize"],getUIClass:function(){return Ch},onChildAdded:function(){sh.superClass.onChildAdded.apply(this,arguments),this.updateFromChildren()},onChildRemoved:function(){sh.superClass.onChildRemoved.apply(this,arguments),this.updateFromChildren()},updateFromChildren:function(){var t=this;if(!Mi&&!t._updatingToChildren&&t._syncSize&&!t._freezeSyncFromChildren){var e,i,n,o,a,r=[],s=t.getRotation();if(t.eachChild(function(t){Cn(t)&&r.push.apply(r,t.getCorners())}),r.length){t._updatingFromChildren=1;var l=T(-s),c=S(-s),h=1/0,d=-1/0,g=1/0,u=-1/0;for(o=0,a=r.length;a>o;o++)e=(n=r[o]).x,i=n.y,n.x=l*e-c*i,n.y=c*e+l*i,h=x(h,n.x),d=M(d,n.x),g=x(g,n.y),u=M(u,n.y);var f,v=t.getScale();t.setSize(D((d-h)/v.x),D((u-g)/v.y)),v.x<0&&(f=h,h=d,d=f),v.y<0&&(f=g,g=u,u=f),l=T(s),c=S(s);var p=t.getAnchor();e=h+(d-h)*p.x,i=g+(u-g)*p.y,t.setPosition(l*e-c*i,c*e+l*i),delete t._updatingFromChildren}}},setPosition:function(t,e){var i,n=this;n._updatingToChildren||(i=2===arguments.length?{x:t,y:e}:t,Mi||n._updatingFromChildren||(n._updatingToChildren=1,Ta(n._children,i.x-n._position.x,i.y-n._position.y),delete n._updatingToChildren),sh.superClass.setPosition.call(this,i))},setWidth:function(t){return this.setSize(t,this.getHeight())},setHeight:function(t){return this.setSize(this.getWidth(),t)},setSize:function(t,e){1>t&&(t=1),1>e&&(e=1);var i=this;if(!i._updatingToChildren){2!==arguments.length&&(e=t.height,t=t.width);var n=i.getWidth(),o=i.getHeight();if(t!==n&&sh.superClass.setWidth.call(i,t),e!==o&&sh.superClass.setHeight.call(i,e),!Mi&&!i._updatingFromChildren){i._updatingToChildren=1;var a=t/n,r=e/o;i._adjustChildScaleOrSize(a,r,"size"),delete i._updatingToChildren,i.updateFromChildren()}}},_adjustChildScaleOrSize:function(t,e,i){var n=this;if(n._syncSize){var o=n.getPosition(),a=n.getRotation();n.getScale(),n.eachChild(function(n){if(Cn(n)){var r=n.getPosition(),l=n.getRotation(),c=n.getWidth(),h=n.getHeight(),d=n.getScale(),g=d.x*c,u=d.y*h,f=new gl(l,r.x,r.y,g,u);f.translate(-o.x,-o.y),f.rotate(-a),l=P(f.b*Math.sign(g),f.a*Math.sign(g)),f.scale(t,e);var v,p,I,_=T(l);if(Math.abs(_)<.001?(v=S(l),p=f.b/v,I=-f.c/v):(p=f.a/_,I=f.d/_),"scale"===i)n.setScale(p/c,I/h);else if("size"===i){var y=p/d.x,C=I/d.y;n.setScale(Rn(p)*Math.abs(d.x),Rn(I)*Math.abs(d.y)),n instanceof s.Shape?(n.setWidthForce(Math.max(Math.abs(y),1e-5)),n.setHeightForce(Math.max(Math.abs(C),1e-5))):n.setSize(Math.max(.01,Math.abs(y)),Math.max(.01,Math.abs(C)))}f.rotate(a),f.translate(o.x,o.y),n.setPosition(f.tx,f.ty)}})}},_calcChangeFactor:function(t,e,i,n){var o,a,r;return r=(o=D(t))>(a=D(i))?o/a:a/o,o=D(e),a=D(n),M(r,o>a?o/a:a/o)},setAnchor:function(){var t=this;if(!t._updatingToChildren){var e=t.getAnchor();if(sh.superClass.setAnchor.apply(t,arguments),!Mi&&!t._updatingFromChildren&&t._syncSize){t._updatingToChildren=1;var i=t.getAnchor();t.getPosition();var n=t.getSize(),o=t.getScale(),a=t.getRotation(),r=-n.width*o.x*(e.x-i.x),s=-n.height*o.y*(e.y-i.y),l=S(a),c=T(a),h=c*r-l*s,d=l*r+c*s;t.eachChild(function(t){if(Cn(t)){var e=t.getPosition();t.setPosition(e.x-h,e.y-d)}}),delete t._updatingToChildren}}},setRotation:function(t){var e=this;if(!e._updatingToChildren){var i=e.getRotation();if(sh.superClass.setRotation.apply(e,arguments),!Mi&&!e._updatingFromChildren){e._updatingToChildren=1;var n=e.getPosition(),o=t-i;e.eachChild(function(t){if(Cn(t)){var e=t.getMatrix();e.translate(-n.x,-n.y),e.rotate(o),e.translate(n.x,n.y);var i=Math.sign(t.getScale().x);t.setRotation(P(e.b*i,e.a*i)),t.setPosition(e.tx,e.ty)}}),delete e._updatingToChildren}}},setScale:function(t,e){var i=this;if(!i._updatingToChildren){null==e&&(e=t.y,t=t.x);var n=i.getScale();if(D(t)<.01&&(t=.01*(Rn(t)||Rn(n.x))),D(e)<.01&&(e=.01*(Rn(e)||Rn(n.y))),sh.superClass.setScale.call(i,t,e),!Mi&&!i._updatingFromChildren){i._updatingToChildren=1;var o=t/n.x,a=e/n.y;i._adjustChildScaleOrSize(o,a,"size"),delete i._updatingToChildren,i.updateFromChildren()}}},getSerializableProperties:function(){var t=sh.superClass.getSerializableProperties.call(this);return t.clickThroughEnabled=1,t.syncSize=1,t}});var lh=s.Grid=function(){zn(s.Grid,this)};ws("Grid",qc,{IRotatable:!1,_icon:"grid_icon",_image:r,getUIClass:function(){return wh},setRotation:function(){},getCellRect:function(t,e){var i=this,n=i.s("grid.row.count"),o=i.s("grid.column.count");if(0>=n||0>=o||0>t||t>=n||0>e||e>=o)return r;var a,s,l,c=i.getRect(),h=i.s("grid.row.percents"),d=i.s("grid.column.percents");if(Ll(c,i,"grid.border",-1),h&&h._as&&(h=h._as),d&&d._as&&(d=d._as),h&&h.length===n){for(l=0,a=0;t>a;a++)l+=c.height*h[a];c.y+=l,c.height=c.height*h[t]}else c.height=c.height/n,c.y+=c.height*t;if(d&&d.length===o){for(s=0,a=0;e>a;a++)s+=c.width*d[a];c.x+=s,c.width=c.width*d[e]}else c.width=c.width/o,c.x+=c.width*e;return gs(c,-i.s("grid.gap")),c}});var ch=s.Text=function(){zn(ch,this),this.setSize(100,50),this.s("text","TEXT")};ws("Text",qc,{_icon:"text_icon",_image:"__text__",getUIClass:function(){return bh},setWidth:function(t){t||(t=.001),ch.superClass.setWidth.call(this,t)},setHeight:function(t){t||(t=.001),ch.superClass.setHeight.call(this,t)},toLabel:function(){return this._displayName||this._name||this.s("text")}}),Rr("__text__",{width:{value:100,isSafeFunc:!0,func:function(t){return t._width}},height:{value:50,isSafeFunc:!0,func:function(t){return t._height}},comps:[{type:"text",relative:!0,rect:[0,0,1,1],text:{func:"style@text"},align:{func:"style@text.align"},vAlign:{func:"style@text.vAlign"},color:{func:"style@text.color"},font:{func:"style@text.font"},shadow:{func:"style@text.shadow"},shadowColor:{func:"style@text.shadow.color"},shadowBlur:{func:"style@text.shadow.blur"},shadowOffsetX:{func:"style@text.shadow.offset.x"},shadowOffsetY:{func:"style@text.shadow.offset.y"},scaleX:{func:"style@text.scale.x"},scaleY:{func:"style@text.scale.y"}}]});var hh=s.Shape=function(){zn(hh,this),this._59O=new ml};hh.__de__=ic,ws("Shape",qc,{ms_ac:["thickness","closePath"],_icon:"shape_icon",_thickness:10,_closePath:!1,getUIClass:function(){return nd},_22Q:function(){return Of},getLength:function(t){return Qn(aa(this._59O,this._58O,t,this._closePath))},getSegments:function(){return this._58O},toSegments:function(){var t=this._58O;return t?new ml(t._as.slice(0)):t},setSegments:function(t){var e=this._58O;t=t?_n(t)?new ml(t.slice(0)):new ml(t._as.slice(0)):null,(e&&t&&e._as.join(",")!==t._as.join(",")||e!==t)&&(this._58O=t,this.fp("segments",e,t))},getPoints:function(){return this._59O},toPoints:function(){var t=this._59O;return new ml(t._as.slice(0))},setPoints:function(t,e){var i,n,o,a,r,s,l=this,c=l._59O;t=t?_n(t)?new ml(t.slice(0)):new ml(t._as.slice(0)):new ml,e&&(i=l.getPosition(),s=new gl(l.getRotation(),0,0,l.getScale().x,l.getScale().y)),(c&&t&&c._as.join(",")!==t._as.join(",")||c!==t)&&(l._59O=t,l.fs(),l.fp("points",c,t)),e&&(o=(n=l.getPosition()).x-i.x,a=n.y-i.y,r=s.tf(o,a),l.setPosition(n.x-o+r.x,n.y-a+r.y))},addPoint:function(t,e,i){var n=this.toPoints();n.add(t,e),this.setPoints(n,i)},setPoint:function(t,e,i){var n=this.toPoints();n.set(t,e),this.setPoints(n,i)},removePointAt:function(t){var e=this.toPoints();e.removeAt(t),this.setPoints(e)},setWidthForce:function(t){var e=this;if(!e._55I&&!Mi&&e.getWidth()){e._55I=1;var i=e._position.x,n=t/e.getWidth(),o=e.toPoints(),a=new ml;o.each(function(t){a.add({x:(t.x-i)*n+i,y:t.y,e:t.e})}),e.setPoints(a),na(e,[n,0,0,1,i*(1-n),0]),e.fs(),delete e._55I}hh.superClass.setWidth.call(e,t)},setWidth:function(t){return this.setWidthForce(1>t?1:t)},setHeightForce:function(t){var e=this;if(!e._55I&&!Mi&&e.getHeight()){e._55I=1;var i=e._position.y,n=t/e.getHeight(),o=e.toPoints(),a=new ml;o.each(function(t){a.add({x:t.x,y:(t.y-i)*n+i,e:t.e})}),e.setPoints(a),na(e,[1,0,0,n,0,i*(1-n)]),e.fs(),delete e._55I}hh.superClass.setHeight.call(e,t)},setHeight:function(t){return this.setHeightForce(1>t?1:t)},setAnchorElevation:function(t){var e=this;e._55I=!0;var i=e._updatingAnchor3d;if(!Mi&&!i){var n,o=t,a=e.getAnchorElevation();n=e.getTall()*(a-o),e.shiftPointsElevation(n)}var r=hh.superClass.setAnchorElevation.apply(e,arguments);return i||delete e._55I,r},getShapeElevation:function(){var t=this;return t._54O-(t.getTall()||0)*(t._anchorElevation-.5)},setAnchor3d:function(t,e,i,n){var o,a=this;"number"==typeof t?o={x:t,y:e,z:i}:(o=t.length?{x:t[0],y:t[1],z:t[2]}:t,n=e),a._55I=!0,a._updatingAnchor3d=!0;var r=a.getDataModel();if(r&&r.beginTransaction(),!Mi){var s=a.getAnchor3d(),l=a.getSize(),c=a.getTall(),h=l.width*(s.x-o.x),d=l.height*(s.z-o.z),g=c*(s.y-o.y);n||a.shiftPoints(h,d,g);var u=a.p3()}var f=hh.superClass.setAnchor3d.apply(a,arguments);if(!Mi&&n){var v=a.p3();a.shiftPoints(v[0]-u[0]+h,v[2]-u[2]+d,v[1]-u[1]+g)}return r&&r.endTransaction(),delete a._updatingAnchor3d,delete a._55I,f},setAnchor:function(t,e,i){var n=this;n._55I=!0;var o=n._updatingAnchor3d,a=!Mi&&!o;if(a){var r,s,l;"number"==typeof t?l={x:t,y:e}:(l=t.length?{x:t[0],y:t[1]}:t,i=e);var c=n.getAnchor(),h=n.getSize();r=h.width*(c.x-l.x),s=h.height*(c.y-l.y),i||n.shiftPoints(r,s);var d=n.getPosition()}var g=hh.superClass.setAnchor.apply(n,arguments);if(a){var u=n.getPosition();i&&n.shiftPoints(u.x-d.x+r,u.y-d.y+s)}return o||delete n._55I,g},shiftPoints:function(t,e,i){var n=this,o=n.getElevation()||0,a=n.toPoints(),s=new ml;a.each(function(n){var a=n.e;i&&(a=(a==r?o:a)+i),s.add({x:n.x+t,y:n.y+e,e:a})}),n.setPoints(s),n.fs()},shiftPointsElevation:function(t){return this.shiftPoints(0,0,t)},setPosition:function(t,e){var i,n=this;if(!n._28Q){if(n._28Q=1,!n._55I&&!Mi){var o=(i=2===arguments.length?{x:t,y:e}:t).x-n._position.x,a=i.y-n._position.y;if(0===o&&0===a)return void delete n._28Q;n._55I=1,n.shiftPoints(o,a),na(n,[1,0,0,1,o,a]),delete n._55I}hh.superClass.setPosition.apply(n,arguments),delete n._28Q}},fs:function(){this.fireShapeChange()},_70I:function(){if(2!==this._59O.size())return!1;var t=this._58O;return!t||2===t.size()&&1===t.get(0)&&2===t.get(1)},fireShapeChange:function(){var t=this;if(!t._55I&&!Mi){var e=as(t._59O);e&&(t._55I=1,t.setRect(e),delete t._55I)}t.fp(xt,!1,!0)},getSerializableProperties:function(){var t=hh.superClass.getSerializableProperties.call(this);return t.segments=1,t.points=1,t.thickness=1,t.closePath=1,t}});var dh=s.Polyline=function(){zn(dh,this),this.s({"shape.background":null,"shape.border.width":2})};ws("Polyline",hh,{_icon:"polyline_icon",_22Q:function(){return Uf},getUIClass:function(){return mh},setClosePath:function(){},setTall:function(t){var e=this;if(!e._55I&&!e._24Q&&!Mi&&e.getTall()){e._24Q=1;var i=e._54O,n=t/e.getTall();e._59O.each(function(t){t.e=t.e==r?i:(t.e-i)*n+i}),e.fs(),delete e._24Q}dh.superClass.setTall.call(e,t)},setElevation:function(t){var e=this;if(!e._55I&&!e._24Q&&!Mi){e._24Q=1;var i=t-e._54O;e._59O.each(function(e){e.e==r?e.e=t:e.e+=i}),e.fs(),delete e._24Q}dh.superClass.setElevation.apply(e,arguments)},fireShapeChange:function(){var t=this,e=t._59O;if(!t._55I&&!t._24Q&&!Mi){var i=e.size();if(i){var n=1,o=e.get(0),a=t._54O;o.e==r&&(o.e=a);for(var s=o.e,l=0;i>n;n++){(o=e.get(n)).e==r&&(o.e=a);var c=x(s,o.e),h=M(s+l,o.e);s=c,l=h-c}t._24Q=1,t.setTall(l),t.setElevation(s+l*t._anchorElevation),delete t._24Q}}dh.superClass.fireShapeChange.apply(t,arguments)}});var gh=s.SubGraph=function(){zn(gh,this)};ws("SubGraph",qc,{ISubGraph:1,_image:"subGraph_image",_icon:"subGraph_icon",_8I:function(){gh.superClass._8I.call(this),this.eachChild(function(t){Cn(t)&&t._8I()})}}),c.loadingRefGraph=0;var uh=s.RefGraph=function(){zn(uh,this)};ws("RefGraph",sh,{_icon:"refGraph_icon",getRef:function(){return this._ref},setRef:function(t){var e=this._ref;this._ref=t,this.fp("ref",e,t),this.updateRef()},_21I:function(){uh.superClass._21I.apply(this,arguments),this.updateRef()},updateRef:function(){var t=this;if(c.loadingRefGraph++,t.clearChildrenFromDataModel(),c.loadingRefGraph--,t._ref&&t._dataModel){t._xhrLoadHandler&&(t._xhrLoadHandler.cancel=!0);var e=Mi,i=t._xhrLoadHandler=function(i){if(i&&t._dataModel){c.loadingRefGraph++;var n=t._pendingUpdateInfo={needToRestore:e};e&&(n.position=t.p(),n.width=t.getWidth(),n.height=t.getHeight(),n.rotation=t.getRotation(),n.anchor=t.getAnchor(),n.scale=t.getScale()),t.p(0,0),t.setAnchor(.5,.5),t.setRotation(0),t.setScale(1,1);var o=c.parse(i),a=t._dataModel.deserialize(o,t,{justDatas:!0});a.each(function(e){e._refGraph=t}),t.checkPendingUpdateInfo(),c.loadingRefGraph--,c.handleRefGraphLoaded(t,a,o)}};i.xhrLoadCalled=!1,c.load(t._ref,function(t){i.cancel||(i.xhrLoadCalled?i(t):Ur(function(){i(t)}))}),i.xhrLoadCalled=!0}},checkPendingUpdateInfo:function(){var t=this,e=t._pendingUpdateInfo;if(e){var i=!0;this.eachChild(function(t){(t._pendingCheckImageJSON||t._pendingUpdateInfo)&&(i=!1)}),i&&(c.loadingRefGraph++,t._pendingUpdateInfo=null,t.updateFromChildren(),e.needToRestore&&(t.setSize(e.width,e.height),t.setAnchor(e.anchor),t.setRotation(e.rotation),t.setScale(e.scale),t.p(e.position)),this.getParent()instanceof uh&&this.getParent().checkPendingUpdateInfo(),t.onPendingUpdated&&t.onPendingUpdated(),c.loadingRefGraph--)}else t.onPendingUpdated&&(c.loadingRefGraph++,t.onPendingUpdated(),c.loadingRefGraph--)},getSerializableProperties:function(){var t=uh.superClass.getSerializableProperties.call(this);return t.ref=1,t}}),s.EdgeGroup=function(t,e){this._70O=t,this._siblings=e;for(var i,n,o=0,a=t.size(),s=h[$t];a>o;o++)if((i=t.get(o).getStyle($t,!1))!=r){s=i;break}s==r&&(s=!0);var l=c.edgeGroupAgentFunc;for(l&&((n=l(t))&&n!==t.get(0)&&(t.remove(n),t.add(n,0))),o=0;a>o;o++)t.get(o).s($t,s)},ws("EdgeGroup",i,{getEdges:function(){return this._70O},size:function(){return this._70O.size()},get:function(t){return this._70O.get(t)},indexOf:function(t){return this._70O.indexOf(t)},each:function(t,e){this._70O.each(t,e)},getSiblings:function(){return this._siblings},eachSiblingEdge:function(t,e){this._siblings.each(function(i){i._70O.each(t,e)})}});Tn(c,{setConnectAction:function(t,e,i){var n=Zi[t]={type:t,action:e};if(i)for(var o in i)n[o]=i[o]},getConnectAction:function(t,e){if(!e){if(!t)return null;e=t.getCurrentConnectActionType()}return Zi[e]},doConnectAction:function(t,e,i,n){n=n||t.getCurrentConnectActionType();var o=Zi[n];if(!o)return!1;var a=o.action;return!!a&&(e instanceof Ph.Group?t.sm().getSelection().each(function(e){a.call(null,t,e,i)}):a.call(null,t,e,i),!0)},doDeleteConnectionAction:function(t,e,i){i=i||t.getCurrentConnectActionType();var n=Zi[i];if(!n||!n.delete)return!1;var o=n.delete.action;return!!o&&(e instanceof Ph.Group?t.sm().getSelection().each(function(e){o.call(null,t,e)}):o.call(null,t,e),!0)}});var fh=s.JSONSerializer=function(t,e){this.dm=this._dataModel=t,this._hierarchical=!!c.forceHierarchicalSerialization||(e==r?t.isHierarchicalRendering():e)};ws("JSONSerializer",i,{ms_ac:["hierarchical"],serialize:function(t){return c.stringify(this.toJSON(),t)},toJSON:function(){var t=this,e=t.dm,i=e.getRoots(),o=t.json={v:c.getVersion(),p:{},a:{},d:[]},a=e.getSerializableAttrs();for(var r in e.getInit()&&(o.init=e.getInit()),e.getName()&&(o.p.name=e.getName()),e.getBackground()&&(o.p.background=e.getBackground()),e.getLayers()&&(o.p.layers=e.getLayers()),e.getEnvmap()&&(o.p.envmap=e.getEnvmap()),o.p.autoAdjustIndex=e.isAutoAdjustIndex(),o.p.hierarchicalRendering=e.isHierarchicalRendering(),a){var s=e.a(r);s!==n&&t[We](r,s,o.a)}return kn(o.a)&&delete o.a,t._hierarchical?i.each(t.serializeData,this):e.each(function(e){t.serializeData(e)}),e.fireSerializeEvent({type:"serialize",json:o}),e.getPostProcessingData()&&(o.p.postProcessingData=e.getPostProcessingData()),o},isSerializable:function(){return!0},getProperties:function(t){return t.getSerializableProperties()},getStyles:function(t){return t.getSerializableStyles()},getAttrs:function(t){return t.getSerializableAttrs()},serializeData:function(t){var e=this;if(e.isSerializable(t)&&!t._refGraph){var i,o,a,r=new(Fr(t.getClassName())||t.getClass()),l={c:t.getClassName(),i:t.getId(),p:{},s:{},a:{}};for(i in e.json.d.push(l),e.getProperties(t))if(/^_/.test(i)){var c;if(o=t[i],("_width"===i||"_height"===i)&&o===n)((t.s("layout.h")||t.s("layout.v"))&&t.getHost()||t instanceof s.Node&&(c=t.getParent())&&c instanceof s.Block||t.s("fullscreen"))&&(o=t[i]="_width"===i?t.getWidth():t.getHeight());o!==r[i]&&e[We](i.substr(1),o,l.p)}else t[a=dn(i)]&&((o=t[a]())!==r[a]()&&e[We](i,o,l.p));for(i in e.getStyles(t))(o=t.s(i))!==r.s(i)&&e[We](i,o,l.s);for(i in e.getAttrs(t))(o=t.a(i))!==r.a(i)&&e[We](i,o,l.a);kn(l.p)&&delete l.p,kn(l.s)&&delete l.s,kn(l.a)&&delete l.a}e._hierarchical&&t.getChildren().each(e.serializeData,e)},serializeValue:function(t,e,i){yn(e)?e={__a:e._as}:e instanceof Al&&(e={__i:e.getId()}),i[t]=e},deserialize:function(t,e,i){var n=this;return un(t)&&/.json$/.test(t)?void c.xhrLoad(t,function(t){n.deserializeImpl(t,e,i)}):n.deserializeImpl(t,e,i)},deserializeImpl:function(t,e,i){var n=this,o=n.dm;i=vn(i)?{setId:i}:In(i)?{finishFunc:i}:i||{},(t=n.json=un(t)?c.parse(t):t).a&&t.a.onPreDeserialize&&!i.disableOnPreDeserialize&&t.a.onPreDeserialize(t,o,i.view),o.beginTransaction(),Mi++,n._82I={};var a=new ml,s=new ml,l=0,h=t.d.length;if(i.justDatas||(In(t.init)&&t.init(o),o.setInit(t.init)),!i.justDatas){for(var d in t.a)o.a(d,n[Ge](t.a[d]));for(var g in t.p)o[gn(g)](t.p[g])}for(;h>l;l++){var u=t.d[l],f=new(Fr(u.c)),v=u.i;i.setId&&v!=r&&(f._id=v),n._82I[v]=f,a.add(f),s.add(u)}for(l=0;h>l;l++)n.deserializeData(a.get(l),s.get(l));return a.each(function(t){e&&!t.getParent()&&t.setParent(e),o.add(t)}),o.fireSerializeEvent({type:"deserialize",json:t}),Mi--,o.endTransaction(),t.a&&t.a.onPostDeserialize&&!i.disableOnPostDeserialize&&t.a.onPostDeserialize(t,o,i.view,a),i.finishFunc&&i.finishFunc(t,o,i.view,a),a},deserializeData:function(t,e){for(var i in e.p)t[gn(i)](this[Ge](e.p[i]));for(i in e.s)t.s(i,this[Ge](e.s[i]));for(i in e.a)t.a(i,this[Ge](e.a[i]))},deserializeValue:function(t){if(pn(t)){var e=t.__i;if(e!=r)return this._82I[e];if(e=t.__a,_n(e))return new ml(e)}return t}}),Tn(Ml,{serialize:function(t,e){return new fh(this,e).serialize(t)},toJSON:function(t){return new fh(this,t).toJSON()},deserialize:function(t,e,i){return new fh(this).deserialize(t,e,i)}});var vh=s.OverlappingBox=function(t){this.gv=t,this.boxes={}};ws("OverlappingBox",i,{clear:function(){var t,e=this.boxes;for(t in e)e[t].length=0},isOverlapping:function(t,e){var i,n,o,a,r=this.boxes,s=r[t];for(s?(i=s.rects,n=s.length):s=r[t]={rects:i=[],length:n=0},o=0;n>o;o++)if((a=i[o]).x<e.x+e.w&&a.x+a.w>e.x&&a.y<e.y+e.h&&a.h+a.y>e.y)return!0;return i.length<=n?(i.push(e),s.length++):i[s.length++]=e,!1}}),Tn(c,{fetch:function(t,e){var i="GET",n=!1,o=null,a="";e&&(i=e.method||"GET",n=e.sync,a=e.url,o=e.data||null),t.open(i,a,!n),e.responseType?t.responseType=e.responseType:e.overrideMimeType&&t.overrideMimeType&&t.overrideMimeType(e.overrideMimeType),t.send(o)},convertImageSrc:function(t,e){e&&"function"==typeof e||(e=function(){}),e(t)}});var ph=s.Request=function(){this._xhr=new XMLHttpRequest,this._onloadFunc=function(){},this._errorFunc=function(){}};ws("Request",i,{_responseType:null,_overrideMimeType:"text/plain",send:function(t){var e=this._xhr,i=this.onload,n=this.onerror;this.getResponseType()?t.responseType=this.getResponseType():this.getOverrideMimeType()&&(t.overrideMimeType=this.getOverrideMimeType()),e.onload=i,e.onerror=n,c.fetch(e,t)},onload:function(){},onerror:function(){},getResponseType:function(){return this._responseType},setResponseType:function(t){this._responseType=t},getOverrideMimeType:function(){return this._overrideMimeType},setOverrideMimeType:function(t){this._overrideMimeType=t},getResponseText:function(){var t=this._xhr;return t.response||t.responseText}}),ql.GraphView=function(t){var e=this;e._24I={},e._34I=new ml,e._25I={},e._56I={},e._view=$n(1,e),e._canvas=qn(e._view),e.dm(t||new Ml),this._coreInteractor=new Sh(this),e.setEditable(!1),e.setScrollBarVisible(c.graphViewScrollBarVisible)},tc("GraphView",i,{ms_v:1,ms_gv:1,ms_bnb:1,ms_tip:1,ms_dm:1,ms_lp:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,_52o:1,_51o:1,ms_ac:[de,ge,ce,he,"resettable","editInteractor",se,"zoomable","pannable","rectSelectable","autoScrollZone",ye,"movableFunc","editableFunc","pointEditableFunc","rectEditableFunc","rotationEditableFunc","anchorEditableFunc","rectSelectBackground","rectSelectBorderColor","editPointSize","editPointBorderColor","editPointBackground","hoverDelay"],_zoomable:c.graphViewZoomable,_resettable:c.graphViewResettable,_pannable:c.graphViewPannable,_rectSelectable:c.graphViewRectSelectable,_autoScrollZone:c.graphViewAutoScrollZone,_rectSelectBackground:c.graphViewRectSelectBackground,_rectSelectBorderColor:c.graphViewRectSelectBorderColor,_editPointSize:c.graphViewEditPointSize,_editPointBorderColor:c.graphViewEditPointBorderColor,_editPointBackground:c.graphViewEditPointBackground,_scrollBarColor:Ar,_scrollBarSize:Mr,_autoHideScrollBar:hr,_autoMakeVisible:cr,_currentActionType:null,getCoreInteractor:function(){return this._coreInteractor},getLayers:function(){return this._dataModel.getLayers()},setLayers:function(t){this._dataModel.setLayers(t)},setEditable:function(t){var e=this,i=e.__interactorMap__;if(!i){var n=ql.XEditInteractor;i=e.__interactorMap__={scrollBar:new jh(e),select:new kh(e),edit:n?new n(e):new Lh(e),text:new Vh(e),move:new Eh(e),default:new zh(e),touch:new Rh(e,{editable:!1})}}t?(e._uieditable=!0,e.setInteractors([i.scrollBar,i.select,i.edit,i.text,i.move,i.default,i.touch])):(e._uieditable=!1,e.setInteractors([i.scrollBar,i.select,i.move,i.default,i.touch]))},getCanvas:function(){return this._canvas},_33I:function(t){var e=t.getUIClass();return e?new e(this,t):r},getDataUI:function(t){var e=this,i=e._25I[t._id];return i===n&&(i=e._33I(t),e._25I[t._id]=i),i},getNodeRect:function(t){return c.getNodeRect(this,t)},getFullscreenDatas:function(){return this._dataModel.getFullscreenDatas()},getEdgeInfo:function(t){var e=this.getDataUI(t);return e?(e._79o(),e._78o):null},getEdgeSourcePosition:function(t){var e=this.getDataUI(t),i=e.s,n=e._data._40I;return Gl(this,n,i("edge.source.position"),i("edge.source.offset.x"),i("edge.source.offset.y"),i("edge.source.anchor.x"),i("edge.source.anchor.y"))},getEdgeTargetPosition:function(t){var e=this.getDataUI(t),i=e.s,n=e._data._41I;return Gl(this,n,i("edge.target.position"),i("edge.target.offset.x"),i("edge.target.offset.y"),i("edge.target.anchor.x"),i("edge.target.anchor.y"))},invalidateAll:function(t){var e=this;if(t){for(var i in e._25I){var n=e._25I[i];n&&n.dispose()}e._25I={},e._56I={},e._24I={},e._34I.clear(),e.redraw()}else e.dm().each(function(t){e.invalidateData(t)})},invalidateSelection:function(){var t=this;t.sm().each(function(e){t.invalidateData(e)})},invalidateData:function(t){var e=this;e._24I[t._id]=t,e._21Q(t),e.iv()},_21Q:function(t){var e=this._24I;if(mn(t)&&Li[t.s(qt)]){var i=t.getSourceAgent();i&&i.getAgentEdges().each(function(t){e[t._id]=t}),(i=t.getTargetAgent())&&i.getAgentEdges().each(function(t){e[t._id]=t}),this.iv()}},redraw:function(t){var e=this;e._32I||(t?e._34I.add(t):(e._32I=1,e._34I.clear()),e.iv())},each:function(t,e){var i,n,o=0,a=this.getLayers(),r=this._dataModel,s=r._datas._as,l=s.length;if(a){for(var c=a.length;c>o;o++)if(n=a[o],pn(n)&&(n=n.name),r.isHierarchicalRendering()){if(!1===this._dataModel.eachByHierarchical(function(i){return i._layer===n?e?t.call(e,i):t(i):void 0}))return}else for(var h=0;l>h;h++)if((i=s[h])._layer===n&&!1===(e?t.call(e,i):t(i)))return}else if(r.isHierarchicalRendering())this._dataModel.eachByHierarchical(t,null,e);else for(;l>o;o++)if(i=s[o],!1===(e?t.call(e,i):t(i)))return},reverseEach:function(t,e){var i,n,o,a=this._dataModel,r=a._layers,s=a._datas._as,l=s.length;if(r){for(i=r.length-1;i>=0;i--)if(o=r[i],pn(o)&&(o=o.name),a.isHierarchicalRendering()){if(!1===a.reverseEachByHierarchical(function(i){return i._layer===o?e?t.call(e,i):t(i):void 0}))return}else for(var c=l-1;c>=0;c--)if((n=s[c])._layer===o&&!1===(e?t.call(e,n):t(n)))return}else if(a.isHierarchicalRendering())a.reverseEachByHierarchical(t,null,e);else for(i=l-1;i>=0;i--)if(n=s[i],!1===(e?t.call(e,n):t(n)))return},getViewRect:function(){return this._29I},getContentRect:function(){var t=this,e=t._84I;if(!e){var i=this.dm().a("width"),n=this.dm().a("height");i>0&&n>0?t._84I={x:0,y:0,width:i,height:n}:(t.each(function(i){t.isVisible(i)&&(e=rs(e,t.getDataUIBounds(i)))}),t._84I=e||Yi)}return t._84I},getScrollRect:function(){return rs(this.getContentRect(),this._29I)},makeCenter:function(t,e,i){var n=this;if(n.getWidth()&&n.getHeight()){n.makeVisible(t),n.validate();var o=n.getDataUIBounds(t);if(o){var a=n.getWidth(),r=n.getHeight(),s=o.x+o.width/2,l=o.y+o.height/2,c=-s*n._zoom+a/2,h=-l*n._zoom+r/2;n.setTranslate(c,h,e)}}else i||Ur(n.centerData,n,[t,e,!0],500)},fitData:function(t,e,i,n,o){var a=this;if(a.getWidth()&&a.getHeight()){var s=function(){a.makeVisible(t),a.validate();var o=a.getDataUIBounds(t);o&&(o=Gr(o),gs(o,i==r?20:i),a.fitRect(o,e,n))};e?c.callWhenLoaded(s):s()}else o||Ur(a.fitData,a,[t,e,i,n,!0],500)},fitContent:function(t,e,i,n){var o=this;if(o.getWidth()&&o.getHeight()){var a=function(){o.validate();var n=Gr(o.getContentRect());gs(n,e==r?20:e),o.fitRect(n,t,i)};t?c.callWhenLoaded(a):a()}else n||Ur(o.fitContent,o,[t,e,i,!0],500)},fitRect:function(t,e,i){var n=this,o=n.getWidth(),a=n.getHeight(),r=t.x+t.width/2,s=t.y+t.height/2,l=x(o/t.width,a/t.height),c=n._zoom,h=-r*c+o/2,d=-s*c+a/2;0===l||isNaN(l)||(i&&(l=x(1,l)),e?(n._65I&&(delete n._65I.finishFunc,n._65I.stop(!0)),n._14o&&n._14o.stop(!0),n.setTranslate(h,d,{finishFunc:function(){n.setZoom(l,e)}})):(n.setTranslate(h,d),n.setZoom(l)))},toCanvas:function(t,e){e=e||this._zoom,this.validateImpl();var i=this.getContentRect();i.width||(i.width=10),i.height||(i.height=10);var n=qn(),o=i.x*e,a=i.y*e,r=i.width*e,s=i.height*e;io(n,r,s,1);var l=go(n);return(t=t||this._dataModel.getBackground())&&la(l,0,0,r,s,t),fo(l,-o,-a),l.scale(e,e),this._42(l),l.restore(),n},toDataURL:function(t,e,i){return this.toCanvas(t,i).toDataURL(e||"image/png",1)},getClipBounds:function(){return this._74O},_42:function(t,e){var i=this,n=i.dm().getBackground();if(n){var o=i.dm().a("width"),a=i.dm().a("height");o>0&&a>0&&la(t,0,0,o,a,n)}var r=i.__htmlOrderList,l=[];if(i._93db(t,e),i.each(function(n){var o=i.getDataUI(n);if(o){var a=i._56I[n._id],r=o._htmlView;if(a){var c=o._79o();if(r=o._htmlView,s.HtmlNode&&n instanceof s.HtmlNode)o._42(t);else{var h=i.getViewRect(),d=r&&r.layoutHTML;!e||cs(e,c)?(d&&(r.layoutHTML(),o.__outerLayout&&delete o.__outerLayout),o._42(t)):cs(h,c)||!d||o.__outerLayout||(r.layoutHTML(),o.__outerLayout=!0)}}r&&(l.push(r),r.getView&&(r=r.getView()),r.style.display=a?"block":_t)}}),r&&l.length>0){var c=!1;if(r.length!==l.length)c=!0;else for(var h=0;h<l.length;h++)if(l[h]!==r[h]){c=!0;break}c&&(l.forEach(function(t){i.appendHTML(t,!0)}),this.__htmlOrderList=l)}else this.__htmlOrderList=l;i._92db(t,e)},validateImpl:function(){this.tryUpdateRootData();var t,e,i,n=this,o=n.tx(),a=n.ty(),r=n._zoom,s=n._canvas,l=this.getWidth(),c=this.getHeight(),h=n._29I,d={x:-o/r,y:-a/r,width:l/r,height:c/r},g={},u=n._34I,f=n._24I,v=n._32I,p=n._23I;for(e in n._24I={},(l!==s.clientWidth||c!==s.clientHeight)&&(io(s,l,c),v=1),v||Vn(d,h)||(v=1),n._29I=d,n.each(function(t){e=t._id;var i=g[e]=n.isVisible(t);i!==n._56I[e]&&(f[e]=t,(m=n.getDataUI(f[e]))&&m._84o(i),n._84o(t,i))},n),f)(m=n.getDataUI(f[e]))&&(!v&&n._56I[e]&&((A=m._79o())&&u.add(A)),m.invalidate()),n._83I=1;if(n._56I=g,!v)for(e in f)g[e]&&((m=n.getDataUI(f[e]))&&((A=m._79o())&&u.add(A)));if(v?i=d:(u.each(function(t){cs(d,t)&&(i=rs(i,t))}),i&&(gs(i,M(1,1/r)),i.x=w(i.x*r)/r,i.y=w(i.y*r)/r,i.width=b(i.width*r)/r,i.height=b(i.height*r)/r,i=hs(d,i))),n._74O=i,i){t=go(s);var I=i.x,_=i.y,y=i.width,C=i.height;I=Math.floor((I*r+o)*lr),_=Math.floor((_*r+a)*lr),y=Math.ceil(y*r*lr)+1,C=Math.ceil(C*r*lr)+1,t.beginPath(),t.rect(I,_,y,C),t.clip(),t.clearRect(I,_,y,C),uo(t,o,a,r),n._42(t,i),t.restore(),delete n._74O}if(u.clear(),delete n._32I,p&&l>0&&c>0){var m;if(m=n.getDataUI(p)){var A=m._79o(),x=n._29I,D=x.x,T=x.y,N=x.width,S=x.height;r=n._zoom;A&&!cs(A,x)&&(A.x+A.width<D&&n.tx(-A.x*r),A.x>D+N&&n.tx(-(A.x+A.width-N)*r),A.y+A.height<T&&n.ty(-A.y*r),A.y>T+S&&n.ty(-(A.y+A.height-S)*r))}delete n._23I}n._83I&&(delete n._83I,delete n._84I),n._98O(),n.countFrame(),kn(n._24I)||Ur(n.iv,n)},tryUpdateRootData:function(){var t,e=this.getFullscreenDatas();for(var i in e)t=e[i],this.scaleRootData(t)},scaleRootData:function(t){var e=t.s("fullscreen");if("uniform"===e||"fill"===e){t.setRotation(0);var i,n=t.s("fullscreen.gap")||0,o=this.getWidth()-2*n,a=this.getHeight()-2*n,r=t.getAnchor(),s=t.getScaledSize(),l=s.width,c=s.height,h=t.s("fullscreen.lock");if(h)return"uniform"===e?o/a>l/c?(i=a/c,l=c*o/a):(i=o/l,c=l*a/o):"v"===h?(l=o/(i=a/c),t.setWidth(l)):(c=a/(i=o/l),t.setHeight(c)),this.setZoom(i),this.tx(n-(t.getX()-r.x*l)*i),void this.ty(n-(t.getY()-r.y*c)*i);var d=this.tx(),g=this.ty(),u={x:(-d+n)/(i=this._zoom),y:(-g+n)/i,width:o/i,height:a/i};if("uniform"===e){var f=l/c,v=Math.min(u.width,u.height*f),p=v/f;u.x+=.5*(u.width-v),u.y+=.5*(u.height-p),u.width=v,u.height=p}t.setSize(u.width/t.getScaleX(),u.height/t.getScaleY()),t.setPosition(u.x+r.x*u.width,u.y+r.y*u.height)}},isScrollBarVisible:function(){return!!this._79O},setScrollBarVisible:function(t){var e=this;t!==e.isScrollBarVisible()&&(t?(no(e._view,e._79O=Kn()),no(e._79O,e._27I=Kn()),no(e._79O,e._28I=Kn())):(ps(e._79O),delete e._79O,delete e._27I,delete e._28I),e.fp("scrollBarVisible",!t,t))},getDebugTip:function(){return""},showScrollBar:function(){var t=this;t._79O&&(t._85I||(Q(function(){t._86I()},xr),t.iv()),t._85I=new Date)},_86I:function(){var t=this;t._85I&&((new Date).getTime()-t._85I.getTime()>=xr?(delete t._85I,t.iv()):Q(function(){t._86I()},xr))},getVScrollBar:function(){return this._27I},getHScrollBar:function(){return this._28I},_98O:function(){var t=this,e=this._27I,i=this._28I;if(t._79O){if(t._autoHideScrollBar&&!t._85I)return e.style.visibility=ee,void(i.style.visibility=ee);var n=t.getScrollBarColor(),o=t._zoom,a=t.getScrollBarSize(),r=t.getViewRect(),s=t.getScrollRect(),l=r.height*o,c=s.height*o,h=r.width*o-a-2,d=l*((r.y-s.y)*o/c),g=l*(l/c),u=e.style;c-.5>l?(Dr>g&&(0>(d=d+g/2-Dr/2)&&(d=0),d+Dr>l&&(d=l-Dr),g=Dr),Co(e,h,d,a,g),u.visibility=ie,u.background=n,u.borderRadius=a/2+yt):u.visibility=ee;var f=r.width*o,v=s.width*o,p=(d=r.height*o-a-2,h=f*((r.x-s.x)*o/v),f*(f/v));u=i.style;v-.5>f?(Dr>p&&(0>(h=h+p/2-Dr/2)&&(h=0),h+Dr>f&&(h=f-Dr),p=Dr),Co(i,h,d,p,a),u.visibility=ie,u.background=n,u.borderRadius=a/2+yt):u.visibility=ee}},setDataModel:function(t){var e=this,i=e._dataModel,n=e._selectionModel;i!==t&&(i&&(i.ump(e.handleDataModelPropertyChange,e),i.umm(e.handleDataModelChange,e),i.umd(e.handleDataPropertyChange,e),i.removeIndexChangeListener(e._75O,e),i.removeHierarchyChangeListener(e.handleHierarchyChange,e),n||i.sm().ums(e.handleSelectionChange,e)),e._dataModel=t,t.mp(e.handleDataModelPropertyChange,e),t.mm(e.handleDataModelChange,e),t.md(e.handleDataPropertyChange,e),t.addIndexChangeListener(e._75O,e),t.addHierarchyChangeListener(e.handleHierarchyChange,e),n?n._21I(t):t.sm().ms(e.handleSelectionChange,e),e.invalidateAll(!0),e.fp(Ve,i,t),e.updateBackground())},getLayersInfo:function(){if(this._layersInfo===n){var t=this.getLayers();t?(this._layersInfo={},t.forEach(function(t){var e=pn(t)?t.name:t;this._layersInfo[e]=t},this)):this._layersInfo=null}return this._layersInfo},calculateEdgePosition:function(t,e,i){var n,o,a=this,r=a.getDataUI(t),s=ac(r),l=function(t,e,i,n){function o(i){if(i>=0&&1>=i){s=e(i);var n=(t.x-s.x)*(t.x-s.x)+(t.y-s.y)*(t.y-s.y);return a>n&&(a=n,r=i,!0)}}i=i||100,n=n||1e-5;for(var a=1/0,r=0,s=new fl,l=0;i>l;++l)o(l/i);for(var c=1/(2*i);c>n;)o(r-c)||o(r+c)||(c/=2);return r}(e,function(t){return cc(s,100*t)},100,.001),c=cc(s,100*l);if(!i){var h=hc(r),d=new fl(c.x,c.y),g=49/(a._zoom*a._zoom);for(n=0,o=h.length;o>n;n++)if(d.distanceToSquared(h[n])<g)return{index:n,point:h[n],distance:Math.sqrt((h[n].x-e.x)*(h[n].x-e.x)+(h[n].y-e.y)*(h[n].y-e.y))}}return{percent:l,point:c,distance:Math.sqrt((c.x-e.x)*(c.x-e.x)+(c.y-e.y)*(c.y-e.y))}},calculateAttachPoint:function(){var t=new fl,e=new fl,i=new fl;return function(n,o){var a=this.getAttachPoints(n);if(!a||!a.length)return null;i.set(o.x,o.y);for(var r,s,l,c,h=1/0,d=0,g=a.length;g>d;d++)l=a[d],e.x=l.x,e.y=l.y,t.x=l.offsetX||0,t.y=l.offsetY||0,c=Gl(this,n,0,t.x,t.y,e.x,e.y),h>(s=i.distanceToSquared(c))&&(r=d,h=s);if((h=Math.sqrt(h),"close"===this.getAttachStyle(n))&&h>n.s("attach.close.threshold")/this._zoom)return null;return{index:r,distance:h,info:a[r]}}}(),getAttachPoints:function(t){var e=t.s("attach.points");if(e)return e;var i=Pr(t._image);return i?sl(i.attachPoints,t,this)||null:void 0},getAttachStyle:function(t){var e=t.s("attach.style");if(e)return e;var i=Pr(t._image);return i?sl(i.attachStyle,t,this)||"close":void 0},updateLayers:function(){this._layersInfo=n,this.invalidateSelection(),this.redraw()},updateBackground:function(){var t=this.dm().a("width"),e=this.dm().a("height");this._canvas.style.background=t>0&&e>0?"":this.dm().getBackground()||""},handleDataModelPropertyChange:function(t){if("background"===t.property){var e=this._canvas.style.background,i=t.newValue||"";this.updateBackground(),this.fp("canvasBackground",e,i),this.redraw()}else"a:width"===t.property||"a:height"===t.property?(this._83I=1,this.updateBackground(),this.redraw()):"layers"===t.property?this.updateLayers():"hierarchicalRendering"===t.property&&this.redraw()},handleDataPropertyChange:function(t){this.dm().isHierarchicalRendering()&&"parent"===t.property&&t.data.hasChildren()&&this.redraw(),this.invalidateData(t.data)},onPropertyChanged:function(t){var e=this,i=t.property;if(e.redraw(),"zoom"===i){var n=e.sm().getSelection();n.size()&&n.each(function(t){t.invalidate()})}Sl[i]?e.showScrollBar():i===se&&e.onCurrentSubGraphChanged(t)},onCurrentSubGraphChanged:function(){this.sm().cs(),this.reset()},handleDataModelChange:function(t){var e=this,i=t.kind,n=t.data;if(e._83I=1,"add"===i)e.invalidateData(n),mn(n)&&n.getEdgeGroup()&&n.getEdgeGroup().eachSiblingEdge(e.invalidateData,e);else if(i===Nt){e._21Q(n);var o=n._id,a=e._25I[o];if(a){if(e._56I[o]){var s=a._79o();s&&e.redraw(s)}a.dispose(),delete e._25I[o],delete e._24I[o],delete e._56I[o]}n===e._currentSubGraph&&e.setCurrentSubGraph(r)}else i===St&&(e.invalidateAll(!0),e.setCurrentSubGraph(r))},_75O:function(t){this.invalidateData(t.data)},handleHierarchyChange:function(t){this.dm().isHierarchicalRendering()&&t.data.hasChildren()&&this.redraw(),this.invalidateData(t.data)},adjustIndex:function(t){var e=this;if(e.isVisible(t)){e.dm().beginTransaction();for(var i=t;i._parent&&e.isVisible(i._parent);)i=i._parent;i&&i!==t&&e._dataModel.adjustIndex(i),e._dataModel.adjustIndex(t),e.dm().endTransaction()}},getImage:function(t){return t.getImage?t.getImage():n},getSelectWidth:function(t){var e=Pr(this.getImage(t));return e&&sl(e.disableSelectedBorder,t,this)?0:t.s("select.width")},getSelectColor:function(t){return t.s("select.color")},isSelectable:function(t,e){if(this.isSelected(t))return!0;if(!e&&t.getParent()instanceof sh&&this.isSelectable(t.getParent(),!0)&&t.getParent().isSyncSize())return!1;var i=this.getLayersInfo();if(i){var n=i[t._layer];if(n&&!1===n.selectable)return!1}return t.s("2d.selectable")&&this.sm().isSelectable(t)},isMovable:function(t){if(mn(t)&&t.getStyle(qt)!==Zt)return!1;var e=this.getLayersInfo();if(e){var i=e[t._layer];if(i&&!1===i.movable)return!1}return!!t.s("2d.movable")&&(!this._movableFunc||this._movableFunc(t))},isEditable:function(t){var e=this;if(s._uiSerializing)return e._uieditable;if(!e._editInteractor||!e.isSelected(t))return!1;if(wn(t)){var i=e.getDataUI(t);if(!i||i._88I)return!1}if(mn(t)&&t.getStyle(qt)!==Zt)return!1;var n=this.getLayersInfo();if(n){var o=n[t._layer];if(o&&!1===o.editable)return!1}return!!t.s("2d.editable")&&(!e._editableFunc||e._editableFunc(t))},handleDelete:function(){this._editInteractor&&(this._editInteractor.handleDelete?this._editInteractor.handleDelete():this.removeSelection())},isPointEditable:function(t){return(!Cn(t)||0===t.getRotation())&&(!this._pointEditableFunc||this._pointEditableFunc(t))},isRectEditable:function(t){return!this._rectEditableFunc||this._rectEditableFunc(t)},isAnchorEditable:function(t){return!this._anchorEditableFunc||this._anchorEditableFunc(t)},isRotationEditable:function(t){return!(!t.setRotation||!1===t.IRotatable)&&(!this._rotationEditableFunc||this._rotationEditableFunc(t))},getRotationPoint:function(t){var e=t.getAnchor(),i=t.getScale(),n=this._zoom,o=wa(t.getRotation(),0,-t.getHeight()*i.y*e.y-(i.y<0?-1:1)*(nt?32:16)/n),a=t.p();return o.x+=a.x,o.y+=a.y,o},getLogicalPoint:function(t){var e=this;return us(t,e._canvas,e.tx(),e.ty(),e._zoom,e._zoom)},getScreenPoint:function(t,e){var i,o=this;return"object"==typeof t?t.x!==n?(i=t.x,e=t.y):(i=t[0],e=t[1]):i=t,fs(i,e,o._canvas,o.tx(),o.ty(),o._zoom,o._zoom)},getSelectedDataAt:function(t){var e=this;return this.getDataAt(t,function(t){return e.isSelected(t)})},getDataInfoAt:function(t,e,i){var n,o=this.lp(t),a=this.getDataAt(o,e,i);if(a){var s=this.getDataUI(a);n={data:a,ui:s,point:o};var l=s._38o;if(l){var c=l.icons;for(var h in c){var d=c[h],g=l.rects[h];if(g)for(var u=sl(d.names,a,this),f=u?u.length:0,v=g.rotation,p=f-1;p>=0;p--){var I=u[p],_=g[p];if(ss(_,o,v))return n.part="icons",n.name=h,n.icon=I,n.rect=_,n.index=p,n.rotation=v,n}}}if(this.isNoteVisible(a)){if(s.note2Info&&ss(s.note2Info.clickRect,o,r,s.note2Info.scale))return n.part="note2",n;if(s.noteInfo&&ss(s.noteInfo.clickRect,o,r,s.noteInfo.scale))return n.part="note",n}if(this.isLabelVisible(a)){if(s.label2Info&&ss(s.label2Info.rect,o,s.label2Info.rotation,s.label2Info.scale))return n.part="label2",n;if(s.labelInfo&&ss(s.labelInfo.rect,o,s.labelInfo.rotation,s.labelInfo.scale))return n.part="label",n}if(a.isInRect&&a.isInRect(o))return n.part="body",n}return n},getDataAt:function(t,e,i){t.target&&(t=this.lp(t));var n,o=this._zoom;return this.reverseEach(function(a){return(e?e(a):this.isSelectable(a))&&this.rectIntersects(a,hn(t.x,t.y,i,o))?(n=a,!1):void 0},this),n},getIconInfoAt:function(t,e){var i=this;if(t.target&&(t=i.lp(t)),e||(e=i.getDataAt(t)),e){var n=i.getDataUI(e);if(n&&n._38o){var o,a=n._38o,s=new ml;for(o in a.icons)s.add(o);for(var l=s.size()-1;l>=0;l--){o=s.get(l);for(var c=a.rects[o],h=c.rotation,d=c.length-1;d>=0;d--){var g,u=(g=c[d]).width,f=g.height,v={x:t.x-g.x-u/2,y:t.y-g.y-f/2};if(h!=r&&(v=wa(-h,v.x,v.y)),ss(g={x:-u/2,y:-f/2,width:u,height:f},v))return{key:o,index:d,name:a.icons[o].names[d],rect:c[d],point:t,rotation:h,relativeRect:g,relativePoint:v,data:e}}}}}return r},getDatasInRect:function(t,e,i){i===n&&(i=1);var o=this,a=new ml;return o.reverseEach(function(n){i&&!o.isSelectable(n)||(e?o.rectIntersects(n,t):o.rectContains(n,t))&&a.add(n)}),a},moveSelection:function(t,e){var i=this;i.dm().beginTransaction(),Ta(i.sm().toSelection(i.isMovable,i),t,e),i.dm().endTransaction()},moveDatas:function(t,e,i){this.dm().beginTransaction(),t instanceof ml||(t=new ml(t)),Ta(t,e,i),this.dm().endTransaction()},getDataUIBounds:function(t){var e=this.getDataUI(t);return e?e._79o():r},drawData:function(t,e,i){var n=this.getDataUI(e);if(n){var o=n._79o();(!i||cs(i,o))&&(n._42(t),e instanceof s.Block&&e.eachChild(function(e){this.drawData(t,e,i)},this))}},getBoundsForGroup:function(t){return t.s(Et)?this.getDataUIBounds(t):r},isPixelPerfect:function(t){return t.s("pixelPerfect")},rectIntersects:function(t,e){this.validate();var i=r;if(this._56I[t._id]){var n=this._25I[t._id];if(n){var o=n._79o();if(ls(e,o))i=!0;else if((e=hs(e,o))&&(n.rectIntersects&&(i=n.rectIntersects(e)),i==r)){if(!this.isPixelPerfect(t))return!0;var a=e.x,s=e.y,l=e.width,h=e.height,d=this._zoom,g=c.hitMaxArea,u=l*h*d*d;if(u>g)d*=Math.sqrt(g/u);h*=d,2>(l*=d)&&(l=2),2>h&&(h=2),a*=d,s*=d;var f=Xo(l,h);fo(f,-a,-s),f.scale(d,d),this._drawForChecking=!0,this.drawData(f,t,e),this._drawForChecking=!1;try{for(var v=0,p=f.getImageData(0,0,l,h).data;v<p.length;v+=4)if(0!==p[v+3]){i=!0;break}f.restore()}catch(t){Yo=r,i=!1}}}}return!!i},rectContains:function(t,e){if(this._56I[t._id]){var i=this._25I[t._id];if(i)return ls(e,i._79o())}return!1},reset:function(){this.setZoom(1),this.setTranslate(0,0)},handleKeyDown:function(t){if(!c.isInput(t.target)){var e=this,i=e._focusData,n=i&&e._25I[i._id],o=0,a=e._dataModel._datas;if(!(i&&i._enabled&&i._editable&&n&&n.onKeyDown&&!0===n.onKeyDown(t)))if(9===t.keyCode&&(i&&(o=a.indexOf(i),ts(t)?-1==--o&&(o=0):++o===a.size()&&(o=0)),e._focusData=i=a.get(o),e.sm().setSelection(i)),So(t)?e.selectAll():Wo(t)&&e.isResettable()&&e.reset(),e.sm().isEmpty()){if(e._editing)return;var r=e.tx(),s=e.ty(),l=!1,h=ts()?100:10;Lo(t)&&(r-=h,l=!0),Bo(t)&&(s-=h,l=!0),Oo(t)&&(r+=h,l=!0),Uo(t)&&(s+=h,l=!0),l&&e.setTranslate(r,s)}else{zo(t)&&e.handleDelete(t);var d=ts()?10:1;Lo(t)&&(e.moveSelection(-d,0),e.fi({kind:"moveLeft"})),Bo(t)&&(e.moveSelection(0,-d),e.fi({kind:"moveUp"})),Oo(t)&&(e.moveSelection(d,0),e.fi({kind:"moveRight"})),Uo(t)&&(e.moveSelection(0,d),e.fi({kind:"moveDown"}))}}},handleScroll:function(t,e){if(jr(t),this.isZoomable()){if(!this.getEditInteractor()){var i=this.getDataAt(t);if(i){var n=Pr(this.getImage(i));if(n&&sl(n.scrollable,i,this))return}}var o=this.lp(t);e>0?this.scrollZoomIn(o):0>e&&this.scrollZoomOut(o)}},handlePinch:function(t,e,i){this.isZoomable()&&(this._68I||(e>i?this.pinchZoomIn(t):this.pinchZoomOut(t)))},checkDoubleClickOnNote:function(t,e){var i=this,n=i.lp(t),o=i.getDataUI(e),a=o.note2Info;return a&&e.s("note2.toggleable")&&ss(a.clickRect,n)?(e.s(Xt,!e.s(Xt)),i.fi({kind:"toggleNote2",event:t,data:e}),!0):!!((a=o.noteInfo)&&e.s("note.toggleable")&&ss(a.clickRect,n))&&(e.s(Jt,!e.s(Jt)),i.fi({kind:"toggleNote",event:t,data:e}),!0)},_84o:function(){},isNoteVisible:function(){return this._zoom>.15},isLabelVisible:function(){return this._zoom>.15},isEditVisible:function(){return this._zoom>.15},autoScroll:function(t,e){var i=this,n=i.getAutoScrollZone(),o=n/i.getZoom(),a=n/4,r=i._29I,s=i.lp(t),l={x:i.tx(),y:i.ty()};return s&&n>0&&r&&(s.x-r.x<o?i.translate(a,0):r.x+r.width-s.x<o&&i.translate(-a,0),s.y-r.y<o?i.translate(0,a):r.y+r.height-s.y<o&&i.translate(0,-a)),l.x=i.tx()-l.x,l.y=i.ty()-l.y,e&&(e.x+=l.x,e.y+=l.y),l},getMoveMode:function(t,e){var i=e.s("2d.move.mode");return i||(ji[88]?"x":ji[89]?"y":"xy")},getSerializableProperties:function(){return{scrollBarColor:1,scrollBarSize:1,autoMakeVisible:1,autoHideScrollBar:1,editable:1,resettable:1,pannable:1,rectSelectable:1,autoScrollZone:1,visibleFunc:1,movableFunc:1,editableFunc:1,pointEditableFunc:1,rectEditableFunc:1,anchorEditableFunc:1,rotationEditableFunc:1,rectSelectBackground:1,rectSelectBorderColor:1,editPointSize:1,editPointBorderColor:1,editPointBackground:1,hoverDelay:1,dataModel:1,selectionModel:1,currentSubGraph:1,zoom:1,translateX:1,translateY:1}},serializeProperty:function(t,e,i){return"currentSubGraph"===e?{__i:t.getId()}:i.serializeProperty(t,e,this)},deserializeProperty:function(t,e,i){return"currentSubGraph"===e?this.dm().__idMap[t.__i]:i.deserializeProperty(t,e,this)},setDefaultCursor:function(t,e){this._defaultCursor=t,!1!==e&&this.setCursor(t)},setCursor:function(t){"default"===t&&(t=this._defaultCursor||t);var e=this.getView().style;e.cursor=t,e.cursor="-webkit-"+t,e.cursor="-moz-"+t},getCurrentConnectActionType:function(){return this._currentActionType},setCurrentConnectActionType:function(t){return!(t!==r&&!c.getConnectAction(null,t))&&(this._currentActionType=t,this.redraw(),!0)},getEditStyle:function(t){var e=this.getEditInteractor();return e?e.getStyle(t):n},setEditStyle:function(t,e,i){var n=this.getEditInteractor();return!!n&&(n.setStyle(t,e,i),!0)},isConnectActionVisible:function(t){var e=c.getConnectAction(this);if(!e)return!1;var i=e.visible;return In(i)&&(i=i(this,t)),i},isInteractive:function(t){var e=Pr(this.getImage(t));return!(!e||!sl(e.interactive,t,this))||t.s("interactive")},appendHTML:function(t,e){var i=this.getView();if(!(e||t&&t.parentNode!==i))return!1;var n=t.getView&&t.getView();if(!e&&n&&n.parentNode===i)return!1;(t.getView||t.isSelfViewEvent)&&(t=t.getView());var o=this.getEditInteractor();return o&&o._canvas?i.insertBefore(t,o._canvas):this.isScrollBarVisible()?i.insertBefore(t,this.getView().lastChild):no(i,t),!0},_layoutHTMLImpl:function(t,e,i){if(arguments.length>1){var n,o=this,a=o._zoom;if(e.getView&&(n=e,e=e.getView()),e.style.position="absolute",i){var r=t.getRect();Co(n||e,o.tx()+r.x*a,o.ty()+r.y*a,r.width*a,r.height*a)}else{var s=new dl,l=(r=t.getAnchorRect(),t.getPosition()),c=t.getScale(),h=e.style;Co(n||e,r),s.appendTranslate(o.tx(),o.ty()),s.appendScale(a,a),s.append(new dl(t.getRotation(),l.x,l.y,c.x,c.y)),co(h,"transform","matrix("+s.a.toFixed(5)+", "+s.b.toFixed(5)+", "+s.c.toFixed(5)+",\n    "+s.d.toFixed(5)+", "+s.tx.toFixed(5)+", "+s.ty.toFixed(5)+")"),co(h,"transformOrigin",(-r.x).toFixed(5)+"px "+(-r.y).toFixed(5)+"px"),e.maxtrixAppend=s.invert().translate(-r.x,-r.y)}}else this._layoutHTML&&this._layoutHTML()},getTextEditInfo:function(t){return t instanceof ch?{name:"text",accessType:"s",isMultiline:!1}:void 0}}),i.defineProperties(ql.GraphView.prototype,{layoutHTML:{get:function(){return this._layoutHTMLImplBind||(this._layoutHTMLImplBind=this._layoutHTMLImpl.bind(this)),this._layoutHTMLImplBind},set:function(t){this._layoutHTML=t}}});var Ih=function(t,e){var i=this;i.gv=t,i.s=function(t){return e.getStyle(t)},i._data=e,i._87I=new ml};ms(Ih,i,{_6I:r,ms_icons:1,_84o:function(){},dispose:function(){},isShadowed:function(){return this.s("shadow")||this.gv.isSelected(this._data)&&"shadow"===this.s("select.type")},getSelectWidth:function(){var t=this;return!t.gv.isSelected(t._data)||t.isShadowed()?0:t.gv.getSelectWidth(t._data)},getSelectColor:function(){return this.gv.getSelectColor(this._data)},getBodyColor:function(t){var e=this._data,i=this.gv.getBodyColor(e);return i||(t?e.getStyle(t):r)},_2Q:function(t){return this.s(t)},_1Q:function(t,e,i,n){var o=this.s,a=o("2d.gray"),r=o(e+".dash.color");if(a&&(r=c.toGrayColor(r)),t.strokeStyle=r,t.lineWidth=i,t.stroke(),o(e+".dash.3d")){var s=o(e+".dash.3d.color");ra(t,r,a?c.toGrayColor(s):s,i,this.gv._zoom,o(e+".dash.3d.accuracy"))}Fs(t,n)},invalidate:function(){this._6I=r},_79o:function(){var t=this;if(!t._6I){var e=t._data,i=t.gv;t.labelInfo=t.label2Info=t.noteInfo=t.note2Info=t._38o=r,t._87I.clear(),t.interactiveInfo=i.isInteractive(e)?{}:r,t._3O(),t._55O=i.isEditable(e)?{_42O:i.isRectEditable(e),_43O:i.isPointEditable(e),_56O:i.isRotationEditable(e)}:r,t._6I=t._81o()}return t._6I},_3O:function(){},getPosition:function(){return Yi},_68o:function(t,e){t&&this._87I.add(function(t,e){if(e){var i=new gl(e),n=t.width/2,o=t.height/2,a=as([i.tf(-n,-o),i.tf(n,-o),i.tf(n,o),i.tf(-n,o)]);return a.x+=t.x+n,a.y+=t.y+o,a}return t}(t,e))},_81o:function(){var t,e=this,i=e.s;if(e._24O(Ot,"getLabel"),e._24O(Ut,"getLabel2"),e._26O(Wt,"getNote"),e._26O(Gt,"getNote2"),e._15O(),e._55O&&e._48O(),e._87I.each(function(e){t=rs(t,e)}),t&&e.isShadowed()){var n=Gr(t);n.x+=i("shadow.offset.x"),n.y+=i("shadow.offset.y"),gs(n,i("shadow.blur")),t=rs(t,n)}return e._87I.clear(),t},_42:function(t){var e=this,i=e._data,n=e.gv,o=e.s,a=o("opacity"),s=this.isShadowed();if(s){var l=t.shadowOffsetX,c=t.shadowOffsetY,h=t.shadowBlur,d=t.shadowColor,g=n.getZoom();t.shadowOffsetX=o("shadow.offset.x")*g,t.shadowOffsetY=o("shadow.offset.y")*g,t.shadowBlur=o("shadow.blur")*g,t.shadowColor=e.getSelectColor()}if(a!=r){var u=t.globalAlpha;t.globalAlpha=a}e._80o(t),n.isLabelVisible(i)&&((!n._drawForChecking||o("label.selectable"))&&Ql(t,e.labelInfo),(!n._drawForChecking||o("label2.selectable"))&&Ql(t,e.label2Info)),n.isNoteVisible(i)&&(Hl(t,e.noteInfo),Hl(t,e.note2Info)),e._99O(t),a!=r&&(t.globalAlpha=u),s&&(t.shadowOffsetX=l,t.shadowOffsetY=c,t.shadowBlur=h,t.shadowColor=d)},_80o:function(){},_47O:function(){},_24O:function(t,e){var i=this,n=i._data,o=i.gv,a=i.s,s=o[e](n);if(s!=r){var l=a(t+".scale"),c=a(t+".max"),h=a(t+".position"),d=i[t+"Info"]={label:s,scale:l,color:o[e+"Color"](n),font:a(t+".font"),opacity:a(t+".opacity"),align:a(t+".align"),rotation:i.getRotation(a(t+".rotation"),!1,h),background:o[e+"Background"](n)},g=oo(d,s);c>0&&c<g.width&&(d.labelWidth=g.width,g.width=c),1!==l&&(g.width*=l,g.height*=l);var u=i.getPosition(h,a(t+".offset.x"),a(t+".offset.y"),g,a(t+".position.fixed"));if(g.x=u.x-g.width/2,g.y=u.y-g.height/2,i._68o(d.rect=g,d.rotation),1!==l){var f=g.width/l,v=g.height/l;d.rect={x:u.x-f/2,y:u.y-v/2,width:f,height:v}}}},_26O:function(t,e){var i=this,n=i.gv,o=i._data,a=i.s,s=n[e](o);if(s!=r){var l,c,h=a(t+".scale"),d=i[t+"Info"]={note:s,scale:h,data:o,view:n,expanded:a(t+".expanded"),font:a(t+".font"),color:a(t+".color"),opacity:a(t+".opacity"),align:a(t+".align"),icon:a(t+".icon"),backgroundImage:a(t+".backgroundImage"),borderWidth:a(t+".border.width"),borderColor:a(t+".border.color"),background:n[e+"Background"](o)},g=i.getPosition(a(t+".position"),a(t+".offset.x"),a(t+".offset.y")),u=g.x,f=g.y;if(d.expanded){var v,p=a(t+".max"),I=a(t+".backgroundImage");I?(I=Pr(I),v={width:al(I,o),height:rl(I,o)}):v=oo(d,s),v.width+=6,v.height+=2,p>0&&p<v.width&&(d.labelWidth=v.width,v.width=p),l=v.width,c=v.height+8,d.clickRect={x:u-l*h/2,y:f-c*h,width:l*h,height:c*h*v.height/c}}else{var _=a(t+".icon");_?(_=Pr(_),l=al(_,o),c=rl(_,o)):(l=12,c=18),d.clickRect={x:u-l*h/2,y:f-c*h,width:l*h,height:c*h}}d.rect={x:u-l/2,y:f-c*h/2-c/2,width:l,height:c};var y=b(d.borderWidth/2)*h;i._68o({x:u-l*h/2-y,y:f-c*h-y,width:l*h+2*y,height:c*h+2*y})}},_48O:function(){},_99O:function(t){var e=this,i=e._38o;if(i){var n=e.gv,o=e._data,a=i.icons,s=e.interactiveInfo;for(var l in s&&(s._38o={}),a){var c=a[l],h=i.rects[l];if(h){s&&(s._38o[l]=[]);var d=sl(c.opacity,o,n),g=sl(c.names,o,n),u=g?g.length:0,f=h.rotation;if(d!=r){var v=t.globalAlpha;t.globalAlpha*=d}for(var p=0;u>p;p++){var I=g[p],_=Pr(I),y=h[p];if(f){var C=y.x+y.width/2,m=y.y+y.height/2;t.save(),fo(t,C,m),vo(t,f),fo(t,-C,-m)}s&&s._38o[l].push(t.interactiveInfo={compInfos:[],matrix:f?new dl(f,C,m).appendTranslate(-C,-m):new dl}),Br(t,_,sl(c.stretch,o,n),y.x,y.y,y.width,y.height,e._data,e.gv),t.interactiveInfo=r,f&&t.restore()}d!=r&&(t.globalAlpha=v)}}}}}),ms(qh=function(t,e){zn(qh,this,[t,e])},Ih,{_checkEmptyRect:!0,_40O:function(t,e){var i=this,n=i.s,o=t.rect;(t.borderColor=i.gv.getBorderColor(i._data))&&(t.borderType=n("border.type"),t.borderWidth=n("border.width"),t.borderPadding=n("border.padding"),e=M(e,t.borderPadding+t.borderWidth/2));var a=i._data.getScale(),r=M(1,M(D(a.x),D(a.y)));if(t.selectWidth=i.getSelectWidth()){var s=i.gv._zoom;t.selectType=n("select.type"),t._97o=i.getSelectColor(),t.selectPadding=n("select.padding"),e=M(e,(t.selectPadding+t.selectWidth/2/s)/r)}e>0&&(e*=r,o=Gr(o),gs(o,e)),i._68o(o)},_39O:function(t,e){var i,n=e.rect;if(e.borderWidth>0&&(i=e.borderPadding,t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,ca(t,e.borderType,{x:n.x-i,y:n.y-i,width:n.width+2*i,height:n.height+2*i}),t.stroke()),e.selectWidth>0){var o=this.gv._zoom;if(i=e.selectPadding,t.strokeStyle=e._97o,t.lineWidth=e.selectWidth/o,e.rotation!=r){t.save(),t.translate(e.position.x,e.position.y),t.rotate(e.rotation);var a=this._data,s=a.getWidth(),l=a.getHeight(),c=e.scale,h=e.anchor;n={x:c.x*-s*h.x,y:c.y*-l*h.y,width:c.x*s,height:c.y*l}}ca(t,e.selectType,{x:n.x-i,y:n.y-i,width:n.width+2*i,height:n.height+2*i}),e.rotation!=r&&t.restore(),t.stroke()}},dispose:function(){var t=this._htmlView;qh.superClass._3O.call(this),t&&(t.onHTMLRemoved&&t.onHTMLRemoved(),ps(t))},_3O:function(){var t=this,e=t.s,i=t._data,n=t.gv,o=i.getStyle(xt),a=t.getBodyColor(),s=t._83o=o?{shape:o,_53o:t.getBodyColor("shape.background"),_27Q:Pr(e("shape.repeat.image"),a),shapeGradientPack:e("shape.gradient.pack"),_54o:e("shape.border.width"),_55o:e("shape.border.color"),_56o:e("shape.border.3d"),_57o:e("shape.border.3d.color"),_58o:e("shape.border.3d.accuracy"),shapeGradient:e("shape.gradient"),_59o:e("shape.gradient.color"),_60o:e("shape.border.pattern"),_61o:e("shape.border.cap"),_62o:e("shape.border.join"),shapeForeground:e("shape.foreground"),bodyColor:a,gray:e("2d.gray")}:{img:Pr(n.getImage(i),a),bodyColor:a,gray:e("2d.gray"),stretch:e("image.stretch")};if(B&&!O);else{var l,c=s.img;c&&c.renderHTML?(t._htmlInfo&&t._htmlInfo.img!==c&&(t._htmlInfo=r),t._htmlInfo||(t._htmlInfo={img:c,cache:{}}),l=c.renderHTML(i,n,t._htmlInfo.cache)):t._htmlInfo=r,t._htmlView&&t._htmlView!==l&&(t._htmlView.onHTMLRemoved&&t._htmlView.onHTMLRemoved(),ps(t._htmlView.getView?t._htmlView.getView():t._htmlView)),(t._htmlView=l)&&n.appendHTML(l)&&l.onHTMLAdded&&l.onHTMLAdded(),s.rect=i.getRect(),s.position=i.p(),s.scale=i.getScale(),s.anchor=i.getAnchor(),s.rotation=i.getRotation(),o===bt&&(s._63o=e("shape.depth"));var h=0;if(o)h=qo(r,s._54o/2,s._62o),t.s("shape.dash")&&(h=M(h,(t.s("shape.dash.width")||s._54o)/2));else if(c&&c.boundExtend)if(h=sl(c.boundExtend,i,n),c.boundExtendAbsolute){var d=i.getScale();h/=n._zoom*M(1,M(D(d.x),D(d.y)))}else if(!sl(c.fitSize,i,n)){var g=sl(c.width,i,n),u=sl(c.height,i,n);h*=M(i.getWidth()/g,i.getHeight()/u)}t._40O(s,h);var f=e("clip.percentage");if(1>f&&(0>f&&(f=0),s.clipRect=Un(i.getAnchorRect(),e("clip.direction"),f)),o){var v=e("shape.fill.clip.percentage");1>v&&(0>v&&(v=0),s.shapeClipRect=Un(i.getAnchorRect(),e("shape.fill.clip.direction"),v));var p=e("shape.foreground.clip.percentage");1>p&&(0>p&&(p=0),s.shapeForegroundClipRect=Un(i.getAnchorRect(),e("shape.foreground.clip.direction"),p))}}},getPosition:function(t,e,i,n){var o=za(t,this._83o.rect,n);return o.x+=e,o.y+=i,o},_80o:function(t){var e=this,i=e.s,n=e.gv,o=e._data,a=e._83o,l=a.rect,h=a.position,d=a.rotation,g=a.anchor,u=a.scale,f=a.shape,v=a.clipRect;if(!e._checkEmptyRect||l.width>0&&l.height>0){var p=o.getSize();if(p.x=-p.width*g.x,p.y=-p.height*g.y,t.save(),fo(t,h.x,h.y),vo(t,d),po(t,u.x,u.y),v&&(t.beginPath(),t.rect(v.x,v.y,v.width,v.height),t.clip()),n._drawForChecking&&a.img&&!1===sl(a.img.pixelPerfect,o,n))la(t,p.x,p.y,p.width,p.height,"#888888");else if(e.freeDraw)e.freeDraw(t,p,a);else if(f){var I,_,y,C,m=a._60o,w=Gs(t,m),b=a._27Q,A=a._54o,M=a.shapeGradientPack,x=a.gray,D=t.lineJoin,T=t.lineCap,N=function(t){return x?c.toGrayColor(t):t};"roundRect"===f?I=i("shape.corner.radius"):"polygon"===f?I=i("shape.polygon.side"):"arc"===f&&(I=i("shape.arc.from"),_=i("shape.arc.to"),y=i("shape.arc.close"),C=i("shape.arc.oval")),t.lineJoin=a._62o,t.lineCap=a._61o;var S=N(a._53o);if(S||b||M){var z=a.shapeClipRect;z&&(t.save(),t.beginPath(),t.rect(z.x,z.y,z.width,z.height),t.clip()),ca(t,f,p,I,_,y,C),M?ia(t,M):b?da(t,b,N(a.bodyColor),null,o,n):ha(t,S,a.shapeGradient,N(a._59o),p),t.fill(),z&&t.restore(),M&&t.restore(),t!==w&&ca(w,f,p,I,_,y,C)}else ca(w,f,p,I,_,y,C);var k=a.shapeForeground;if(k){t.save();var E=a.shapeForegroundClipRect;E&&(t.beginPath(),t.rect(E.x,E.y,E.width,E.height),t.clip()),ca(t,f,p,I,_,y,C),ha(t,k,i("shape.foreground.gradient"),N(i("shape.foreground.gradient.color")),p),t.fill(),t.restore()}if(A>0){var V=i("shape.border.width.absolute");V&&(t.save(),t.setTransform(1,0,0,1,0,0)),t.lineWidth=A;var j=N(a._55o);t.strokeStyle=j,t.stroke(),V&&t.restore(),a._56o&&ra(t,j,N(a._57o),A,n._zoom,a._58o)}if(Fs(t,m),i("shape.dash")){var R=i("shape.dash.width")||A;if(R>0)m=i("shape.dash.pattern"),(w=Gs(t,m,e._2Q("shape.dash.offset")))!==t&&ca(w,f,p,I,_,y,C),e._1Q(t,"shape",R,m)}va(t,S,a._63o,p),t.lineJoin=D,t.lineCap=T}else{var P=e.interactiveInfo;P&&(t.interactiveInfo=P.bodyInfo={compInfos:[],matrix:new dl(d,h.x,h.y,u.x,u.y)}),a.gray&&(t.compGray=!0);var Z=a.img;Z&&Z.cacheRule!=r&&(Z=function(t,e,i,n,o,a,r,l){var c=[e.uuid,Math.round(n),Math.round(o),i].join("_");e.cacheRule&&(c+=sl(e.cacheRule,a,r));var h=r._zoom;h!==r._cacheZoom&&(r._cacheZoom=h,r._cacheImage={});var d=r._cacheImage[c];return d||(d=r._cacheImage[c]=s.Default.toCanvas(e,n*h,o*h,i,a,r,l)),d}(0,Z,a.stretch,p.width,p.height,o,n,a.bodyColor)),Br(t,Z,a.stretch,p.x,p.y,p.width,p.height,o,n,a.bodyColor),t.compGray=!1,t.interactiveInfo=r}t.restore()}e._39O(t,a)},_48O:function(){},_47O:function(){}});var _h=function(t,e,i,n){var o=os(t,e);return i=n?x(i,o):Yl(i,o),o?i/=o:i=0,{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}};ms($h=function(t,e){zn($h,this,[t,e])},Ih,{_3O:function(){var t,e=this,i=e._data,o=e.gv,a=e.s,s=a(qt),l=i.isLooped(),h=a("edge.width"),d=a("edge.center"),g=a("edge.offset"),u=o.getBorderColor(i),f=u?a("border.width"):0,v=e.getSelectWidth(),p=i._40I,I=i._41I,_=e._78o=p&&I?{looped:l,type:s,width:h,center:d,color:e.getBodyColor("edge.color"),borderColor:u,borderWidth:f,_97o:v?e.getSelectColor():r,selectWidth:v,pattern:a("edge.pattern"),cap:a("edge.cap"),join:a("edge.join"),is3d:a("edge.3d"),_67o:a("edge.3d.color"),_66o:a("edge.3d.accuracy"),gray:a("2d.gray")}:r;if(_){var y=c.getEdgeType(s);if(y){var C=y(i,$l(e,o,i,l,s),o,e._19Q);C.points&&C.points.size()>1?(_.edgeTypeInfo=C,t=as(_.edgeTypeInfo.points)):C[ae]&&C.rect&&(_.edgeTypeInfo=C,t=C.rect)}else{var m=a("edge.source.anchor.x"),w=a("edge.source.anchor.y"),b=a("edge.target.anchor.x"),A=a("edge.target.anchor.y"),x=Wl(o,i,"source"),D=Wl(o,i,"target");if(s===Zt){var T=_.points=a(Kt)||wl,N=T.size();_.segments=a("edge.segments");var S=m!==n||w!==n||mn(p),z=b!==n||A!==n||mn(I);if(!d)if(g)S||(x=_h(x,N?T.get(0):D,g,N)),z||(D=_h(D,N?T.get(N-1):x,g,N));else{var k;S||(k=Zn(x,N?T.get(0):D,Dl(o,p)))&&(x={x:k[0],y:k[1]}),z||(k=Zn(N?T.get(N-1):x,D,Dl(o,I)))&&(D={x:k[0],y:k[1]})}t=rs(as(_.points),as(x,D))}else{var V=$l(e,o,i,l,s);if(e._19Q||(V=-V),l)(x=Gr(x)).x=o.getNodeRect(p).x,_.radius=V,t={x:x.x-V,y:x.y-V,width:2*V,height:2*V};else{var j=os(x,D),R=Yl(g,j),Z={x:R,y:V},L={x:j-R,y:V},B=P(D.y-x.y,D.x-x.x),O=_.mat=new gl(B);if(_.orienAngle=B,_.angle=D.x<x.x?B+E:B,_.rect={x:Z.x,y:Z.y,width:L.x-Z.x,height:0},_.origin=x,(Z=O.tf(Z)).x+=x.x,Z.y+=x.y,(L=O.tf(L)).x+=x.x,L.y+=x.y,d){var U={x:j,y:0};(U=O.tf(U)).x+=x.x,U.y+=x.y,t=as([x,Z,L,U]),_.c1=x,_.c2=U}else t=as(Z,L);x=Z,D=L}}_.sourcePoint=x,_.targetPoint=D,i._lastSourcePoint=x,i._lastTargetPoint=D}var W=0;a("edge.dash")&&(W=a("edge.dash.width")||h);var G="square"===_.cap?.71:.5;qo(t,M(W*G,h*G+f+v),_.join),e._68o(t)}},getRotation:function(t,e,i){t=t||0;var n=this._78o;if(n){var o,a=n.angle,s=n.points,l=n.edgeTypeInfo;if(a!=r)return e?n.orienAngle+t:a+t;if(l&&l[ae])return l.getRotation?l.getRotation(this,t,e,i):0;if(l&&l.points){var c=l.points;return o=c.size(),Nl[i]?o&&0==o%2?Jl(c.get(o/2-1),c.get(o/2),e,t):t:Tl[i]?Jl(c.get(0),c.get(1),e,t):Jl(c.get(o-2),c.get(o-1),e,t)}if(s)return o=s.size(),Nl[i]?o&&0==o%2?Jl(s.get(o/2-1),s.get(o/2),e,t):t:Tl[i]?Jl(n.sourcePoint,o?s.get(0):n.targetPoint,e,t):Jl(o?s.get(o-1):n.sourcePoint,n.targetPoint,e,t)}return t},getPosition:function(t,e,i,n,o){var a=this._78o;if(a){var r=a.type,s=a.points,l=a.edgeTypeInfo,c=a.sourcePoint,h=a.targetPoint;if(!r)return a.looped?{x:c.x-a.radius+e,y:c.y+i}:(o&&c&&h&&(c.x>h.x||c.x===h.x&&c.y>h.y)&&(t=Sa[t],i=-i),(d=za(t,a.rect,n)).x+=e,d.y+=i,(d=a.mat.tf(d)).x+=a.origin.x,d.y+=a.origin.y,d);if(l&&l[ae])return l.getPosition?l.getPosition(this,t,e,i,n,o):{x:(c.x+h.x)/2,y:(c.y+h.y)/2};if(s){var d,g=s.size();if(Nl[t]){if(g){if(0===(u=g%2))return Xl(s.get(g/2-1),s.get(g/2),t,e,i,n,o);d=s.get((g-u)/2)}else d={x:(c.x+h.x)/2,y:(c.y+h.y)/2};return(d=za(t,{x:d.x,y:d.y,width:0,height:0},n)).x+=e,d.y+=i,d}return Tl[t]?Xl(c,g?s.get(0):h,t,e,i,n,o):Xl(g?s.get(g-1):c,h,t,e,i,n,o)}if(l){var u,f=l.points;g=f.size();return Nl[t]?0===(u=g%2)?Xl(f.get(g/2-1),f.get(g/2),t,e,i,n,o):(d=f.get((g-u)/2),(d=za(t,{x:d.x,y:d.y,width:0,height:0},n)).x+=e,d.y+=i,d):Tl[t]?Xl(f.get(0),f.get(1),t,e,i,n,o):Xl(f.get(g-2),f.get(g-1),t,e,i,n,o)}}return Yi},_42:function(t){this._78o&&$h.superClass._42.call(this,t)},drawPath:function(t,e){t.beginPath();var i=e.type,n=e.points,o=e.segments,a=e.edgeTypeInfo;if(!i||n){var r=e.sourcePoint,s=r.x,l=r.y,c=e.targetPoint,h=c.x,d=c.y;if(i)if(o){var g=new ml({x:s,y:l});g.addAll(n),g.add({x:h,y:d}),oa(t,g,o)}else t.moveTo(s,l),n.each(function(e){t.lineTo(e.x,e.y)}),t.lineTo(h,d);else e.looped?t.arc(s,l,e.radius,0,V,!0):e.center?(t.moveTo(e.c1.x,e.c1.y),t.lineTo(s,l),t.lineTo(h,d),t.lineTo(e.c2.x,e.c2.y)):(t.moveTo(s,l),t.lineTo(h,d))}else a&&(a.points?oa(t,a.points,a.segments):a[ae]&&a[ae](t,a))},_80o:function(t){var e=this,i=e.s,n=e._78o,o=n.width,a=n.selectWidth,r=n.borderWidth,s=t.lineJoin,l=t.lineCap,h=n.gray,d=n.pattern;t.lineJoin=n.join,t.lineCap=n.cap,e.drawPath(Gs(t,d),n);var g=i("edge.width.absolute");g&&(t.save(),t.setTransform(1,0,0,1,0,0)),a&&(t.strokeStyle=n._97o,t.lineWidth=o+2*(r+a),t.stroke()),r&&(t.strokeStyle=h?c.toGrayColor(n.borderColor):n.borderColor,t.lineWidth=o+2*r,t.stroke());var u=h?c.toGrayColor(n.color):n.color,f=h?c.toGrayColor(n._67o):n._67o;if(t.strokeStyle=u,t.lineWidth=o,t.stroke(),n.is3d&&ra(t,u,f,o,e.gv._zoom,n._66o),g&&t.restore(),Fs(t,d),i("edge.dash")){d=i("edge.dash.pattern");var v=Gs(t,d,e._2Q("edge.dash.offset"));v!==t&&e.drawPath(v,n),e._1Q(t,"edge",i("edge.dash.width")||o,d)}t.lineJoin=s,t.lineCap=l},_48O:function(){},_47O:function(){}});var yh=function(t,e){zn(yh,this,[t,e])};ms(yh,qh,{_3O:function(){var t,e,i=this,n=i.s,o=i._data,a=i.gv;if(i._88I=r,o.isExpanded()&&o.eachChild(function(i){if(Cn(i)){var n=a.getBoundsForGroup(i);n&&(e||(e=[]),e.push(n),t=rs(t,n))}}),t){var s=a.getLabel(o),l=n("group.type");t=Kl(l,e,t),Ll(t,o,"group.padding",1);var c=i._88I={type:l,rect:t,_64o:t};if(!l&&s!=r){var h,d=i.labelInfo={label:s,color:n("group.title.color"),font:n("group.title.font"),align:n("group.title.align")},g=oo(d,s),u=g.width,f=g.height,v=n("group.title.align"),p=n("group.title.orientation");if((p===dt||p===gt)&&u>t.width?t.width=u:(p===ct||p===ht)&&u>t.height&&(t.height=u),d.rect={y:t.y-f,width:g.width,height:f},h=v===ct?t.x:v===ht?t.x+t.width-u:t.x+t.width/2-u/2,d.rect.x=h,p===gt)c.titleRect={x:t.x,y:t.y+t.height,width:t.width,height:f},c.rect={x:t.x,y:t.y,width:t.width,height:t.height+f},d.rect={x:h,y:t.y+t.height,width:u,height:f};else if(p===ct){var I=c.titleRect={x:t.x-f,y:t.y,width:f,height:t.height};c.rect={x:t.x-f,y:t.y,width:t.width+f,height:t.height},d.rect={x:I.x+f/2-t.height/2,y:I.y+t.height/2-f/2,width:t.height,height:f},d.rotation=-Math.PI/2}else if(p===ht){I=c.titleRect={x:t.x+t.width,y:t.y,width:f,height:t.height};c.rect={x:t.x,y:t.y,width:t.width+f,height:t.height},d.rect={x:I.x+f/2-t.height/2,y:I.y+t.height/2-f/2,width:t.height,height:f},d.rotation=Math.PI/2}else c.titleRect={x:t.x,y:t.y-f,width:t.width,height:f+1},c.rect={x:t.x,y:t.y-f,width:t.width,height:t.height+f}}i._40O(c,n("group.border.width")/2)}else yh.superClass._3O.call(i)},getPosition:function(t,e,i,n){var o=this._88I;if(o){var a=za(t,o.rect,n);return a.x+=e,a.y+=i,a}return yh.superClass.getPosition.apply(this,arguments)},_24O:function(t,e){var i=this._88I;(!i||i.type||"label2"===t)&&yh.superClass._24O.call(this,t,e)},_80o:function(t){var e=this,i=e._88I;if(i){var n=e._data,o=e.s,a=e.gv,r=i.type,s=i.rect,l=i._64o,c=i.titleRect,h=e.getBodyColor(),d=Pr(o("group.image"),h),g=o("group.image.stretch"),u=e.getBodyColor("group.background"),f=Pr(o("group.repeat.image"),h),v=o("group.gradient.pack"),p=o("group.gradient"),I=o("group.gradient.color"),_=o("group.border.width"),y=o("group.border.color"),C=o("group.border.pattern"),m=o("group.title.orientation"),w=o("group.depth");if(r){var b=t.lineJoin,A=t.lineCap;if(t.lineJoin=o("group.border.join"),t.lineCap=o("group.border.cap"),d){if(t.save(),ca(t,r,s),t.clip(),Br(t,d,g,s.x,s.y,s.width,s.height,n,a,h),t.restore(),_>0){var M=Gs(t,C);ca(M,r,s),t.lineWidth=_,t.strokeStyle=y,t.stroke(),Fs(t,C)}}else{M=Gs(t,C);u||f||v?(ca(t,r,s),v?ia(t,v):f?da(t,f,h,null,n,a):ha(t,u,p,I,s),t.fill(),v&&t.restore(),t!==M&&ca(M,r,s)):ca(M,r,s),_>0&&(t.lineWidth=_,t.strokeStyle=o("group.border.color"),t.stroke()),Fs(t,C),r===bt&&va(t,u,w,s)}t.lineJoin=b,t.lineCap=A}else{var x=o("group.title.background"),D=o("group.border.radius");if(d)Br(t,d,g,l.x,l.y,l.width,l.height,n,a,e.getBodyColor());else if(u||f)if(f?da(t,f,h,null,n,a):ha(t,u,p,I,l),0===_)ca(t,bt,l),t.fill(),va(t,u,w,l);else{switch(t.beginPath(),m){case gt:ua(t,l.x,l.y,l.width,l.height,D,D,0,0);break;case ct:ua(t,l.x,l.y,l.width,l.height,0,D,0,D);break;case ht:ua(t,l.x,l.y,l.width,l.height,D,0,D,0);break;case dt:ua(t,l.x,l.y,l.width,l.height,0,0,D,D)}t.fill()}if(c&&x)if(0===_)la(t,c.x,c.y,c.width,c.height,x),va(t,x,w,c);else{switch(t.beginPath(),t.fillStyle=x,m){case gt:ua(t,c.x,c.y,c.width,c.height,0,0,D,D);break;case ct:ua(t,c.x,c.y,c.width,c.height,D,0,D,0);break;case ht:ua(t,c.x,c.y,c.width,c.height,0,D,0,D);break;case dt:ua(t,c.x,c.y,c.width,c.height,D,D,0,0)}t.fill()}if(_>0){M=Gs(t,C);if(ca(M,"roundRect",s,D),t.lineWidth=_,t.strokeStyle=y,c&&o("group.splitLine")){var T=c.x,N=c.y,S=c.width,z=c.height;m===gt?(t.moveTo(T,N),t.lineTo(T+S,N)):m===ct?(t.moveTo(T+S,N),t.lineTo(T+S,N+z)):m===ht?(t.moveTo(T,N),t.lineTo(T,N+z)):(t.moveTo(T,N+z),t.lineTo(T+S,N+z))}t.stroke(),Fs(t,C)}}e._39O(t,i)}else yh.superClass._80o.call(e,t)}});var Ch=function(t,e){zn(Ch,this,[t,e])};ms(Ch,qh,{_80o:function(t){this._39O(t,this._83o)}}),ms(nd=function(t,e){zn(nd,this,[t,e])},qh,{_3O:function(){var t=this,e=t._data,i=t.s,n=t.gv,o=e.getPoints(),a=n.getBorderColor(e),s=a?i("border.width"):0,l=t.getSelectWidth(),c=i("shape.border.width"),h=e.getRect(),d=n.getBodyColor(e),g=t._99o=o.isEmpty()?r:{rect:h,rotation:e.getRotation(),fillRule:i("shape.fill.rule"),scale:e.getScale(),position:e.p(),points:o,segments:e.getSegments(),bodyColor:d,borderColor:a,borderWidth:s,_94o:i("shape.border.3d"),_95o:i("shape.border.3d.color"),_96o:i("shape.border.3d.accuracy"),_97o:l?t.getSelectColor():r,selectWidth:l,_53o:i("shape.background"),_27Q:Pr(i("shape.repeat.image"),d),shapeGradientPack:i("shape.gradient.pack"),_54o:c,_55o:i("shape.border.color"),shapeGradient:i("shape.gradient"),_59o:i("shape.gradient.color"),_60o:i("shape.border.pattern"),_61o:i("shape.border.cap"),_62o:i("shape.border.join"),shapeForeground:i("shape.foreground"),gray:i("2d.gray")};if(g){var u=e.getScale(),f=M(1,M(D(u.x),D(u.y)));i("shape.dash")&&i("shape.dash.width")>c&&(c=i("shape.dash.width"));var v=c*("square"===g._61o?.71:.5)+s+l/t.gv._zoom/f;v&&(v*=f,h=Gr(h),qo(h,v,g._62o)),t._68o(h);var p=i("clip.percentage");1>p&&(0>p&&(p=0),g.clipRect=Un(e.getAnchorRect(),i("clip.direction"),p));var I=i("shape.fill.clip.percentage");1>I&&(0>I&&(I=0),g.shapeClipRect=Un(e.getAnchorRect(),i("shape.fill.clip.direction"),I));var _=i("shape.foreground.clip.percentage");1>_&&(0>_&&(_=0),g.shapeForegroundClipRect=Un(e.getAnchorRect(),i("shape.foreground.clip.direction"),_))}},getPosition:function(t,e,i,n){var o=this._99o;if(o){var a=za(t,o.rect,n);return a.x+=e,a.y+=i,a}return Yi},_42:function(t){this._99o&&nd.superClass._42.call(this,t)},_80o:function(t){var e,i=this,n=i.s,o=i._99o,a=o.position,r=o.scale,s=o.rotation,l=o.borderWidth,h=o.selectWidth/i.gv._zoom,d=o._27Q,g=o.shapeGradientPack,u=o._54o,f=o.clipRect,v=o.shapeClipRect,p=o.points,I=o.segments,_=i._data.isClosePath(),y=o.fillRule,C=o.gray,m=function(t){return C?c.toGrayColor(t):t},w=m(o._53o),b=w||d||g;t.save(),fo(t,a.x,a.y),vo(t,s),po(t,r.x,r.y),f&&(t.beginPath(),t.rect(f.x,f.y,f.width,f.height),t.clip()),b&&v&&(t.save(),t.beginPath(),t.rect(v.x,v.y,v.width,v.height),t.clip()),fo(t,-a.x,-a.y);var A=o._60o,M=Gs(t,A),x=t.lineJoin,D=t.lineCap;t.lineJoin=o._62o,t.lineCap=o._61o;var T=m(o.bodyColor);b?(oa(t,p,I,_),g?ia(t,g):d?da(t,d,T,null,i._data,i.gv):ha(t,e=T||w,o.shapeGradient,m(o._59o),o.rect),t.fill(y),v&&(t.restore(),fo(t,-a.x,-a.y)),g&&t.restore(),M!==t&&oa(M,p,I,_)):oa(M,p,I,_);var N=o.shapeForeground;if(N){t.save();var S=o.shapeForegroundClipRect;S&&(fo(t,a.x,a.y),t.beginPath(),t.rect(S.x,S.y,S.width,S.height),t.clip(),fo(t,-a.x,-a.y)),oa(t,p,I,_),ha(t,N,n("shape.foreground.gradient"),m(n("shape.foreground.gradient.color")),o.rect),t.fill(y),t.restore()}var z=n("shape.border.width.absolute");if(z&&(t.save(),t.setTransform(1,0,0,1,0,0)),h&&(t.strokeStyle=o._97o,t.lineWidth=u+2*(l+h),t.stroke()),l&&(t.strokeStyle=m(o.borderColor),t.lineWidth=u+2*l,t.stroke()),u&&(e=m(o._55o),!w&&T&&(e=T),t.strokeStyle=e,t.lineWidth=u,t.stroke(),o._94o&&ra(t,e,m(o._95o),u,i.gv._zoom,o._96o)),z&&t.restore(),Fs(t,A),n("shape.dash")){var k=n("shape.dash.width")||u;if(k>0)A=n("shape.dash.pattern"),(M=Gs(t,A,i._2Q("shape.dash.offset")))!==t&&oa(M,p,I,_),i._1Q(t,"shape",k,A)}t.lineJoin=x,t.lineCap=D,t.restore()},_48O:function(){},_47O:function(){}});var mh=function(t,e){zn(mh,this,[t,e])};ms(mh,nd,{getRotation:function(t,e,i){t=t||0;var n=this._data.getPoints(),o=n.size();return o>1?Nl[i]?o&&0==o%2?Jl(n.get(o/2-1),n.get(o/2),e,t):t:Tl[i]?Jl(n.get(0),n.get(1),e,t):Jl(n.get(o-2),n.get(o-1),e,t):t},getPosition:function(t,e,i,n,o){var a=this._data.getPoints(),r=a.size();if(r>1){if(Nl[t]){var s=r%2;if(0===s)return Xl(a.get(r/2-1),a.get(r/2),t,e,i,n,o);var l=a.get((r-s)/2),c={x:l.x,y:l.y,width:0,height:0};return(l=za(t,c,n)).x+=e,l.y+=i,l}return Tl[t]?Xl(a.get(0),a.get(1),t,e,i,n,o):Xl(a.get(r-2),a.get(r-1),t,e,i,n,o)}return Yi}});var wh=function(t,e){zn(wh,this,[t,e])};ms(wh,qh,{_3O:function(){var t=this;wh.superClass._3O.call(t);var e=t.s,i=t._83o;t._82o=i.img||i.shape?r:{background:t.getBodyColor("grid.background"),depth:e("grid.depth"),rect:i.rect,_88o:e("grid.cell.depth"),cellBorderColor:e("grid.cell.border.color"),_89o:e("grid.row.count"),_90o:e("grid.column.count"),block:e("grid.block"),_91o:e("grid.block.color"),_92o:e("grid.block.padding"),_93o:e("grid.block.width")}},_80o:function(t){var e=this,i=e._82o;if(i){var n,o,a=e._data,r=i.background,s=i.rect,l=i.block,c=i._91o,h=i._92o,d=i._93o,g=i._88o,u=i.cellBorderColor,f=i._89o,v=i._90o;if(r)if(la(t,s.x,s.y,s.width,s.height,r),va(t,r,i.depth,s),g)for(n=0;f>n;n++)for(o=0;v>o;o++)(s=a.getCellRect(n,o))&&va(t,r,g,s);else if(u){for(t.beginPath(),n=0;f>n;n++)for(o=0;v>o;o++)(s=a.getCellRect(n,o))&&t.rect(s.x,s.y,s.width,s.height);t.strokeStyle=u,t.lineWidth=1,t.stroke()}if("h"===l)for(n=0;f>n;n++)s=rs(a.getCellRect(n,0),a.getCellRect(n,v-1)),gs(s,h),fa(t,c,s.x,s.y,s.width,s.height,d);else if("v"===l)for(o=0;v>o;o++)s=rs(a.getCellRect(0,o),a.getCellRect(f-1,o)),gs(s,h),fa(t,c,s.x,s.y,s.width,s.height,d);e._39O(t,e._83o)}else wh.superClass._80o.call(e,t)}});var bh=function(t,e){zn(bh,this,[t,e])};ms(bh,qh,{_checkEmptyRect:!1,_81o:function(){var t=this._data,e=bh.superClass._81o.call(this),i=t.s("text");if(i!=r){var n,o,a=t.s("text.font"),s=t.s("text.align"),l=t.s("text.vAlign"),c=Xr(a,i),h=c.width,d=c.height,g=t.getAnchor(),u=t.getWidth(),f=t.getHeight();"left"===s?n=-u*g.x:"center"===s?n=-u*g.x+(u-h)/2:"right"===s&&(n=u*(1-g.x)-c.width),"top"===l?o=-f*g.y:"middle"===l?o=-f*g.y+(f-d)/2:"bottom"===l&&(o=f*(1-g.y)-c.height);var v,p=t.getMatrix();if(v=as([p.tf(n,o),p.tf(n+h,o),p.tf(n+h,o+d),p.tf(n,o+d)]),(e=rs(e,v))&&t.s("text.shadow")){var I=Gr(e);I.x+=t.s("text.shadow.offset.x"),I.y+=t.s("text.shadow.offset.y"),gs(I,t.s("text.shadow.blur")),e=rs(e,I)}}return e}});var Ah=ql.Interactor=function(t){this.gv=this._graphView=t};tc("Interactor",i,{ms_listener:1,getView:function(){return this.gv.getView()},setUp:function(){this.addListeners()},tearDown:function(){this.removeListeners(),this.clear()},clear:function(){},fi:function(t){this.gv.fi(t)},setCursor:function(t){nt||this.gv.setCursor(t)},startDragging:function(t){var e=this;e._lastClientPoint=is(t),e._lastLogicalPoint=e.gv.lp(t),vs(e,t)},clearDragging:function(){var t=this;t._lastClientPoint=t._lastLogicalPoint=t._logicalPoint=r},autoScroll:function(t){return this.gv.autoScroll(t,this._lastClientPoint)}});var Mh=r,xh=function(t){Mh.handleWindowTouchMove(t)},Dh=function(t){Mh.handleWindowTouchEnd(t),e.removeEventListener(ci,xh,_),e.removeEventListener(hi,Dh,_),Mh=r},Th=function(t){Mh.handleWindowMouseMove(t)},Nh=function(t){Mh.handleWindowMouseUp(t),e.removeEventListener(ai,Th,_),e.removeEventListener(ri,Nh,_),Mh=r},Sh=function(t){var e=this;e.gv=t,e._is2d=t instanceof ql.GraphView,e._is2d&&(e.filter=function(e){return t.isSelectable(e)&&t.isInteractive(e)}),t.getView(),["mousedown","mousemove","mouseleave","touchstart","touchmove",fi].forEach(function(t){e.addListener(t)}),e.initImageResource()};ms(Sh,Ah,{enableVR:function(t){var e=this;if(!!e._vrEnable!==t)if(e._vrEnable=t,t)e.gv.vr.mp(e.onVRControllerChange,e);else if(e.gv.vr.ump(e.onVRControllerChange,e),e._vrRayPolyline){var i=e.gv.dm();i.remove(e._vrRayPolyline),i.remove(e._vrRayHitPoint),e._vrRayPolyline=n,e._vrRayHitPoint=n}},onVRControllerChange:function(t){var e=this,i=t.property,n=t.newValue,o=e.gv.vr.getController(n.id).getRay();o&&("gamepad.button.trigger"===i?"down"===n._62O?e.handle_mousedown(o):e.handleWindowMouseUp(o):"gamepad.pose"===i&&(e.handle_mousemove(o),e.handleWindowMouseMove(o)))},drawVRRay:function(t,e,i){var n,o=this,a=o.gv,r=o._vrRayPolyline,l=!1;if(r)n=o._vrRayHitPoint;else{var c=a.dm();o._vrRayPolyline=r=new s.Polyline,o._vrRayHitPoint=n=new s.Node,n.s({shape3d:"billboard","shape3d.transparent":!0,"shape3d.texture.scale":10,"shape3d.image":"coreInteractorRayHitImage"}),n.setAnchor3d(.5,.5,.499);var h=.2/a.vr.measureOflength;n.s3(h,h,h),r.s("intersect",!1),n.s("intersect",!1),c.add(r),c.add(n),l=!0}if(e){var d=i.world,g=i.worldNormal,u=d.x,f=d.y,v=d.z;r.s("shape.border.color","red"),r.setPoints([{x:t.origin.x,y:t.origin.z,e:t.origin.y},{x:u,y:v,e:f}]),n.s("3d.visible",!0),n.p3(u,f,v),n.lookAtDirection([g.x,g.y,g.z],"front")}else{r.s("shape.border.color","blue");var p=new s.Math.Vector3;p.copy(t.direction).setLength(1e3/o.gv.vr.measureOflength).add(t.origin),r.setPoints([{x:t.origin.x,y:t.origin.z,e:t.origin.y},{x:p.x,y:p.z,e:p.y}]),n.s("3d.visible",!1)}a.fi({kind:"vrRayIntersect",ray:t,data:e,intersect:i,polyline:r,hitNode:n,begin:l})},addListener:function(t){var e=this;e.gv.getView().addEventListener(t,function(i){c.preventDefault(i),e.disabled||e["handle_"+t](i)},_)},handleWindowTouchMove:function(t){this.handleWindowMouseMove(t)},handleWindowMouseMove:function(t){this.downInfo&&(this.isDragging?this.handleDownInfo("onDrag",t):(this.handleDownInfo("onBeginDrag",t),this.isDragging=!0))},handleWindowTouchEnd:function(t){this.handleWindowMouseUp(t)},handleWindowMouseUp:function(t){if(this.isDragging&&(this.handleDownInfo("onEndDrag",t),this.isDragging=!1),this.downInfo){var e=this.handle("onUp",t);if(e&&e.data===this.downInfo.data){this.handleMissingUp(t);var i=this,n=2===t.button?"onContextMenu":"onClick";if(!i._dbclickTimer)return void(i._dbclickTimer=Q(function(){delete i._dbclickTimer,i.handleClick(t,n,e),this.downInfo=r},300));H(i._dbclickTimer),delete i._dbclickTimer,n="onDoubleClick",i.handleClick(t,n,e)}else this.handleDownInfo("onUp",t);this.downInfo=r}},handle_mouseleave:function(t){var e=this,i=e.gv,n=e.currentInfo?e.currentInfo.data:r;if(n){n.s("onLeave")&&n.s("onLeave")(t,n,i),e.fire("data","onLeave",t,n);var o=e.currentInfo?e.currentInfo.hits:r;if(o)for(var a in o)e.handleLeave(t,a);e.currentInfo=r}},handle_mousewheel:function(t){t.scrollDelta=t.wheelDelta/40,this.handle("onScroll",t)},handle_DOMMouseScroll:function(t){t.scrollDelta=2===t.axis?-t.detail:0,this.handle("onScroll",t)},handle_touchstart:function(t){this.handle_mousedown(t)},handle_touchmove:function(t){this.handle("onMove",t)},handle_mousedown:function(t){var i,n;this.isDragging&&(this.handleDownInfo("onEndDrag",t),this.isDragging=!1),this.downInfo=this.handle("onDown",t),this.downInfo&&(n=t,(i=this)!==Mh&&(Mh?nt?Mh.handleWindowTouchEnd(n):Mh.handleWindowMouseUp(n):nt?(e.addEventListener(ci,xh,_),e.addEventListener(hi,Dh,_)):(e.addEventListener(ai,Th,_),e.addEventListener(ri,Nh,_)),Mh=i))},handle_mousemove:function(t){var e=this,i=e.gv;e._hoverTimer&&(H(e._hoverTimer),delete e._hoverTimer);var n,o,a,s=e.handle("onMove",t),l=this.currentInfo?this.currentInfo.data:r,h=this.currentInfo?this.currentInfo.hits:r;if(s&&(o=s.data,a=s.hits,e._hoverTimer=Q(function(){H(e._hoverTimer),delete e._hoverTimer,e.handle("onHover",t,s)},i.getHoverDelay()||c.hoverDelay)),o!==l){if(l&&(l.s("onLeave")&&l.s("onLeave")(t,l,i),this.fire("data","onLeave",t,l)),o&&(o.s("onEnter")&&o.s("onEnter")(t,o,i),this.fire("data","onEnter",t,o)),h)for(n in h)this.handleLeave(t,n);if(a)for(n in a){(d=a[n]).target.onEnter&&d.target.onEnter(t,o,i,d.point,d.width,d.height),this.fire(d.type,"onEnter",d.event,d.data,d.image,d.comp,d.point,d)}}else{if(h)for(n in h)a&&a[n]||this.handleLeave(t,n);if(a)for(n in a)if(!h||!h[n]){var d;(d=a[n]).target.onEnter&&d.target.onEnter(t,o,i,d.point,d.width,d.height),this.fire(d.type,"onEnter",d.event,d.data,d.image,d.comp,d.point,d)}}this.currentInfo=s},handle:function(t,e,i){var n,o,a=this,r=a.gv;if(a._is2d){if(!(i=i||r.getDataInfoAt(e,this.filter)))return;var l,c;if(n=i.ui.interactiveInfo)if((c=i.data).s(t)&&c.s(t)(e,c,r),this.fire("data",t,e,c),"body"===i.part&&n.bodyInfo)l="body",i.hits=this.handleImage(l,r.getImage(c),t,e,c,i.point,n.bodyInfo);else if("icons"===i.part&&n._38o){var h=n._38o[i.name];h&&h[i.index]&&(l="icons|"+i.name+"|"+i.index,i.hits=this.handleImage(l,i.icon,t,e,c,i.point,h[i.index]))}return i}if(!i)if(e&&e instanceof s.Math.Ray){var d=r.vr.intersectWorld(e);if(c=d.data,o=d.intersect,a.drawVRRay(e,c,o),!c)return;if(!(n=(g=r.getData3dUI(c)).interactiveInfo))return;i={data:c,part:o.part,ui:g}}else{if(!(i=r.getDataInfoAt(e)))return;i&&(i={data:i.data,part:i.part})}if(!o){c=i.data;var g=r.getData3dUI(c);if(i.ui=g,!(n=g.interactiveInfo))return i;if(!(o=r.intersectObject(e,c)))return}c.s(t)&&c.s(t)(e,c,r),this.fire("data",t,e,c);var u,f=o.part;return"body"!==f&&(u=c.s(f+".image")||c.s("shape3d."+f+".image")),u||(u=c.s("all.image")||c.s("shape3d.image")),(n="object"==typeof u?n[u.uuid]:n[u])&&n.bodyInfo?(i.part="body",i.interactiveInfo=n,i.point=o.uv.multiply({x:n.bodyInfo.rect.width,y:n.bodyInfo.rect.height}),i.image=u,i.hits=this.handleImage("body",u,t,e,c,i.point,n.bodyInfo),i):i},_handleLeaveOrMissing:function(t,e,i){var n="leave"===t?this.currentInfo:this.downInfo;if(n){var o=n.interactiveInfo||n.ui.interactiveInfo;if(o){var a,r,s=n.data;if(this._is2d){if(r=this.gv.lp(e),"body"===n.part&&o.bodyInfo)a="body","leave"===t?this.handleLeaveImage(i,a,this.gv.getImage(s),e,s,r,o.bodyInfo):this.handleMissingUpImage(a,this.gv.getImage(s),e,s,r,o.bodyInfo);else if("icons"===n.part&&o._38o){var l=o._38o[n.name];l&&l[n.index]&&(a="icons|"+n.name+"|"+n.index,"leave"===t?this.handleLeaveImage(i,a,n.icon,e,s,r,l[n.index]):this.handleMissingUpImage(a,n.icon,e,s,r,l[n.index]))}}else{if(!o.bodyInfo)return;var c=this.gv.intersectObject(e,s);r=c?c.uv.multiply({x:o.bodyInfo.rect.width,y:o.bodyInfo.rect.height}):{x:1/0,y:1/0},"leave"===t?this.handleLeaveImage(i,"body",n.image,e,s,r,o.bodyInfo):this.handleMissingUpImage("body",n.image,e,s,r,o.bodyInfo)}}}},handleClick:function(t,e,i){var n=this.downInfo;if(n&&i){var o,a=i.interactiveInfo||i.ui.interactiveInfo,r=i.data,s=this.gv;if(r.s(e)&&r.s(e)(t,r,s),this.fire("data",e,t,r),a)if(this._is2d){if(n.part===i.part){var l=s.lp(t);"body"===i.part&&a.bodyInfo&&(o="body",this.handleClickImage(o,s.getImage(r),e,t,r,l,a.bodyInfo,i))}}else{if(!a.bodyInfo)return;var c=s.intersectObject(t,r);if(!c)return;l=c.uv.multiply({x:a.bodyInfo.rect.width,y:a.bodyInfo.rect.height}),this.handleClickImage("body",n.image,e,t,r,l,a.bodyInfo,i)}}},handleDownInfo:function(t,e){if(this.downInfo){var i=this.downInfo,n=this.gv,o=i.interactiveInfo||i.ui.interactiveInfo;if(o){var a,r=i.data;if(r.s(t)&&r.s(t)(e,r,n),this.fire("data",t,e,r),this._is2d){var s=n.lp(e);if("body"===i.part&&o.bodyInfo)a="body",this.handleDownInfoImage(a,n.getImage(r),t,e,r,s,o.bodyInfo);else if("icons"===i.part&&o._38o){var l=o._38o[i.name];l&&l[i.index]&&(a="icons|"+i.name+"|"+i.index,this.handleDownInfoImage(a,i.icon,t,e,r,s,l[i.index]))}}else{if(!o.bodyInfo)return;var c=n.intersectObject(e,r);if(!c)return;s=c.uv.multiply({x:o.bodyInfo.rect.width,y:o.bodyInfo.rect.height}),this.handleDownInfoImage("body",i.image,t,e,r,s,o.bodyInfo)}}}},fire:function(t,e,i,o,a,r,s,l){this.gv.fi({kind:e,type:t,event:i,data:o,image:a,comp:r,view:this.gv,point:s,width:l?l.width:n,height:l?l.height:n})},handleImage:function(t,e,i,o,a,r,s){var l={};if(e&&(e=Pr(e))){var c=this.gv,h=s.rect,d=this.convertPoint(r,s);d.inRect&&(e[i]&&e[i](o,a,c,d,h.width,h.height),this.fire("image",i,o,a,e,n,d,h),l[t+"|image"]={target:e,type:"image",image:e,data:a,event:o,point:d,width:h.width,height:h.height});for(var g=s.compInfos,u=e,f=g.length-1;f>=0;f--){var v=g[f],p=v.comp;(d=this.convertPoint(r,v,u,p,c,a)).inRect&&(h=v.rect,p[i]&&p[i](o,a,c,d,h.width,h.height),this.fire("comp",i,o,a,e,p,d,h),(e=h.image)&&(e[i]&&e[i](o,a,c,d,h.width,h.height),this.fire("image",i,o,a,e,n,d,h)),l[t+"|"+f]={target:p,type:"comp",comp:p,image:e,data:a,event:o,point:d,width:h.width,height:h.height},e&&(l[t+"|"+f+"|image"]={target:e,type:"image",image:e,data:a,event:o,point:d,width:h.width,height:h.height}))}}return l},handleLeave:function(t,e){return this._handleLeaveOrMissing("leave",t,e)},handleMissingUp:function(t){return this._handleLeaveOrMissing("missing",t)},handleLeaveImage:function(t,e,i,o,a,r,s){if(i&&(i=Pr(i))){var l=this.gv,c=s.rect,h=this.convertPoint(r,s);t===e+"|image"&&(i.onLeave&&i.onLeave(o,a,l,h,c.width,c.height),this.fire("image","onLeave",o,a,i,n,h,c));for(var d=s.compInfos,g=i,u=d.length-1;u>=0;u--){var f=d[u],v=f.comp;h=this.convertPoint(r,f,g,v,l,a),c=f.rect,t===e+"|"+u&&(v.onLeave&&v.onLeave(o,a,l,h,c.width,c.height),this.fire("comp","onLeave",o,a,i,v,h,c)),(i=c.image)&&t===e+"|"+u+"|image"&&(i.onLeave&&i.onLeave(o,a,l,h,c.width,c.height),this.fire("image","onLeave",o,a,i,n,h,c))}}},handleMissingUpImage:function(t,e,i,o,a,r){var s="onUp",l=this.downInfo.hits;if(l&&e&&(e=Pr(e))){var c=this.gv,h=r.rect,d=this.convertPoint(a,r);!d.inRect&&l[t+"|image"]&&(e[s]&&e[s](i,o,c,d,h.width,h.height),this.fire("image",s,i,o,e,n,d,h));for(var g=r.compInfos,u=e,f=g.length-1;f>=0;f--){var v=g[f],p=v.comp;(d=this.convertPoint(a,v,u,p,c,o)).inRect||(h=v.rect,l[t+"|"+f]&&(p[s]&&p[s](i,o,c,d,h.width,h.height),this.fire("comp",s,i,o,e,p,d,h)),(e=h.image)&&l[t+"|"+f+"|image"]&&(e[s]&&e[s](i,o,c,d,h.width,h.height),this.fire("image",s,i,o,e,n,d,h)))}}},handleDownInfoImage:function(t,e,i,o,a,r,s){var l=this.downInfo.hits;if(l&&e&&(e=Pr(e))){var c=this.gv,h=s.rect,d=this.convertPoint(r,s);l[t+"|image"]&&(e[i]&&e[i](o,a,c,d,h.width,h.height),this.fire("image",i,o,a,e,n,d,h));for(var g=s.compInfos,u=e,f=g.length-1;f>=0;f--){var v=g[f],p=v.comp;d=this.convertPoint(r,v,u,p,c,a),h=v.rect,l[t+"|"+f]&&(p[i]&&p[i](o,a,c,d,h.width,h.height),this.fire("comp",i,o,a,e,p,d,h)),(e=h.image)&&l[t+"|"+f+"|image"]&&(e[i]&&e[i](o,a,c,d,h.width,h.height),this.fire("image",i,o,a,e,n,d,h))}}},handleClickImage:function(t,e,i,o,a,r,s,l){var c=this.downInfo.hits,h=l.hits;if(c&&e&&(e=Pr(e))){var d=this.gv,g=s.rect,u=this.convertPoint(r,s);c[t+"|image"]&&(e[i]&&e[i](o,a,d,u,g.width,g.height),this.fire("image",i,o,a,e,n,u,g));for(var f=s.compInfos,v=e,p=f.length-1;p>=0;p--){var I=f[p],_=I.comp;u=this.convertPoint(r,I,v,_,d,a),g=I.rect,c[t+"|"+p]&&h[t+"|"+p]&&(_[i]&&_[i](o,a,d,u,g.width,g.height),this.fire("comp",i,o,a,e,_,u,g)),(e=g.image)&&c[t+"|"+p+"|image"]&&(e[i]&&e[i](o,a,d,u,g.width,g.height),this.fire("image",i,o,a,e,n,u,g))}}},initImageResource:function(){c.setImage("coreInteractorRayHitImage",{width:16,height:16,comps:[{type:"oval",background:"rgb(255,0,0)",borderWidth:1,borderColor:"rgb(250,120,120)",opacity:.3,rotation:-1.593,rect:[.73315,.6933,14.5337,14.61341]},{type:"oval",background:"rgb(255,0,0)",borderWidth:1,borderColor:"rgb(250,120,120)",rotation:-1.593,rect:[3.56695,3.75073,8.8661,8.49856]}]})},convertPoint:function(t,e,i,o,a,s){var l=e.rect,h=e.matrix.applyInverse(t).sub(l);if(!(h.x>=0&&h.y>=0&&h.x<=l.width&&h.y<=l.height))return h;if(o&&sl(o.pixelPerfect,s,a)){var d=1;this._is2d?(d=a.getZoom(),l=hn(t.x,t.y,n,d)):l=hn(t.x,t.y);var g=!1,u=l.x,f=l.y,v=l.width,p=l.height,I=c.hitMaxArea,_=v*p*d*d;if(_>I)d*=Math.sqrt(I/_);p*=d,2>(v*=d)&&(v=2),2>p&&(p=2),u*=d,f*=d;var y=Xo(v,p),C=new dl(0,-u,-f,d,d);C.append(e.matrix),a._drawForChecking=!0,o.transform=C;var m=i.comps;i.comps=[o],ll(y,i,0,0,v,p,s,self),i.comps=m,delete o.transform,a._drawForChecking=!1;try{for(var w=0,b=y.getImageData(0,0,v,p).data;w<b.length;w+=4)if(0!==b[w+3]){g=!0;break}y.restore()}catch(t){Yo=r,g=!1}h.inRect=g}else h.inRect=!0;return h}});var zh=ql.DefaultInteractor=function(t){zn(zh,this,[t])};tc("DefaultInteractor",Ah,{handle_mousedown:function(t){jr(t);var e=this,i=e.gv,n=i.getDataAt(t);!i.setFocus(t)||i._editing||i._scrolling||(qr(t)?i.handleDoubleClick(t,n):i.handleClick(t,n),!Wo()&&n&&(i.isMovable(n)||i.isInteractive(n))||!i.isPannable()||!$r(t)||es(t)||(e._tx=i.tx(),e._ty=i.ty(),e.startDragging(t)))},handleWindowMouseUp:function(t){var e=this,i=e.gv;i._panning&&(delete i._panning,i.onPanEnded(),e.fi({kind:"endPan",event:t})),delete e._tx,delete e._ty,e.clearDragging()},handle_mousemove:function(t){var e=this,i=e.gv;e._hoverTimer&&(H(e._hoverTimer),delete e._hoverTimer),e._hoverTimer=Q(function(){e.fi({kind:"hover",event:t}),H(e._hoverTimer),delete e._hoverTimer},i.getHoverDelay()||c.hoverDelay)},handle_touchmove:function(t){this.handle_mousemove(t)},handleWindowMouseMove:function(t){var e=this,i=e.gv,n=e._lastClientPoint;e.fi({kind:i._panning?"betweenPan":"beginPan",event:t}),i._panning=1,i.setTranslate(e._tx+t.clientX-n.x,e._ty+t.clientY-n.y)},handle_mousewheel:function(t){this.gv.handleScroll(t,t.wheelDelta)},handle_DOMMouseScroll:function(t){2===t.axis&&this.gv.handleScroll(t,-t.detail)},handle_keydown:function(t){this.gv.handleKeyDown(t)}});var kh=ql.SelectInteractor=function(t){zn(kh,this,[t])};tc("SelectInteractor",Ah,{_42:function(){var t=this,e=t.gv,i=e.getZoom(),n=t.mark,o=t.div;o||(o=t.div=Kn(),no(t.getView(),o));var a={};a.x=n.x*i+e.tx(),a.y=n.y*i+e.ty(),a.width=n.width*i,a.height=n.height*i,Co(o,a),this.intersects()?(o.style.border="",o.style.background=e.getRectSelectBackground()):(o.style.background="",o.style.border="1px solid "+e.getRectSelectBorderColor())},handle_mousedown:function(t){var e=this,i=e.gv;if(e._57I=r,e.pendingClickThrough=r,!(i._editing||i._scrolling||Wo())){var n=i.getDataAt(t),o=i.sm();n?es(t)?o.co(n)?o.rs(n):o.as(n):o.co(n)?n instanceof sh&&n.isClickThroughEnabled()&&$r(t)&&(e.pendingClickThrough=is(t)):o.ss(n):es(t)||!i.isPannable()?$r(t)&&(es(t)||o.cs(),i.isRectSelectable()&&(e.startDragging(t),i._77O=1)):$r(t)&&(e._57I=is(t))}},handle_mouseup:function(t){var e=this,i=e.gv,n=e._57I;if(n&&(os(n,is(t))<=1&&i.sm().cs(),e._57I=r),e.pendingClickThrough){if(os(e.pendingClickThrough,is(t))<=1){var o=i.getDataAt(t);if(o instanceof sh&&o.isClickThroughEnabled()){var a=i.getDataAt(t,function(t){return t.getParent()===o&&i.isSelectable(t,!0)});a&&(t.clickThrough=!0,i.sm().ss(a))}}e.pendingClickThrough=r}},handleWindowMouseUp:function(t){this.clear(t)},handleWindowMouseMove:function(t){var e=this,i=e.gv;e._logicalPoint=i.lp(t),e.mark?(e.fi({kind:"betweenRectSelect",event:t}),i.isPannable()&&e.autoScroll(t),e.redraw()):e.fi({kind:"beginRectSelect",event:t}),e.mark=as(e._lastLogicalPoint,e._logicalPoint),e.redraw()},intersects:function(){var t=this._lastLogicalPoint,e=this._logicalPoint;return t.x>e.x||t.y>e.y},clear:function(t){var e=this,i=e.gv,n=e.mark;if(e._57I=r,e.pendingClickThrough=r,e._lastLogicalPoint){if(n){if(0!==n.width&&0!==n.height){var o=i.getDatasInRect(n,e.intersects());if(!o.isEmpty()){var a=i.sm(),s=a.toSelection();o.each(function(t){a.co(t)?s.remove(t):s.add(t)}),a.ss(s)}}ps(e.div),delete e.div,delete e.mark,e.redraw(),e.fi({kind:"endRectSelect",event:t}),i.onRectSelectEnded()}e.clearDragging(),delete i._77O}},redraw:function(){var t=this;t._draw||(t._draw=1,Q(function(){t.mark&&t._42(),delete t._draw},16))}});var Eh=ql.MoveInteractor=function(t){zn(Eh,this,[t])};tc("MoveInteractor",Ah,{handle_mousedown:function(t){var e=this,i=e.gv;if($r(t)&&!i._editing&&!i._scrolling&&!Wo()){var n=i.getSelectedDataAt(t);!n||i.isInteractive(n)&&!i.isMovable(n)?i._focusData=r:(e._data=n,i.handleMouseDown&&i.handleMouseDown(t,n),e.startDragging(t),i.isMovable(n)&&(i._moving=1))}},handleWindowMouseUp:function(t){var e=this,i=e.gv;i.handleMouseUp&&i.handleMouseUp(t,e._data),e.clear(t)},handleWindowMouseMove:function(t){var e=this,i=e._data,n=e.gv;if((!n._93O||!n._93O(t,i))&&n._moving){e._logicalPoint||e.fi({kind:"prepareMove",event:t});var o=e._logicalPoint?"betweenMove":"beginMove",a={kind:o,event:t},r=e._logicalPoint=n.lp(t);"beginMove"!==o||e._alreadyBeginTransaction||(e._alreadyBeginTransaction=!0,n.getDataModel().beginTransaction());var s=e._calcShift(o,t),l=s.x,c=s.y,h=e.gv.getMoveMode(t,i);h&&("x"===h?c=0:"y"===h?l=0:"xy"!==h&&(l=c=0)),n.moveSelection(l,c),e._lastLogicalPoint=r,e.autoScroll(t),e.fi(a)}},_calcShift:function(){var t=this._logicalPoint,e=this._lastLogicalPoint;return{x:t.x-e.x,y:t.y-e.y}},clear:function(t){var e=this,i=e.gv;e._lastLogicalPoint&&(e._lastLogicalPoint=e._data=i._moving=r,e._logicalPoint&&(e.fi({kind:"endMove",event:t}),i.onMoveEnded()),e.clearDragging()),e._alreadyBeginTransaction&&(e._alreadyBeginTransaction=!1,i.getDataModel().endTransaction())}});var Vh=ql.TextEditInteractor=function(t){zn(Vh,this,[t]),this.init()};tc("TextEditInteractor",Ah,{init:function(){var t=this,e=this.input=a.createElement("input"),i=e.style;e.text="text",i.border="1px solid #d8d8d8",i.position="absolute",i.padding="2px 3px",i.outline="none",i.marginLeft="-90px",i.marginTop="-16px",i.backgroundColor="rgba(255,255,255, 0.9)",i.fontSize="14px",i.width="180px",i.height="32px",i.boxShadow="0 0 13px rgba(16,142,233, 0.5)",i.textAlign="center",i.boxSizing="border-box",e.addEventListener("keyup",function(e){Go(e)&&t.endTextEdit()});var n=this.textarea=a.createElement("textarea"),o=this.wrap=a.createElement("div");o.appendChild(n),(i=n.style).margin=0,i.padding="4px",i.overflow="hidden",i.boxSizing="border-box",i.position="absolute",i.outline="none",i.backgroundColor="transparent",i.resize="none",i.textAlign="center",i.fontSize="14px",i.border="none",i.borderWidth=0,i.width="100%",i.top="50%",(i=o.style).boxSizing="border-box",i.margin=0,i.padding=0,i.position="absolute",i.boxShadow="0 0 13px rgba(16,142,233, 0.5)",i.border="1px solid #d8d8d8",i.backgroundColor="rgba(255,255,255, 0.9)",i.width="180px",i.marginLeft="-90px",n.addEventListener("keydown",function(e){return(ts()||es())&&Go(e)?void t.endTextEdit():void t.calculateTextareaHeight(String.fromCharCode(e.keyCode))});var r=function(t){t.stopPropagation()};e.addEventListener("mousedown",r),e.addEventListener("touchstart",r),n.addEventListener("mousedown",r),n.addEventListener("touchstart",r),t.SIZING_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],t.HIDDEN_TEXTAREA_STYLE="visibility:hidden; min-height:0 !important;max-height:none !important;height:0 !important;visibility:hidden !important;overflow:hidden !important;position:absolute !important;z-index:-1000 !important;top:0 !important;right:0 !important",t.handleWindowClick=function(e){var i=t._editingDOM.getBoundingClientRect(),n=is(e);ss(i,n)||t.endTextEdit()}},handle_mousedown:function(t){var e=this.gv;if(qr(t)&&!e._editing){var i=e.getDataAt(t);if(i){var n=e.getTextEditInfo(i);n&&(this._editInfo=n,this._editTarget=i,e._editing=!0,n.isMultiline?this.handleMultilineEdit():this.handleTextEdit())}}},handleMultilineEdit:function(){var t=this,i=t.gv,o=t._editTarget,a=t.getTargetValue(),r=t.textarea,s=t.wrap;this.hiddenTextarea||this.createHiddenTextarea(),(null===a||a===n)&&(a=""),r.value=a,t._editingDOM=r,i.getView().appendChild(s),this.layoutHTML(s,o),this.calculateTextareaHeight(),Q(function(){r.focus(),e.addEventListener("mousedown",t.handleWindowClick),e.addEventListener("touchstart",t.handleWindowClick)},10)},handleTextEdit:function(){var t=this,i=t.gv,o=t._editTarget,a=t.getTargetValue(),r=t.input;(null===a||a===n)&&(a=""),r.value=a,t._editingDOM=r,i.getView().appendChild(r),this.layoutHTML(r,o),Q(function(){r.focus(),e.addEventListener("mousedown",t.handleWindowClick),e.addEventListener("touchstart",t.handleWindowClick)},10)},layoutHTML:function(t,e){var i=this.gv,n=i.getZoom();if(e instanceof s.Node){var o=e.getRect();t.style.left=(o.x+o.width/2)*n+i.tx()+"px",t.style.top=(o.y+o.height/2)*n+i.ty()+"px"}else if(e instanceof s.Edge){o=i.getDataUI(e)._6I;t.style.left=(o.x+o.width/2)*n+i.tx()+"px",t.style.top=(o.y+o.height/2)*n+i.ty()+"px"}},endTextEdit:function(){var t=this,i=t._editInfo.isMultiline?t.wrap:t.input,n=t._editInfo.isMultiline?t.textarea:t.input;t.setTargetValue(n.value),t.gv.getView().removeChild(i),t.gv._editing=!1,delete t._editingDOM,e.removeEventListener("mousedown",t.handleWindowClick),e.removeEventListener("touchstart",t.handleWindowClick)},setTargetValue:function(t){var e=this._editTarget,i=this._editInfo,n=i.accessType,o=i.name;(o&&n||(n="p",o="name"),"p"===n)?e[s.Default.setter(o)](t):"a"===n?e.a(o,t):e.s(o,t)},getTargetValue:function(){var t=this._editTarget,e=this._editInfo,i=e.accessType,n=e.name;return n&&i||(i="p",n="name"),"p"===i?t[s.Default.getter(n)]():"a"===i?t.a(n):t.s(n)},createHiddenTextarea:function(){this.hiddenTextarea=a.createElement("textarea"),this.hiddenTextarea.setAttribute("style","margin:0; padding:0; position:absolute; overflowY:scroll; resize:none; box-sizing:border-box;"),this.hiddenTextarea.setAttribute("rows","1"),this.gv.getView().appendChild(this.hiddenTextarea)},calculateHTMLStyle:function(t,i){if(i&&this.computedStyleCache)return this.computedStyleCache;var n=e.getComputedStyle(t),o=n.getPropertyValue("box-sizing")||n.getPropertyValue("-moz-box-sizing")||n.getPropertyValue("-webkit-box-sizing"),a=parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("padding-top")),r=parseFloat(n.getPropertyValue("border-bottom-width"))+parseFloat(n.getPropertyValue("border-top-width")),s={sizingStyle:this.SIZING_STYLE.map(function(t){return t+":"+n.getPropertyValue(t)}).join(";"),paddingSize:a,borderSize:r,boxSizing:o};return i&&(this.computedStyleCache=s),s},calculateTextareaHeight:function(t){t=t||"";var e=this,i=e.textarea,n=e.hiddenTextarea,o=e.wrap,a=e.calculateHTMLStyle(i,!1),r=a.paddingSize,s=a.borderSize,l=a.boxSizing,c=a.sizingStyle;n.setAttribute("style",c+";"+e.HIDDEN_TEXTAREA_STYLE),n.value=i.value+t;var h=n.scrollHeight;"border-box"===l?h+=s:"content-box"===l&&(h-=r),i.style.height=h+"px",i.style.marginTop=0-.5*h+"px",o.style.height=Math.max(h,32)+"px",o.style.marginTop=-.5*h+"px"}});var jh=ql.ScrollBarInteractor=function(t){zn(jh,this,[t])};tc("ScrollBarInteractor",Ah,{_41o:function(){return this.gv.getViewRect().height<this.gv.getScrollRect().height},_40o:function(){return this.gv.getViewRect().width<this.gv.getScrollRect().width},isV:function(t){var e=this.gv.getViewRect();return this._41o()&&(e.x+e.width-this.gv.lp(t).x)*this.gv.getZoom()<Tr},isH:function(t){var e=this.gv.getViewRect();return this._40o()&&(e.y+e.height-this.gv.lp(t).y)*this.gv.getZoom()<Tr},handle_mousemove:function(t){this.handle_touchmove(t)},handle_touchmove:function(t){if(!bo&&$r(t)&&this.gv.isScrollBarVisible()){var e=this,i=e.isV(t),n=e.isH(t);(i||n)&&e.gv.showScrollBar(),e.gv._scrolling=i||n}},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handleWindowTouchEnd:function(t){this._state=this._cp=this._tx=this._ty=this.gv._scrolling=r,this.fi({kind:"endScroll",event:t})},handle_mousedown:function(t){this.handle_touchstart(t)},handle_touchstart:function(t){var e=this;if(e.gv.setFocus(t),jr(t),e.handle_touchmove(t),!(Kr(t)>1)&&e.gv._scrolling&&e.gv.isScrollBarVisible()){e._cp=is(t),e._tx=e.gv.tx(),e._ty=e.gv.ty();var i=e.isV(t);e._state=i?"vScroll":"hScroll",vs(e,t),e.fi({kind:"beginScroll",event:t})}},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowTouchMove:function(t){var e=is(t),i=this.gv.getViewRect(),n=this.gv.getScrollRect();"vScroll"===this._state?this.gv.ty(this._ty+(this._cp.y-e.y)*n.height/i.height):"hScroll"===this._state&&this.gv.tx(this._tx+(this._cp.x-e.x)*n.width/i.width),this.fi({kind:"betweenScroll",event:t})}});var Rh=ql.TouchInteractor=function(t,e){(e=e||{}).selectable===n&&(e.selectable=!0),e.movable===n&&(e.movable=!0),e.pannable===n&&(e.pannable=!0),e.pinchable===n&&(e.pinchable=!0),e.editable===n&&(e.editable=!0),this.params=e,zn(Rh,this,[t])};tc("TouchInteractor",Ah,{ms_edit:1,setUp:function(){var t=this;Rh.superClass.setUp.call(t),nt&&t.params.editable&&t.gv.setEditInteractor(t)},tearDown:function(){var t=this;Rh.superClass.tearDown.call(t),nt&&t.params.editable&&t.gv.setEditInteractor(r)},clear:function(t){var e=this,i=e.gv;i._moving&&(e.fi({kind:"endMove",event:t}),delete i._moving,i.onMoveEnded(),i.dm().endTransaction()),i._panning&&(e.fi({kind:"endPan",event:t}),delete i._panning,i.onPanEnded()),i._pinching&&(e.fi({kind:"endPinch",event:t}),delete i._pinching,i.onPinchEnded()),i._editing&&(e._46O(t),e._77I=e._node=e._edge=e._shape=e._rect=e._89I=e._index=i._editing=r),e._moving=e._panning=e._pinching=e._editing=e._57I=e._data=e._beginHistory=r,e.clearDragging()},handle_touchstart:function(t){var e=this;if(!e.gv._editing){jr(t),e._57I=r;var i=e.params,n=e.gv,o=n.sm(),a=n.getDataAt(t),s=Kr(t);if(1===s){if(qr(t))return void n.handleDoubleClick(t,a);n.handleClick(t,a),a&&(n.handleMouseDown&&n.handleMouseDown(t,a),e._data=a),i.selectable||(a=r),a?(o.co(a)||o.ss(a),i.editable&&n.isEditable(a)&&e._79I(t,a,!0)?(e._editing=1,e.startDragging(t)):i.movable&&n.isMovable(a)&&(e._moving=1,e.startDragging(t))):(e._57I=is(t),i.pannable&&n.isPannable()&&(e._panning=1,e.startDragging(t),e._translate={x:n.tx(),y:n.ty()}))}else if(i.pinchable&&2===s){e._pinching=1,e.startDragging(t);var l=n.getView(),c=n.getZoom(),h=l.getBoundingClientRect(),d=t.touches[0],g=t.touches[1],u={x:(d.clientX+g.clientX)/2-h.left,y:(d.clientY+g.clientY)/2-h.top};u.x-=n.tx(),u.y-=n.ty(),u.x/=c,u.y/=c,e._p=u,e._d=ba(t)}}},handle_touchend:function(t){var e=this,i=e.gv,n=e._57I,o=e._data;n&&(os(n,is(t))<=1&&i.sm().cs(),e._57I=r),o&&i.handleMouseUp&&i.handleMouseUp(t,o)},handleWindowTouchEnd:function(t){this.clear(t)},handleWindowTouchMove:function(t){var e=this,i=e.gv,n=Kr(t);if(1===n){if(e._editing&&(e._beginHistory||(e._beginHistory=1,i.dm().beginTransaction()),i._editing=1,e._78I(t)),e._moving)e._beginHistory||(e._beginHistory=1,i.dm().beginTransaction()),e.handleMove(t);else if(e._panning){var o=is(t);i.setTranslate(e._translate.x+o.x-e._lastClientPoint.x,e._translate.y+o.y-e._lastClientPoint.y),e.fi({kind:i._panning?"betweenPan":"beginPan",event:t}),i._panning=1}}else if(2===n&&e._pinching){var a=ba(t);i.handlePinch(e._p,a,e._d),e._d=a,e.fi({kind:i._pinching?"betweenPinch":"beginPinch",event:t}),i._pinching=1}},handleMove:function(t){var e=this,i=e.gv,n=i.lp(t);i._93O&&i._93O(t,e._data)||(i.moveSelection(n.x-e._lastLogicalPoint.x,n.y-e._lastLogicalPoint.y),e._lastLogicalPoint=n,e.autoScroll(t),e.fi({kind:i._moving?"betweenMove":"beginMove",event:t}),i._moving=1)}});var Ph=(s=e.ht).graph._editor={Math:s.Math,Guide:{}};Ph.getStyle=function(t){var e,i=Ph.StyleMap;return i&&(e=i[t])!==n?e:Ph.DefaultStyleMap[t]},Ph.setStyle=function(t,e){var i=Ph.StyleMap;i||(i=Ph.StyleMap={}),i[t]=e},Ph.inEdit=function(t){return!0===t._inXEdit},Ph.startEdit=function(t){t._inXEdit=!0,Ph.Inject.doInject(t)},Ph._46O=function(t){t._inXEdit=!1,Ph.Inject.undoInject(t)},Ph.toScreenPosition=function(t,e){var i=t.tx(),n=t.ty(),o=t._zoom;return new Ph.Math.Vector2(e.x*o+i,e.y*o+n)},Ph.checkHit=function(t,e,i){return t.distanceTo(e)<i},Ph.toWorldPosition=function(t,e){var i=t.tx(),n=t.ty(),o=t._zoom;return{x:(e.x-i)/o,y:(e.y-n)/o}},Ph.setAntialias=function(t,e){for(var i,n=["imageSmoothingEnabled","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","oImageSmoothingEnabled","msImageSmoothingEnabled"],o=0,a=n.length;a>o&&!((i=n[o])in t);o++);t[i],t[i]=e},Ph.getTargetCornersOnScreen=function(t,e){if(!e)return null;var i,n=[];if(bn(e,t)){var o=Dl(t,e);i=[{x:o.x,y:o.y},{x:o.x+o.width,y:o.y},{x:o.x+o.width,y:o.y+o.height},{x:o.x,y:o.y+o.height}]}else{if(!e.getCorners)return null;i=e.getCorners()}return i.forEach(function(e){var i=Ph.toScreenPosition(t,e);n.push(i.x,i.y)}),n},Ph.log=function(){};var Zh=Ph.Inject={_modules:[]};Zh.registAsModule=function(t,e){var i={},n={};for(var o in t){var a=e.prototype[o];i[o]=a}t.getBackup=function(t){return i[t]},t.getBackups=function(){return i},n.doInject=function(){for(var i in t)"getBackup"!==i&&(e.prototype[i]=t[i])},n.undoInject=function(){for(var n in t)"getBackup"!==n&&(e.prototype[n]=i[n])},Zh._modules.push(n)},Zh.doInject=function(t){for(var e=Zh._modules,i=0,n=e.length;n>i;i++)e[i].doInject(t)},Zh.undoInject=function(t){for(var e=Zh._modules,i=0,n=e.length;n>i;i++)e[i].undoInject(t)};var Lh=Ah=s.graph.EditInteractor=function(t){var e=this,i=a.createElement("canvas");i.className="editCanvas",i.style.position="absolute",e._styleMap={},e._canvas=i,e._context=i.getContext("2d"),Ah.superClass.constructor.call(e,t),Ph.setAntialias(e._context,!1),e._subModules=[new Ph.Anchor(e),new Ph.RotateX(e),new Ph.Rect(e),new Ph.Curve(e),new Ph.MoveHelper(e)],e._gridGuide=new Ph.Guide.Grid(e),e._rectGuide=new Ph.Guide.Rect(e),e._hoverGuide=new Ph.Guide.Hover(e)};s.Default.def(Ah,s.graph.Interactor,{ms_edit:1,ms_fire:1}),i.defineProperties(Ah.prototype,{editDetail:{get:function(){return!!this._editDetail},set:function(t){var e=this,i=e._editDetail;i!==t&&(e._editDetail=t,e.gv._editing=t,e.fp("editDetail",i,t),e.fp("pointsEditingMode",i,t),e.fi({kind:t?"beginEditPoints":"endEditPoints"}))}},gvEditing:{get:function(){return this.gv._editing},set:function(t){(!this._editDetail||t)&&(this.gv._editing=t,t||(this.editDetail=!1))}},editing:{get:function(){return this._editing},set:function(t){this._editing=t,this.gvEditing=t}},pointsEditingMode:{get:function(){return this.editDetail},set:function(t){var e=this;e.editDetail!==t&&(t?e._tryEnterEditDetailMode():e._tryQuitEditDetailMode())}},gridEnabled:{get:function(){if(!this._gridEnabled)return!1;this.gv;return!0},set:function(t){t!==this._gridEnabled&&(this._gridEnabled=t,this._42())}},alignmentGuideEnabled:{get:function(){return this._agEnabled},set:function(t){t!==this._agEnabled&&(this._agEnabled=t,this._42())}},gridGuide:{get:function(){return this._gridGuide}},rectGuide:{get:function(){return this._rectGuide}},hoverGuide:{get:function(){return this._hoverGuide}}}),Ah.prototype.getSubModule=function(t){var e,i,n,o=this._subModules;for(i=0,n=o.length;n>i;i++)if((e=o[i]).catalog===t)return e},Ah.prototype.invokeSubModule=function(t,e){var i=this._subModules;if(i)for(var o,a,r=Array.prototype.slice.call(arguments,2),s=0,l=i.length;l>s;s++)if((a=(o=i[s])[t])&&(a.apply(o,r)!=n&&e))return o},Ah.prototype.invokeSubModuleInverse=function(t,e){var i=this._subModules;if(i)for(var o,a,r=Array.prototype.slice.call(arguments,2),s=i.length-1;s>=0;s--)if((a=(o=i[s])[t])&&(a.apply(o,r)!=n&&e))return o},Ah.prototype.setUp=function(){Ph.log("setUp");var t=this,e=t.gv,i=e.getView(),n=t._canvas;Ah.superClass.setUp.call(t),e.setEditInteractor(t),e._79O?i.insertBefore(n,e._79O):i.appendChild(n),Ph.startEdit(e),t.invokeSubModule("setUp"),e.dm().mm(t._onDataModelChanged,t),e.dm().md(t._onDataPropertyChanged,t)},Ah.prototype.tearDown=function(){Ph.log("tearDown");var t=this,e=t.gv,i=e.getView();t._resetCustomCursorStyle(),Ah.superClass.tearDown.call(t),e.dm().umm(t._onDataModelChanged,t),e.dm().umd(t._onDataPropertyChanged,t),e.setEditInteractor(null),i.removeChild(t._canvas),t._drawTimer&&(H(t._drawTimer),t._drawTimer=null),Ph._46O(e),t.invokeSubModule("tearDown")},Ah.prototype._onDataModelChanged=function(t){var e=this;("clear"===t.kind||"remove"===t.kind&&e.editDetail&&t.data===e.getSubModule("Curve").target)&&(e.editDetail=!1,e._42())},Ah.prototype._onDataPropertyChanged=function(t){if(this.editDetail){var e=this.getSubModule("Curve"),i=t.data;i===e.target&&(i._writing||e._handleDataChanged(t))}},Ah.prototype.clear=function(){Ph.log("clear")},Ah.prototype.redraw=function(){this._42()},Ah.prototype._42=function(){var t=this;t._drawTimer||(t._drawTimer=Q(function(){t._drawTimer=null,t.drawImpl()},0))},Ah.prototype.drawImpl=function(){var t;for(t in{_42:!0})break;return function(){var e=this,i=e._canvas,n=e.gv,o=n.getWidth(),a=n.getHeight(),r=e._context,l=s.Default.getInternal();(i.width!==o||i.height!==a)&&l.setCanvas(i,o,a),r.clearRect(0,0,i.width,i.height);var c=e._getValidSelection();r.save();var h=s.Default.devicePixelRatio;r.scale(h,h),e._gridGuide._42(),e.invokeSubModuleInverse(t,!1,r,n,c),e._rectGuide._42(),e._hoverGuide._42(),r.restore()}}(),Ah.prototype._getValidSelection=function(){var t=this.gv,e=[];return t.sm().getSelection().each(function(i){t.isVisible(i)&&t.isEditable(i)&&e.push(i)}),e},Ah.prototype.handle_touchmove=function(t){return this.handle_mousemove(t)},Ah.prototype.handle_mousemove=function(t){if(!s.Default.isDragging()){var e=this;if(e.editDetail||!Wo())if(e.gvEditing=!1,e._checkEdit(t))e.gvEditing=!0;else{if(!e.getStyle("hoverGuideEnabled"))return;e.hoverData=e.gv.getDataAt(t),e._42()}}},Ah.prototype.handle_touchstart=function(t){return this.handle_mousedown(t)},Ah.prototype.handle_mousedown=function(t){jr(t);var e=this;if(e.editDetail||!Wo()){if(qr(t)&&!t.clickThrough){if(e.editDetail){if(e._tryQuitEditDetailMode(t))return}else if(e._tryEnterEditDetailMode())return;e.gv.dm().beginTransaction();var i=e.invokeSubModule("handleDoubleClick",!0,t);if(e.gv.dm().endTransaction(),i)return}var n=e._checkEdit(t);n&&(e._downPosition=e._getLogicalPoint(t),e.gv.dm().beginTransaction(),n.startEdit(e,t),e.editing=!0)}},Ah.prototype._checkEdit=function(t){var e=this,i=e.gv,n=e._getLogicalPoint(t),o=e.invokeSubModule("check",!0,i,t,n)||null;return e._editMod=o,o},Ah.prototype.handleWindowTouchMove=function(t){return this.handleWindowMouseMove(t)},Ah.prototype.handleWindowMouseMove=function(t){var e=this,i=e._downPosition;if(i){if(e._getLogicalPoint(t).distanceTo(i)<e.getStyle("moveSensitivity"))return;delete e._downPosition}var n=e._editMod;n&&n.handleEdit(e.gv,t)},Ah.prototype._getLogicalPoint=function(t){var e=s.Default.getLogicalPoint(t,this._canvas);return new Ph.Math.Vector2(e)},Ah.prototype.handleWindowTouchEnd=function(t){return this.handleWindowMouseUp(t)},Ah.prototype.handleWindowMouseUp=function(){var t;for(t in{_46O:!0})break;return function(e){var i=this;i.editing=!1,i.setCursor("default"),i.invokeSubModule(t,!1,e),i._42(),i.gv.dm().endTransaction()}}(),Ah.prototype.handle_mousewheel=function(t){jr(t),this.invokeSubModule("preHandleScroll",!0)||this.gv.handleScroll(t,t.wheelDelta)},Ah.prototype.handleDelete=function(){var t=this;if(!t.editDetail){t.gv.dm().beginTransaction();var e=t.invokeSubModule("handleNormalStateDelete",!0);return t.gv.dm().endTransaction(),void(e||t.gv.removeSelection())}t.gv.dm().beginTransaction(),t.invokeSubModule("handleDelete",!0),t.gv.dm().endTransaction(),t._42()},Ah.prototype.handle_keydown=function(t){var e=this;if((t.metaKey||t.ctrlKey)&&e._42(),Wo(t)&&!e.editing)return e.gvEditing=!1,e.setCursor("default"),void e._42();var i=Go(t);return e.editDetail?((i||Fo(t))&&(e.editDetail=!1,e._42()),e.gv.dm().beginTransaction(),e.invokeSubModule("handle_keydown",!0,t),void e.gv.dm().endTransaction()):(e.gv.dm().beginTransaction(),e.invokeSubModule("handleNormalStateKeyDown",!0,t),e.gv.dm().endTransaction(),void(i&&e._tryEnterEditDetailMode()))},Ah.prototype.handle_keyup=function(t){this.gv.dm().beginTransaction(),this.invokeSubModule("handle_keyup",!0,t),this.gv.dm().endTransaction()},Ah.prototype._tryEnterEditDetailMode=function(){var t=this;return!t.editDetail&&t.invokeSubModule("canEnterEditDetailMode",!0)&&1===t._getValidSelection().length?(t.editDetail=!0,t._42(),!0):void 0},Ah.prototype._tryQuitEditDetailMode=function(t){var e=this;return!!e.editDetail&&(!(t&&!e.invokeSubModule("canQuitEditDetailMode",!0,t))&&(e.editDetail=!1,e._42(),!0))},Ah.prototype.setStyle=function(t,e,i){var n=this;i?Ph.setStyle(t,e):n._styleMap[t]=e,"baseColor"===t&&(Hh=e),n.fp("styleChanged",null,{key:t,value:e,base:i}),n._42()},Ah.prototype.getStyle=function(t){var e=this._styleMap[t];return e!==n?e:Ph.getStyle(t)},Ah.prototype.setCursor=function(t){this._resetCustomCursorStyle(),s.graph.EditInteractor.superClass.setCursor.call(this,t)},Ah.prototype._resetCustomCursorStyle=function(){var t=this;if(t._customStyle){var e=this.gv.getView();e.classList&&e.classList.remove&&e.classList.remove(t._customStyle),t._customStyle=null}},Ah.prototype._setRotateCursor=function(t){var e=this,i=e._cursorFactory;i||(i=e._cursorFactory=new Ph.CursorFactory(e));var n=i.getRotateCursor(t),o=e.gv.getView();e._resetCustomCursorStyle(),e._customStyle=n,o.classList&&o.classList.add&&o.classList.add(n)};var Bh=Ph.Group=function(t){var e=this;e._entities=t,e._64O=0,e._position={x:0,y:0},e._scale={x:1,y:1},e._anchor={x:.5,y:.5},e._anchor2={x:.5,y:.5}};Bh.prototype={},Bh.prototype.constructor=Bh;var Oh=null;Bh.findOrCreateGroup=function(t){if(Oh&&Oh.checkIsMe(t))return Oh;var e=new Ph.Group(t);return e.getKeyOb()?(Oh=e,e):void 0},Bh.prototype.checkIsMe=function(t){var e=this._entities;if(e.length!==t.length)return!1;var i,n={},o=t.length;for(i=0;o>i;i++)n[t[i]._id]=!0;for(i=0;o>i;i++)if(!n[e[i]._id])return!1;return!0},Bh.prototype.getRotation=function(){return this._64O},Bh.prototype.getPosition=function(){return this._position},Bh.prototype.getAnchor=function(){return this._anchor},Bh.prototype.getWidth=function(){return this._width},Bh.prototype.getScale=function(){return this._scale},Bh.prototype.getSize=function(){return{width:this._width,height:this._height}},Bh.prototype.getHeight=function(){return this._height},Bh.prototype.getKeyOb=function(){for(var t=this._entities,e=t.length-1;e>=0;e--){var i=t[e];if(this.isNode(i))return i}},Bh.prototype.getAnchor2=function(){var t=this,e=t.rotateCenter;if(e)return e;var i=t.getKeyOb();if(!i)return t._anchor;var n=t._anchor2;return i.getMatrix().tf({x:i.getWidth()*(n.x-i.getAnchor().x),y:i.getHeight()*(n.y-i.getAnchor().y)})},Bh.prototype.setAnchor2=function(t,e){var i=this.getKeyOb();if(i){var n,o=i.getMatrix();n="number"==typeof t?{x:t,y:e}:t;var a=o.tfi(n);this._anchor2={x:i.getAnchor().x+a.x/i.getWidth(),y:i.getAnchor().y+a.y/i.getHeight()}}},Bh.prototype.setRotation=function(){},Bh.prototype.beginRotate=function(t){this.rotateCenter=t.pos,this.rotateMode=t.groupRotateMode},Bh.prototype.endRotate=function(){delete this.rotateCenter,delete this.rotateMode},Bh.prototype.addRotation=function(t,e){return"batch"===e?this._addRotationInBatchMode(t):"block"===e?this._addRotationInBlockMode(t):void 0},Bh.prototype._addRotationInBlockMode=function(t){var e=this,i=e.rotateCenter||e.getPosition();e._entities.forEach(function(n){if(e.isNode(n)){var o=n.getMatrix();o.translate(-i.x,-i.y),o.rotate(t),o.translate(i.x,i.y);var a=Math.sign(n.getScale().x);n.setRotation(P(o.b*a,o.a*a)),n.setPosition(o.tx,o.ty)}})},Bh.prototype._addRotationInBatchMode=function(t){var e=this,i=e._anchor2;e._entities.forEach(function(n){if(e.isNode(n)){var o=n.getAnchor(),a=n.getMatrix(),r=a.tf({x:n.getWidth()*(i.x-o.x),y:n.getHeight()*(i.y-o.y)}),s=new Ph.Math.Matrix2d;s.set(a.a,a.b,a.c,a.d,a.tx,a.ty),s.translate(-r.x,-r.y),s.rotate(t),s.translate(r.x,r.y);var l=Math.sign(n.getScale().x);n.setRotation(P(s.b*l,s.a*l)),n.setPosition(s.tx,s.ty)}})},Bh.prototype.setPosition=function(t){var e,i,n,o,a=this,r=a._position,s=t.x-r.x,l=t.y-r.y,c=a._entities;for(i=0,n=c.length;n>i;i++)e=c[i],Cn(e)&&(o=e.getPosition(),e.setPosition(o.x+s,o.y+l));a._position=t},Bh.prototype.setScale=function(t,e){var i=this,n=t/i._scale.x,o=e/i._scale.y;i._adjustChildScaleOrSize(n,o,"size"),i._scale={x:t,y:e}},Bh.prototype.getRect=function(){var t=this,e=t._position,i=t._width,n=t._height;return{x:e.x-i/2,y:e.y-n/2,width:i,height:n}},Bh.prototype.setSize=function(t,e){var i=this,n=(t=Math.max(1,t),e=Math.max(1,e),t/i._width),o=e/i._height;i._adjustChildScaleOrSize(n,o,"size"),i._width=t,i._height=e},Bh.prototype._adjustChildScaleOrSize=function(t,e,i){var n,o,a,r,s,l,c,h,d,g,u,f,v,p,I=this,_=I._position,y=I._entities,C=new Ph.Math.Matrix2d;for(o=0,a=y.length;a>o;o++)if(n=y[o],I.isNode(n)){if(r=n.getPosition(),s=n.getRotation(),l=n.getWidth(),c=n.getHeight(),u=(h=n.getScale()).x*l,f=h.y*c,C.identity().scale(u,f).rotate(s).translate(r.x,r.y).translate(-_.x,-_.y).rotate(-I._64O),s=P(C.b*Math.sign(u),C.a*Math.sign(u)),C.scale(t,e),d=Math.cos(s),g=Math.sin(s),Math.abs(d)<.001?(v=C.b/g,p=-C.c/g):(v=C.a/d,p=C.d/d),"scale"===i)n.setScale(v/l,p/c);else if("size"===i){var m=v/h.x,w=p/h.y;n.setScale(Rn(v)*Math.abs(h.x),Rn(p)*Math.abs(h.y)),n.setSize(Math.max(.1,Math.abs(m)),Math.max(.1,Math.abs(w)))}C.rotate(I._64O).translate(_.x,_.y),n.setPosition(C.tx,C.ty)}},Bh.prototype.getMatrix=function(){var t=this,e=t._position,i=s.Default.getInternal(),n=t._scale;return new i.Mat(t._64O,e.x,e.y,n.x,n.y)},Bh.prototype.toGlobal=function(t){return this.getMatrix().tf(t)},Bh.prototype.getCorners=function(){var t=this,e=t._width,i=t._height,n=t._anchor,o=-e*n.x,a=-i*n.y,r=t.getMatrix();return[r.tf(o,a),r.tf(o,a+i),r.tf(o+e,a+i),r.tf(o+e,a)]},Bh.prototype.calcInfo=function(){var t,e,i,n,o,a,r=this,s=[],l=r._entities,c=r._64O;for(n=0,o=l.length;o>n;n++)a=l[n],r.isNode(a)&&a.getCorners&&s.push.apply(s,a.getCorners());if(s.length){var h=Math.cos(-c),d=Math.sin(-c),g=1/0,u=-1/0,f=1/0,v=-1/0;for(n=0,o=s.length;o>n;n++)t=(i=s[n]).x,e=i.y,i.x=h*t-d*e,i.y=d*t+h*e,g=Math.min(g,i.x),u=Math.max(u,i.x),f=Math.min(f,i.y),v=Math.max(v,i.y);r._width=(u-g)/r._scale.x,r._height=(v-f)/r._scale.y,h=Math.cos(c),d=Math.sin(c);var p=r._anchor;t=g+(u-g)*p.x,e=f+(v-f)*p.y,r._position={x:h*t-d*e,y:d*t+h*e}}},Bh.prototype.isNode=function(t){return!!Cn(t)&&!bn(t)},Bh.prototype._42=function(t,e,i){var n,o,a,r,s,l,c=this,h=c._entities;for("batch"===c.rotateMode&&(l=c.getKeyOb()),n=0,o=h.length;o>n;n++)a=h[n],c.isNode(a)&&(r=a.getRect(),s={min:Ph.toScreenPosition(i,{x:r.x,y:r.y}),max:Ph.toScreenPosition(i,{x:r.x+r.width,y:r.y+r.height})},a===l&&(s.isKeyOb=!0),Ph.Icons.DrawIcon(t,e,Ph.Icons.GroupSubEntityRect,s))};var Uh=Ph.CurveActiving=function(t,e){for(var i in this._curve=t,this._interactor=t._interactor,e)this[i]=e[i]};Uh.prototype={},Uh.prototype.constructor=Uh,i.defineProperties(Uh.prototype,{point:{get:function(){return this._point},set:function(t){var e=this;e._point=t,e.editingCtrl||e._firePointChange()}},pairs:{get:function(){return this._pairs},set:function(t){var e=this;e._pairs=t,e.editingCtrl&&e._firePointChange()}}}),Uh.prototype._firePointChange=function(){var t=this,e=t.getCurrentEditingPoint();if(e){var i=t._interactor,o=this._curve.target;if(o){var a=Ph.getDataMatrix(o).invert(),r=e.e;(e=a.apply(Ph.toWorldPosition(i.gv,e))).e=r;var s=t._lastFirePoint;s&&Math.abs(e.x-s.x)<1e-5&&Math.abs(e.y-s.y)<1e-5&&(e.e==n&&s.e==n||Math.abs(e.e-s.e)<1e-5)||(t._lastFirePoint=e,i.fi({kind:"selectPoint",x:e.x,y:e.y,e:e.e}))}}else i.fi({kind:"selectPoint"})},Uh.prototype.dispose=function(){this._interactor.fi({kind:"selectPoint"})},Uh.prototype.getCurrentEditingPoint=function(){var t=this,e=t.editingCtrl;if(e){var i=t.pairs;if(i){var n=i[e.pairId][e.type];if(n)return n}}return t._point};var Wh=Ph.CursorFactory=function(t){this._interactor=t,this._rotateCursorStyles={}};Wh.prototype={},Wh.prototype.constructor=Wh,Wh.prototype.getRotateCursor=function(t){var e=this;0>t&&(t+=2*Math.PI);var i=e._interactor,n=i.getStyle("rotateCursorSize"),o=i.getStyle("rotateCursorRound"),a=Math.round(t/Math.PI*180/o);a*o>=360&&(a=0);var r=e._rotateCursorStyles,s="htCustomRotateStyle_"+n+"_"+o+"_"+a;return r[s]||(e._produceRotateCursor(s,n,o,a),r[s]=!0),s},Wh.prototype._produceRotateCursor=function(t,e,i,n){var o=this;o._interactor;var r=o._canvas;r||(r=o._canvas=a.createElement("canvas")),r.width=r.height=e*devicePixelRatio,r.style.width=r.style.height=e+" px";var s=r.getContext("2d");Ph.setAntialias(s,!1),s.scale(devicePixelRatio,devicePixelRatio);var l,c,h,d,g=Math.round(e/2),u=g+" "+g+",auto !important;";l=Math.PI/180*n*i,s.clearRect(0,0,e,e),s.save(),s.scale(e/32,e/32),s.translate(16,16),s.rotate(l+Math.PI/2),s.beginPath(),s.moveTo(-8,0),s.lineTo(-8,3),s.lineTo(-5,3),s.moveTo(8,0),s.lineTo(8,3),s.lineTo(5,3),s.moveTo(-8,3),s.quadraticCurveTo(0,-6,8,3),s.restore(),s.strokeStyle="white",s.lineWidth=4,s.stroke(),s.strokeStyle="black",s.lineWidth=2,s.stroke(),h="cursor:url("+(c=JSON.stringify(r.toDataURL()))+")"+u,1!==devicePixelRatio&&(h+="cursor:url(data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+e+'px" height="'+e+'px"><image xlink:href='+c+' width="'+e+'" height="'+e+'"/></svg>')+")"+u,h+="cursor:-webkit-image-set(url("+c+")"+devicePixelRatio+"x,url("+c+")1x)"+u),(d=a.createElement("style")).textContent="body."+t+" *, ."+t+"{"+h+"}",a.head.appendChild(d)},(lh=Ph.Guide.Grid=function(t){var e=this;e._interactor=t,e._alignmentGuideId=0,e._xAlignmentGuide=[],e._yAlignmentGuide=[]}).prototype={},lh.prototype.constructor=lh,i.defineProperties(lh.prototype,{gridBlockSize:{get:function(){return this._gridBlockSize||this._interactor.getStyle("gridBlockSize")},set:function(t){this._gridBlockSize=t,this._interactor._42()}},gridThickLinesEvery:{get:function(){return this._gridThickLinesEvery||this._interactor.getStyle("gridThickLinesEvery")},set:function(t){this._gridThickLinesEvery=t,this._interactor._42()}},gridEnabled:{get:function(){return this._interactor.gridEnabled&&this.isValidGrid()}}}),lh.prototype._42=function(){var t=this,e=t._interactor;t.gridEnabled&&t.drawGrid(),e.alignmentGuideEnabled&&t.drawAlignmentGuide()},lh.prototype.makeMatrix=function(){var t=this._interactor.getStyle("gridAngle"),e=this._interactor.getStyle("gridRotation"),i=new Ph.Math.Matrix2d,n=Math.sin(t),o=Math.cos(t);return i.set(1,0,o,n,0,0),i.rotate(e),i},lh.prototype.isValidGrid=function(){var t=Math.PI,e=this._interactor;if(e.gv._zoom<e.getStyle("gridZoomThreshold"))return!1;var i=e.getStyle("gridAngle"),n=Math.abs(i%t/t*180),o=1-1e-8;return!(o>n||n>180-o)},lh.prototype.drawAlignmentGuide=function(){var t=this,e=t._interactor,i=e.gv,n=e._canvas,o=e._context,a=n.width,r=n.height,s=i.tx(),l=i.ty(),c=i._zoom;o.beginPath(),o.strokeStyle=e.getStyle("gridAlignmentGuideColor"),o.lineWidth=1,t._xAlignmentGuide.forEach(function(t){var e=t.p*c+s;o.moveTo(e,0),o.lineTo(e,r)}),t._yAlignmentGuide.forEach(function(t){var e=t.p*c+l;o.moveTo(0,e),o.lineTo(a,e)}),o.stroke()},lh.prototype.drawGrid=function(){function t(t,e,i,n){var o=Ph.toScreenPosition(s,g.apply({x:t,y:e})),a=Ph.toScreenPosition(s,g.apply({x:i,y:n}));c.moveTo(o.x,o.y),c.lineTo(a.x,a.y)}var e=this,i=e._interactor,n=e.gridBlockSize,o=e.gridThickLinesEvery,a=i.getStyle("gridThickColor"),r=i.getStyle("gridLightColor"),s=i.gv,l=i._canvas,c=i._context,h=l.width,d=l.height,g=e.makeMatrix(),u=g.applyInverse(Ph.toWorldPosition(s,{x:0,y:0})),f=g.applyInverse(Ph.toWorldPosition(s,{x:h,y:0})),v=g.applyInverse(Ph.toWorldPosition(s,{x:0,y:d})),p=g.applyInverse(Ph.toWorldPosition(s,{x:h,y:d})),I=Math.min(u.x,f.x,v.x,p.x),_=Math.max(u.x,f.x,v.x,p.x),y=Math.min(u.y,f.y,v.y,p.y),C=Math.max(u.y,f.y,v.y,p.y);h=_-I,d=C-y;var m,w,b,A=Math.ceil(I/n),M=Math.floor(_/n),x=Math.ceil(y/n),D=Math.floor(C/n);for(s.tx(),s.ty(),s._zoom,c.save(),c.lineWidth=1,c.beginPath(),c.strokeStyle=a,b=Math.ceil(A/o)*o;M>=b;b+=o)t(m=b*n,y,m,C);for(b=Math.ceil(x/o)*o;D>=b;b+=o)t(I,w=b*n,_,w);for(c.stroke(),c.beginPath(),c.strokeStyle=r,b=A;M>=b;b++)0!=b%o&&t(m=b*n,y,m,C);for(b=x;D>=b;b++)0!=b%o&&t(I,w=b*n,_,w);c.stroke(),c.restore()},lh.prototype.getAlignmentGuides=function(){return{x:this._xAlignmentGuide,y:this._yAlignmentGuide}},lh.prototype.addAlignmentGuide=function(t,e,i){var n=this,o="x"===t?n._xAlignmentGuide:n._yAlignmentGuide,a={p:e,id:i=i||++n._alignmentGuideId};if(o.length){var r=n._findClosestAlignmentGuide(a.p,o);r.dis<0?o.splice(r.index+1,0,a):o.splice(r.index,0,a)}else o.push(a);return n._interactor._42(),i},lh.prototype.findClosest=function(t,e,i){var n=this,o=n._interactor,a=o.gv;i&&(t=Ph.toWorldPosition(a,t));var r,s,l,c=1/0,h=1/0,d=t.x,g=t.y;if(n.gridEnabled){var u=n.gridBlockSize,f=n.makeMatrix(),v=f.applyInverse(t);c=(v=f.apply({x:Math.round(v.x/u)*u,y:Math.round(v.y/u)*u})).x-d,h=v.y-g,l=!0}if(o.alignmentGuideEnabled&&(r=n._findClosestAlignmentGuide(d,n._xAlignmentGuide).dis,s=n._findClosestAlignmentGuide(g,n._yAlignmentGuide).dis,Math.abs(r)<Math.abs(c)&&(c=r,l=!0),Math.abs(s)<Math.abs(h)&&(h=s,l=!0)),l){l=!1;var p=a._zoom,I=o.getStyle("smartGuideSensitivity")/p,_={};if(Math.abs(c)<I&&"y"!==e&&(_.x=i?c*p:c,l=!0),Math.abs(h)<I&&"x"!==e&&(_.y=i?h*p:h,l=!0),l)return _}},lh.prototype._findClosestAlignmentGuide=function(t,e){if(!e.length)return{dis:1/0};for(var i,n=0,o=e.length-1;o-n>1;)e[i=Math.floor((n+o)/2)].p<t?n=i:o=i;var a=e[n].p-t,r=e[o].p-t;return Math.abs(a)<=Math.abs(r)?{line:e[n],dis:a,index:n}:{line:e[o],dis:r,index:o}},lh.prototype.removeAllAlignmentGuide=function(t){var e=this;"y"!==t&&(e._xAlignmentGuide=[]),"x"!==t&&(e._yAlignmentGuide=[]),e._interactor._42()},lh.prototype.removeAlignmentGuide=function(t){for(var e,i,n,o=this,a=o._xAlignmentGuide,r=0;2>r;r++)for(e=0,i=(a=0===r?o._xAlignmentGuide:o._yAlignmentGuide).length;i>e;e++)if((n=a[e]).id===t)return a.splice(e,1),o._interactor._42(),{axis:0===r?"x":"y",position:n.p};return!1},lh.prototype.adjustAlignmentGuide=function(t,e){var i=this.removeAlignmentGuide(t);return!!i&&(this.addAlignmentGuide(i.axis,e,t),!0)},(rd=Ph.Guide.Rect=function(t){this._interactor=t}).prototype={},rd.prototype.constructor=rd,rd.prototype.gatherRects=function(){var t,e,i,n,o=this,a=o._interactor.gv,r=[],s=[],l={x:r,y:s},c={},h=a.getDataModel(),d=h.a("width"),g=h.a("height");d&&g&&(t=0,e=0,i=d,n=g,r.push({node:h,type:0,p:t},{node:h,type:1,p:t+i/2},{node:h,type:2,p:t+i}),s.push({node:h,type:0,p:e},{node:h,type:1,p:e+n/2},{node:h,type:2,p:e+n}),c[h._id||0]={x:t,y:e,width:i,height:n}),h.each(function(o){if(Cn(o)&&!a.isSelected(o)&&a.isVisible(o)){var l=!1;if(a.sm().getSelection().each(function(t){l||(o.isHostOn(t)?l=!0:o.isDescendantOf(t)&&(l=!0))}),!l){var h=o.getRect();t=h.x,e=h.y,i=h.width,n=h.height,r.push({node:o,type:0,p:t},{node:o,type:1,p:t+i/2},{node:o,type:2,p:t+i}),s.push({node:o,type:0,p:e},{node:o,type:1,p:e+n/2},{node:o,type:2,p:e+n}),c[o._id]=h}}}),r.sort(function(t,e){return t.p-e.p}),s.sort(function(t,e){return t.p-e.p}),o._grid=l,o._87I=c},rd.prototype.gatherLines=function(t,e,i){var n,o,a,r,s,l,c,h,d,g,u,f,v=this,p=[v.findClosest({x:t.x,y:t.y},e),v.findClosest({x:t.x+t.w/2,y:t.y+t.h/2},e),v.findClosest({x:t.x+t.w,y:t.y+t.h},e)],I={},_=v._87I;for(i=i||255,v._guideLine=[],n=0;2>n;n++)for(I={},0===n?(r="y",h=(c=t.x)+t.w):(r="x",h=(c=t.y)+t.h),o=0;3>o;o++)(s=p[o])&&isFinite(s[r])&&(i&1<<3*n+o&&(I[f=(l=s[r+"Line"]).node._id||0]||(I[f]=!0,u=_[f],"y"===r?(d=u.x,g=u.x+u.width):(d=u.y,g=u.y+u.height),a=l.p,v._guideLine.push({type:r,a:c,b:h,c:d,d:g,p:a,center:1===l.type}))))},rd.prototype._binarySearchClosest=function(t,e){if(!e.length)return{dis:1/0};for(var i,n=0,o=e.length-1;o-n>1;)e[i=Math.floor((n+o)/2)].p<t?n=i:o=i;var a=e[n].p-t,r=e[o].p-t;return Math.abs(a)<=Math.abs(r)?{line:e[n],dis:a}:{line:e[o],dis:r}},rd.prototype.findClosest=function(t,e,i){var n=this,o=n._interactor,a=o.gv,r=n._grid;i&&(t=Ph.toWorldPosition(a,t));var s,l=n._binarySearchClosest(t.x,r.x),c=n._binarySearchClosest(t.y,r.y),h=l.dis,d=c.dis,g=a._zoom,u=o.getStyle("smartGuideSensitivity")/g,f={};return Math.abs(h)<u&&"y"!==e&&(f.x=i?h*g:h,f.xLine=l.line,s=!0),Math.abs(d)<u&&"x"!==e&&(f.y=i?d*g:d,f.yLine=c.line,s=!0),s?f:void 0},rd.prototype._42=function(){var t=this._guideLine;if(t&&!s.Default.isCtrlDown()){var e,i,n,o,a,r,l,c,h,d,g,u,f,v,p,I,_,y=this._interactor,C=y.gv,m=y._context,w=C.tx(),b=C.ty(),A=C._zoom,M=y.getStyle("guideLineTextSpacing");for(e=0,i=t.length;i>e;e++)c=(n=t[e]).type,h=n.p,d=n.a,g=n.b,u=n.c,f=n.d,v=Math.min(d,u),p=Math.max(g,f),"x"===c?(a=v*A+b,r=o=h*A+w,l=p*A+b):(o=v*A+w,r=p*A+w,l=a=h*A+b),Ph.Icons.DrawIcon(y,m,Ph.Icons.MoveLineGuide,{rect:[o,a,r,l],center:n.center}),f>=d&&g>=u||(v=d>f?f:g,_=(p=d>f?d:u)-v,"x"===c?(n.center2center||(r=o-=M),a=v*A+b,l=p*A+b,I=Ph.Icons.MoveLineGuideDistanceV):"y"===c&&(n.center2center||(l=a-=M),o=v*A+w,r=p*A+w,I=Ph.Icons.MoveLineGuideDistanceH),Ph.Icons.DrawIcon(y,m,I,{x0:o,y0:a,x1:r,y1:l,dis:_}))}},rd.prototype.clear=function(){this._guideLine=null};var Gh=Ph.Guide.Hover=function(t){this._interactor=t};Gh.prototype={},Gh.prototype.constructor=Gh,i.defineProperties(Gh.prototype,{}),Gh.prototype._42=function(){var t=this._interactor;if(t.getStyle("hoverGuideEnabled")&&!t.gvEditing){var e=t.hoverData,i=t.gv;if(Cn(e)&&!i.isSelected(e)){var n=e.getRect(),o=Ph.toScreenPosition(i,{x:n.x,y:n.y}),a=Ph.toScreenPosition(i,{x:n.x+n.width,y:n.y+n.height});Ph.Icons.DrawIcon(t,t._context,Ph.Icons.HoverDataRect,{min:o,max:a})}}},Ph.DefaultStyleMap={baseColor:"rgb(51,153,255)",pointSize:[24,9],checkSize:7,rotateCheckSize:10,moveSensitivity:10,keepAspectRatio:!1,rotateRound:Math.PI/2,shiftRotateRound:Math.PI/12,rotateSensitivity:Math.PI/60,rotateAsClock:!1,shiftLineRotateRound:Math.PI/4,anchorMovable:!0,anchorVisible:!0,anchorHideThreshold:25,anchorOutsideVisibleThreshold:.25,anchorRound:.25,anchorSensitivity:.02,smartGuideSensitivity:8,curveIntersectSize:5,curvePointIntersectSize:8,edgeHostDetectPerFrame:!0,edgeHostEdgeMaxDistance:12,edgeHostEdgeHighlighColor:"#5d5d5d",edgeHostPointHighlighColor:"red",edgeHostHighlighPeriod:1500,guideLineTextSpacing:0,hoverGuideEnabled:!1,gridBlockSize:40,gridThickLinesEvery:10,gridThickColor:"#5d5d5d",gridLightColor:"#d0d0d0",gridZoomThreshold:.25,gridAlignmentGuideColor:"#ff0000",gridAngle:Math.PI/2,gridRotation:0,groupRotateModeDefault:"block",groupRotateModeKey:["ctrlKey","metaKey"],rotateCursorSize:32,rotateCursorRound:45,tipTextColor:"#ffffff",tipBackground:"#333333",curveHighlightColor:"#30599e",rectPointBackground:"white",rectPointBorderColor:"#666666",rectPointShadowColor:"rgba(0,0,0,0.35)",shapeCtrlPointBackground:"white",shapeCtrlPointBorderColor:null,shapeCtrlPointHighlightBorder:null,shapeHighlighPointBackground:"#30599e",curveElevationVisible:!0,curveElevationIntersectSize:8,curveElevationGuideShift:[20,0],connectGuideVisible:!0,connectGuideShift:[1,.25,8,0],connectGuideIntersectSize:8,connectGuideGarbageIntersectsize:25,connectGuideGarbageShift:[1,1,-48,-48]};var Fh=Ph.Icons={},Qh=null,Hh=Ph.DefaultStyleMap.baseColor,Yh="rgb(255,204,153)";s.Default.setImage("Icons.RectPoint",{width:6,height:6,comps:[{type:"rect",background:"rgb(247,247,247)",borderWidth:1,borderColor:{func:function(){return Hh}},rect:[0,0,6,6]}]}),Fh.GroupSubEntityRect={comps:[{type:"shape",points:{func:function(){var t=Fh.GroupSubEntityRect.data;if(!t)return[];var e=t.min,i=t.max;return[e.x,e.y,e.x,i.y,i.x,i.y,i.x,e.y]}},segments:[1,2,2,2,5],background:null,borderWidth:1,borderColor:{func:function(){return Fh.GroupSubEntityRect.data.isKeyOb,Hh}}}]};Fh.HoverDataRect={comps:[{type:"shape",points:{func:function(){var t=Fh.HoverDataRect.data;if(!t)return[];var e=t.min,i=t.max;return e.x-=4,e.y-=4,i.x+=4,i.y+=4,[e.x,e.y,e.x,i.y,i.x,i.y,i.x,e.y]}},segments:[1,2,2,2,5],background:null,borderWidth:1,borderColor:{func:function(){return Hh}},borderCap:"round",borderPattern:[1,4]}]},Fh.Line={comps:[{type:"image",name:"Icons.RectPoint",rect:{func:function(){return[[Fh.Line.data.P1.x,Fh.Line.data.P1.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rect:{func:function(){return[[Fh.Line.data.P2.x,Fh.Line.data.P2.y],6,6]}}}]},Fh.NodeHoverGuide={comps:[{type:"shape",points:{func:function(){return Fh.NodeHoverGuide.data}},segments:[1,2,2,2,5],background:null,borderWidth:1,borderColor:"#3399FF"}]},Fh.Rect={comps:[{type:"shape",points:{func:function(){var t=Fh.Rect.data;if(!t)return[];var e=t.LT,i=t.LB,n=t.RB,o=t.RT;return[e.x,e.y,i.x,i.y,n.x,n.y,o.x,o.y]}},segments:[1,2,2,2,5],background:null,borderWidth:1,borderColor:{func:function(){return Hh}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return Fh.Rect.data.rotation}},rect:{func:function(){return[[Fh.Rect.data.LT.x,Fh.Rect.data.LT.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return Fh.Rect.data.rotation}},rect:{func:function(){return[[Fh.Rect.data.LB.x,Fh.Rect.data.LB.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return Fh.Rect.data.rotation}},rect:{func:function(){return[[Fh.Rect.data.RB.x,Fh.Rect.data.RB.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return Fh.Rect.data.rotation}},rect:{func:function(){return[[Fh.Rect.data.RT.x,Fh.Rect.data.RT.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return Fh.Rect.data.rotation}},visible:{func:function(){return!!Fh.Rect.data.L}},rect:{func:function(){return[[Fh.Rect.data.L.x,Fh.Rect.data.L.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return Fh.Rect.data.rotation}},visible:{func:function(){return!!Fh.Rect.data.R}},rect:{func:function(){return[[Fh.Rect.data.R.x,Fh.Rect.data.R.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return Fh.Rect.data.rotation}},visible:{func:function(){return!!Fh.Rect.data.T}},rect:{func:function(){return[[Fh.Rect.data.T.x,Fh.Rect.data.T.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return Fh.Rect.data.rotation}},visible:{func:function(){return!!Fh.Rect.data.B}},rect:{func:function(){return[[Fh.Rect.data.B.x,Fh.Rect.data.B.y],6,6]}}}]};s.Default.setImage("Icons.Anchor",{width:12,height:12,comps:[{type:"shape",borderWidth:1,borderColor:{func:function(){return Hh}},borderCap:"round",shadowColor:"#1ABC9C",points:[.50928,6,11.49072,6,6,6,6,.50928,6,11.49072]},{type:"circle",borderWidth:1,borderColor:{func:function(){return Hh}},shadowColor:"#1ABC9C",rect:[2.84391,2.84391,6.53697,6.53697]}]}),Fh.Anchor={comps:[{type:"image",name:"Icons.Anchor",rect:{func:function(){return[[Fh.Anchor.data.POS.x,Fh.Anchor.data.POS.y],16,16]}}}]},Fh.TipShiftX=12,Fh.TipShiftY=12;var Jh=[8,28];Fh.TipHelper={comps:[{type:"roundRect",rect:{func:function(){return[Fh.TipHelper.data.helperPos.x,Fh.TipHelper.data.helperPos.y,Jh[0]*Fh.TipHelper.data.size,Jh[1]]}},background:{func:function(){return Qh.getStyle("tipBackground")}},opacity:.6},{type:"text",text:{func:function(){return Fh.TipHelper.data.text}},rect:{func:function(){return[Fh.TipHelper.data.helperPos.x,Fh.TipHelper.data.helperPos.y,Jh[0]*Fh.TipHelper.data.size,Jh[1]]}},color:{func:function(){return Qh.getStyle("tipTextColor")}},font:"bold 12px Arial",align:"center"}]};Fh.ShapePoint={comps:[{type:"circle",visible:{func:function(){return!!Fh.ShapePoint.data.dynamicVisible}},rect:{func:function(){var t=Fh.ShapePoint.data.point,e=Fh.ShapePoint.data.size||7;return[t,e+10,e+10]}},background:{func:function(){var t=Date.now(),e=Fh.ShapePoint.data.dynamicPeriod||1500;return"rgba(27,124,22,"+.5*Math.sin(t%e/e*Math.PI)+")"}},borderWidth:0},{type:"circle",rect:{func:function(){var t=Fh.ShapePoint.data.point,e=Fh.ShapePoint.data.size||7;return[t,e,e]}},background:{func:function(){return Fh.ShapePoint.data.isEnd?"rgba(27,124,222,0.7)":"#ffffff"}},borderWidth:1,borderColor:{func:function(){return Fh.ShapePoint.data.color||Hh}}},{type:"rect",visible:{func:function(){return!!Fh.ShapePoint.data.dynamicVisible}},background:"red",borderWidth:0,rotation:Math.PI/4,borderColor:{func:function(){return Hh}},rect:{func:function(){return[Fh.ShapePoint.data.point,5,5]}}}]},Fh.ShapeBgCurve={comps:[{type:"shape",visible:{func:function(){return!!Fh.ShapeBgCurve.data.dynamicVisible}},points:{func:function(){return Fh.ShapeBgCurve.data.P}},segments:{func:function(){return Fh.ShapeBgCurve.data.S}},background:null,borderWidth:6,borderColor:{func:function(){var t=Date.now(),e=Fh.ShapeBgCurve.data.dynamicPeriod||1500;return"rgba(27,124,22,"+.3*Math.sin(t%e/e*Math.PI)+")"}}},{type:"shape",points:{func:function(){return Fh.ShapeBgCurve.data.P}},segments:{func:function(){return Fh.ShapeBgCurve.data.S}},background:null,borderWidth:1,borderColor:{func:function(){return Fh.ShapeBgCurve.data.color||Hh}}}]};Fh.ShapeHighlighPoint={comps:[{type:"circle",rect:{func:function(){var t=Fh.ShapeHighlighPoint.data;return[[t.x,t.y],8,8]}},background:{func:function(){return Qh.getStyle("shapeHighlighPointBackground")}},borderWidth:0}]};Fh.ShapeHighlighRealPoint={comps:[{type:"circle",rect:{func:function(){var t=Fh.ShapeHighlighRealPoint.data;return[[t.x,t.y],10,10]}},background:"#ffffff",borderWidth:2,borderColor:{func:function(){return Hh}}}]};Fh.ShapeHighlighCtrlPoint={comps:[{type:"shape",points:{func:function(){var t=Fh.ShapeHighlighCtrlPoint.data,e=t.x,i=t.y;return[e-4,i-4,e-4,i+4,e+4,i+4,e+4,i-4]}},segments:[1,2,2,2,5],borderWidth:2,background:{func:function(){return Qh.getStyle("shapeCtrlPointBackground")}},borderColor:{func:function(){return Qh.getStyle("shapeCtrlPointBorderColor")||Hh}}}]};Fh.ShapeHighlightCurve={comps:[{type:"shape",points:{func:function(){return Fh.ShapeHighlightCurve.data}},segments:[1,4],background:null,borderWidth:3,borderColor:{func:function(){return Qh.getStyle("curveHighlightColor")}}}]},Fh.ShapeGuideLine={comps:[{type:"shape",points:{func:function(){return Fh.ShapeGuideLine.data}},background:null,borderWidth:1,borderColor:"rgb(255,204,153)"}]},Fh.MoveLineGuide={comps:[{type:"shape",points:{func:function(){return Fh.MoveLineGuide.data.rect}},background:null,borderWidth:1,borderColor:{func:function(){return Fh.MoveLineGuide.data.center?"rgb(183,232,135)":Yh}}}]};Fh.MoveLineGuideDistanceH={comps:[{type:"shape",points:{func:function(){var t=Fh.MoveLineGuideDistanceH.data,e=t.x0,i=t.y0;return[e,i-5,e,i+5]}},rotation:-Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:Yh},{type:"shape",points:{func:function(){var t=Fh.MoveLineGuideDistanceH.data,e=t.x1,i=t.y1;return[e,i-5,e,i+5]}},rotation:-Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:Yh},{type:"text",text:{func:function(){return Math.round(Fh.MoveLineGuideDistanceH.data.dis)}},rect:{func:function(){var t=Fh.MoveLineGuideDistanceH.data;return[[(t.x0+t.x1)/2,t.y0-10],20,20]}},color:Yh,font:"12px Arial",align:"center"}]},Fh.MoveLineGuideDistanceV={comps:[{type:"shape",points:{func:function(){var t=Fh.MoveLineGuideDistanceV.data,e=t.x0,i=t.y0;return[e-5,i,e+5,i]}},rotation:Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:Yh},{type:"shape",points:{func:function(){var t=Fh.MoveLineGuideDistanceV.data,e=t.x1,i=t.y1;return[e-5,i,e+5,i]}},rotation:Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:Yh},{type:"text",text:{func:function(){return Math.round(Fh.MoveLineGuideDistanceV.data.dis)}},rect:{func:function(){var t=Fh.MoveLineGuideDistanceV.data;return[[t.x0-10,(t.y0+t.y1)/2],20,20]}},color:Yh,font:"12px Arial",align:"center"}]},s.Default.setImage("Icons.EdgeElevationGuideImage",{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:"rgb(138,138,138)",rect:[.5,.5,15,15]},{type:"shape",borderWidth:2,borderColor:"rgb(44,44,44)",borderCap:"round",points:[4,8,8,4,12,8,8,4,8,13],segments:[1,2,2,1,2]}]}),Fh.EdgeElevationGuide={comps:[{type:"image",name:"Icons.EdgeElevationGuideImage",rect:{func:function(){var t=Fh.EdgeElevationGuide.data,e=t.x,i=t.y,n=Qh.getStyle("curveElevationIntersectSize"),o=Qh.getStyle("curveElevationGuideShift");return[(e+=o[0])-n,(i+=o[1])-n,2*n,2*n]}}}]},s.Default.setImage("Icons.ConnectGuideBgImage",{width:12,height:12,comps:[{type:"shape",background:"#3399ff",fillRule:"evenodd",shadowColor:"#1ABC9C",rotation:3.14159,points:[6.00001,11.99999,6.00001,11.99999,2.6863,11.99999,1e-5,9.30695,1e-5,5.99999,1e-5,5.99999,1e-5,2.68628,2.69305,-1e-5,6.00001,-1e-5,12.00001,-1e-5,11.99998,12.00001,6.00001,11.99999],segments:[1,2,4,2,4,2,2,2]}]}),s.Default.setImage("Icons.ConnectGuideHeaderImage",{width:12,height:12,comps:[{type:"oval",background:"#3399FF",borderColor:"#3399FF",shadowColor:"#1ABC9C",rect:[0,0,12,12]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[4.76,2.56,8.2,5.98,4.76,9.44]}]}),Fh.ConnectGuide={comps:[{type:"image",name:"Icons.ConnectGuideBgImage",rotation:{func:function(){return Fh.ConnectGuide.data.rotation}},rect:{func:function(){var t=Fh.ConnectGuide.data.connect;t.x,t.y;var e=Qh.getStyle("connectGuideIntersectSize");return[[t.x,t.y],2*e,2*e]}}},{type:"image",name:"Icons.ConnectGuideHeaderImage",rect:{func:function(){var t=Fh.ConnectGuide.data.cursorPos||Fh.ConnectGuide.data.connect,e=Qh.getStyle("connectGuideIntersectSize");return[[t.x,t.y],2*e-2,2*e-2]}}},{type:"shape",background:null,borderColor:"#3399ff",borderWidth:2,segments:[1,4],points:{func:function(){var t=Fh.ConnectGuide.data.connect,e=Fh.ConnectGuide.data.cursorPos||t;return[t.x,t.y,t.x+.5*(e.x-t.x),t.y,e.x+.5*(t.x-e.x),e.y,e.x,e.y]}}}]},s.Default.setImage("Icons.ConnectGuideGarbageImage",{width:48,height:48,comps:[{type:"oval",background:"rgba(0,0,0,0.1)",borderColor:"#979797",shadowColor:"#1ABC9C",rect:[0,0,48,48]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[19.84721,19.69091,19.84721,32.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[24.10371,19.69091,24.10371,32.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[28.15279,19.69091,28.15279,32.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[11.23055,15.22377,36.76945,15.189,19.12302,15.17121,20.94722,11.5228,26.41985,11.5228,28.24406,15.17121]},{type:"rect",borderWidth:2,borderColor:"rgb(255,255,255)",shadowColor:"#1ABC9C",rect:[15.48702,15.22377,17.02595,21.25344]}]}),s.Default.setImage("Icons.ConnectGuideDeletingImage",{width:56,height:56,comps:[{type:"oval",background:"rgba(232,0,0,0.75)",borderColor:"#979797",shadowColor:"#1ABC9C",rect:[0,0,56,56]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[22.67939,27.69091,22.67939,40.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[26.93588,27.69091,26.93588,40.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[30.98497,27.69091,30.98497,40.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",anchorX:0,anchorY:1,rotation:5.65062,points:[14.06272,23.22377,39.60163,23.189,21.9552,23.17121,23.7794,19.5228,29.25203,19.5228,31.07623,23.17121]},{type:"rect",borderWidth:2,borderColor:"rgb(255,255,255)",shadowColor:"#1ABC9C",rect:[18.3192,23.22377,17.02595,21.25344]}]}),Fh.ConnectGuideGarbage={comps:[{type:"image",name:{func:function(){return Fh.ConnectGuideGarbage.data.hover?"Icons.ConnectGuideDeletingImage":"Icons.ConnectGuideGarbageImage"}},rect:{func:function(){var t=Fh.ConnectGuideGarbage.data,e=Qh.getStyle("connectGuideGarbageIntersectsize");return t.hover&&(e+=5),[[t.x,t.y],2*e,2*e]}}}]};Fh.ShapeActivingCtrl={comps:[{type:"shape",visible:{func:function(){return!!Fh.ShapeActivingCtrl.data.c1}},points:{func:function(){var t=Fh.ShapeActivingCtrl.data;return[t.point.x,t.point.y,t.c1.x,t.c1.y]}},segments:[1,2],background:null,borderWidth:1,borderColor:{func:function(){return Hh}}},{type:"shape",visible:{func:function(){return!!Fh.ShapeActivingCtrl.data.c2}},points:{func:function(){var t=Fh.ShapeActivingCtrl.data;return[t.point.x,t.point.y,t.c2.x,t.c2.y]}},segments:[1,2],background:null,borderWidth:1,borderColor:{func:function(){return Hh}}},{type:"shape",visible:{func:function(){return!!Fh.ShapeActivingCtrl.data.c1}},points:{func:function(){var t=Fh.ShapeActivingCtrl.data.c1,e=t.x,i=t.y,n=3;return"c1"===Fh.ShapeActivingCtrl.data.hl&&(n+=.5),[e-n,i-n,e-n,i+n,e+n,i+n,e+n,i-n]}},segments:[1,2,2,2,5],borderWidth:2,background:{func:function(){return Qh.getStyle("shapeCtrlPointBackground")}},borderColor:{func:function(){return"c1"===Fh.ShapeActivingCtrl.data.hl?Qh.getStyle("shapeCtrlPointHighlightBorder")||Hh:Qh.getStyle("shapeCtrlPointBorderColor")||Hh}}},{type:"shape",visible:{func:function(){return!!Fh.ShapeActivingCtrl.data.c2}},points:{func:function(){var t=Fh.ShapeActivingCtrl.data.c2,e=t.x,i=t.y,n=3;return"c2"===Fh.ShapeActivingCtrl.data.hl&&(n+=.5),[e-n,i-n,e-n,i+n,e+n,i+n,e+n,i-n]}},segments:[1,2,2,2,5],borderWidth:2,background:{func:function(){return Qh.getStyle("shapeCtrlPointBackground")}},borderColor:{func:function(){return"c2"===Fh.ShapeActivingCtrl.data.hl?Qh.getStyle("shapeCtrlPointHighlightBorder")||Hh:Qh.getStyle("shapeCtrlPointBorderColor")||Hh}}}]},Fh.RoundPoint={comps:[{type:"circle",background:"rgb(247,247,247)",borderWidth:1,borderColor:{func:function(){return Hh}},rect:{func:function(){return[[Fh.RoundPoint.data.x,Fh.RoundPoint.data.y],6,6]}}}]},Fh.AttachPoint={comps:[{type:"rect",background:{func:function(){return Fh.AttachPoint.data.isAttach?"rgb(51,153,255)":"rgb(247,247,247)"}},borderWidth:1,rotation:Math.PI/4,borderColor:{func:function(){return Hh}},rect:{func:function(){var t=Fh.AttachPoint.data.isAttach?10:6;return[[Fh.AttachPoint.data.x,Fh.AttachPoint.data.y],t,t]}}}]},Ph.Icons.DrawIcon=function(t,e,i,n){i.width=i.height=1e4,i.data=n,Qh=t,s.Default.drawImage(e,i,0,0,1e4,1e4)},Ph.Icons.MapPoints=function(t,e){for(var i=0,n=t.length;n>i;i++)t[i]/=e},Ph.roundTo=function(t,e,i){var n=Math.abs(t%e);return i>n||i>e-n?e*Math.round(t/e):t},Ph.toFixed=function(t){return Math.round(100*t)/100},Ph.getDataMatrix=function(t){if(t instanceof s.Shape){var e=new s.Math.Matrix2d,i=t.getPosition();return e.translate(-i.x,-i.y).scale(t.getScale().x,t.getScale().y).rotate(t.getRotation()).translate(i.x,i.y),e}return t.getMatrix?t.getMatrix():new s.Math.Matrix2d},(cd=Ph.Math.Curve=function(){this._curves=[]}).prototype={},cd.prototype.constructor=cd,cd.prototype.createFromHtShape=function(t,e,i){e instanceof s.List&&(e=e.toArray());var o,a,r,l,c,h,d=null,g=null,u=0,f=Ph.Math.Vector2,v=Ph.Math.CubicBezier,p=function(e){return new f(t[e],t[e+1],i?i[e/2]:n)};for(a=0,r=e.length;r>a;a++){switch(l=null,e[a]){case 1:d=g=p(u),u+=2;break;case 2:o=p(u),u+=2,l=new v(g,g.clone(),o.clone(),o),g=o;break;case 3:c=p(u),o=p(u+2),u+=4,l=new v(g,c.clone().sub(g).multiplyScalar(2/3).add(g),c.clone().sub(o).multiplyScalar(2/3).add(o),o),g=o;break;case 4:c=p(u),h=p(u+2),o=p(u+4),u+=6,l=new v(g,c,h,o),g=o;break;case 5:if(!d)break;l=new v(g,g.clone(),d.clone(),d),g=null,d=null}l&&(l._index=this._curves.length,this._curves.push(l))}},cd.prototype.checkPoint=function(t,e){var i,n,o,a,r,s=this._curves;for(i=0,n=s.length;n>i;i++)if((r=(a=s[i]).intersectRect(t,e,e)).length)return o=0,r.forEach(function(t){o+=t.t}),o/=r.length,(t=a.getPointAt(o)).t=o,{bezier:a,intersection:t}},cd.prototype.insertKnot=function(t,e){var i=t.insertKnot(e);this._curves.splice(t._index,1,i[0],i[1])},cd.prototype._isCloseEnough=function(t,e){return Math.abs(t.x-e.x)<1e-6&&Math.abs(t.y-e.y)<1e-6},cd.prototype._isSamePoint=function(t,e){return t===e},cd.prototype.moveRealPoint=function(t,e){var i=this,n=i._curves,o=e.clone().sub(t);n.forEach(function(n){var a=n._p1;n._p2,n._p3;var r=n._p4;i._isSamePoint(a,t)&&(n._p2.add(o),n._p1=e),i._isSamePoint(r,t)&&(n._p3.add(o),n._p4=e)})},cd.prototype.moveCtrlDueToRealPointMovement=function(t,e){var i=this,n=function(t){t.add(e),t.e&&e.e&&(t.e+=e.e)};i._curves.forEach(function(e){var o=e._p1;e._p2,e._p3;var a=e._p4;i._isSamePoint(o,t)&&n(e._p2),i._isSamePoint(a,t)&&n(e._p3)})},cd.prototype.moveCtrlPoint=function(t,e,i){var o=t[i];if(o){o.e!==n&&(e.e=o.e);var a=this,r=a._curves;e.clone().sub(o),r.forEach(function(t){var n;"c2"===i?n="_p2":"c1"===i&&(n="_p3"),a._isSamePoint(t[n],o)&&(t[n]=e)}),t[i]=e}},cd.prototype.deleteRealPoint=function(t,e){var i,n,o,a,r,s,l=this,c=l._curves,h={},d=[],g=Ph.Math.CubicBezier;for(n=0,o=c.length;o>n;n++)a=(i=c[n])._p1,r=i._p2,i._p3,s=i._p4,(h[n]||!l._isSamePoint(a,t))&&(l._isSamePoint(s,t)?o>n+1&&l._isSamePoint(c[n+1]._p1,t)&&(e||d.push(new g(a,r,c[n+1]._p3,c[n+1]._p4))):d.push(i));l._curves=d},cd.prototype.findPairs=function(t,e){var i,n,o,a,r,s,l,c,h=this,d=h._curves,g={},u=[];for(n=0,o=d.length;o>n;n++)a=(i=d[n])._p1,r=i._p2,s=i._p3,l=i._p4,!g[n]&&h._isSamePoint(a,t)&&(e?u.push({point:a,r2:l}):u.push({point:a,c2:r})),h._isSamePoint(l,t)&&(c=e?{point:l,r1:a}:{point:l,c1:s},o>n+1&&h._isSamePoint(d[n+1]._p1,t)&&(e?c.r2=d[n+1]._p4:c.c2=d[n+1]._p2,g[n+1]=!0),u.push(c));return u},cd.prototype.toHtShape=function(){var t=this,e=[],i=[],n={x:1/0,y:1/0};return t._curves.forEach(function(o){var a=o._p1,r=o._p2,s=o._p3,l=o._p4;return t._isCloseEnough(a,n)||(e.push(1),i.push(a.clone())),n=l,t._isCloseEnough(a,r)&&t._isCloseEnough(s,l)?(e.push(2),void i.push(l.clone())):(e.push(4),void i.push(r.clone(),s.clone(),l.clone()))}),{segments:e,points:i}};var Xh=Ph.Math.CubicBezier=function(t,e,i,n){var o=this;o._id=Ph.Math.CubicBezier._globalId++,o._p1=t,o._p2=e,o._p3=i,o._p4=n};Xh._globalId=1,Xh.prototype={},Xh.prototype.constructor=Xh,Xh.prototype.toString=function(){return this._id},Xh.prototype.intersectRect=function(t,e,i){var n=e/2,o=i/2,a=t.x,r=t.y,s=Ph.Math.Vector2,l=new s(-n+a,-o+r),c=new s(n+a,o+r),h=new s(c.x,l.y),d=new s(l.x,c.y),g=this,u=g.intersectLine(l,h),f=g.intersectLine(h,c),v=g.intersectLine(c,d),p=g.intersectLine(d,l);return u.concat(f).concat(v).concat(p)},Xh.prototype.intersectLine=function(t,e){var i,n,o,a,r,s,l,c,h,d,g,u,f,v=this,p=t.clone().min(e),I=t.clone().max(e);a=v._p1,r=v._p2,s=v._p3,l=v._p4,i=a.clone().multiplyScalar(-1),n=r.clone().multiplyScalar(3),o=s.clone().multiplyScalar(-3),g=i.add(n).add(o).add(l),i=a.clone().multiplyScalar(3),n=r.clone().multiplyScalar(-6),o=s.clone().multiplyScalar(3),d=i.add(n).add(o),i=a.clone().multiplyScalar(-3),n=r.clone().multiplyScalar(3),h=i.add(n),c=a.clone(),f=new Ph.Math.Vector2(t.y-e.y,e.x-t.x),u=t.x*e.y-e.x*t.y;for(var _=v.getRoots(f.dot(g),f.dot(d),f.dot(h),f.dot(c)+u),y=new Array,C=0,m=_.length;m>C;C++){var w=_[C];if(!(0>w||w>1)){var b=a.clone().lerp(r,w),A=r.clone().lerp(s,w),M=s.clone().lerp(l,w),x=b.lerp(A,w),D=A.lerp(M,w),T=x.lerp(D,w);T.t=w,t.x==e.x?p.y<=T.y&&T.y<=I.y&&y.push(T):t.y==e.y?p.x<=T.x&&T.x<=I.x&&y.push(T):T.x>=p.x&&T.y>=p.y&&T.x<=I.x&&T.y<=I.y&&y.push(T)}}return y},Xh.prototype.solveTForPoint=function(t){var e,i,o,a,r=this;e=r._p1.x-t.x,i=r._p2.x-t.x,o=r._p3.x-t.x,a=r._p4.x-t.x;for(var s=r.getRoots(a-3*o+3*i-e,3*o-6*i+3*e,3*i-3*e,e),l=n,c=1/0,h=0,d=s.length;d>h;h++){var g=s[h];if(!(0>g||g>1)){var u=r._p1.clone().lerp(r._p2,g),f=r._p2.clone().lerp(r._p3,g),v=r._p3.clone().lerp(r._p4,g),p=u.lerp(f,g),I=f.lerp(v,g),_=p.lerp(I,g);_.t=g;var y=Math.abs(_.y-t.y);c>y&&(c=y,l=_)}}return l},Xh.prototype.getPointAt=function(t){var e=this,i=e._p1,n=e._p2,o=e._p3,a=e._p4,r=i.clone().lerp(n,t),s=n.clone().lerp(o,t),l=o.clone().lerp(a,t),c=r.lerp(s,t),h=s.lerp(l,t);return c.lerp(h,t)},Xh.prototype.getRoots=function(t,e,i,n){var o,a,r,s=new Array;if(Math.abs(t)<1e-6)if((r=(a=i/(o=e))*a-4*(n/o))>0){var l=Math.sqrt(r);s.push(.5*(-a+l)),s.push(.5*(-a-l))}else 0==r&&s.push(.5*-a);var c,h=(e/=t)/3,d=(a=(2*e*e*e-9*(i/=t)*e+27*(n/=t))/27)*a/4+(o=(3*i-e*e)/3)*o*o/27,g=a/2;if(Math.abs(d)<=1e-6&&(d=0),d>0)c=(_=-g+(l=Math.sqrt(d)))>=0?Math.pow(_,1/3):-Math.pow(-_,1/3),(_=-g-l)>=0?c+=Math.pow(_,1/3):c-=Math.pow(-_,1/3),s.push(c-h);else if(0>d){var u=Math.sqrt(-o/3),f=Math.atan2(Math.sqrt(-d),-g)/3,v=Math.cos(f),p=Math.sin(f),I=Math.sqrt(3);s.push(2*u*v-h),s.push(-u*(v+I*p)-h),s.push(-u*(v-I*p)-h)}else{var _;_=g>=0?-Math.pow(g,1/3):Math.pow(-g,1/3),s.push(2*_-h),s.push(-_-h)}return s},Xh.prototype._70I=function(){var t=this;return t._p1.distanceToSquared(t._p2)<1e-10&&t._p3.distanceToSquared(t._p4)<1e-10},Xh.prototype.insertKnot=function(t){var e=this,i=e._p1,n=e._p2,o=e._p3,a=e._p4,r=i.clone().lerp(n,t),s=n.clone().lerp(o,t),l=o.clone().lerp(a,t),c=r.clone().lerp(s,t),h=s.clone().lerp(l,t),d=c.clone().lerp(h,t);return e._70I()?(i.clone().lerp(a,t),[new Ph.Math.CubicBezier(i,i.clone(),d.clone(),d),new Ph.Math.CubicBezier(d,d.clone(),a.clone(),a)]):[new Ph.Math.CubicBezier(i,r,c,d),new Ph.Math.CubicBezier(d,h,l,a)]};var $h=s.Default.getInternal().ui().EdgeUI,Kh={_47O:function(t){var e=Kh.getBackups()._47O;Ph.inEdit(this.gv)||e.call(this,t)}};Ph.Inject.registAsModule(Kh,$h);var qh=s.Default.getInternal().ui().NodeUI,td={_47O:function(t){var e=td.getBackups()._47O;Ph.inEdit(this.gv)||e.call(this,t)},getSelectWidth:function(){var t=this,e=t.gv,i=t._data;return e.isEditable(i)&&Ph.inEdit(e)?0:td.getBackup("getSelectWidth").call(t)}};Ph.Inject.registAsModule(td,qh);var ed=s.graph.GraphView,id={_editPointSize:function(){var t=s.Default.isTouchable;return Ph.getStyle("pointSize")[t?0:1]}(),isPointEditable:function(t){var e=this;if(Ph.inEdit(e))return!e._pointEditableFunc||e._pointEditableFunc(t);id.getBackup("isPointEditable").call(e,t)},isEditable:function(t){var e,i=this,n=id.getBackup("isEditable");if(e=t instanceof Ph.Group||n.call(i,t),!Ph.inEdit(i))return e;if(!(t instanceof s.Edge))return e;if(!t.s("2d.editable"))return!1;var o=i.getEditableFunc();return!o||o(t)},_42:function(t,e){var i=this;(id.getBackups()._42.call(i,t,e),Ph.inEdit(i))&&i.getEditInteractor().drawImpl()}};Ph.Inject.registAsModule(id,ed);var nd=s.Default.getInternal().ui().ShapeUI,od={_47O:function(t){var e=od.getBackups()._47O;Ph.inEdit(this.gv)||e.call(this,t)}};Ph.Inject.registAsModule(od,nd);zh=s.graph.DefaultInteractor;var ad={handle_mousewheel:function(t){var e=ad.getBackup("handle_mousewheel");Ph.inEdit(this.gv)||e.call(this,t)}};Ph.Inject.registAsModule(ad,zh);Eh=s.graph.MoveInteractor;var rd,sd={_calcShift:function(t,e){var i=this,n=sd.getBackup("_calcShift"),o=i.gv;return Ph.inEdit(o)&&o.getEditInteractor().getSubModule("Move").calcShift(t,e,i)||n.call(i,t,e)},clear:function(t){sd.getBackup("clear").call(this,t);var e=this.gv;Ph.inEdit(e)&&e.getEditInteractor().getSubModule("Move").clear(t)}};Ph.Inject.registAsModule(sd,Eh),(rd=Ph.Rect=function(t){this.catalog="Rect",this._interactor=t}).prototype={},rd.prototype.constructor=rd,rd.prototype.gatherInfo=function(t,e){var i=this;if(1===e.length){var n=e[0];return n instanceof s.Shape&&n._70I()?i.gatherLine(t,n):!bn(n,t)&&i.gatherSingleTarget(t,n)}return e.length>1&&i.gatherMultiTargets(t,e)},rd.prototype.gatherSingleTarget=function(t,e){if(e.getCorners){var i,n=this,o=n.info;n.target=e,i=n.screenInfo={};var a=e.getCorners();for(var r in o.LT=new Ph.Math.Vector2(a[0]),o.LB=new Ph.Math.Vector2(a[1]),o.RB=new Ph.Math.Vector2(a[2]),o.RT=new Ph.Math.Vector2(a[3]),o.T=o.LT.clone().add(o.RT).divideScalar(2),o.B=o.LB.clone().add(o.RB).divideScalar(2),o.L=o.LT.clone().add(o.LB).divideScalar(2),o.R=o.RT.clone().add(o.RB).divideScalar(2),o)i[r]=Ph.toScreenPosition(t,o[r]);var s=n._interactor.getStyle("checkSize"),l=function(t,e,i){var n=e.clone().sub(t).setLength(-s),o=i.clone().sub(t).setLength(-s);return n.add(o).add(t)};return i.rotLT=l(i.LT,i.RT,i.LB),i.rotLB=l(i.LB,i.LT,i.RB),i.rotRB=l(i.RB,i.LB,i.RT),i.rotRT=l(i.RT,i.LT,i.RB),i.rotT=i.rotLT.clone().add(i.rotRT).divideScalar(2),i.rotB=i.rotLB.clone().add(i.rotRB).divideScalar(2),i.rotL=i.rotLT.clone().add(i.rotLB).divideScalar(2),i.rotR=i.rotRT.clone().add(i.rotRB).divideScalar(2),i.rotation=e.getRotation(),n.gatherConnectInfo(),!0}},rd.prototype.gatherConnectInfo=function(){var t=this,e=t.target,i=t._interactor,n=t.screenInfo,o=i.gv;if(o.isConnectActionVisible(e)&&i.getStyle("connectGuideVisible")){var a;e.s&&(a=e.s("connectGuideShift")),a||(a=i.getStyle("connectGuideShift"));var r=e.getAnchor(),s=e.getSize(),l=e.toGlobal({x:s.width*(a[0]-r.x),y:s.height*(a[1]-r.y)});l=Ph.toScreenPosition(o,l),n.P1?l.add(n.P2.clone().sub(n.P1).setLength(a[2])):(l.add(n.RT.clone().sub(n.LT).setLength(a[2])),l.add(n.LB.clone().sub(n.LT).setLength(a[3]))),n.connect=l}},rd.prototype.gatherMultiTargets=function(t,e){var i=Ph.Group.findOrCreateGroup(e);if(!i)return!1;var n=this;return n.editing&&"rotate"!==n.editing.mode||i.calcInfo(),n.gatherSingleTarget(t,i)},rd.prototype.gatherLine=function(t,e){this.target=e;var i=this.screenInfo={},n=e.getPoints(),o=Ph.getDataMatrix(e);return i.P1=Ph.toScreenPosition(t,o.apply(n.get(0))),i.P2=Ph.toScreenPosition(t,o.apply(n.get(1))),this.gatherConnectInfo(),!0},rd.ResizeKeys=["LT","RB","LB","RT","L","R","B","T"],rd.ResizeDirection=[{x:-1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:-1},{x:-1,y:0},{x:1,y:0},{x:0,y:1},{x:0,y:-1}],rd.RotateKeys=["rotLT","rotRB","rotLB","rotRT","rotL","rotR","rotB","rotT"],rd.prototype.check=function(t,e,i){if(s.Default.isLeftButton(e)){var n=this;if(n.editing=null,n.tipInfo=null,n.screenInfo){var o=n.target,a=t.isEditable(o),r=n.screenInfo;if(a&&r.connect){var l=n._checkConnect(i);if(l)return l}if(r.P1)return n._checkLine(i);var c,h,d,g=null,u=n._interactor,f=u.getStyle("checkSize");if(a&&t.isRectEditable(o))for(h=0;h<Ph.Rect.ResizeKeys.length;h++)if(d=Ph.Rect.ResizeKeys[h],Ph.checkHit(i,r[d],f)){g=d,c="resize";break}if(!g&&a&&t.isRotationEditable(o)&&!u.getStyle("rotateAsClock")){var v=u.getStyle("rotateCheckSize");for(h=0;h<Ph.Rect.RotateKeys.length;h++)if(d=Ph.Rect.RotateKeys[h],Ph.checkHit(i,r[d],v)){g=d,c="rotate";break}}if(!g)return void u.setCursor("default");if("rotate"===c){var p,I=t.lp(e);if(o instanceof Ph.Group){var _=u.getStyle("groupRotateModeKey");"string"==typeof _&&(_=[_]);for(var y=!1,C=0,m=_.length;m>C;C++)if(e[_[C]]){y=!0;break}var w=u.getStyle("groupRotateModeDefault");p=y?"batch"===w?"block":"batch":w}var b="batch"===p?o.getAnchor2():o.getPosition(),A=Math.atan2(I.y-b.y,I.x-b.x);u._setRotateCursor(A),n.editing={mode:c,key:g,pos:b,flipY:o.getScale().y<0,rotation:o.getRotation(),hitRot:A},p&&(n.editing.groupRotateMode=p)}else{var M=Ph.Rect.ResizeKeys.indexOf(g),x=Ph.Rect.ResizeDirection[M],D=Math.cos(o.getRotation()),T=Math.sin(o.getRotation()),N=x.x*Math.sign(o.getScale().x),S=x.y*Math.sign(o.getScale().y),z=Math.atan2(-T*N-D*S,D*N-T*S),k=["ew-resize","nesw-resize","ns-resize","nwse-resize","ew-resize","nesw-resize","ns-resize","nwse-resize"][(Math.round(z/(Math.PI/4))+8)%8];this._interactor.setCursor(k);var E=o.getWidth(),V=o.getHeight(),j=o.getAnchor();n.editing={mode:c,key:g,rect:{x:-E*j.x,y:-V*j.y,width:E,height:V},anchor:j,matrix:o.getMatrix()}}return g}}},rd.prototype._checkLine=function(t){var e=this;e.screenInfo;var i,n=e._interactor.getStyle("checkSize");if(Ph.checkHit(t,e.screenInfo.P1,n))i="P1";else{if(!Ph.checkHit(t,e.screenInfo.P2,n))return void this._interactor.setCursor("default");i="P2"}return e.editing={mode:"line",key:i},i},rd.prototype._checkConnect=function(t){var e=this,i=e.screenInfo,n=e._interactor,o=n.getStyle("connectGuideIntersectSize"),a=i.connect,r=t.x,s=a.x;if(s>r&&o>s-r&&Math.abs(a.y-t.y)<o||r>=s&&Ph.checkHit(t,a,o)){var l="connect",h=c.getConnectAction(n.gv);if(e.editing={mode:l},h&&h.delete)if(e.target instanceof Ph.Group){var d=!0;n.gv.sm().getSelection().each(function(t){h.delete.visible.call(null,n.gv,t)||(d=!1)}),e.editing.hasDeleteAction=d}else h.delete.visible.call(null,n.gv,e.target)&&(e.editing.hasDeleteAction=!0);return n.setCursor("default"),l}},rd.prototype._fireEditEvent=function(t,e){var i=this._interactor,n=this.editing;if(n){var o=n.mode;o="rotate"===o?"Rotation":"connect"===o?"Connection":o[0].toUpperCase()+o.slice(1),i.fi({kind:t+"Edit"+o,event:e})}},rd.prototype.startEdit=function(t,e){t.startDragging(e);var i=this;i._interactor.fi({kind:"prepareEdit",event:e});var n=i.editing,o=i.target;if(n){if(i._fireEditEvent("begin",e),"rotate"===n.mode)return void(n.groupRotateMode&&o.beginRotate(n));if("connect"!==n.mode)("line"===n.mode||o&&0===o.getRotation())&&(i._inSmartGuide=!0,i._interactor.rectGuide.gatherRects());else if(n.hasDeleteAction){var a=t.gv,r=i._interactor.getStyle("connectGuideGarbageShift");n.garbageInfo={x:a.getWidth()*r[0]+r[2],y:a.getHeight()*r[1]+r[3],size:i._interactor.getStyle("connectGuideGarbageIntersectsize")},t._42()}}},rd.prototype._46O=function(t){var e,i,o=this,a=o.editing,r=o.target;if(a){if("connect"===a.mode&&!a.canceled&&!a.deleted)try{a.garbageInfo&&a.garbageInfo.hover?c.doDeleteConnectionAction(o._interactor.gv,r):c.doConnectAction(o._interactor.gv,r,a.target)}catch(t){console.error(t)}i=a.freezeFlag,e=o.editing.groupRotateMode,o._fireEditEvent("end",t),o.editing=null}o.tipInfo=null,o._inSmartGuide&&(o._interactor.rectGuide.clear(),o._inSmartGuide=!1),e&&r&&r.endRotate(),r instanceof s.Block&&(i===n?delete r._freezeSyncFromChildren:r._freezeSyncFromChildren=i,r.updateFromChildren())},rd.prototype.handleNormalStateDelete=function(){var t=this,e=t.editing;if(e&&"connect"===e.mode&&!e.canceled&&!e.deleted){if(e.garbageInfo){try{c.doDeleteConnectionAction(t._interactor.gv,t.target)}catch(t){console.error(t)}e.garbageInfo=null}return e.cursorPos=null,e.targetCorners=null,e.deleted=!0,t._interactor._42(),!0}},rd.prototype.handleNormalStateKeyDown=function(t){var e=this.editing;return!e||"connect"!==e.mode||e.canceled||e.deleted?void 0:s.Default.isEsc(t)?(e.cursorPos=null,e.targetCorners=null,e.canceled=!0,this._interactor._42(),!0):void 0},rd.prototype.handleEdit=function(t,e){var i=this,n=i.editing;if(n){var o,a,r,l,c,h=i.target,d=n.key,g=n.mode,u=t.lp(e),f=i._interactor;if("connect"===g){if(n.canceled)return;if(n.deleted)return;n.cursorPos=f._getLogicalPoint(e);var v=n.garbageInfo;return v&&Ph.checkHit(n.cursorPos,v,v.size)?(v.hover=!0,n.target=null,n.targetCorners=null):(v&&(v.hover=!1),n.target=t.getDataAt(u,function(e){return!!t.isSelectable(e)&&!!Cn(e)})||null,n.targetCorners=Ph.getTargetCornersOnScreen(t,n.target)),void f._42()}if("rotate"===g){var p,I,_,y,C=n.pos,m=Math.atan2(u.y-C.y,u.x-C.x);if(n.groupRotateMode?I=m-n.hitRot:(p=m-n.hitRot,I=n.rotation+p),0>(I%=2*Math.PI)&&(I+=2*Math.PI),!s.Default.isCtrlDown(e))ts(e)?y=(_=f.getStyle("shiftRotateRound"))/2:(_=f.getStyle("rotateRound"),y=f.getStyle("rotateSensitivity")),I=Ph.roundTo(I,_,y);n.groupRotateMode?0!==(p=I-(n.lastRotation||0))&&(h.addRotation(p,n.groupRotateMode),n.lastRotation=I):h.setRotation(I),f._setRotateCursor(m),I>Math.PI&&(I-=2*Math.PI);var w=I/Math.PI*180;o=(w=w.toFixed(2))+"°"}else if("resize"===g){var b=n.rect;r=b.x,l=b.y;var A,M=b.width,x=b.height,D=n.anchor,N=n.matrix,z=h.s&&h.s("keepAspectRatio")||f.getStyle("keepAspectRatio");ts(e)&&(z=!z);var k,E,V=i._unionPointMode1,j=i._unionPointMode2;if(i._inSmartGuide&&!s.Default.isCtrlDown(e)&&!z)"L"===d||"R"===d?k="x":("T"===d||"B"===d)&&(k="y"),i._adsorbedToClosest(u,k),c=!0;A=N.tfi(u),"LT"===d?(b=V(A,{x:r+M,y:l+x},M,x,z),E=9):"T"===d?(b=j({x:r,y:A.y},{x:r+M,y:l+x},M,x,z,"v"),E=1):"RT"===d?(b=V(A,{x:r,y:l+x},M,x,z),E=33):"L"===d?(b=j({x:A.x,y:l},{x:r+M,y:l+x},M,x,z,"h"),E=8):"R"===d?(b=j({x:r,y:l},{x:A.x,y:l+x},M,x,z,"h"),E=32):"LB"===d?(b=V(A,{x:r+M,y:l},M,x,z),E=12):"B"===d?(b=j({x:r,y:l},{x:r+M,y:A.y},M,x,z,"v"),E=4):"RB"===d&&(b=V(A,{x:r,y:l},M,x,z),E=36);var R=N.tf(b.x+b.width*D.x,b.y+b.height*D.y);h instanceof s.Block&&(n.hasOwnProperty("freezeFlag")||(n.freezeFlag=h._freezeSyncFromChildren,h._freezeSyncFromChildren=!0)),h.setPosition(R),h.setSize(b.width,b.height),c&&(a=h.getRect(),f.rectGuide.gatherLines({node:h,x:a.x,y:a.y,w:a.width,h:a.height},k,E)),o=Math.round(b.width)+" * "+Math.round(b.height)}else if("line"===g){if(ts(e)){var P=h.getPoints(),Z="P1"===d?P.get(1):P.get(0),L={x:u.x-Z.x,y:u.y-Z.y},B=f.getStyle("shiftLineRotateRound"),O=i._shiftDirList;if(!O||i._shiftRotateRound!==B){i._shiftRotateRound=B,i._shiftDirList=O=[];for(var U=0;U<Math.PI;U+=B)O.push({x:S(U),y:T(U)})}for(var W,G=0,F=0,Q=O.length;Q>F;F++){var H=O[F],Y=H.x*L.x+H.y*L.y;Math.abs(Y)>Math.abs(G)&&(G=Y,W=H)}u={x:Z.x+W.x*G,y:Z.y+W.y*G},f.rectGuide.clear()}else i._inSmartGuide&&!s.Default.isCtrlDown(e)&&(i._adsorbedToClosest(u),c=!0);var J=Ph.getDataMatrix(h).applyInverse(u);h.setPoint("P1"===d?0:1,J,!0);var X=h.getPoints(),$=X.get(0),K=X.get(1);r=$.x-K.x,l=$.y-K.y,o=" "+Math.round(Math.sqrt(r*r+l*l))+" ",c&&(a=h.getRect(),f.rectGuide.gatherLines({node:h,x:a.x,y:a.y,w:a.width,h:a.height}))}if(o){var q=s.Default.getLogicalPoint(e,f._canvas);q.x+=Ph.Icons.TipShiftX,q.y+=Ph.Icons.TipShiftY,i.tipInfo={helperPos:q,text:o,size:o.length}}i._fireEditEvent("between",e)}},rd.prototype._unionPointMode1=function(t,e,i,n,o){if(o&&i&&n){var a=t.x-e.x,r=t.y-e.y;Math.abs(a*n)<Math.abs(r*i)?(r=Math.sign(r)*Math.abs(a*n/i),t.y=e.y+r):(a=Math.sign(a)*Math.abs(r*i/n),t.x=e.x+a)}return s.Default.unionPoint(t,e)},rd.prototype._unionPointMode2=function(t,e,i,n,o,a){var r,l=s.Default.unionPoint(t,e);o&&i&&n&&("v"===a?(r=l.x+l.width/2,l.width=i*l.height/n,l.x=r-l.width/2):(r=l.y+l.height/2,l.height=n*l.width/i,l.y=r-l.height/2));return l},rd.prototype._adsorbedToClosest=function(t,e){var i=this._interactor,n=i.rectGuide.findClosest(t,e),o=i.gridGuide.findClosest(t,e),a=1/0,r=1/0;n&&(isFinite(n.x)&&(a=n.x),isFinite(n.y)&&(r=n.y)),o&&(isFinite(o.x)&&Math.abs(o.x)<Math.abs(a)&&(a=o.x),isFinite(o.y)&&Math.abs(o.y)<Math.abs(r)&&(r=o.y)),isFinite(a)&&(t.x+=a),isFinite(r)&&(t.y+=r)},rd.prototype._42=function(t,e,i){var n=this;n.info={},n.screenInfo=null;var o=n._interactor;if(!o.editDetail&&n.gatherInfo(e,i)){var a=n.editing,r=a?a.groupRotateMode:null,s=n.screenInfo;"block"!==r&&(s.P1?Ph.Icons.DrawIcon(o,t,Ph.Icons.Line,s):Ph.Icons.DrawIcon(o,t,Ph.Icons.Rect,s),s.connect&&(Ph.Icons.DrawIcon(o,t,Ph.Icons.ConnectGuide,{rotation:s.rotation,connect:s.connect,cursorPos:a?a.cursorPos:null}),a&&(a.targetCorners&&Ph.Icons.DrawIcon(o,t,Ph.Icons.NodeHoverGuide,a.targetCorners),a.garbageInfo&&Ph.Icons.DrawIcon(o,t,Ph.Icons.ConnectGuideGarbage,a.garbageInfo))),n.tipInfo&&Ph.Icons.DrawIcon(o,t,Ph.Icons.TipHelper,n.tipInfo)),n.target instanceof Ph.Group&&n.target._42(o,t,e)}};var ld=Ph.Anchor=function(t){this.catalog="Anchor",this._interactor=t};ld.prototype={},ld.prototype.constructor=ld,ld.prototype.gatherInfo=function(t,e){if(1===e.length){var i=e[0];if(!i.getAnchor)return;if(i instanceof s.Shape&&i._70I())return;if(bn(i,t))return;return this.gatherSingleTarget(t,e[0])}return e.length>1&&this.gatherMultiTargets(t,e)},ld.prototype.gatherSingleTarget=function(t,e){var i=this;return i.info.POS=e.getPosition(),i.screenInfo.POS=Ph.toScreenPosition(t,i.info.POS),i.target=e,!0},ld.prototype.gatherMultiTargets=function(t,e){var i=Ph.Group.findOrCreateGroup(e);return!!i&&(this.screenInfo.POS=Ph.toScreenPosition(t,i.getAnchor2()),this.target=i,!0)},ld.prototype.isVisible=function(){var t=this._interactor;if(!1===t.getStyle("anchorVisible"))return!1;var e=this.target;if(e){if(this.editing)return!0;var i=e.getAnchor(),n=t.getStyle("anchorOutsideVisibleThreshold");if(i.x<-n||i.x>1+n||i.y<-n||i.y>1+n)return!0;var o=e.getSize(),a=e.getScale();if(Math.min(Math.abs(o.width*a.x),Math.abs(o.height*a.y))*t.gv._zoom<t.getStyle("anchorHideThreshold"))return!1}return!0},ld.prototype.check=function(t,e,i){if(s.Default.isLeftButton(e)){var n=this,o=n._interactor;if(n.isVisible()&&!1!==o.getStyle("anchorMovable")){n.editing=null,n.tipInfo=null;var a,r=n.target;if(r&&t.isAnchorEditable(r)&&t.isEditable(r))if(n.screenInfo&&(a=n.screenInfo.POS)&&Ph.checkHit(i,new Ph.Math.Vector2(a),o.getStyle("checkSize"))){if(r instanceof Ph.Group)return n.editing={},!0;var l=r.getWidth(),c=r.getHeight(),h=r.getAnchor();return n.editing={rect:{x:-l*h.x,y:-c*h.y,width:l,height:c},anchor:h,matrix:r.getMatrix()},!0}}}},ld.prototype.startEdit=function(t,e){t.startDragging(e),t.fi({kind:"beginEditAnchor",event:e})},ld.prototype._46O=function(t){var e=this;e.editing&&(e.editing=null,e._interactor.fi({kind:"endEditAnchor",event:t})),e.tipInfo=null},ld.prototype.handleEdit=function(t,e){var i=this,n=i.target;if(n){var o=i.editing;if(o){var a=t.lp(e),r=i._interactor;if(n instanceof Ph.Group)return n.setAnchor2(a),void r._42();var l=o.matrix.tfi(a),c=o.rect,h=(l.x-c.x)/c.width,d=(l.y-c.y)/c.height;if(!s.Default.isCtrlDown(e)){var g=r.getStyle("anchorRound"),u=r.getStyle("anchorSensitivity");h=Ph.roundTo(h,g,u),d=Ph.roundTo(d,g,u)}n.setAnchor(h,d,!0);var f=s.Default.getLogicalPoint(e,r._canvas);f.x+=Ph.Icons.TipShiftX,f.y+=Ph.Icons.TipShiftY;var v=h.toFixed(2)+", "+d.toFixed(2);i.tipInfo={helperPos:f,text:v,size:v.length},r.fi({kind:"betweenEditAnchor",event:e})}}},ld.prototype._42=function(t,e,i){var n=this;n.info={},n.screenInfo={};var o=n._interactor;o.editDetail||n.gatherInfo(e,i)&&n.isVisible()&&(Ph.Icons.DrawIcon(o,t,Ph.Icons.Anchor,n.screenInfo),n.tipInfo&&Ph.Icons.DrawIcon(o,t,Ph.Icons.TipHelper,n.tipInfo))};var cd,hd=Ph.RotateX=function(t){this.catalog="RotateX",this._interactor=t};hd.prototype={},hd.prototype.constructor=hd,hd.prototype.gatherInfo=function(t,e){if(1===e.length){var i=e[0];return!(i instanceof s.Shape&&i._70I()||bn(i,t))&&this.gatherSingleTarget(t,i)}return e.length>1&&this.gatherMultiTargets(t,e)},hd.prototype.gatherSingleTarget=function(){var t=new s.Math.Vector2,e=new s.Math.Vector2,i=new s.Math.Vector2,n=new s.Math.Vector2,o=function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n};return function(a,r){if(r.getCorners){var s=this,l=r.getCorners(),c=r.getPosition();t.copy(l[0]),i.copy(l[1]),n.copy(l[3]),e.copy(t).add(n).divideScalar(2).add(t.sub(i).setLength(15/a.getZoom()));var h=Math.max(o(c,l[0]),o(c,l[1]),o(c,l[2]),o(c,l[3]));return s.info.POS=e.clone(),s.screenInfo.POS=Ph.toScreenPosition(a,s.info.POS),s.screenInfo.LEN=Math.sqrt(h)*a.getZoom()+15,s.screenInfo.CENTER=Ph.toScreenPosition(a,c),s.target=r,!0}}}(),hd.prototype.gatherMultiTargets=function(t,e){var i=Ph.Group.findOrCreateGroup(e);if(!i)return!1;return this.gatherSingleTarget(t,i)},hd.prototype.isVisible=function(){var t=this._interactor;if(!t.getStyle("rotateAsClock"))return!1;var e=this.target;if(!e)return!0;var i=t.gv;return!(!i.isEditable(e)||!i.isRotationEditable(e))},hd.prototype.check=function(t,e,i){var n=this,o=n._checkImpl(t,e,i);return(o||n._clockPainted)&&n._interactor._42(),o},hd.prototype._checkImpl=function(t,e,i){if(s.Default.isLeftButton(e)){var n,o=this;if(o.editing=null,o.tipInfo=null,o.screenInfo&&(n=o.screenInfo.POS)&&o.isVisible()){var a=o._interactor;if(Ph.checkHit(i,n,a.getStyle("checkSize"))){var r=o.target,l=t.lp(e),c=r.getPosition(),h=Math.atan2(l.y-c.y,l.x-c.x);return a._setRotateCursor(h),o.editing={pos:c,rotation:r.getRotation(),hitRot:h,groupRotateMode:"block",screenInfo:{CENTER:o.screenInfo.CENTER,LEN:o.screenInfo.LEN}},!0}}}},hd.prototype.startEdit=function(t,e){t.startDragging(e),t.fi({kind:"beginEditRotation",event:e}),this.target instanceof Ph.Group&&this.target.beginRotate(this.editing)},hd.prototype._46O=function(t){var e=this;e.editing&&(e.editing=null,e._interactor.fi({kind:"endEditRotation",event:t})),e.target instanceof Ph.Group&&e.target.endRotate(),e.tipInfo=null},hd.prototype.handleEdit=function(t,e){var i=this,n=i.editing;if(n){var o,a,r,l,c=i.target,h=t.lp(e),d=i._interactor,g=n.pos,u=Math.atan2(h.y-g.y,h.x-g.x),f=c instanceof Ph.Group;if(f?a=u-n.hitRot:(o=u-n.hitRot,a=n.rotation+o),0>(a%=2*Math.PI)&&(a+=2*Math.PI),!s.Default.isCtrlDown(e))ts(e)?l=(r=d.getStyle("shiftRotateRound"))/2:(r=d.getStyle("rotateRound"),l=d.getStyle("rotateSensitivity")),a=Ph.roundTo(a,r,l);f?0!==(o=a-(n.lastRotation||0))&&(c.addRotation(o,n.groupRotateMode),n.lastRotation=a):c.setRotation(a),d._setRotateCursor(u),a>Math.PI&&(a-=2*Math.PI);var v=(a/Math.PI*180).toFixed(2)+"°",p=s.Default.getLogicalPoint(e,d._canvas);p.x+=Ph.Icons.TipShiftX,p.y+=Ph.Icons.TipShiftY,i.tipInfo={helperPos:p,text:v,size:v.length},d.fi({kind:"betweenEditRotation",event:e})}},hd.prototype._42=function(t,e,i){var n=this;n._clockPainted=!1,n.info={},n.screenInfo={};var o=n._interactor;o.editDetail||n.gatherInfo(e,i)&&n.isVisible()&&(Ph.Icons.DrawIcon(o,t,Ph.Icons.RoundPoint,n.screenInfo.POS),n.tipInfo&&Ph.Icons.DrawIcon(o,t,Ph.Icons.TipHelper,n.tipInfo),n.editing&&n.drawClock(t))},hd.prototype.drawClock=function(t){t.save();var e=this;e._clockPainted=!0;var i=e.editing||{},n=i.screenInfo||e.screenInfo,o=n.LEN,a=o+8,r=o+18;t.save(),t.translate(n.CENTER.x,n.CENTER.y),t.beginPath(),t.strokeStyle="rgb(150, 150, 150)";for(var s,l,c,h,d,g=0;360>g;g++)s=g*Math.PI/180,0==g%5&&(l=T(s)*o,c=S(s)*o,h=T(s)*a,d=S(s)*a,t.moveTo(l,c),t.lineTo(h,d)),0==g%45&&(l=T(s)*o,c=S(s)*o,h=T(s)*r,d=S(s)*r,t.moveTo(l,c),t.lineTo(h,d));t.stroke(),t.rotate(-j);var u=i.lastRotation||e.target.getRotation();t.beginPath(),t.fillStyle="rgba(255, 0, 0, 0.1)",t.strokeStyle="rgb(157, 157, 157)",t.moveTo(0,0),t.arc(0,0,r,0,u,!1),t.fill(),t.beginPath(),t.moveTo(0+r,0),t.arc(0,0,r,0,u,!1),t.stroke(),t.restore()},(cd=Ph.Curve=function(t){this.catalog="Curve",this._interactor=t}).prototype={},cd.prototype.constructor=cd,i.defineProperties(cd.prototype,{activing:{get:function(){return this._activing},set:function(t){var e=this;if(t)e._activing=new Ph.CurveActiving(this,t);else{var i=e._activing;i&&i.dispose(),e._activing=null}}}}),cd.PointType={Mirrored:0,Straight:1,Disconnected:2,Asymmetric:3},cd.prototype.setUp=function(){var t=this,e=t._interactor;e&&e.gv.mp(t._onGraphviewPropertyChanged,t)},cd.prototype._onGraphviewPropertyChanged=function(t){("zoom"===t.property||"translateX"===t.property||"translateY"===t.property)&&this._handleDataChanged()},cd.prototype.tearDown=function(){var t=this,e=t._interactor;e&&e.gv.ump(t._onGraphviewPropertyChanged,t)},cd.prototype.canEnterEditDetailMode=function(){var t=this._interactor,e=t._getValidSelection();if(1===e.length){var i=e[0],n=i instanceof s.Edge;if(i instanceof s.Shape||n){if(n){var o=i.s("edge.type");if(o&&"points"!==o)return}var a=t.gv;if(a.isPointEditable(i)&&a.isEditable(i))return this.target=i,!0}}},cd.prototype.canQuitEditDetailMode=function(t){var e=this,i=e._interactor._getLogicalPoint(t);return e._checkEditRealPoint(i)?void 0:e._interactor.gv.getDataAt(t)!==e.target||void 0},cd.prototype.preHandleScroll=function(){var t=this.editing;return!(!t||!t.inEdit)||void 0},cd.prototype.getCurrentSelectintStatus=function(){var t=this;if(t.activing&&!t.activing.selections){if(t.activing.status!=n)return t.activing.status;var e=function(e){var i=t.activing.status;t.activing.status=e,t._interactor.fp("shapePointStatus",i,e)},i=Ph.Curve.PointType,o=t.activing.point,a=t.activing.pairs;if(!a||1!==a.length)return e(i.Mirrored);var r=a[0],s=r.c1&&r.c1.isNearEnough(o),l=r.c2&&r.c2.isNearEnough(o);if(!r.c1||!r.c2)return e(s||l?i.Straight:i.Disconnected);if(s&&l)return e(i.Straight);if(s||l)return e(i.Asymmetric);var c=r.c1.clone().sub(o),h=r.c2.clone().sub(o);return Math.abs(c.x*h.y-c.y*h.x)>1e-5||c.x*h.x>0?e(i.Disconnected):Math.abs(c.length()-h.length())>1e-5?e(i.Asymmetric):e(i.Mirrored)}},cd.prototype.handle_keydown=function(t){var e=this;if(e._interactor.editDetail){var i=Ph.Curve.PointType;"1"===t.key?e._setCurrentSelectionStatus(i.Straight):"2"===t.key?e._setCurrentSelectionStatus(i.Mirrored):"3"===t.key?e._setCurrentSelectionStatus(i.Disconnected):"4"===t.key&&e._setCurrentSelectionStatus(i.Asymmetric)}},cd.prototype.setCurrentSelectionStatus=function(t){var e=this._interactor;if(e){var i=e.gv;i.dm().beginTransaction(),this._setCurrentSelectionStatus(t),i.dm().endTransaction()}},cd.prototype._setCurrentSelectionStatus=function(t){var e=this,i=e.activing;if(i){var n=e.getCurrentSelectintStatus();if(null!==n&&n!==t){i.status=t;var o=e.activing.point,a=e.activing.pairs;if(a&&1===a.length){var r=a[0],s=e.screenInfo.curve,l=Ph.Curve.PointType,c=function(){e._writeToHt(),e._interactor.fp("shapePointStatus",n,t)};if(t===l.Straight)return s.moveCtrlPoint(r,o,"c1"),s.moveCtrlPoint(r,o,"c2"),void c();if(n===l.Straight){var h=s.findPairs(o,!0)[0],d=h.r1||o,g=(h.r2||o).clone().sub(d).multiplyScalar(.25);return s.moveCtrlPoint(r,o.clone().sub(g),"c1"),s.moveCtrlPoint(r,o.clone().add(g),"c2"),void c()}var u=r.c1,f=r.c2;if(u&&f){if(t===l.Mirrored)return s.moveCtrlPoint(r,o.clone().multiplyScalar(2).sub(f),"c1"),void c();if(t===l.Asymmetric&&n===l.Disconnected){var v=u.clone().sub(o).length();g=o.clone().sub(f).setLength(v).add(o);return s.moveCtrlPoint(r,g,"c1"),void c()}}i._firePointChange(),e._interactor.fp("shapePointStatus",n,t)}}}},cd.prototype._handleDataChanged=function(){var t="points,segments,shape,position,rotation,scale".split(",");return function(e){var i=this;if(i.screenInfo&&i.target){if(e&&t.indexOf(e.property)<0)return;var n=i._interactor;i.gatherSingleTarget(n.gv,i.target,!0),i.check(n.gv,null,new Ph.Math.Vector2(n._lastClientPoint)),n._42()}}}(),cd.prototype.gatherSingleTarget=function(t,e,i){var n,o,a=this;a.screenInfo&&a.screenInfo.curve&&(o=a.screenInfo.curve._curves);var r=a.editing;n=r?a.screenInfo:a.screenInfo={};var l,c,h=e instanceof s.Edge;h?(l=e.s("edge.segments"),c=e.s("edge.points")||new s.List):(l=e._58O,c=e._59O),n.S=l;var d,g=n.P=[],u=Ph.getDataMatrix(e);if(e instanceof s.Polyline&&(d=e.getElevation()||0,n.E=[]),c.each(function(e){n.E&&n.E.push(e.e||d),e=u.apply(e);var i=Ph.toScreenPosition(t,e);g.push(i.x,i.y)}),h){var f=Ph.toScreenPosition(t,e._lastSourcePoint),v=Ph.toScreenPosition(t,e._lastTargetPoint);g.splice(0,0,f.x,f.y),g.push(v.x,v.y)}if(!n.S||!n.S.size()){n.S=new s.List,n.S.add(1);for(var p=0;p<g.length/2-1;p++)n.S.add(2)}if((!r||i)&&a.convertToCubicBezier(o),a.activing&&(i||!a.editing||"realPoint"===a.editing.type)){var I=n.curve.findPairs(a.activing.point);a.activing.pairs=I}h&&"points"!==e.s("edge.type")&&a._writeToHt()},cd.prototype._convertToNewPoint=function(t,e,i){var n,o,a;for(n=0,o=e.length;o>n;n++){if((a=e[n])._p1.isNearEnough(t))return a._p1;if(a._p4.isNearEnough(t))return a._p4}if(i)for(n=0,o=Math.min(i.length,o);o>n;n++){if((a=i[n])._p1===t)return e[n]._p1;if(a._p4===t)return e[n]._p4}},cd.prototype.convertToCubicBezier=function(t){var e,i,n=this,o=new Ph.Math.Curve,a=n.screenInfo;if(o.createFromHtShape(a.P,a.S,a.E),a.curve=o,n.activing){var r=o._curves;if(e=n.activing.point,(i=n._convertToNewPoint(e,r,t))&&(n.activing.point=i),n.activing.selections){var s=-1,l=n.activing.selections;l.forEach(function(e){s++,(i=n._convertToNewPoint(e,r,t))&&(l[s]=i)})}}},cd.prototype.check=function(t,e,i){if(!e||s.Default.isLeftButton(e)){var n=this;if(n._interactor.setCursor("default"),n.editing=null,n.highlight=null,n.tipInfo=null,n.edgeEditResult=null,n.screenInfo){if(Wo())return n._interactor._42(),!0;if(n._checkEditCtrlPoint(i))return n._interactor._42(),!0;if(n._checkEditRealPoint(i))return n._interactor._42(),!0;if(n._checkEditElevation(i))return n._interactor._42(),!0;var o=n.screenInfo.curve.checkPoint(i,n._interactor.getStyle("curveIntersectSize"));if(o){var a=n.highlight={};a.type="insertKnot",a.bezier=o.bezier,a.point=o.intersection}return n._interactor._42(),!0}}},cd.prototype._checkEditRealPoint=function(t){var e,i,n,o,a,r,s=this,l=s.screenInfo.curve._curves,c=s._interactor.getStyle("curvePointIntersectSize"),h=1/0;for(c*=c,n=0,o=l.length;o>n;n++)a=(e=l[n])._p1,h>(r=t.distanceToSquared(a))&&(h=r,i=a),a=e._p4,h>(r=t.distanceToSquared(a))&&(h=r,i=a);if(h>c)return!1;var d=s.highlight={};return d.type="changeRealPoint",d.point=i,s.editing={type:"realPoint",point:i,shiftGuide:{point:i.clone(),dir:"x",limit:0}},s._interactor.setCursor("crosshair"),!0},cd.prototype._checkEditElevation=function(t){var e=this;if(!e._interactor.getStyle("curveElevationVisible"))return!1;var i=e.activing;if(!i)return!1;var n=i.getCurrentEditingPoint();if(!n)return!1;var o=e._interactor,a=o.getStyle("curveElevationGuideShift"),r=o.getStyle("curveElevationIntersectSize");if(!(t.distanceToSquared({x:n.x+a[0],y:n.y+a[1]})>r*r)){(e.highlight={}).type="elevation";var s=new Ph.Math.Vector2(t.x,t.y,n.e);return e.editing={type:"elevation",startPoint:s},e._interactor.setCursor("crosshair"),!0}},cd.prototype._checkEditCtrlPoint=function(t){var e=this;if(e.activing&&!e.activing.selections&&e.getCurrentSelectintStatus()!==Ph.Curve.PointType.Straight){var i=e.activing.pairs;if(i){var n=e._interactor.getStyle("curvePointIntersectSize");n*=n;var o,a,r,s,l,c,h,d,g,u=1/0;for(h=0,g=i.length;g>h;h++)for(s=i[h],d=0;2>d;d++)s[l=0===d?"c1":"c2"]&&(u>(c=t.distanceToSquared(s[l]))&&(u=c,o=s,a=h,r=l));if(u>n)return!1;e.activing.hlpair=o,e.activing.hltype=r;var f=e.highlight={};return f.type="changeCtrlPoint",f.point=o[r],e.editing={type:"ctrlPoint",pair:o,pairId:a,ctrlType:r,direction:o[r].clone().sub(e.activing.point).normalize()},e._interactor.setCursor("crosshair"),!0}}},cd.prototype.startEdit=function(t,e){t.startDragging(e);var i=this;i.highlight&&"insertKnot"===i.highlight.type&&(i.insertKnot(),i.gatherSingleTarget(i._interactor.gv,i.target),i.activing=null,i._checkEditRealPoint(i._interactor._getLogicalPoint(e)));var n=i._activing;if(n){var o=i.editing?i.editing.type:null;"ctrlPoint"===o?n.editingCtrl={pairId:i.editing.pairId,type:n.hltype}:"realPoint"===o&&(n.editingCtrl=!1)}var a=i.highlight,r=s.Default.isCtrlDown(e);if(a&&!Wo()){if("changeRealPoint"===a.type){var l,c=i.activing?i.activing.point:null,h=i.activing?i.activing.selections:null;if(r&&i.activing)c===a.point?(h?(i.activing={point:h[0]},h.length>1&&(h.splice(0,1),i.activing.selections=h)):i.activing=null,i.editing=null):h&&(l=h.indexOf(a.point))>=0?(h.length>1?h.splice(l,1):delete i.activing.selections,i.editing=null):h?(h.push(c),i.activing={point:a.point,selections:h}):i.activing={point:a.point,selections:[c]};else if(h)c===a.point||((l=h.indexOf(a.point))>=0?(h.splice(l,1,c),i.activing={point:a.point,selections:h}):i.activing={point:a.point});else{var d;c===a.point&&(d=i.activing.status),i.activing={point:a.point},d&&(i.activing.status=d)}t.fi({kind:"beginEditPoint",event:e})}}else{var g=i._interactor.gv;if(!g.setFocus(e)||g._scrolling)return;g.isPannable()&&$r(e)&&!r&&(i._pan={tx:g.tx(),ty:g.ty()},t.fi({kind:"beginPan",event:e}))}},cd.prototype.insertKnot=function(){var t=this,e=t.highlight;t.screenInfo.curve.insertKnot(e.bezier,e.point.t),t._writeToHt()},cd.prototype._writeToHt=function(){var t,e,i,o=this,a=o.screenInfo.curve.toHtShape(),r=a.points,l=[],c=a.segments,h=o._interactor.gv,d=o.target,g=d instanceof s.Edge,u=Ph.getDataMatrix(d).invert();d instanceof s.Polyline&&(i=d.getElevation());for(var f=0,v=r.length;v>f;f++)t=r[f],e=Ph.toWorldPosition(h,t),e=u.apply(e),t.e!=n&&t.e!==i&&(e.e=t.e),l.push(e);if(d._writing=!0,g){d.s("edge.type","points"),d.setStyle("edge.segments",c),d.setStyle("edge.points",l.slice(1,l.length-1)),d.setStyle("edge.source.offset.x",0),d.setStyle("edge.source.offset.y",0),d.setStyle("edge.target.offset.x",0),d.setStyle("edge.target.offset.y",0);var p=o._nextChangeEdgeHost;delete o._nextChangeEdgeHost,p&&("source"===p.type?d.setSource(p.host):d.setTarget(p.host)),o._writeEdgeHostAnchor("source",l[0]),o._writeEdgeHostAnchor("target",l[l.length-1])}else l.length?(d.setSegments(c),d.setPoints(l,!0)):d.removeFromDataModel();delete d._writing},cd.prototype._writeEdgeHostAnchor=function(t,e){var i=this.target,o=this._calcHostAnchor(i,t,e);o.index!==n?(i.setStyle("edge."+t+".index",o.index),i.setStyle("edge."+t+".percent",n),i.setStyle("edge."+t+".anchor.x",n),i.setStyle("edge."+t+".anchor.y",n)):o.percent!==n?(i.setStyle("edge."+t+".percent",o.percent),i.setStyle("edge."+t+".index",n),i.setStyle("edge."+t+".anchor.x",n),i.setStyle("edge."+t+".anchor.y",n)):(i.s("edge."+t+".anchor.x",o.x),i.s("edge."+t+".anchor.y",o.y),o.offsetX||o.offsetY?(i.s("edge."+t+".offset.x",o.offsetX),i.s("edge."+t+".offset.y",o.offsetY)):(i.s("edge."+t+".offset.x",0),i.s("edge."+t+".offset.y",0)))},cd.prototype._calcHostAnchor=function(t,e,i,n){n||(n="source"===e?t.getSource():t.getTarget());var o=this._interactor.gv,a=o.calculateAttachPoint(n,i);if(a)return a.info;if(mn(n))return o.calculateEdgePosition(n,i);var r=n.getRotation(),s=n.getAnchor();if(bn(n,o)&&(r=0),r){var l=n.getMatrix().tfi(i),c=n.getSize();return{x:l.x/c.width+s.x,y:l.y/c.height+s.y}}var h=Dl(o,n);return{x:(i.x-h.x)/h.width,y:(i.y-h.y)/h.height}},cd.prototype._handlePanning=function(t){var e=this,i=e._pan;if(i){i.started=!0;var n=e._interactor,o=n.gv,a=n._lastClientPoint,r=is(t);o.setTranslate(i.tx+r.x-a.x,i.ty+r.y-a.y),e.gatherSingleTarget(n.gv,e.target),n._42(),n.fi({kind:"betweenPan",event:t})}},cd.prototype.handleEdit=function(t,e){var i=this,o=i.editing;if(i._pan)i._handlePanning(e);else if(o){o.inEdit=!0;var a,r,l=i._interactor._getLogicalPoint(e),c=s.Default.isCtrlDown(e),h=s.Default.isShiftDown(e),d=o.type,g=i.activing;if(i._guideInfo=null,"ctrlPoint"===d&&h){var u=i.editing.direction.clone();E=g.point;var f=u.dot(l.clone().sub(E));l=u.setLength(f).add(E)}else if("ctrlPoint"===d||"realPoint"===d){if("realPoint"===d&&h){var v=i.editing.shiftGuide;a=v.point;var p=Math.abs(l.x-a.x),I=Math.abs(l.y-a.y);p>I&&p>v.limit&&"y"===v.dir&&(v.dir="x"),I>p&&I>v.limit&&"x"===v.dir&&(v.dir="y"),"x"===(u=v.dir)?(l.y=a.y,v.limit=Math.max(v.limit,p)):"y"===u&&(l.x=a.x,v.limit=Math.max(v.limit,I))}var _=i._isEditEdgeSourceTarget();if(_){var y=i._editEdgeSourceTarget(_,l,c);y&&(i.edgeEditResult=y,r=y.tipText)}else if(!c){var C=i._guidingToEdit(l,u),m="realPoint"===d?i._interactor.gridGuide.findClosest(l,u,!0):null,w=1/0,b=1/0;m&&(m.x&&(w=m.x),m.y&&(b=m.y));var A=!1;C&&(C.xList&&(Math.abs(C.x)<=Math.abs(w)?(A=!0,w=C.x):delete C.xList),C.yList&&(Math.abs(C.y)<=Math.abs(b)?(A=!0,b=C.y):delete C.yList),A&&(i._guideInfo=C)),isFinite(w)&&(l.x+=w),isFinite(b)&&(l.y+=b),A&&(C.v=l)}}var M=i.screenInfo.curve;if("realPoint"===o.type){(E=o.point).e!==n&&(l.e=E.e),M.moveRealPoint(E,l),o.point=l,i.highlight.point=l;var x=g.status,D=g.selections;if(i.activing={point:l,status:x},D){var T=l.clone().sub(E),N=0;D.forEach(function(t){var e=t.clone().add(T);M.moveRealPoint(t,e),D[N++]=e}),i.activing.selections=D}}else if("ctrlPoint"===o.type){var S=g.pairs[o.pairId];M.moveCtrlPoint(S,l,o.ctrlType);var z=g.status,k=Ph.Curve.PointType;if((z===k.Mirrored||z===k.Asymmetric)&&S.c1&&S.c2){var E=new Ph.Math.Vector2(g.point),V="c1"===o.ctrlType?"c2":"c1";if(z===Ph.Curve.PointType.Mirrored)M.moveCtrlPoint(S,E.clone().multiplyScalar(2).sub(l),V);else if(z===k.Asymmetric){f=S[V].clone().sub(E).length();var j=E.clone().sub(S[o.ctrlType]).setLength(f).add(E);isNaN(j.x)||M.moveCtrlPoint(S,j,V)}}g._firePointChange()}else if("elevation"===o.type){var R=(a=o.startPoint).e+(a.y-l.y)/t._zoom;i._setCurrentPointImpl("e",R),g._firePointChange(),r="E: "+Ph.toFixed(R)}var P=s.Default.getLogicalPoint(e,i._interactor._canvas);if(P.x+=Ph.Icons.TipShiftX,P.y+=Ph.Icons.TipShiftY,!r){var Z=Ph.toWorldPosition(t,l);r=Ph.toFixed(Z.x)+", "+Ph.toFixed(Z.y)}i.tipInfo={helperPos:P,text:r,size:r.length},i._writeToHt(),i._interactor.fi({kind:"betweenEditPoint",event:e})}},cd.prototype._setCurrentPointImpl=function(t,e){var i=this,o=i._activing;if(!o)return!1;var a=i.target;if(!a)return!1;var r=o.getCurrentEditingPoint();if(!r)return!1;var s=o.editingCtrl;if(!s)var l=r.clone();if("e"===t)r.e=e;else{var c;if("x"===t||"y"===t){var h=o._lastFirePoint;c="x"===t?{x:e,y:h?h.y:0}:{x:h?h.x:0,y:e}}else"object"==typeof t?(c=t,t.e!==n&&(r.e=t.e)):(c={x:arguments[0],y:arguments[1]},arguments[2]!==n&&(r.e=arguments[2]));var d=Ph.getDataMatrix(a);c=Ph.toScreenPosition(i._interactor.gv,d.apply(c)),r.x=c.x,r.y=c.y}if(!s){var g=l.multiplyScalar(-1).add(r);r.e&&l.e&&(g.e=r.e-l.e),i.screenInfo.curve.moveCtrlDueToRealPointMovement(r,g)}return!0},cd.prototype.setCurrentPoint=function(t,e){return!!this._setCurrentPointImpl(t,e)&&(this._writeToHt(),!0)},cd.prototype._isEditEdgeSourceTarget=function(){var t=this;if(!(t.target instanceof s.Edge))return!1;var e=t.editing.point,i=t.screenInfo.curve._curves;return e===i[0]._p1?"source":e===i[i.length-1]._p4&&"target"},cd.prototype._editEdgeSourceTarget=function(t,e,i){var o,a=this,r=a.target;if(o="source"===t?r.getSource():r.getTarget()){var s,l,c,h,d=a._interactor.gv,g=Ph.toWorldPosition(d,e),u=a._calcHostAnchor(r,t,g,o);if(u.index!==n||u.percent!==n?u.distance*d.getZoom()>a._interactor.getStyle("edgeHostEdgeMaxDistance"):!!a._interactor.getStyle("edgeHostDetectPerFrame")||(u.x<0||u.x>1||u.y<0||u.y>1)){var f=d.getDataAt(g,function(e){return!!d.isSelectable(e)&&(e!==o&&!!r.canSetSourceTarget(e,t))});if(f){var v=a._calcHostAnchor(r,t,g,f);o=f,a._nextChangeEdgeHost={type:t,host:f},u=v}}if(i||u.x===n)(u.percent!==n||u.index!==n)&&(l=u.point);else{var p=a._interactor.getStyle("anchorRound"),I=a._interactor.getStyle("anchorSensitivity");(s=d.calculateAttachPoint(o,g))?u=s.info:(u.x=Ph.roundTo(u.x,p,I),u.y=Ph.roundTo(u.y,p,I)),l=o.getAttachPosition(u.x,u.y,u.offsetX,u.offsetY)}return l&&(c=Ph.toScreenPosition(d,l),e.x=c.x,e.y=c.y),a._edgeHostGuideInfo={corners:Ph.getTargetCornersOnScreen(d,o),attach:s?s.index:-1,host:o},u.percent!==n?h="percent: "+u.percent.toFixed(2):u.index!==n?h="index: "+u.index:(h=u.x.toFixed(2)+", "+u.y.toFixed(2),(u.offsetX||u.offsetY)&&(h+=" offset: "+u.offsetX.toFixed(2)+", "+u.offsetY.toFixed(2))),{host:o,anchor:u,tipText:h}}},cd.prototype._guidingToEdit=function(t,e){var i,n,o=this;if(i=o.screenInfo.curve){n=i._curves;var a,r,s,l,c,h,d,g,u=1/0,f=1/0,v=[];for(o.editing&&"realPoint"===o.editing.type&&(g=o.editing.point),c=0,h=2*n.length;h>c;c++)d=n[Math.floor(c/2)][c%2?"_p4":"_p1"],v.indexOf(d)>=0||(v.push(d),g&&g===d||(s=d.x-t.x,l=d.y-t.y,Math.abs(s)<Math.abs(u)?(u=s,a=[d]):s===u&&a.push(d),Math.abs(l)<Math.abs(f)?(f=l,r=[d]):l===f&&r.push(d)));var p=o._interactor.getStyle("smartGuideSensitivity");if((Math.abs(u)>p||"y"===e)&&(a=null),(Math.abs(f)>p||"x"===e)&&(r=null),a||r){var I=!1,_={};if(a&&(I=!0,_.xList=a,_.x=u),r&&(I=!0,_.yList=r,_.y=f),I)return _}}},cd.prototype._46O=function(t){var e=this;e.editing&&(e.editing=null,e._interactor.fi({kind:"endEditPoint",event:t})),e._guideInfo=null,e._edgeHostGuideInfo=null,e._pan&&(e._pan=null,e._interactor.fi({kind:"endPan",event:t})),e.tipInfo=null,e.edgeEditResult=null},cd.prototype._canDeletePoint=function(t,e){if(!(this.target instanceof s.Edge))return!0;var i=t._curves[0],n=t._curves[t._curves.length-1];return i._p1!==e&&n._p4!==e},cd.prototype.handleDelete=function(){var t=this;if(t.activing&&t.screenInfo){var e=s.Default.isShiftDown(),i=t.screenInfo.curve;t._canDeletePoint(i,t.activing.point)&&i.deleteRealPoint(t.activing.point,e),t.activing.selections&&t.activing.selections.forEach(function(n){t._canDeletePoint(i,n)&&i.deleteRealPoint(n,e)}),t.activing=null,delete t.editing,delete t.tipInfo,delete t.edgeEditResult,delete t._pan,t._writeToHt(),t._interactor.fp("deleteShapePoint",!1,!0)}},cd.prototype.handleDoubleClick=function(t){var e=this,i=e._interactor._getLogicalPoint(t);if(e.screenInfo&&e._checkEditRealPoint(i)){var n=e.getCurrentSelectintStatus(),o=Ph.Curve.PointType;return n=n===o.Mirrored?o.Straight:o.Mirrored,e._setCurrentSelectionStatus(n),e._interactor._42(),!0}},cd.prototype._drawHighlight=function(t){var e=this.highlight;if(e){var i=e.bezier,n=this._interactor;i&&Ph.Icons.DrawIcon(n,t,Ph.Icons.ShapeHighlightCurve,[i._p1.x,i._p1.y,i._p2.x,i._p2.y,i._p3.x,i._p3.y,i._p4.x,i._p4.y]);var o=e.point;o&&"insertKnot"===e.type&&Ph.Icons.DrawIcon(n,t,Ph.Icons.ShapeHighlighPoint,o)}},cd.prototype._drawGuide=function(t){var e=this._guideInfo;if(e){var i,n,o,a,r=e.v;for(i=0;2>i;i++)if(a=0===i?e.xList:e.yList)for(n=0,o=a.length;o>n;n++)Ph.Icons.DrawIcon(this._interactor,t,Ph.Icons.ShapeGuideLine,[r.x,r.y,a[n].x,a[n].y])}},cd.prototype._drawCurrentPoint=function(t){var e=this;if(e.activing){var i=e.activing,n=e.getCurrentSelectintStatus(),o=e._interactor;if(n!==Ph.Curve.PointType.Straight){var a=i.pairs;i.hlpair,i.hltype;var r,s,l,c=i.selections,h=i.editingCtrl;if(a&&!c)for(s=0,l=a.length;l>s;s++)r=a[s],h&&s===h.pairId&&r[h.type]?Ph.Icons.DrawIcon(o,t,Ph.Icons.ShapeActivingCtrl,{point:r.point,c1:r.c1,c2:r.c2,hl:h.type}):Ph.Icons.DrawIcon(o,t,Ph.Icons.ShapeActivingCtrl,r)}Ph.Icons.DrawIcon(o,t,Ph.Icons.ShapeHighlighRealPoint,e.activing.point),c&&c.forEach(function(e){Ph.Icons.DrawIcon(o,t,Ph.Icons.ShapeHighlighRealPoint,e)})}},cd.prototype.clear=function(){var t=this;t.editing=null,t._guideInfo=null,t.activing=null,t.highlight=null},cd.prototype._42=function(t){var e=this;e.info={},e.editing||(e.screenInfo=null);var i=e._interactor;if(i.editDetail){var n=i.gv;if(!e.target||!n.isSelected(e.target)||!n.isVisible(e.target))return i.editDetail=!1,void e.clear();if(e.gatherSingleTarget(n,e.target),Ph.Icons.DrawIcon(i,t,Ph.Icons.ShapeBgCurve,e.screenInfo),e._drawHighlight(t),e._drawCurrentPoint(t),e._getRealPoint().forEach(function(e){Ph.Icons.DrawIcon(i,t,Ph.Icons.ShapePoint,e)}),e._drawGuide(t),e.tipInfo&&Ph.Icons.DrawIcon(i,t,Ph.Icons.TipHelper,e.tipInfo),e._edgeHostGuideInfo){Ph.Icons.DrawIcon(i,t,Ph.Icons.NodeHoverGuide,e._edgeHostGuideInfo.corners);var o=e._edgeHostGuideInfo.host;if(o){var a=n.getAttachPoints(o);if(a&&a.length)for(var r=0,l=a.length;l>r;r++){var c=a[r],h=o.getAttachPosition(c.x,c.y,c.offsetX,c.offsetY);(h=Ph.toScreenPosition(n,h)).isAttach=e._edgeHostGuideInfo.attach===r,Ph.Icons.DrawIcon(i,t,Ph.Icons.AttachPoint,h)}}}if(e._interactor.getStyle("curveElevationVisible")&&e.target instanceof s.Polyline&&e.activing){var d=e.activing.getCurrentEditingPoint();d&&Ph.Icons.DrawIcon(i,t,Ph.Icons.EdgeElevationGuide,d)}e.edgeEditResult&&e._drawEdgeHostHighlight(t,e.edgeEditResult.host,e.edgeEditResult.anchor)}else e.clear()},cd.prototype._drawEdgeHostHighlight=function(t,e,i){this.drawEdgeHostHighlight(t,e,i),this._interactor.redraw()},cd.prototype.drawEdgeHostHighlight=function(t,e,i){if(mn(e)){var o,a,r,s,l=this._interactor,c=l.gv,h=c.getDataUI(e),d=oc(h),g=[];for(r=0,s=d.points.length;s>r;r++)a=Ph.toScreenPosition(c,d.points.get(r)),g.push(a.x,a.y);d.segments&&(o=d.segments.toArray());var u=l.getStyle("edgeHostHighlighPeriod"),f=l.getStyle("edgeHostEdgeHighlighColor");Ph.Icons.DrawIcon(l,t,Ph.Icons.ShapeBgCurve,{P:g,S:o,color:f,dynamicVisible:i.index===n,dynamicPeriod:u}),f=l.getStyle("edgeHostPointHighlighColor");var v=hc(h);for(r=0,s=v.length;s>r;r++){var p=v[r],I=Ph.toScreenPosition(c,p);Ph.Icons.DrawIcon(l,t,Ph.Icons.ShapePoint,{point:{x:I.x,y:I.y},color:f,size:12,dynamicVisible:r===i.index,dynamicPeriod:u})}}},cd.prototype._getRealPoint=function(){var t,e=this.screenInfo,i=e.P,n=e.S,o=-1,a=[],r=-1,s=n.length;return n.each(function(e){r++;var l=1;if(3===e)l=2;else if(4===e)l=3;else if(5===e)return;o+=l,t=r+1>=s||1===n.get(r+1),a.push({point:{x:i[2*o],y:i[2*o+1]},segmentIndex:r,pointIndex:o,isEnd:t})}),a},cd.prototype.getEditingPointsInfo=function(t){var e=this,i=e.activing;if(!i)return!1;var n=i.point;if(!n)return!1;var o=this._getRealPoint(),a=[{screen:n}];i.selections&&i.selections.forEach(function(t){a.push({screen:t})});var r,s,l=o.length;return a.forEach(function(t){for(r=0;l>r;r++)if(s=o[r],t.screen.isNearEnough(s.point)){t.segmentIndex=s.segmentIndex,t.pointIndex=s.pointIndex,t.point=e.target.getPoints().get(s.pointIndex);break}}),t&&a.sort(function(t,e){return t.segmentIndex-e.segmentIndex}),a};var dd=Ph.MoveHelper=function(t){this.catalog="Move",this._interactor=t};dd.prototype={},dd.prototype.constructor=dd,dd.prototype.calcShift=function(t,e,i){var n,o=this,a=o._interactor.gv,r=a.lp(e);if("beginMove"===t&&o._gatherGridInfo(i._lastLogicalPoint||r),n=o._target){var l,c=n.downPosition;if(c){var h=o._interactor.getStyle("moveSensitivity")/a._zoom;if(c.distanceTo(r)<h)return{x:0,y:0};delete n.downPosition}s.Default.isShiftDown(e)&&(r=o._dealShiftDown(r),l=n.shiftGuide.dir);var d,g=n.rawPos={x:n.pos.x+r.x-n.lp.x,y:n.pos.y+r.y-n.lp.y};if(s.Default.isCtrlDown(e)){var u;if(d=o._calcShiftByAddon(),o._target.node instanceof Ph.Group)(u=o._target.node)._position.x+=d.x,u._position.y+=d.y;return d}for(var f,v=n.x+g.x,p=n.y+g.y,I={x:v,y:p},_={x:v+n.w/2,y:p+n.h/2},y={x:v+n.w,y:p+n.h},C=o._interactor.rectGuide,m=o._interactor.gridGuide,w=[C.findClosest(I,l),C.findClosest(_,l),C.findClosest(y,l),m.findClosest(I,l),m.findClosest(_,l),m.findClosest(y,l)],b=1/0,A=1/0,M=0,x=w.length;x>M;M++)(f=w[M])&&(v=f.x,p=f.y,isFinite(v)&&Math.abs(v)<Math.abs(b)&&(b=v),isFinite(p)&&Math.abs(p)<Math.abs(A)&&(A=p));if(isFinite(b)||(b=0),isFinite(A)||(A=0),d=o._calcShiftByAddon(b,A),o._target.node instanceof Ph.Group)(u=o._target.node)._position.x+=d.x,u._position.y+=d.y;var D=n.node;if(!bn(D,a)){var T=g.x+b,N=g.y+A;o._interactor.rectGuide.gatherLines({node:D,x:n.x+T,y:n.y+N,w:n.w,h:n.h},l)}return d}},dd.prototype._calcShiftByAddon=function(t,e){var i=this._target,n=i.rawPos,o=i.node.getPosition();return t=t||0,e=e||0,{x:n.x-o.x+t,y:n.y-o.y+e}},dd.prototype._dealShiftDown=function(t){var e=this._target.shiftGuide,i=this._target.lp,n=Math.abs(t.x-i.x),o=Math.abs(t.y-i.y);n>o&&n>e.limit&&"y"===e.dir&&(e.dir="x"),o>n&&o>e.limit&&"x"===e.dir&&(e.dir="y");var a=e.dir;return"x"===a?(t.y=i.y,e.limit=Math.max(e.limit,n)):"y"===a&&(t.x=i.x,e.limit=Math.max(e.limit,o)),t},dd.prototype._gatherGridInfo=function(t){var e,i,n=this,o=n._interactor;if((i=o._getValidSelection()).length){if(1===i.length){if(!(e=i[0]).getRect)return void(n._target=null)}else if(!(e=Ph.Group.findOrCreateGroup(i)))return void(n._target=null)}else if((i=o.gv.sm().getSelection()).length&&!(e=i.get(0)).getRect)return void(n._target=null);var a=e.getPosition(),r=e.getRect();n._target={node:e,x:r.x-a.x,y:r.y-a.y,w:r.width,h:r.height,lp:{x:t.x,y:t.y},pos:{x:a.x,y:a.y},shiftGuide:{dir:"x",limit:0},downPosition:new Ph.Math.Vector2(t)},o.rectGuide.gatherRects()},dd.prototype.clear=function(){this._interactor.rectGuide.clear(),this._interactor._42()};var gd="light.color",ud=function(t){if(pn(t))return t.modelType?t.uuid?Ei[t.uuid]:(t.uuid=s.Math.generateUUID(),ru(t.uuid,t),n):t;var e=Ei[t];return t&&e===n&&Bi.test(t)&&(iu&&iu[t]||au(t,t)),e},fd=function(t,e){t.frameStack?t.frameStack.push(e):t.frameStack=[e],t.bindFramebuffer(t.FRAMEBUFFER,e)},vd=function(t){var e=t.frameStack;if(e){if(e.pop(),e.length)return void t.bindFramebuffer(t.FRAMEBUFFER,e[e.length-1]);t.frameStack=null}t.bindFramebuffer(t.FRAMEBUFFER,null)};Tn(c,{graph3dViewAttributes:r,graph3dViewFirstPersonMode:!1,graph3dViewMouseRoamable:!0,graph3dViewMoveStep:15,graph3dViewRotateStep:E/60,graph3dViewEditHelperDisabled:!1,graph3dViewPannable:!0,graph3dViewRotatable:!0,graph3dViewWalkable:!0,graph3dViewResettable:!0,graph3dViewZoomable:!0,graph3dViewRectSelectable:!0,graph3dViewRectSelectBackground:Va,graph3dViewGridVisible:!1,graph3dViewGridSize:50,graph3dViewGridGap:50,graph3dViewGridColor:[.4,.75,.85,1],graph3dViewOriginAxisVisible:!1,graph3dViewCenterAxisVisible:!1,graph3dViewAxisXColor:[1,0,0,1],graph3dViewAxisYColor:[0,1,0,1],graph3dViewAxisZColor:[0,0,1,1],graph3dViewEditSizeColor:[1,1,0,1],graph3dViewOrtho:!1,graph3dViewOrthoWidth:2e3,graph3dViewFovy:E/4,graph3dViewNear:10,graph3dViewFar:1e4,graph3dViewEye:[0,300,1e3],graph3dViewCenter:[0,0,0],graph3dViewUp:[0,1,-1e-7],graph3dViewHeadlightRange:0,graph3dViewHeadlightColor:[1,1,1,1],graph3dViewHeadlightIntensity:1,graph3dViewHeadlightDisabled:!1,graph3dViewFogDisabled:!0,graph3dViewFogColor:"white",graph3dViewFogNear:1,graph3dViewFogFar:2e3,graph3dViewDashDisabled:!0,graph3dViewBatchBlendDisabled:!0,graph3dViewBatchBrightnessDisabled:!0,graph3dViewBatchColorDisabled:!1,graph3dMaxVectorCacheTime:50,setShape3dModel:function(t,e){un(e)&&Bi.test(e)?au(t,e):pn(e)&&e.modelType?ru(t,e):Ei[t]=e},getShape3dModel:ud,createMatrix:function(t,e){_n(t)||(t=[t]);for(var i=t.length-1;i>=0;i--){var n=t[i];e=Bs(n.mat,n.s3,n.r3,n.rotationMode,n.t3,e)}return e},transformVec:function(t,e){return Es(t,e)},glBindFrame:fd,glUnbindFrame:vd,createBoxModel:function(){return{vs:du,ns:fu,uv:uu,is:gu}},createRoundRectModel:function(t,e){return xu.roundRect(t,e)},createStarModel:function(t,e){return xu.star(t,e)},createRectModel:function(t,e){return xu.rect(t,e)},createTriangleModel:function(t,e){return xu.triangle(t,e)},createRightTriangleModel:function(t,e){return xu.rightTriangle(t,e)},createParallelogramModel:function(t,e){return xu.parallelogram(t,e)},createTrapezoidModel:function(t,e){return xu.trapezoid(t,e)},createSmoothSphereModel:function(t,e,i,n,o,a,r){return gc(new Qc(t,e,i,n,o,a,r))},createSphereModel:function(t,e,i,n,o,a){return t?_u(t,e,i,n,o,a):c.createSmoothSphereModel()},createSmoothConeModel:function(t,e,i,n,o){return bu(t,e,i,n,o)},createConeModel:function(t,e,i,n,o,a){return t?Au(t,e,i,n,o,a):bu(a)},createSmoothCylinderModel:function(t,e,i,n,o,a,r,s){return gc(new Fc(t,e,i,n,o,a,r,s))},createCylinderModel:function(t,e,i,n,o,a,r){return t?wu(t,e,i,n,o,a,r):mu(a,r)},createSmoothTorusModel:function(t,e,i,n,o,a){return gc(new Hc(t,e,i,n,o,a))},createTorusModel:function(t,e,i,n,o,a,r){return t?Cu(t,e,i,n,o,a,r):yu(a,r)},createExtrusionModel:function(t,e,i,n,o,a,r,s){return Mu(t,e,i,n,o,a,r,s)},createSmoothRingModel:function(t,e,i,n,o,a){for(var r=[],s=0;s<t.length-1;s+=2)r.push({x:t[s],y:t[s+1]});for(t=aa(r,e,i)[0],r=[],s=0;s<t.length;s++){var l=t[s];r.push(new pc(l.x,0,l.y))}return gc(new $c(r,a,n,o))},createTextGeometry:function(t,e){return gc(new Kc(t,e))},loadFontFace:function(t,e){c.xhrLoad(t,function(t){if(!t)return e();var i;try{i=JSON.parse(t)}catch(e){i=JSON.parse(t.substring(65,t.length-2))}jc.loadFace(i),e&&e(i.familyName.toLowerCase())},e?null:{sync:!0})},createRingModel:function(t,e,i,n,o,a,s,l,h,d){for(var g=[],u=0;u<t.length-1;u+=2)g.push({x:t[u],y:t[u+1]});a=a||c.shapeSide,s=s||0,l=l||a;var f,v,p,I,_,y,C,m,w,b,A,M,x,D,N,z,k,E=[],V=[],j=h?[]:r,R=h?[]:r,P=d?[]:r,Z=d?[]:r,L=n?[]:r,B=n?[]:r,O=o?[]:r,U=o?[]:r,W=(t=aa(g,e,i),Qn(t)),G=0,F=2*Math.PI/a;return t.forEach(function(t){if((p=t.length)>1){if(I=t[0],n)for(y=I.x,m=I.y,u=s;l>u;u++)x=(A=u+1)*F,D=T(M=u*F),N=S(M),z=T(x),k=S(x),L.push(D*y,m,-N*y,z*y,m,-k*y,0,m,0),B.push(.5-.5*D,.5-.5*N,.5-.5*z,.5-.5*k,.5,.5);for(b=0;p>b;b++){for(_=t[b],y=I.x,C=_.x,m=I.y,w=_.y,f=G/W,G+=os(I,_),v=G/W,u=s;l>u;u++)x=(A=u+1)*F,D=T(M=u*F),N=S(M),z=T(x),k=S(x),E.push(D*C,w,-N*C,z*C,w,-k*C,D*y,m,-N*y,z*C,w,-k*C,z*y,m,-k*y,D*y,m,-N*y),V.push(u/a,v,A/a,v,u/a,f,A/a,v,A/a,f,u/a,f),h&&u===s&&(j.push(0,m,0,0,w,0,D*C,w,-N*C,D*C,w,-N*C,D*y,m,-N*y,0,m,0),R.push(0,.5-m,0,.5-w,2*C,.5-w,2*C,.5-w,2*y,.5-m,0,.5-m)),d&&A===l&&(P.push(0,m,0,z*C,w,-k*C,0,w,0,z*C,w,-k*C,0,m,0,z*y,m,-k*y),Z.push(1,.5-m,1-2*C,.5-w,1,.5-w,1-2*C,.5-w,1,.5-m,1-2*y,.5-m));I=_}if(o)for(y=I.x,m=I.y,u=s;l>u;u++)x=(A=u+1)*F,D=T(M=u*F),N=S(M),z=T(x),k=S(x),O.push(z*y,m,-k*y,D*y,m,-N*y,0,m,0),U.push(.5-.5*z,.5+.5*k,.5-.5*D,.5+.5*N,.5,.5)}}),{vs:E,uv:V,bottom_vs:O,bottom_uv:U,top_vs:L,top_uv:B,from_vs:j,from_uv:R,to_vs:P,to_uv:Z}}},!0),Tn(h,{"3d.move.mode":n,"3d.selectable":!0,"3d.visible":!0,"3d.movable":!0,"3d.editable":!0,"shape.border.gradient.color":n,"edge.gradient.color":n,"edge.source.t3":n,"edge.target.t3":n,"light.type":"point","light.center":[0,0,0],"light.color":[1,1,1,1],"light.disabled":!1,"light.angle":E/4,"light.range":0,"light.exponent":1,"light.intensity":1,"wf.visible":!1,"wf.width":1,"wf.color":Ha,"wf.short":!1,"wf.mat":n,"wf.geometry":!1,batch:n,"transparent.mask":!1,brightness:n,"select.brightness":.7,"repeat.uv.length":n,alphaTest:.4,"highlight.visible":!0,"highlight.width":.8,"highlight.color":"rgba(190, 210, 250, 1)","color.empty":[0,0,0,0],"shape3d.vector.dynamic.maxsize":2048,"label.face":st,"label.t3":n,"label.r3":n,"label.texture.scale":2,"label.rotationMode":nh,"label.light":!1,"label.blend":n,"label.reverse.flip":!1,"label.reverse.color":ka,"label.reverse.cull":!1,"label.transparent":!1,"label.autorotate":!1,"label2.face":st,"label2.t3":n,"label2.r3":n,"label2.texture.scale":2,"label2.rotationMode":nh,"label2.light":!1,"label2.blend":n,"label2.reverse.flip":!1,"label2.reverse.color":ka,"label2.reverse.cull":!1,"label2.transparent":!1,"label2.autorotate":!1,"note.face":st,"note.t3":n,"note.r3":n,"note.texture.scale":2,"note.rotationMode":nh,"note.light":!1,"note.blend":n,"note.reverse.flip":!1,"note.reverse.color":ka,"note.reverse.cull":!1,"note.transparent":!1,"note.autorotate":!1,"note2.face":st,"note2.t3":n,"note2.r3":n,"note2.texture.scale":2,"note2.rotationMode":nh,"note2.light":!1,"note2.blend":n,"note2.reverse.flip":!1,"note2.reverse.color":ka,"note2.reverse.cull":!1,"note2.transparent":!1,"note2.autorotate":!1,shape3d:n,"shape3d.color":Fa,"shape3d.top.color":n,"shape3d.bottom.color":n,"shape3d.from.color":n,"shape3d.to.color":n,"shape3d.image":n,"shape3d.top.image":n,"shape3d.bottom.image":n,"shape3d.from.image":n,"shape3d.to.image":n,"shape3d.light":!0,"shape3d.side":0,"shape3d.side.from":n,"shape3d.side.to":n,"shape3d.visible":!0,"shape3d.from.visible":!0,"shape3d.to.visible":!0,"shape3d.top.visible":!0,"shape3d.bottom.visible":!0,"shape3d.torus.radius":.17,"shape3d.resolution":0,"shape3d.blend":n,"shape3d.opacity":n,"shape3d.reverse.flip":!1,"shape3d.reverse.color":ka,"shape3d.reverse.cull":!1,"shape3d.transparent":!1,"shape3d.uv.offset":n,"shape3d.uv.scale":n,"shape3d.top.uv.offset":n,"shape3d.top.uv.scale":n,"shape3d.bottom.uv.offset":n,"shape3d.bottom.uv.scale":n,"shape3d.from.uv.offset":n,"shape3d.from.uv.scale":n,"shape3d.to.uv.offset":n,"shape3d.to.uv.scale":n,"shape3d.top.cap":n,"shape3d.bottom.cap":n,"shape3d.start.angle":0,"shape3d.sweep.angle":V,"shape3d.discard.selectable":!0,"shape3d.top.discard.selectable":!0,"shape3d.bottom.discard.selectable":!0,"shape3d.from.discard.selectable":!0,"shape3d.to.discard.selectable":!0,"shape3d.scaleable":!0,"shape3d.autorotate":!1,"shape3d.fixSizeOnScreen":n,"shape3d.image.cache":!1,"shape3d.alwaysOnTop":!1,"all.light":!0,"all.visible":!0,"all.color":Fa,"all.image":n,"all.blend":n,"all.opacity":n,"all.reverse.flip":!1,"all.reverse.color":ka,"all.reverse.cull":!1,"all.transparent":!1,"all.uv":n,"all.uv.offset":n,"all.uv.scale":n,"all.discard.selectable":!0,mat:n,"left.mat":n,"right.mat":n,"top.mat":n,"bottom.mat":n,"front.mat":n,"back.mat":n},!0);var pd,Id=!1,_d=[0,0,0,0],yd={left:[1/255,0,0,1],right:[2/255,0,0,1],top:[3/255,0,0,1],bottom:[4/255,0,0,1],front:[5/255,0,0,1],back:[6/255,0,0,1],m:{1:ct,2:ht,3:dt,4:gt,5:st,6:lt}},Cd=function(t,e,i,n){if(e.getFaceVisible(t,i)){yg(e,Ls(t,e.getFaceMat(t,i)||e.getMat(t)));var o=e._26I;e.getFaceReverseCull(t,i)?o.enable(o.CULL_FACE):o.disable(o.CULL_FACE),fg(o,e._prg.uFixPickReverseColor,yd[i]),og(o),lg(o,n,6),ag(o),Ig(e)}},md=function(t){return t instanceof ff},wd=function(t){return[t.x,t.e||0,t.y]},bd=function(t,e,i){for(var n=(e=Ko(e))[0],o=e[1],a=e[2];i--;)t.push(n,o,a)},Ad=function(t,e,i){for(var n=(e=Ko(e))[0],o=e[1],a=e[2],r=e[3];i--;)t.push(n,o,a,r)},Md=function(t,e,i){if(e){var n,o,a,r=e[0],s=e[1],l=e[2],c=e[4],h=e[5],d=e[6],g=e[8],u=e[9],f=e[10],v=e[12],p=e[13],I=e[14],_=i.length,y=0;for(y=0;_>y;y+=3)n=i[y],o=i[y+1],a=i[y+2],t.push(r*n+c*o+g*a+v,s*n+h*o+u*a+p,l*n+d*o+f*a+I)}else xn(t,i)},xd=function(t,e){var i=e.s("light.intensity"),n=Ko(e.s(gd)),o=n[0],a=n[1],r=n[2];1!==i&&(o*=i,a*=i,r*=i),t.push(o,a,r,e.s("light.disabled")?1:0)},Dd=function(t,e,i){fg(e,i.uHeadlightRange,t._headlightRange);var n=t._headlightIntensity,o=Ko(t._headlightColor);1!==n&&(o=[o[0]*n,o[1]*n,o[2]*n]),fg(e,i.uHeadlightColor,[o[0],o[1],o[2],t._headlightDisabled?1:0]);var a=t._59O,r=t._spots,s=t._dirs;if(a.length){var l=[],c=[],h=[];a.forEach(function(e){xd(l,e),xn(c,t._transformPointToViewSpace(e.p3())),h.push(e.s("light.range"))}),e.uniform4fv(i.uPointColor,l),e.uniform1fv(i.uPointRange,h),e.uniform3fv(i.uPointPosition,c)}if(r.length){var d=[],g=[],u=[],f=[],v=[],p=[];r.forEach(function(e){xd(d,e),xn(g,t._transformPointToViewSpace(e.p3())),xn(v,t._transformDirectionToViewSpace(e.p3(),e.s("light.center"))),u.push(e.s("light.range")),f.push(T(e.s("light.angle")/2)),p.push(e.s("light.exponent"))}),e.uniform4fv(i.uSpotColor,d),e.uniform1fv(i.uSpotRange,u),e.uniform1fv(i.uSpotAngle,f),e.uniform1fv(i.uSpotExponent,p),e.uniform3fv(i.uSpotPosition,g),e.uniform3fv(i.uSpotDirection,v)}if(s.length){var I=[],_=[];s.forEach(function(e){xd(I,e),xn(_,t._transformDirectionToViewSpace(e.p3()))}),e.uniform4fv(i.uDirColor,I),e.uniform3fv(i.uDirDirection,_)}},Td=function(t){return t>0&&0==(t-1&t)},Nd=function(t){return t=M(0,x(E,t)),M(As,x(E-As,t))},Sd=function(){return.05+Z()/2},zd=function(t,e,i,n){var o,a=t.getEye();return t.isOrtho()?((o=Ds(t.getCenter(),a))[0]+=n[0],o[1]+=n[1],o[2]+=n[2]):o=a,kd(e,i,n,o)},kd=function(t,e,i,n){var o=Ns(t,e),a=Ds(n,i,!0),s=Ns(a,e);if(D(s)<As)return r;var l=(o-Ns(i,e))/s;return[i[0]+a[0]*l,i[1]+a[1]*l,i[2]+a[2]*l]},Ed=function(t,e){return{x:2*t.x-e.x,y:2*t.y-e.y}},Vd=function(t,e,i,n){var o,a;if(!t)return o=P(e.y-i.y,i.x-e.x),{x:e.x+n*S(o),y:e.y+n*T(o)};if(!i)return o=P(t.y-e.y,e.x-t.x),{x:e.x+n*S(o),y:e.y+n*T(o)};var r=Ds([t.x,t.y,0],[e.x,e.y,0],!0),s=Ds([i.x,i.y,0],[e.x,e.y,0],!0),l=-(r[0]+s[0])/2,c=-(r[1]+s[1])/2,h=A(l*l+c*c);if(As>h)return o=P(t.y-e.y,e.x-t.x),{x:e.x+n*S(o),y:e.y+n*T(o)};var d=t.x-e.x,g=t.y-e.y,u=i.x-e.x,f=i.y-e.y,v=A(d*d+g*g),p=A(u*u+f*f);o=N(Ns(r,s))/2,a=r[1]*s[0]-r[0]*s[1]>0?-1:1,l/=h,c/=h;var I=n/S(o),_=M(v,p)/T(o);h=Math.min(I,_);var y={x:e.x+a*h*l,y:e.y+a*h*c};return i.b&&I>p/T(o)&&(y.adjust=!0),y},jd=function(t){var e=t[0],i=t[1],n=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],h=t[8],d=t[9],g=t[10],u=t[11],f=t[12],v=t[13],p=t[14],I=t[15],_=e*s-i*a,y=e*l-n*a,C=e*c-o*a,m=i*l-n*s,w=i*c-o*s,b=n*c-o*l,A=h*v-d*f,M=h*p-g*f,x=h*I-u*f,D=d*p-g*v,T=d*I-u*v,N=g*I-u*p,S=_*N-y*T+C*D+m*x-w*M+b*A;return S?(S=1/S,t[0]=(s*N-l*T+c*D)*S,t[1]=(n*T-i*N-o*D)*S,t[2]=(v*b-p*w+I*m)*S,t[3]=(g*w-d*b-u*m)*S,t[4]=(l*x-a*N-c*M)*S,t[5]=(e*N-n*x+o*M)*S,t[6]=(p*C-f*b-I*y)*S,t[7]=(h*b-g*C+u*y)*S,t[8]=(a*T-s*x+c*A)*S,t[9]=(i*x-e*T-o*A)*S,t[10]=(f*w-v*C+I*_)*S,t[11]=(d*C-h*w-u*_)*S,t[12]=(s*M-a*D-l*A)*S,t[13]=(e*D-i*M+n*A)*S,t[14]=(v*y-f*m-p*_)*S,void(t[15]=(h*m-d*y+g*_)*S)):r},Rd=function(t,e){if(e){var i=e[0],n=e[1],o=e[2];t[12]=t[0]*i+t[4]*n+t[8]*o+t[12],t[13]=t[1]*i+t[5]*n+t[9]*o+t[13],t[14]=t[2]*i+t[6]*n+t[10]*o+t[14],t[15]=t[3]*i+t[7]*n+t[11]*o+t[15]}},Pd=function(t,e){if(e){var i=e[0],n=e[1],o=e[2];t[0]=t[0]*i,t[1]=t[1]*i,t[2]=t[2]*i,t[3]=t[3]*i,t[4]=t[4]*n,t[5]=t[5]*n,t[6]=t[6]*n,t[7]=t[7]*n,t[8]=t[8]*o,t[9]=t[9]*o,t[10]=t[10]*o,t[11]=t[11]*o}},Zd=function(t,e,i){var n=e[0],o=e[1],a=e[2],r=e[3],s=e[4],l=e[5],c=e[6],h=e[7],d=e[8],g=e[9],u=e[10],f=e[11],v=e[12],p=e[13],I=e[14],_=e[15],y=i[0],C=i[1],m=i[2],w=i[3];return t[0]=y*n+C*s+m*d+w*v,t[1]=y*o+C*l+m*g+w*p,t[2]=y*a+C*c+m*u+w*I,t[3]=y*r+C*h+m*f+w*_,y=i[4],C=i[5],m=i[6],w=i[7],t[4]=y*n+C*s+m*d+w*v,t[5]=y*o+C*l+m*g+w*p,t[6]=y*a+C*c+m*u+w*I,t[7]=y*r+C*h+m*f+w*_,y=i[8],C=i[9],m=i[10],w=i[11],t[8]=y*n+C*s+m*d+w*v,t[9]=y*o+C*l+m*g+w*p,t[10]=y*a+C*c+m*u+w*I,t[11]=y*r+C*h+m*f+w*_,y=i[12],C=i[13],m=i[14],w=i[15],t[12]=y*n+C*s+m*d+w*v,t[13]=y*o+C*l+m*g+w*p,t[14]=y*a+C*c+m*u+w*I,t[15]=y*r+C*h+m*f+w*_,t},Ld=function(t,e,i,n){var o,a,r,s,l,c,h,d,g,u,f,v=e[0],p=e[1],I=e[2],_=n[0],y=n[1],C=n[2],m=i[0],w=i[1],b=i[2];return D(v-m)<As&&D(p-w)<As&&D(I-b)<As?((f=t)[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=1,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=1,f[11]=0,f[12]=0,f[13]=0,f[14]=0,f[15]=1,f):(u=1/A((h=v-m)*h+(d=p-w)*d+(g=I-b)*g),(u=A((o=y*(g*=u)-C*(d*=u))*o+(a=C*(h*=u)-_*g)*a+(r=_*d-y*h)*r))?(o*=u=1/u,a*=u,r*=u):(o=0,a=0,r=0),(u=A((s=d*r-g*a)*s+(l=g*o-h*r)*l+(c=h*a-d*o)*c))?(s*=u=1/u,l*=u,c*=u):(s=0,l=0,c=0),t[0]=o,t[1]=s,t[2]=h,t[3]=0,t[4]=a,t[5]=l,t[6]=d,t[7]=0,t[8]=r,t[9]=c,t[10]=g,t[11]=0,t[12]=-(o*v+a*p+r*I),t[13]=-(s*v+l*p+c*I),t[14]=-(h*v+d*p+g*I),t[15]=1,t)},Bd=function(){var t=[0,0,0],e=[0,0,0],i=[0,0,0],n=function(t,e,i){t[0]=e[1]*i[2]-e[2]*i[1],t[1]=e[2]*i[0]-e[0]*i[2],t[2]=e[0]*i[1]-e[1]*i[0]},o=function(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]},a=function(t){var e=Math.sqrt(o(t));t[0]/=e,t[1]/=e,t[2]/=e};return function(r,s,l){var c,h,d,g=Ss();return h=r,d=s,(c=i)[0]=h[0]-d[0],c[1]=h[1]-d[1],c[2]=h[2]-d[2],0===o(i)&&(i[2]=1),a(i),n(t,l,i),0===o(t)&&(1===Math.abs(l[2])?i[0]+=1e-4:i[2]+=1e-4,a(i),n(t,l,i)),a(t),n(e,i,t),g[0]=t[0],g[4]=e[0],g[8]=i[0],g[1]=t[1],g[5]=e[1],g[9]=i[1],g[2]=t[2],g[6]=e[2],g[10]=i[2],g}}(),Od=function(t,e){if(t.vr.enable){var i=t.vr.getViewMatrix(e);if(i)return i}return Ld(e||Ss(),t._eye,t._center,t._up)},Ud=function(t){if(t.vr.enable){var e=t.vr.getProjectMatrix();if(e)return e}var i=t.getAspect(),n=t._near,o=t._far,a=Ss();if(t._ortho){var r=t._orthoWidth/2,s=r/i;!function(t,e,i,n,o,a,r){var s=1/(e-i),l=1/(n-o),c=1/(a-r);t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+i)*s,t[13]=(o+n)*l,t[14]=(r+a)*c,t[15]=1}(a,-r,r,-s,s,n,o)}else!function(t,e,i,n,o){var a=1/R(e/2),r=1/(n-o);t[0]=a/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+n)*r,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*n*r,t[15]=0}(a,t._fovy,i,n,o);return a},Wd=function(t,e){if(!t)return r;var i=[],n=0,o=t.length,a=o/3;if(e){for(;o>n;n++)i[n]=0;for(n=0;n<e.length;n+=3){var s=[],l=[];(h=[])[0]=t[3*e[n+1]+0]-t[3*e[n]+0],h[1]=t[3*e[n+1]+1]-t[3*e[n]+1],h[2]=t[3*e[n+1]+2]-t[3*e[n]+2],s[0]=t[3*e[n+2]+0]-t[3*e[n+1]+0],s[1]=t[3*e[n+2]+1]-t[3*e[n+1]+1],s[2]=t[3*e[n+2]+2]-t[3*e[n+1]+2],l[0]=h[1]*s[2]-h[2]*s[1],l[1]=h[2]*s[0]-h[0]*s[2],l[2]=h[0]*s[1]-h[1]*s[0];for(var c=0;3>c;c++)i[3*e[n+c]+0]+=l[0],i[3*e[n+c]+1]+=l[1],i[3*e[n+c]+2]+=l[2]}}else for(n=0;a>n;n+=3){var h;s=[],l=[];(h=[])[0]=t[3*(n+1)+0]-t[3*n+0],h[1]=t[3*(n+1)+1]-t[3*n+1],h[2]=t[3*(n+1)+2]-t[3*n+2],s[0]=t[3*(n+2)+0]-t[3*(n+1)+0],s[1]=t[3*(n+2)+1]-t[3*(n+1)+1],s[2]=t[3*(n+2)+2]-t[3*(n+1)+2],l[0]=h[1]*s[2]-h[2]*s[1],l[1]=h[2]*s[0]-h[0]*s[2],l[2]=h[0]*s[1]-h[1]*s[0];for(c=0;3>c;c++)i[3*(n+c)+0]=l[0],i[3*(n+c)+1]=l[1],i[3*(n+c)+2]=l[2]}for(n=0;o>n;n+=3){var d=[];d[0]=i[n+0],d[1]=i[n+1],d[2]=i[n+2];var g=A(d[0]*d[0]+d[1]*d[1]+d[2]*d[2]);0===g&&(g=As),d[0]=d[0]/g,d[1]=d[1]/g,d[2]=d[2]/g,i[n+0]=d[0],i[n+1]=d[1],i[n+2]=d[2]}return new xs(i)},Gd=function(t,e,i,n){if(i||(i=t.createTexture()),e){var o=t.TEXTURE_2D,a=t.REPEAT,s=t.CLAMP_TO_EDGE,l=t.TEXTURE_MIN_FILTER;n!==t.NEAREST&&(n=t.LINEAR),Jd(t,i),t.texImage2D(o,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),Xd(t,t.TEXTURE_MAG_FILTER,n);var c=e.naturalWidth||e.width,h=e.naturalHeight||e.height;Td(c)&&Td(h)&&!e.clampToEdge?(Xd(t,t.TEXTURE_WRAP_S,a),Xd(t,t.TEXTURE_WRAP_T,a),Xd(t,l,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(o)):(Xd(t,t.TEXTURE_WRAP_S,s),Xd(t,t.TEXTURE_WRAP_T,s),Xd(t,l,n)),Jd(t,r)}return i},Fd=function(t,e){var i=new Uint8Array(4);return e=e||t.createTexture(),Jd(t,e),Xd(t,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i),e},Qd=function(t){t._26I&&t._prg&&(t._26I.deleteProgram(t._prg),t._prg=r)},Hd=function(t,e,i,n){var o=t.createShader(i);return t.shaderSource(o,n),t.compileShader(o),t.attachShader(e,o),o},Yd=function(t){return t.createBuffer()},Jd=function(t,e){t.bindTexture(t.TEXTURE_2D,e)},Xd=function(t,e,i){t.texParameteri(t.TEXTURE_2D,e,i)},$d=function(t,e){t.enable(t.POLYGON_OFFSET_FILL),t.polygonOffset(e[0],e[1])},Kd=function(t){t.disable(t.POLYGON_OFFSET_FILL)},qd=function(t,e){if(e){e=Ko(e);t.clearColor(e[0],e[1],e[2],e[3])}},tg=function(t,e){fg(t,e.uFix,!0),pg(t,e.aNormal)},eg=function(t,e){fg(t,e.uFix,!1),vg(t,e.aNormal)},ig=function(t,e,i,n,o,a,s,l){t._picking||(i?(fg(t,e.uBlend,!0),fg(t,e.uBlendColor,i)):fg(t,e.uBlend,!1),fg(t,e.uLight,n==r||n),fn(o)&&1!==o&&fg(t,e.uPartOpacity,o),fg(t,e.uReverseFlip,a!=r&&a),fg(t,e.uFixPickReverseColor,s||ka)),l?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE)},ng=function(t,e){t._picking||fg(t,e.uPartOpacity,1)},og=function(){var t=[0,0,1,1];return function(e,i,n,o,a,r,s,l,c){return n?(fg(e,i.uTexture,!0),fg(e,i.uDiscardSelectable,!vn(o)||o),vg(e,i.aUv),hg(e,a,r,i.aUv,2),c?(fg(e,i.uBlendTexture,!0),e.activeTexture(e.TEXTURE1),Jd(e,c),e.uniform1i(i.uBlendSampler,1)):(fg(e,i.uBlendTexture,!1),e.activeTexture(e.TEXTURE1),Jd(e,e._emptyBlendTexture)),e.activeTexture(e.TEXTURE0),Jd(e,n),e.uniform1i(i.uSampler,0),s?(t[0]=s[0],t[1]=s[1]):(t[0]=0,t[1]=0),l?(t[2]=l[0],t[3]=l[1]):(t[2]=1,t[3]=1),void fg(e,i.uOffsetScale,t)):(e.activeTexture(e.TEXTURE0),Jd(e,e._emptyTexture),e.activeTexture(e.TEXTURE1),void Jd(e,e._emptyBlendTexture))}}(),ag=function(t,e,i){t.activeTexture(t.TEXTURE0),Jd(t,r),t.activeTexture(t.TEXTURE1),Jd(t,r),i&&(pg(t,e.aUv),fg(t,e.uTexture,!1),fg(t,e.uBlendTexture,!1))},rg=function(t,e,i,n,o,a){!i||K||tt||t.lineWidth(i),n&&!t._picking&&fg(t,e.uFixPickReverseColor,n),o&&hg(t,o,a,e.aPosition)},sg=function(t,e,i,n){pd&&(n=t[pd]),t.drawArrays(n==r?t.TRIANGLES:n,e,i);var o=t._renderInfo;o&&(o.calls++,o.vertices+=i,(n==r||n===t.TRIANGLES)&&(o.faces+=i/3),n===t.LINES&&(o.lines+=i/2))},lg=function(t,e,i,n){pd&&(n=t[pd]),t.drawElements(n==r?t.TRIANGLES:n,i,t.UNSIGNED_SHORT,e==r?0:2*e);var o=t._renderInfo;o&&(o.calls++,o.vertices+=i,(n==r||n===t.TRIANGLES)&&(o.faces+=i/3),n===t.LINES&&(o.lines+=i/2))},cg=function(t,e,i,n,o){var a=t.ARRAY_BUFFER;t.bindBuffer(a,e),i&&t.bufferData(a,i,t.STATIC_DRAW),n!=r&&t.vertexAttribPointer(n,o||3,t.FLOAT,!1,0,0)},hg=function(t,e,i,n,o){return i?(ug(t,t.ARRAY_BUFFER,e,i),void(n!=r&&t.vertexAttribPointer(n,o||3,t.FLOAT,!1,0,0))):cg(t,e,i,n,o)},dg=function(t,e,i){var n=t.ELEMENT_ARRAY_BUFFER;t.bindBuffer(n,e),i&&t.bufferData(n,i,t.STATIC_DRAW)},gg=function(t,e,i){ug(t,t.ELEMENT_ARRAY_BUFFER,e,i)},ug=function(t,e,i,n){var o=n._bufId;o||(o=n._bufId=s.Math.generateIncreasingID());var a=t._bufPool;(i=a[o])&&i._buf?t.bindBuffer(e,i._buf):(i=a[o]={_buf:Yd(t)},t.bindBuffer(e,i._buf),t.bufferData(e,n,t.STATIC_DRAW)),i._fid=t._renderInfo.frame},fg=function(t,e,i){if(i!=r&&e!=r){var n=(i=Ko(i)).length;3===n?t.uniform3fv(e,i):4===n?t.uniform4fv(e,i):16===n?t.uniformMatrix4fv(e,!1,i):vn(i)?t.uniform1i(e,i?1:0):2===n?t.uniform2fv(e,i):t.uniform1f(e,i)}},vg=function(t,e){e!=r&&e>=0&&t.enableVertexAttribArray(e)},pg=function(t,e){e!=r&&e>=0&&t.disableVertexAttribArray(e)},Ig=function(t,e){var i=t.getGL(),n=t._prg;t._7O=t._8O.pop(),e&&(fg(i,n.uMVMatrix,t._7O),t._6O=e,fg(i,n.uNMatrix,e))},_g=function(t,e){return e||(e=Ss()),h=t,(c=e)[0]=h[0],c[1]=h[1],c[2]=h[2],c[3]=h[3],c[4]=h[4],c[5]=h[5],c[6]=h[6],c[7]=h[7],c[8]=h[8],c[9]=h[9],c[10]=h[10],c[11]=h[11],c[12]=h[12],c[13]=h[13],c[14]=h[14],c[15]=h[15],jd(e),n=(i=e)[1],o=i[2],a=i[3],r=i[6],s=i[7],l=i[11],i[1]=i[4],i[2]=i[8],i[3]=i[12],i[4]=n,i[6]=i[9],i[7]=i[13],i[8]=o,i[9]=r,i[11]=i[14],i[12]=a,i[13]=s,i[14]=l,e;var i,n,o,a,r,s,l,c,h},yg=function(t,e){var i=t.getGL(),n=t._prg,o=t._7O;e&&(t._8O.push(ks(o)),fg(i,n.uMMatrix,e),Zd(o,o,e),t._7O=o),fg(i,n.uMVMatrix,o),fg(i,n.uNMatrix,_g(o,t._6O))},Cg=function(t,e,i,n,o,a){if(i){if(n){var r=i.value++,s=2147483648|r,l=[(255&s>>16)/255,(255&s>>8)/255,(255&s)/255,(255&s>>24)/255];i[r]={data:o,part:a}}else l=_d;return fg(t,e.uFixPickReverseColor,l),l}},mg=function(){var t={center:function(t,e,i,n,o){var a=-e[1]/2,r={x:-e[0]/2,y:a,width:e[0],height:e[1]},s=za(t,r,i);return[s.x+n,-s.y-o,Sd()]},front:function(t,e,i,n,o){var a=-e[1]/2,r={x:-e[0]/2,y:a,width:e[0],height:e[1]},s=za(t,r,i);return[s.x+n,-s.y-o,e[2]/2+Sd()]},back:function(t,e,i,n,o){var a={x:-e[0]/2,y:-e[1]/2,width:e[0],height:e[1]},r=za(t,a,i);return[-r.x-n,-r.y-o,-e[2]/2-Sd()]},left:function(t,e,i,n,o){var a=-e[1]/2,r={x:-e[2]/2,y:a,width:e[2],height:e[1]},s=za(t,r,i);return[-e[0]/2-Sd(),-s.y-o,s.x+n]},right:function(t,e,i,n,o){var a={x:-e[2]/2,y:-e[1]/2,width:e[2],height:e[1]},r=za(t,a,i);return[e[0]/2+Sd(),-r.y-o,-r.x-n]},top:function(t,e,i,n,o){var a={x:-e[0]/2,y:-e[2]/2,width:e[0],height:e[2]},r=za(t,a,i);return[r.x+n,e[1]/2+Sd(),r.y+o]},bottom:function(t,e,i,n,o){var a=-e[2]/2,r={x:-e[0]/2,y:a,width:e[0],height:e[2]},s=za(t,r,i);return[s.x+n,-e[1]/2-Sd(),-s.y-o]}};return function(e,i,n,o,a,r){return t[o](e,i,n,a||0,r||0)}}(),wg=function(t,e,i,n,o,a,r,s,l,c){if(o&&(e[0]+=o[0],e[1]+=o[1],e[2]+=o[2]),Rd(t,i),s){var h=Ss();if(oh(h,l,c),Es(e,h),Rd(t,e),t.auto=s,t.pos=Es([0,0,0],t),a){var d=t.mat2=Ss();oh(d,a,r)}}else oh(t,l,c),Rd(t,e),n===ct?Ps(t,-j):n===ht?Ps(t,j):n===dt?Rs(t,-j):n===gt?Rs(t,j):n===lt&&Ps(t,E),oh(t,a,r);return t},bg=function(t,e){var i=e.auto,n=e.mat2,o=t.gv;if(i){var a,r=Ss(),s=[0,0,0,0];a="string"==typeof i?[i.indexOf("x")<0?o._eye[0]:o._center[0],i.indexOf("y")<0?o._eye[1]:o._center[1],i.indexOf("z")<0?o._eye[2]:o._center[2]]:o._eye,function(t,e){var i=e[0]+e[5]+e[10],n=0;i>0?(n=2*Math.sqrt(i+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n)}(s,Ld(Ss(),a,o._center,o._up)),function(t,e,i){var n=e[0],o=e[1],a=e[2],r=e[3],s=n+n,l=o+o,c=a+a,h=n*s,d=n*l,g=n*c,u=o*l,f=o*c,v=a*c,p=r*s,I=r*l,_=r*c;t[0]=1-(u+v),t[1]=d+_,t[2]=g-I,t[3]=0,t[4]=d-_,t[5]=1-(h+v),t[6]=f+p,t[7]=0,t[8]=g+I,t[9]=f-p,t[10]=1-(h+u),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1}(r,function(t,e){var i=e[0],n=e[1],o=e[2],a=e[3],r=i*i+n*n+o*o+a*a,s=r?1/r:0;return t[0]=-i*s,t[1]=-n*s,t[2]=-o*s,t[3]=a*s,t}(s,s),e.pos),n&&Zd(r,r,n),yg(o,r)}else yg(o,e)},Ag=function(t,e,i,n,o){var a=t.s,r=t.gv,s=r.getGL(),l=r._prg,c=r._buffer,h=r._1O;Gd(s,Yo,h),bg(t,i),ig(s,l,a(e+".blend"),a(e+".light"),a(e+".opacity"),a(e+".reverse.flip"),a(e+".reverse.color"),a(e+".reverse.cull")),og(s,l,h,o,c.uv,lu),hg(s,c.vs,n,l.aPosition),hg(s,c.ns,cu,l.aNormal),gg(s,c.is,hu),lg(s,0,hu.length),ag(s,l,h),ng(s,l),Ig(r)},Mg=function(t,e,i){var n=t.gv,o=t.data,a=t[e]={blend:n.getBodyColor(o)||n.getFaceBlend(o,e),light:n.getFaceLight(o,e),color:n.getFaceColor(o,e),opacity:n.getFaceOpacity(o,e),transparent:n.getFaceTransparent(o,e),reverseFlip:n.getFaceReverseFlip(o,e),reverseColor:n.getFaceReverseColor(o,e),reverseCull:n.getFaceReverseCull(o,e),texture:n.getFaceImage(o,e),blendTexture:n.getFaceBlendImage(o,e),discardSelectable:n.getFaceDiscardSelectable(o,e)};if("csg"!==e){a.uv=n.getFaceUv(o,e)||i&&i[e+"Uv"],a.uvScale=n.getFaceUvScale(o,e)||i&&i[e+"UvScale"],a.uvOffset=n.getFaceUvOffset(o,e)||i&&i[e+"UvOffset"];var r=n.getFaceMat(o,e);r&&(a.mat=Ls(o,r))}return a},xg=function(t,e,i,n,o){if(n){if(!o(n.transparent))return;var a=t.data,r=t.gv,s=r._buffer,l=r.getTexture(n.texture,a),c=r.getTexture(n.blendTexture,a);og(e,i,l,n.discardSelectable,s.uv,n.tuv,n.uvOffset,n.uvScale,c),ig(e,i,n.blend,n.light,n.opacity,n.reverseFlip,n.reverseColor,n.reverseCull),fg(e,i.uDiffuse,n.color||h["color.empty"]),hg(e,s.vs,n.vs,i.aPosition),hg(e,s.ns,n.ns,i.aNormal),sg(e,0,n.vs.length/3),ng(e,i),ag(e,i,l)}},Dg=function(t,e,i,n,o,a){var r,s,l,c,h,d,g,u,f,v,p=[n-e,o-i],I=t?t.length:0;for(s=0;I>s;s++){for(l=2,c=(r=t[s])[0],h=r[1];l+1<r.length;){if(d=r[l],g=r[l+1],Ln(e,i,n,o,c,h,d,g,!0)){f=os(u=[d-c,g-h]),u[0]/=f,u[1]/=f,f=(f=Ns(p,u))>0?a:-a,v=[u[0]*f,u[1]*f];break}c=d,h=g,l+=2}if(v)break}if(v)for(n=e+v[0],o=i+v[1],s=0;I>s;s++)for(l=2,c=(r=t[s])[0],h=r[1];l+1<r.length;){if(d=r[l],g=r[l+1],Ln(e,i,n,o,c,h,d,g,!0))return[0,0];c=d,h=g,l+=2}return v||[n-e,o-i]},Tg=s.graph3d={},Ng=function(t,e,i){ms("ht.graph3d."+t,e,i)},Sg="~<yfusfw!+!yjsubNQv!>!opjujtpQ`mh\v!gjeof$!\v~<fdobutjEfojMb!>!fdobutjEfojMw|*itbEv)gj\v!ITBE!gfegj$!\v\v!gjeof$!\v~<ttfouihjsCidubCb!>!ttfouihjsCidubCw|*ttfouihjsCidubCv)gj\v!TTFOUIHJSCIDUBC!gfegj$!\v\v!gjeof$!\v~<eofmCidubCb!>!eofmCidubCw|*eofmCidubCv)gj\v!EOFMCIDUBC!gfegj$!\v\v!gjeof$!\v~<spmpDidubCb!>!spmpDidubCw|*spmpDidubCv)gj\v!SPMPDIDUBC!gfegj$!\v~<wVb!>!wVs|*fsvuyfUeofmCv)gj\v~<x{/fmbdTuftggPv!+!wVb!,!zy/fmbdTuftggPv!>!wVw|*fsvuyfUv)gj~<**1/2!-opjujtpQb)5dfw!+!yjsubNNv)4dfw!>!emspXw<*yfusfw)4dfw!>!yfusfWw<**1/2!-mbnspOb)5dfw!+!yjsubNOv)4dfw!>!mbnspOw|*ldjQva!%%!yjGva)gj<*1/2!-opjujtpQb)5dfw!+!yjsubNWNv!>!yfusfw!5dfw|!*ejpw)ojbn!ejpw\v!gjeof$!\v<fdobutjEfojMw!ubpmg!hojzsbw<fdobutjEfojMb!ubpmg!fuvcjsuub<itbEv!mppc!nspgjov\v!ITBE!gfegj$!\v\v!gjeof$!\v<^UPQT`YBN]opjudfsjEupqTv!4dfw!nspgjov<^UPQT`YBN]opjujtpQupqTv!4dfw!nspgjov<^UPQT`YBN]spmpDupqTv!5dfw!nspgjov\v!1!?!UPQT`YBN!gj$!\v\v!gjeof$!\v<^UOJPQ`YBN]opjujtpQuojpQv!4dfw!nspgjov<^UOJPQ`YBN]spmpDuojpQv!5dfw!nspgjov\v!1!?!UOJPQ`YBN!gj$!\v\v!gjeof$!\v<^SJE`YBN]opjudfsjEsjEv!4dfw!nspgjov<^SJE`YBN]spmpDsjEv!5dfw!nspgjov\v!1!?!SJE`YBN!gj$!\v\v!gjeof$!\v<eofmCidubCw!4dfw!hojzsbw<eofmCidubCb!4dfw!fuvcjsuub<eofmCidubCv!mppc!nspgjov\v!EOFMCIDUBC!gfegj$!\v\v!gjeof$!\v<ttfouihjsCidubCw!ubpmg!hojzsbw<ttfouihjsCidubCb!ubpmg!fuvcjsuub<ttfouihjsCidubCv!mppc!nspgjov\v!TTFOUIHJSCIDUBC!gfegj$!\v\v!gjeof$!\v<spmpDidubCw!5dfw!hojzsbw<spmpDidubCb!5dfw!fuvcjsuub<spmpDidubCv!mppc!nspgjov\v!SPMPDIDUBC!gfegj$!\v<emspXw!4dfw!hojzsbw<yfusfWw!4dfw!hojzsbw<mbnspOw!4dfw!hojzsbw<yjGv!mppc!nspgjov<ldjQv!mppc!nspgjov<yjsubNxfjWv!5ubn!nspgjov<yjsubNOv!5ubn!nspgjov<yjsubNQv!5ubn!nspgjov<yjsubNNv!5ubn!nspgjov<yjsubNWNv!5ubn!nspgjov<opjujtpQb!4dfw!fuvcjsuub<mbnspOb!4dfw!fuvcjsuub<wVs!3dfw!hojzsbw<wVw!3dfw!hojzsbw<wVb!3dfw!fuvcjsuub<fmbdTuftggPv!5dfw!nspgjov<fsvuyfUeofmCv!mppc!nspgjov<fsvuyfUv!mppc!nspgjov!YJGFSQ^#CBRBEJxTT87hJFI,,bX1XrIwcn3UM{ZeZ,M6HEN6nLxe2Z72s2:3johr6foKrpqwxNKYkdbJ2CN[mBbf[wXU,T0oGuSEd190ohLZkEn8IuCe[OHoWeKz:Sf,VS7xdSLw23W1YJLU:jdv2{hiDbhDzNNEh9tp3xsuEp94Sl4c3wRzqwShMDRhCLRjCDEBOH5BBVRBCFRE4cJTHrTDH1BNgHJN",zg="~~<eJ!>!spmpDhbsG`mh\v~<spmpDsfmqnbTwv!>+!eJ<*wVs!-sfmqnbTeofmCv)E3fsvuyfu!>!spmpDsfmqnbTwv!5dfw|!*fsvuyfUeofmCv)!gj!\v\v!gjeof$!\v~<ttfouihjsCidubCw!>+!chs/eJ!!!|*ttfouihjsCidubCv)gj\v!TTFOUIHJSCIDUBC!gfegj$!\v~<ttfouihjsCv!>+!chs/eJ!!!|*1/2!>a!ttfouihjsCv)gj~~<zujdbqPusbQv!>+!b/eJ!!!|*1/2!>a!zujdbqPusbQv)gj~\v!gjeof$!\v~<zujwjudfmgfSv!+!{zy/spmpDwof!>,!chs/eJ<*!spmpDwof!)sbfojMpUmfyfUqbNwof!>!spmpDwof<*!*!{z/dfWudfmgfs!-y/dfWudfmgfs)4dfw!-qbNwoFv!)fcvDfsvuyfu!>!spmpDwof!5dfw<*!mbnspOemspx!-yfusfWpUbsfnbd!)udfmgfs!>!dfWudfmgfs!4dfw<*!yjsubNxfjWv!-O!)opjudfsjEnspgtobsUftsfwoj!>!mbnspOemspx!4dfw<*!opjujtpQbsfnbDv!.!emspXw!)f{jmbnspo!>!yfusfWpUbsfnbd!4dfw|*qbNwoFftVv)!gj\v!QBNWOF`FTV!gfegj$!\v\v!gjeof$!\v<*spudbGhpg!-*x/eJ!-chs/spmpDhpGv)5dfw!-eJ)yjn!>!eJ<*iuqfe!-sbGhpGv!-sbfOhpGv)qfutiuppnt!>!spudbGhpg!ubpmg<x/esppDhbsG`mh0{/esppDhbsG`mh!>!iuqfe!ubpmg\v!HPG!gfegj$!\v\v!gjeof$!\v~~~~<chs/^j]spmpDupqTv!+!udfggFupqt!+!fhobSm!+!*1/1!-*mbnspOm.!-O)upe)ybn!>,!chs/eJ<*1/1!-*^j]uofopqyFupqTv!-udfggFupqt)xpq)ybn!>!udfggFupqt|*^j]fmhoBupqTv!?!udfggFupqt)gj<*mbnspOm!-^j]opjudfsjEupqTv)upe!>!udfggFupqt!ubpmg<*spudfWm)f{jmbnspo!>!mbnspOm!4dfw|*1/1!?!fhobSm)!gj~<*1/2!-*^j]fhobSupqTv!0!*spudfWm)iuhofm))ojn!.!1/2!>!fhobSm|*1/1!?!^j]fhobSupqTv)!gj<1/2!>!fhobSm!ubpmg<^j]opjujtpQupqTv!.!yfusfWw!>!spudfWm!4dfw|*1/1!>>!x/^j]spmpDupqTv)gj|!*,,j!<UPQT`YBN!=!j!<1>j!uoj)spg\v!1!?!UPQT`YBN!gj$!\v\v!gjeof$!\v~~~<chs/^j]spmpDuojpQv!+!fhobSm!+!*1/1!-**spudfWm)f{jmbnspo.!-O)upe)ybn!>,!chs/eJ|*1/1!?!fhobSm)!gj~<*1/2!-*^j]fhobSuojpQv!0!*spudfWm)iuhofm))ojn!.!1/2!>!fhobSm|*1/1!?!^j]fhobSuojpQv)!gj<1/2!>!fhobSm!ubpmg<^j]opjujtpQuojpQv!.!yfusfWw!>!spudfWm!4dfw|*1/1!>>!x/^j]spmpDuojpQv)gj|!*,,j!<UOJPQ`YBN!=!j!<1>j!uoj)spg\v!1!?!UOJPQ`YBN!gj$!\v\v!gjeof$!\v~~<chs/^j]spmpDsjEv!+!*1/1!-**^j]opjudfsjEsjEv)f{jmbnspo.!-O)upe)ybn!>,!chs/eJ|*1/1!>>!x/^j]spmpDsjEv)gj|!*,,j!<SJE`YBN!=!j!<1>j!uoj)spg\v!1!?!SJE`YBN!gj$!\v~<chs/spmpDuihjmebfIv!+!nsfUusfcnbm!>+!chs/eJ~<*1/2!-fhobSuihjmebfIv0*yfusfWw)iuhofm)ojn!.!1/2!!>+!nsfUusfcnbm|*1/1!?!fhobSuihjmebfIv)gj<*1/1!-6/1!,!6/1!+!*M.!-O)upe)ybn!>!nsfUusfcnbm!ubpmg|*1/1!>>!x/spmpDuihjmebfIv)gj|*uihjMv)gj~\v!gjeof$!\v~<spmpDeofmCv!>+!eJ|*eofmCv)gj\v!ftmf$!\v~<spmpDeofmCv!>+!eJ|*eofmCv)gj!ftmf~<eofmCidubCw!>+!chs/eJ|*eofmCidubCv)gj\v!EOFMCIDUBC!gfegj$!\v~\v~<esbdtje|*1/1!>>!x/eJ)gj\v!gjeof$!\v<ftvggjEv!>!eJ\v!ftmf$!\v~<ftvggjEv!>!eJ|ftmf~<spmpDidubCw!>!eJ|*spmpDidubCv)gj\v!SPMPDIDUBC!gfegj$!\v|ftmf~<spmpDwv!>!eJ|*fsvuyfUv)gj|!ftmf~<spmpDftsfwfSldjQyjGv!>!eJ|*qjmGftsfwfSva!%%!ldbCtj)gj~<fvsu!>!ldbCtj<O.!>!O|*1/1!=!*O!-F)upe)gj<ftmbg!>!ldbCtj!mppc<F.!>!M!4dfw<*yfusfWw.)f{jmbnspo!>!F!4dfw<*mbnspOw)f{jmbnspo!>!O!4dfw|!ftmf~\v!gjeof$!\v~~<ftvggjEv!>!eJ|ftmf~<esbdtje|*1/1!>>!x/ftvggjEv)gj|!*!fdobutjEitbEv!?!*!fdobutjEqbHitbEv!-fdobutjEfojMw!)epn!%%!itbEv)!gj\v!ITBE!gfegj$!\v\v!gjeof$!\v<spmpDftsfwfSldjQyjGv!>!eJ\v!ftmf$!\v~<spmpDftsfwfSldjQyjGv!>!eJ|ftmf~<spmpDidubCw!>!eJ|*spmpDidubCv)gj\v!SPMPDIDUBC!gfegj$!\v|*yjGv)gj<eJ!5dfw|ftmf~~!<esbdtje!|!*1/1!>>!b/spmpDhbsG`mh)!gj\v!gjeof$!\v<spmpDftsfwfSldjQyjGv!>!spmpDhbsG`mh\v!ftmf$!\v~<spmpDftsfwfSldjQyjGv!>!spmpDhbsG`mh|ftmf~<spmpDidubCw!>!spmpDhbsG`mh|*spmpDidubCv)gj\v!SPMPDIDUBC!gfegj$!\v|*ldjQv)gj~~~!<esbdtje!|!*utfUbiqmBv!>=!b/spmpDwv)!gj!!!!|!ftmf~~!<esbdtje!|!*1/1!>>!b/spmpDwv)!gj!!!!|!*uofsbqtobsUv)!gj<*wVw!-sfmqnbTv)E3fsvuyfu!>!spmpDwv|**fmcbudfmfTesbdtjEv!%%!ldjQv)a!%%!fsvuyfUv)gj<spmpDwv!5dfw|!*ejpw)ojbn!ejpw~<*!{zy/*!yjsubn!+!*!1/1!-sje!)5dfw!)!)f{jmbnspo!osvufs|!*!yjsubn!5ubn!oj!-sje!4dfw!oj!)opjudfsjEnspgtobsUftsfwoj!4dfw~!<*!*!SPUDBG`BNNBH!)ubpmg!-fvmbw!)sbfojMpUbnnbH!osvufs!|!*!fvmbw!5dfw!)sbfojMpUmfyfUqbNwof!5dfw~<*!x/fvmbw!-*!*!spudbGbnnbh!)4dfw!-{zy/fvmbw!)xpq!)5dfw!osvufs|!*!spudbGbnnbh!ubpmg!oj!-fvmbw!5dfw!oj!)sbfojMpUbnnbH!5dfw<1/3!>!SPUDBG`BNNBH!ubpmg!utopd\v!gjeof$!\v<fdobutjEfojMw!ubpmg!hojzsbw<fdobutjEqbHitbEv!ubpmg!nspgjov<fdobutjEitbEv!ubpmg!nspgjov<itbEv!mppc!nspgjov\v!ITBE!gfegj$!\v\v!gjeof$!\v<sbGhpGv!ubpmg!nspgjov<sbfOhpGv!ubpmg!nspgjov<spmpDhpGv!5dfw!nspgjov\v!HPG!gfegj$!\v\v!gjeof$!\v<^UPQT`YBN]opjudfsjEupqTv!4dfw!nspgjov<^UPQT`YBN]opjujtpQupqTv!4dfw!nspgjov<^UPQT`YBN]fhobSupqTv!ubpmg!nspgjov<^UPQT`YBN]fmhoBupqTv!ubpmg!nspgjov<^UPQT`YBN]uofopqyFupqTv!ubpmg!nspgjov<^UPQT`YBN]spmpDupqTv!5dfw!nspgjov\v!1!?!UPQT`YBN!gj$!\v\v!gjeof$!\v<^UOJPQ`YBN]opjujtpQuojpQv!4dfw!nspgjov<^UOJPQ`YBN]fhobSuojpQv!ubpmg!nspgjov<^UOJPQ`YBN]spmpDuojpQv!5dfw!nspgjov\v!1!?!UOJPQ`YBN!gj$!\v\v!gjeof$!\v<^SJE`YBN]opjudfsjEsjEv!4dfw!nspgjov<^SJE`YBN]spmpDsjEv!5dfw!nspgjov\v!1!?!SJE`YBN!gj$!\v\v!gjeof$!\v<eofmCidubCw!4dfw!hojzsbw<eofmCidubCv!mppc!nspgjov\v!EOFMCIDUBC!gfegj$!\v\v!gjeof$!\v<ttfouihjsCidubCw!ubpmg!hojzsbw<ttfouihjsCidubCv!mppc!nspgjov\v!TTFOUIHJSCIDUBC!gfegj$!\v\v!gjeof$!\v<spmpDidubCw!5dfw!hojzsbw<spmpDidubCv!mppc!nspgjov\v!SPMPDIDUBC!gfegj$!\v<spmpDuihjmebfIv!5dfw!nspgjov<fhobSuihjmebfIv!ubpmg!nspgjov<emspXw!4dfw!hojzsbw<opjujtpQbsfnbDv!4dfw!nspgjov<yjsubNxfjWv!5ubn!nspgjov\v!gjeof$!\v<zujwjudfmgfSv!ubpmg!nspgjov<qbNwoFv!fcvDsfmqnbt!nspgjov<qbNwoFftVv!mppc!nspgjov\v!QBNWOF`FTV!gfegj$!\v<yfusfWw!4dfw!hojzsbw<mbnspOw!4dfw!hojzsbw<ftvggjEv!5dfw!nspgjov<zujdbqPusbQv!ubpmg!nspgjov<ttfouihjsCv!ubpmg!nspgjov<uihjMv!mppc!nspgjov<spmpDeofmCv!5dfw!nspgjov<eofmCv!mppc!nspgjov<wVs!3dfw!hojzsbw<sfmqnbTeofmCv!E3sfmqnbt!nspgjov<sfmqnbTv!E3sfmqnbt!nspgjov<wVw!3dfw!hojzsbw<fsvuyfUeofmCv!mppc!nspgjov<fsvuyfUv!mppc!nspgjov<uofsbqtobsUv!mppc!nspgjov<utfUbiqmBv!ubpmg!nspgjov<spmpDftsfwfSldjQyjGv!5dfw!nspgjov<qjmGftsfwfSv!mppc!nspgjov<ldjQv!mppc!nspgjov<yjGv!mppc!nspgjov<fmcbudfmfTesbdtjEv!mppc!nspgjov!YJGFSQ\v!gjeof$!\v\v!gjeof$!\v\v!<ubpmg!qnvjefn!opjtjdfsq!\v\v!ftmf$!\v\v!<ubpmg!qihji!opjtjdfsq!\v\v!IHJI`OPJTJDFSQ`UOFNHBSG`MH!gfegj$!\v\v!TF`MH!gfegj$!\v";Tn(c,{setBatchInfo:function(t,e){ki[t]=e},getBatchInfo:function(t){return ki[t]}},!0);var kg=[1,1,1],Eg=[1,0,0,0,0,1,0,1,1,1,1,0],Vg=[-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5],jg=[.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5],Rg=[.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5],Pg=[.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5],Zg=[.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5],Lg=[-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5],Bg=function(t,e){Og(t,e,"_batchModelMap","_batchIndexMap"),Ug(t,e,"_wireframeModelMap","_wireframeIndexMap"),Ug(t,e,"_polylineModelMap","_polylineIndexMap"),Ug(t,e,"_wireframeModelMapSwap","_wireframeIndexMapSwap"),Ug(t,e,"_polylineModelMapSwap","_polylineIndexMapSwap")},Og=function(t,e,i,n){if(!e)return t[i]={},void(t[n]={});var o=e._id,a=t[n],r=a[o];if(r){var s=t[i],l=r.batch,c=s[l],h=c.ds,d=r.index;if(c.invalidate=!0,delete a[o],h.splice(d,1),En(h))return void delete s[l];for(var g=r.begin,u=r.size,f=3*g,v=3*u,p=4*g,I=4*u,_=c.vs,y=c.ps,C=c.uv,m=c.cs,w=c.bs,b=c.rs,A=c.ns,M=c.ls;d<h.length;d++)(r=a[h[d]._id]).index--,r.begin-=u;_.splice(f,v),y.splice(p,I),C&&C.splice(2*g,2*u),m&&m.splice(p,I),w&&w.splice(f,v),b&&b.splice(g,u),A&&A.splice(f,v),M&&M.splice(g,u)}},Ug=Og,Wg=function(t,e){return e!=r&&1!==e?[t[0]*e,t[1]*e,t[2]*e,t[3]]:t},Gg=function(t,e,i){var n=t.getBrightness(e),o=Ko(i.color||"white"),a=o[3]<1,r=Math.ceil(i.width)||1,s=(a?"T":"O")+r,l=t._wireframeIndexMap,c=t._wireframeModelMap,h=c[s];h||(h=c[s]={vs:[],cs:[],ps:[],ds:[],T:a,W:r});var d,g=t.getData3dUI(e),u=ju(g);if(i.geometry){if(!u)return;if(!(d=function(t){var e,i=t._lineModel;if(i)return i;var n,o,a,r,s,l,c,h,d,g,u,f=["","top","bottom"];for(i=[],n=0,o=(e=_n(t)?t:[t]).length;o>n;n++)for(h=e[n],a=0,r=f.length;r>a;a++)if(l=h[f[a]+"vs"]){s=(c=h[f[a]+"is"])?c.length:l.length/3;for(var v=0;s>v;v+=3)c?(d=c[v],g=c[v+1],u=c[v+2]):(d=v,g=v+1,u=v+2),d*=3,g*=3,u*=3,i.push(l[d],l[d+1],l[d+2],l[g],l[g+1],l[g+2],l[g],l[g+1],l[g+2],l[u],l[u+1],l[u+2],l[u],l[u+1],l[u+2],l[d],l[d+1],l[d+2])}return t._lineModel=i,i}(u)))return}else d=i.short?Iu:pu;h.invalidate=!0;var f=h.vs,v=h.cs,p=h.ds,I=l[e._id]={index:p.length,begin:f.length/3,batch:s};p.push(e);var _=Ls(e,i.mat),y=g._calcAnchorMat(e);y&&Zd(_,_,y),Md(f,_,d);var C=I.size=f.length/3-I.begin;Ad(v,Wg(o,n),C)},Fg=function(t,e,i){if(e)for(var n=4*e.begin,o=i[e.batch].ps,a=0;a<e.size;a++)o[n++]=t[0],o[n++]=t[1],o[n++]=t[2],o[n++]=t[3]},Qg=function(t,e){var i=e+["32"],n=t[e],o=t[i];n?o&&o.length===n.length?(o.set(n),o._bufId=null):t[i]=new xs(n):delete t[i]},Hg=function(t,e,i,n,o,a,r,s,l){if(_n(i))i.forEach(function(i){Hg(t,e,i,n,o,a,r,s,l)});else if(un(i))Hg(t,e,ju(n,i),n,o,a,r,s,l);else if(pn(i)){var c,h=sl(i.mat,e,t),d=sl(i.s3,e,t),g=sl(i.t3,e,t),u=sl(i.r3,e,t);if((d||u||g||h)&&(c=Bs(h,d,u,sl(i.rotationMode,e,t),g),a.push(c)),i.shape3d)Hg(t,e,i.shape3d,n,o,a,r,s,i);else{var f=n.s;l=l||Gi;var v=a[0],p=a.length,I=f("shape3d.color",i.color,l.color);if(o||(o=f("shape3d.blend",i.blend,l.blend)),p>1){v=ks(v);for(var _=1;p>_;_++)Zd(v,v,a[_])}i.vs&&f(Pe,i.visible,l.visible)&&Yg(v,r,s,i.vs,i.uv,i.is,o,I),i.top_vs&&f(Be,i.topVisible,l.topVisible)&&Yg(v,r,s,i.top_vs,i.top_uv,i.top_is,o,f("shape3d.top.color",i.topColor,l.topColor)||I),i.bottom_vs&&f(Oe,i.bottomVisible,l.bottomVisible)&&Yg(v,r,s,i.bottom_vs,i.bottom_uv,i.bottom_is,o,f("shape3d.bottom.color",i.bottomColor,l.bottomColor)||I),i.from_vs&&f(Ze,i.fromVisible,l.fromVisible)&&Yg(v,r,s,i.from_vs,i.from_uv,i.from_is,o,f("shape3d.from.color",i.fromColor,l.fromColor)||I),i.to_vs&&f(Le,i.toVisible,l.toVisible)&&Yg(v,r,s,i.to_vs,i.to_uv,i.to_is,o,f("shape3d.to.color",i.toColor,l.toColor)||I)}c&&a.pop()}},Yg=function(t,e,i,n,o,a,r,s){var l,c=e.cs,h=e.uv,d=e.bs;if(a){l=a.length;for(var g=0;l>g;g++){var u=a[g];Md(i,t,[n[3*u],n[3*u+1],n[3*u+2]]),h&&xn(h,[o[2*u],o[2*u+1]])}}else l=n.length/3,Md(i,t,n),h&&xn(h,o);c&&Ad(c,s,l),d&&(r?bd(d,r,l):xn(d,kg,l))},Jg=function(t,e,i,n){var o=[];n?Hg(t.gv,t.data,n,t,t.getBodyColor(),[e],i,o):(Xg(t,ct,e,i,o),Xg(t,ht,e,i,o),Xg(t,st,e,i,o),Xg(t,lt,e,i,o),Xg(t,dt,e,i,o),Xg(t,gt,e,i,o),Xg(t,"csg",e,i,o)),o.length&&(xn(i.vs,o),xn(i.ns,Wd(o)))},Xg=function(t,e,i,n,o){var a=t[e];if(a){var s=a.tuv;if(s){var l,c,h,d,g=a.uvScale,u=a.uvOffset;if(g)for(l=s.length,c=g[0],h=g[1],d=0;l>d;d+=2)s[d]*=c,s[d+1]*=h;if(u)for(l=s.length,c=u[0],h=u[1],d=0;l>d;d+=2)s[d]+=c,s[d+1]+=h}Yg(i,n,o,a.vs,s,r,a.blend,a.color)}},$g=function(t,e,i,n,o,a,r,s){var l,c=i.cs,h=i.uv,d=i.bs;if(t.getFaceVisible(e,a)){var g=t.getFaceMat(e,a);if(g&&(o=Ls(e,g)),Md(r,o,s),c&&Ad(c,t.getFaceColor(e,a),6),h){var u=t.getFaceUv(e,a)||n[a+"Uv"],f=t.getFaceUvScale(e,a)||n[a+"UvScale"],v=t.getFaceUvOffset(e,a)||n[a+"UvOffset"],p=(u=u?[u[6],u[7],u[0],u[1],u[2],u[3],u[2],u[3],u[4],u[5],u[6],u[7]]:Eg)[0],I=u[1],_=u[2],y=u[3],C=u[4],m=u[5],w=u[6],b=u[7],A=u[8],M=u[9],x=u[10],D=u[11];if(f){var T=f[0],N=f[1];p*=T,I*=N,_*=T,y*=N,C*=T,m*=N,w*=T,b*=N,A*=T,M*=N,x*=T,D*=N}if(v){var S=v[0],z=v[1];p+=S,I+=z,_+=S,y+=z,C+=S,m+=z,w+=S,b+=z,A+=S,M+=z,x+=S,D+=z}h.push(p,I,_,y,C,m,w,b,A,M,x,D)}d&&((l=t.getBodyColor(e)||t.getFaceBlend(e,a))?bd(d,l,6):xn(d,kg,6))}},Kg=function(t,e,i,n){var o=t.getGL(),a=t._prg,s=t._buffer;if(!t.drawFilter&&!kn(e)){for(var l in yg(t),tg(o,a),e){var c=e[l];if(!(n&&!c.T||!n&&c.T)){c.invalidate?(c.invalidate=!1,Qg(c,"vs"),Qg(c,"cs"),Qg(c,"ls"),Qg(c,"ps")):i&&Qg(c,"ps");var d=c.vs32,g=i?c.ps32:c.cs32;rg(o,a,c.W,r,s.vs,d);var u=c.D,f=!t._dashDisabled&&u;fg(o,a.uAlphaTest,h.alphaTest),f&&(fg(o,a.uDash,!0),fg(o,a.uDashDistance,u),fg(o,a.uDashGapDistance,c.G),vg(o,a.aLineDistance),hg(o,s.lineDistance,c.ls32,a.aLineDistance,1),fg(o,a.uDiffuse,c.A||h["color.empty"]));var v=!t._batchColorDisabled;v&&(fg(o,a.uBatchColor,!0),vg(o,a.aBatchColor),hg(o,s.batchColor,g,a.aBatchColor,4)),og(o),sg(o,0,d.length/3,o.LINES),ag(o),v&&(fg(o,a.uBatchColor,!1),pg(o,a.aBatchColor)),f&&(fg(o,a.uDash,!1),pg(o,a.aLineDistance))}}eg(o,a)}},qg=function(t,e,i){var o,a,s,l,c,d,g,u,f,v,p=t.getGL(),I=t._prg,_=t._buffer,y=t._batchModelMap;if(!kn(y))for(o in yg(t),y)if(a=ki[o]||Gi,!(i&&!a.transparent||!i&&a.transparent)&&(s=y[o],e||!a.transparentMask)){var C=i&&!1!==a.autoSort&&(t._33Q||s.invalidate);if(s.invalidate?(s.invalidate=!1,Qg(s,"vs"),Qg(s,"ns"),Qg(s,"cs"),Qg(s,"rs"),Qg(s,"ps"),Qg(s,"bs"),Qg(s,"uv")):e&&Qg(s,"ps"),l=s.vs32,c=e?s.ps32:s.cs32,u=s.uv32,d=s.bs32,g=s.rs32,v=l.length/3,C&&(s.is=tu(l,t.getEye())),v){a.light,f=t.getTexture(a.image),ig(p,I,r,a.light,a.opacity,a.reverseFlip,a.reverseColor,a.reverseCull),c?t._batchColorDisabled||(fg(p,I.uBatchColor,!0),vg(p,I.aBatchColor),hg(p,_.batchColor,c,I.aBatchColor,4)):fg(p,I.uDiffuse,a.color||h["color.empty"]);var m=a.alphaTest;fg(p,I.uAlphaTest,m===n?h.alphaTest:m);var w=d&&!t._batchBlendDisabled;w&&(fg(p,I.uBatchBlend,!0),vg(p,I.aBatchBlend),hg(p,_.batchBlend,d,I.aBatchBlend));var b=g&&!t._batchBrightnessDisabled;b&&(fg(p,I.uBatchBrightness,!0),vg(p,I.aBatchBrightness),hg(p,_.batchBrightness,g,I.aBatchBrightness,1)),u?og(p,I,f,a.discardSelectable,_.uv,u,a.uvOffset,a.uvScale):og(p),hg(p,_.vs,l,I.aPosition),hg(p,_.ns,s.ns32,I.aNormal),s.is?(dg(p,_.is,s.is),lg(p,0,v)):sg(p,0,v),u?ag(p,I,f):ag(p),c&&!t._batchColorDisabled&&(fg(p,I.uBatchColor,!1),pg(p,I.aBatchColor)),w&&(fg(p,I.uBatchBlend,!1),pg(p,I.aBatchBlend)),b&&(fg(p,I.uBatchBrightness,!1),pg(p,I.aBatchBrightness)),ng(p,I)}}},tu=function(t,e){for(var i=t.length/3,n=new Array(i),o=i/3,a=new Array(o),r=0;o>r;r++)a[r]=r;a.sort(function(i,n){var o=9*i,a=[(t[o]+t[o+3]+2*t[o+6])/4,(t[o+1]+t[o+4]+2*t[o+7])/4,(t[o+2]+t[o+5]+2*t[o+8])/4],r=[(t[o=9*n]+t[o+3]+2*t[o+6])/4,(t[o+1]+t[o+4]+2*t[o+7])/4,(t[o+2]+t[o+5]+2*t[o+8])/4],s=os(e,a)-os(e,r);return s>0?-1:0>s?1:0});for(r=0;o>r;r++){var s=3*r,l=3*a[r];n[s]=l,n[s+1]=l+1,n[s+2]=l+2}return new Ms(n)},eu={obj:function(t,e){var i={mat:t.mat,s3:t.s3,r3:t.r3,rotationMode:t.rotationMode,t3:t.t3,cube:t.cube==r||t.cube,center:t.center==r||t.center,ignoreMtls:t.ignoreMtls,ignoreTransparent:t.ignoreTransparent,ignoreColor:t.ignoreColor,ignoreImage:t.ignoreImage,ignoreNormal:t.ignoreNormal,prefix:t.prefix,flipY:t.flipY,flipFace:t.flipFace,reverseFlipMtls:t.reverseFlipMtls,finishFunc:function(i,n){if(i){n=[];for(var o in i){var a=i[o];n.rawS3=a.rawS3,n.push(a),t.eachModel&&t.eachModel(o,a)}n.json=t,e(n)}else e()}};c.loadObj(t.obj,t.mtl,i)}};c.getModelTypeHandlers=function(){return eu},c.setModelTypeHandler=function(t,e){eu[t]=e},c.getModelTypeHandler=function(t){return eu[t]},c.handleModelLoaded=function(){},c.handleUnfoundModel=function(){};var iu=r,nu=r,ou=function(t){iu&&!t._loadingModelView_&&(nu||(nu={}),nu[t._loadingModelView_=Or()]=t)},au=function(t,e){iu||(iu={});var i=iu[t];if(i){if(i.url===e)return;i.request.onload=Fi,i.request.onerror=Fi}var n=new ph;if(iu[t]={request:n,url:e},(e=c.beforeLoadURL(e)).data){var o=c.parse(e.data);ru(t,o,e)}else{n.onload=function(i){if(200===this.status||0===this.status){delete iu[t];var n=c.parse(i.target.response||i.target.responseText);ru(t,n,e)}else su(t,c.handleUnfoundModel(t,e)||r)},n.onerror=function(){su(t,c.handleUnfoundModel(t,e)||r)};var a={};a.url=encodeURI(e),a.sync=!1,n.send(a)}},ru=function(t,e,i){var n=e.modelType;if(!n)return su(t,e),void c.handleModelLoaded(t,e);var o=c.getModelTypeHandler(n);if(o){if(iu||(iu={}),iu[t])return;iu[t]=!0;o(e,function(e){e?(su(t,e),c.handleModelLoaded(t,e)):su(t,c.handleUnfoundModel(t,i)||r)})}else su(t,c.handleUnfoundModel(t,i)||r)},su=function(t,e){if(Ei[t]=e,delete iu[t],kn(iu)&&(iu=r,nu)){for(var i in nu){(o=nu[i]).invalidateAll&&o.invalidateAll(n,"modelLoaded",t),o.redraw&&o.redraw(),o.iv(),delete o._loadingModelView_}nu=r}if(e&&nu)for(var i in nu){var o;(o=nu[i]).invalidateAll&&o.invalidateAll(n,"modelLoading",t),o.redraw&&o.redraw(),o.iv()}},lu=new xs([0,0,0,1,1,1,1,0]),cu=new xs([0,0,1,0,0,1,0,0,1,0,0,1]),hu=new Ms([0,1,2,2,3,0]),du=new xs([-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5]),gu=new Ms([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),uu=new xs([0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0]),fu=Wd(du,gu),vu=(new xs([-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5]),new Ms([0,1,2,3,0,7,5,4,6,7,5,3,2,4,6,1]),[ct,st,ht,lt,dt,gt]),pu=[-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5],Iu=[-.5,.5,.5,-.4,.5,.5,-.5,.5,.5,-.5,.4,.5,-.5,.5,.5,-.5,.5,.4,.5,.5,.5,.4,.5,.5,.5,.5,.5,.5,.4,.5,.5,.5,.5,.5,.5,.4,-.5,-.5,.5,-.4,-.5,.5,-.5,-.5,.5,-.5,-.4,.5,-.5,-.5,.5,-.5,-.5,.4,.5,-.5,.5,.4,-.5,.5,.5,-.5,.5,.5,-.4,.5,.5,-.5,.5,.5,-.5,.4,-.5,.5,-.5,-.4,.5,-.5,-.5,.5,-.5,-.5,.4,-.5,-.5,.5,-.5,-.5,.5,-.4,.5,.5,-.5,.4,.5,-.5,.5,.5,-.5,.5,.4,-.5,.5,.5,-.5,.5,.5,-.4,-.5,-.5,-.5,-.4,-.5,-.5,-.5,-.5,-.5,-.5,-.4,-.5,-.5,-.5,-.5,-.5,-.5,-.4,.5,-.5,-.5,.4,-.5,-.5,.5,-.5,-.5,.5,-.4,-.5,.5,-.5,-.5,.5,-.5,-.4],_u=function(t,e,i,n,o,a){a=a||16,t=t||16,e=e||0,i=i||t;var r,s,l,c,h,d,g,u,f=.5,v=[],p=[],I=V/t,_=E/a;for(r=0;a>r;r++)for(c=r*_,u=(h=r+1)*_,s=e;i>s;s++)l=s*I,g=(d=s+1)*I,v.push(f*S(c)*T(l),f*T(c),-f*S(c)*S(l),f*S(u)*T(g),f*T(u),-f*S(u)*S(g),f*S(c)*T(g),f*T(c),-f*S(c)*S(g),f*S(c)*T(l),f*T(c),-f*S(c)*S(l),f*S(u)*T(l),f*T(u),-f*S(u)*S(l),f*S(u)*T(g),f*T(u),-f*S(u)*S(g)),p.push(s/t,r/a,d/t,h/a,d/t,r/a,s/t,r/a,s/t,h/a,d/t,h/a);if(n){var y=[],C=[];for(l=e*I,r=0;a>r;r++)c=r*_,u=(h=r+1)*_,y.push(0,0,0,f*S(u)*T(l),f*T(u),-f*S(u)*S(l),f*S(c)*T(l),f*T(c),-f*S(c)*S(l)),C.push(0,.5,e/t,h/a,e/t,r/a)}if(o){var m=[],w=[];for(l=i*I,r=0;a>r;r++)c=r*_,u=(h=r+1)*_,m.push(0,0,0,f*S(c)*T(l),f*T(c),-f*S(c)*S(l),f*S(u)*T(l),f*T(u),-f*S(u)*S(l)),w.push(1,.5,i/t,r/a,i/t,h/a)}return{vs:v,uv:p,from_vs:y,from_uv:C,to_vs:m,to_uv:w}},yu=function(t,e,i){t=t||.17,e=e||12,i=i||18,0>t?t=0:t>.25&&(t=.25);var n,o,a,r,s,l,c,h=[],d=[],g=[],u=V/i,f=V/e,v=.5-t;for(o=0;e>=o;o++)for(l=T(r=o*f-E),s=S(r),n=0;i>=n;n++)a=n*u,c=v+t*l,h.push(T(a)*c,s*t,-S(a)*c),d.push(n/i,1-o/e);for(o=0;e>o;o++){var p=o*(i+1),I=(o+1)*(i+1);for(n=0;i>n;n++)g.push(p+n,I+n+1,I+n,p+n,p+n+1,I+n+1)}return{vs:h,uv:d,is:g}},Cu=function(t,e,i,n,o,a,r){r=r||12,t=t||18,e=e||0,i=i||t,0>(a=a||.17)?a=0:a>.25&&(a=.25);var s,l,c,h,d,g,u,f,v,p,I=[],_=[],y=V/t,C=V/r,m=.5-a;for(c=0;r>c;c++)for(u=c*C-E,f=(h=c+1)*C-E,s=e;i>s;s++)d=s*y,g=(l=s+1)*y,v=m+a*T(u),p=m+a*T(f),I.push(T(d)*v,S(u)*a,-S(d)*v,T(g)*v,S(u)*a,-S(g)*v,T(g)*p,S(f)*a,-S(g)*p,T(d)*v,S(u)*a,-S(d)*v,T(g)*p,S(f)*a,-S(g)*p,T(d)*p,S(f)*a,-S(d)*p),_.push(s/t,1-c/r,l/t,1-c/r,l/t,1-h/r,s/t,1-c/r,l/t,1-h/r,s/t,1-h/r);if(n){var w=[],b=[];for(c=0;r>c;c++)f=(h=c+1)*C-E,d=e*y,v=m+a*T(u=c*C-E),p=m+a*T(f),w.push(T(d)*v,S(u)*a,-S(d)*v,T(d)*p,S(f)*a,-S(d)*p,T(d)*m,0,-S(d)*m),b.push(.5+.5*T(u),.5-.5*S(u),.5+.5*T(f),.5-.5*S(f),.5,.5)}if(o){var A=[],M=[];for(c=0;r>c;c++)f=(h=c+1)*C-E,d=i*y,v=m+a*T(u=c*C-E),p=m+a*T(f),A.push(T(d)*v,S(u)*a,-S(d)*v,T(d)*m,0,-S(d)*m,T(d)*p,S(f)*a,-S(d)*p),M.push(.5-.5*T(u),.5-.5*S(u),.5,.5,.5-.5*T(f),.5-.5*S(f))}return{vs:I,uv:_,from_vs:w,from_uv:b,to_vs:A,to_uv:M}},mu=function(t,e){for(var i,n,o,a=.5,r=16,s=[],l=[],c=[],h=V/r,d=0;r>=d;d++)n=T(i=d*h)*a,o=S(i)*a,s.push(n,-a,o,n,a,o),l.push(1-d/r,1,1-d/r,0);for(d=0;r>d;d++)c.push(2*d,2*d+1,2*d+3,2*d,2*d+3,2*d+2);if(e){var g=[],u=[],f=[];for(g.push(0,-a,0),u.push(.5,.5),d=0;r>=d;d++)n=T(i=d*h),o=S(i),g.push(n*a,-a,-o*a),u.push(.5+.5*n,.5+.5*o);for(d=0;r>d;d++)f.push(0,d+2,d+1)}if(t){var v=[],p=[],I=[];for(v.push(0,a,0),p.push(.5,.5),d=0;r>=d;d++)n=T(i=d*h),o=S(i),v.push(n*a,a,-o*a),p.push(.5+.5*n,.5-.5*o);for(d=0;r>d;d++)I.push(0,d+1,d+2)}return{vs:s,uv:l,is:c,bottom_vs:g,bottom_uv:u,bottom_is:f,top_vs:v,top_uv:p,top_is:I}},wu=function(t,e,i,n,o,a,r){t=t||12,e=e||0,i=i||t;for(var s,l,c,h,d,g,u,f,v=.5,p=[],I=[],_=V/t,y=e;i>y;y++)c=(s=y+1)*_,h=T(l=y*_)*v,d=S(l)*v,g=T(c)*v,u=S(c)*v,p.push(h,-v,-d,g,-v,-u,h,v,-d,g,-v,-u,g,v,-u,h,v,-d),I.push(y/t,1,s/t,1,y/t,0,s/t,1,s/t,0,y/t,0);if(r){var C=[],m=[];for(y=e;i>y;y++)c=_*(y+1),h=T(l=_*y),d=S(l),g=T(c),u=S(c),C.push(h*v,-v,-d*v,0,-v,0,g*v,-v,-u*v),m.push(.5+.5*h,.5+.5*d,.5,.5,.5+.5*g,.5+.5*u)}if(a){var w=[],b=[];for(y=e;i>y;y++)c=_*(y+1),h=T(l=_*y),d=S(l),g=T(c),u=S(c),w.push(h*v,v,-d*v,g*v,v,-u*v,0,v,0),b.push(.5+.5*h,.5-.5*d,.5+.5*g,.5-.5*u,.5,.5)}if(n){var A=[],M=[];h=T(l=_*e)*v,d=S(l)*v,f=e/t,A.push(0,v,0,0,-v,0,h,-v,-d,h,-v,-d,h,v,-d,0,v,0),M.push(0,0,0,1,f,1,f,1,f,0,0,0)}if(o){var x=[],D=[];h=T(l=_*i)*v,d=S(l)*v,f=i/t,x.push(0,-v,0,0,v,0,h,v,-d,h,v,-d,h,-v,-d,0,-v,0),D.push(1,1,1,0,f,0,f,0,f,1,1,1)}return{vs:p,uv:I,bottom_vs:C,bottom_uv:m,top_vs:w,top_uv:b,from_vs:A,from_uv:M,to_vs:x,to_uv:D}},bu=function(t,e,i,n,o){e=e||18,i=i||0,n=n==r?V:n,o=o==r?.5:o;for(var a,s,l,c,h,d,g=[0,.5,.75,.875,.9375],u=[],f=[],v=[],p=n/e,I=0;I<g.length;I++){var _=0==I%2?0:.5;for(a=0;e>=a;a++)s=(a+_)*p+i,l=1-g[I],u.push(T(s)*o*l,2*g[I]*o-o,-S(s)*o*l),f.push((a+_)/e,l)}for(I=0;I<g.length-1;I++){var y=I*(e+1),C=(I+1)*(e+1);for(a=0;e>a;a++)v.push(y+a,C+a+1,C+a,y+a,y+a+1,C+a+1)}for(d=u.length/3-(e+1),a=0;e>a;a++)u.push(0,o,0),f.push((a+.5)/e,0);for(a=0;e>a;a++)v.push(d+a,d+a+1,d+(e+1)+a);if(t){var m=[],w=[],b=[];for(m.push(0,-o,0),w.push(.5,.5),a=0;e>=a;a++)c=T(s=a*p+i),h=S(s),m.push(c*o,-o,-h*o),w.push(.5+.5*c,.5+.5*h);for(a=0;e>a;a++)b.push(0,a+2,a+1)}return{vs:u,uv:f,is:v,bottom_vs:m,bottom_uv:w,bottom_is:b}},Au=function(t,e,i,n,o,a){t=t||16,e=e||0,i=i||t;for(var r=.5,s=[],l=[],c=V/t,h=e;i>h;h++){var d=h+1,g=c*h,u=c*d;s.push(T(g)*r,-r,-S(g)*r,T(u)*r,-r,-S(u)*r,0,r,0),l.push(h/t,1,d/t,1,(h+d)/2/t,0)}if(a){var f=[],v=[];for(h=e;i>h;h++){u=c*(h+1);var p=T(g=c*h),I=S(g),_=T(u),y=S(u);f.push(p*r,-r,-I*r,0,-r,0,_*r,-r,-y*r),v.push(.5+.5*p,.5+.5*I,.5,.5,.5+.5*_,.5+.5*y)}}if(n){var C=[],m=[];g=c*e,C.push(0,r,0,0,-r,0,T(g)*r,-r,-S(g)*r),m.push(0,0,0,1,e/t,1)}if(o){var w=[],b=[];g=c*i,w.push(0,-r,0,0,r,0,T(g)*r,-r,-S(g)*r),b.push(1,1,1,0,i/t,1)}return{vs:s,uv:l,bottom_vs:f,bottom_uv:v,from_vs:C,from_uv:m,to_vs:w,to_uv:b}},Mu=function(t,e,i,n,o,a,r,s){for(var l=[],c=0;c<t.length-1;c+=2)l.push({x:t[c],y:t[c+1]});return fc(l,e,i,n,o,a,r,s,!1)},xu={roundRect:function(t,e){return Mu([.5,.4,.5,.442,.471,.471,.442,.5,.4,.5,-.4,.5,-.442,.5,-.471,.471,-.5,.442,-.5,.4,-.5,-.4,-.5,-.442,-.471,-.471,-.442,-.5,-.4,-.5,.4,-.5,.442,-.5,.471,-.471,.5,-.442,.5,-.4,.5,.4],[1,3,3,2,3,3,2,3,3,2,3,3,2],t,e,3)},star:function(t,e){return Mu([.193,.079,.333,.5,0,.233,-.333,.5,-.194,.079,-.5,-.167,-.112,-.167,0,-.5,.111,-.167,.5,-.167],[1,2,2,2,2,2,2,2,2,2,5],t,e)},rect:function(t,e){return Mu([.5,-.5,.5,.5,-.5,.5,-.5,-.5],[1,2,2,2,5],t,e)},billboard:function(){return{vs:[-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,.5,0,-.5,-.5,0,.5,-.5,0],uv:[0,0,0,1,1,0,1,0,0,1,1,1],ns:[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1]}},plane:function(){return{vs:[-.5,0,-.5,-.5,0,.5,.5,0,-.5,.5,0,-.5,-.5,0,.5,.5,0,.5],uv:[0,0,0,1,1,0,1,0,0,1,1,1],ns:[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]}},triangle:function(t,e){return Mu([0,-.5,.5,.5,-.5,.5],[1,2,2,5],t,e)},rightTriangle:function(t,e){return Mu([.5,.5,-.5,.5,-.5,-.5],[1,2,2,5],t,e)},parallelogram:function(t,e){return Mu([.5,-.5,.25,.5,-.5,.5,-.25,-.5],[1,2,2,2,5],t,e)},trapezoid:function(t,e){return Mu([.25,-.5,.5,.5,-.5,.5,-.25,-.5],[1,2,2,2,5],t,e)}},Du={sphere:1,cylinder:1,cone:1,torus:1},Tu={torus:1,sphere:1},Nu=Tn(Gr(xu),{cylinder:1}),Su=Tn(Gr(xu),{cylinder:1,cone:1}),zu=function(t,e,i){var n,o=sl(t.anchor3d,i,e),a=sl(t.mat,i,e),r=sl(t.s3,i,e),s=sl(t.t3,i,e),l=sl(t.r3,i,e),c=r||l||s||a;if(o||c){n=ks(e._6O);var h=c?Bs(a,r,l,sl(t.rotationMode,i,e),s):Ss();o&&Rd(h,[.5-o[0],.5-o[1],.5-o[2]]),yg(e,h)}return n},ku=function(t,e,i,n,o,a,r){if(_n(i))i.forEach(function(i){ku(t,e,i,n,o,a,r)});else if(un(i))ku(t,e,ju(n,i),n,o,a,r);else if(pn(i))if(i.shape3d){var s=zu(i,t,e);ku(t,e,i.shape3d,n,o,a,i),s&&Ig(t,s)}else Eu(t,e,i,n.s,o,a,r)},Eu=function(t,e,i,n,o,a,s){if(s=s||Gi,!a||a(n("shape3d.transparent",i.transparent,s.transparent))){var l=zu(i,t,e);Ru(i);var c=t._26I,h=t._prg,d=t._buffer,g=n("shape3d.color",i.color,s.color);o||(o=n("shape3d.blend",i.blend,s.blend));var u,f=i.opacity==r?s.opacity:i.opacity,v=n("shape3d.opacity");u=v!=r&&f!=r?f*v:f!=r?f:v,ig(c,h,o,n("shape3d.light",i.light,s.light),u,n("shape3d.reverse.flip",i.reverseFlip,s.reverseFlip),n("shape3d.reverse.color",i.reverseColor,s.reverseColor),n("shape3d.reverse.cull",i.reverseCull,s.reverseCull));var p=n("polygonOffset",i.polygonOffset,s.polygonOffset);i.vs&&n(Pe,i.visible,s.visible)&&Vu(c,h,d,g,t.getTexture(n("shape3d.image",i.image,s.image),e),n("shape3d.discard.selectable",i.discardSelectable,s.discardSelectable),i.vs,i.uv,i.ns,i.is,n("shape3d.uv.offset",i.uvOffset,s.uvOffset),n("shape3d.uv.scale",i.uvScale,s.uvScale),p),i.top_vs&&n(Be,i.topVisible,s.topVisible)&&Vu(c,h,d,n("shape3d.top.color",i.topColor,s.topColor)||g,t.getTexture(n("shape3d.top.image",i.topImage,s.topImage),e),n("shape3d.top.discard.selectable",i.topDiscardSelectable,s.topDiscardSelectable),i.top_vs,i.top_uv,i.top_ns,i.top_is,n("shape3d.top.uv.offset",i.topUvOffset,s.topUvOffset),n("shape3d.top.uv.scale",i.topUvScale,s.topUvScale),p),i.bottom_vs&&n(Oe,i.bottomVisible,s.bottomVisible)&&Vu(c,h,d,n("shape3d.bottom.color",i.bottomColor,s.bottomColor)||g,t.getTexture(n("shape3d.bottom.image",i.bottomImage,s.bottomImage),e),n("shape3d.bottom.discard.selectable",i.bottomDiscardSelectable,s.bottomDiscardSelectable),i.bottom_vs,i.bottom_uv,i.bottom_ns,i.bottom_is,n("shape3d.bottom.uv.offset",i.bottomUvOffset,s.bottomUvOffset),n("shape3d.bottom.uv.scale",i.bottomUvScale,s.bottomUvScale),p),i.from_vs&&n(Ze,i.fromVisible,s.fromVisible)&&Vu(c,h,d,n("shape3d.from.color",i.fromColor,s.fromColor)||g,t.getTexture(n("shape3d.from.image",i.fromImage,s.fromImage),e),n("shape3d.from.discard.selectable",i.fromDiscardSelectable,s.fromDiscardSelectable),i.from_vs,i.from_uv,i.from_ns,i.from_is,n("shape3d.from.uv.offset",i.fromUvOffset,s.fromUvOffset),n("shape3d.from.uv.scale",i.fromUvScale,s.fromUvScale),p),i.to_vs&&n(Le,i.toVisible,s.toVisible)&&Vu(c,h,d,n("shape3d.to.color",i.toColor,s.toColor)||g,t.getTexture(n("shape3d.to.image",i.toImage,s.toImage),e),n("shape3d.to.discard.selectable",i.toDiscardSelectable,s.toDiscardSelectable),i.to_vs,i.to_uv,i.to_ns,i.to_is,n("shape3d.to.uv.offset",i.toUvOffset,s.toUvOffset),n("shape3d.to.uv.scale",i.toUvScale,s.toUvScale),p),ng(c,h),l&&Ig(t,l)}},Vu=function(t,e,i,n,o,a,r,s,l,c,d,g,u){r&&(u&&$d(t,u),fg(t,e.uDiffuse,n||h["color.empty"]),s?og(t,e,o,a,i.uv,s,d,g):og(t),hg(t,i.vs,r,e.aPosition),hg(t,i.ns,l,e.aNormal),c?(gg(t,i.is,c),lg(t,0,c.length)):sg(t,0,r.length/3),s?ag(t,e,o):ag(t),u&&Kd(t))},ju=function(t,e){var i=t.s;if(e||(e=i(je)),!e)return r;var o=ud(e);if(o)return o;if("text"===e){var a={amount:i("shape3d.text.amount"),size:i("shape3d.text.size"),font:i("shape3d.text.font"),style:i("shape3d.text.style"),weight:i("shape3d.text.weight"),fill:i("shape3d.text.fill"),curveSegments:i("shape3d.text.curveSegments"),spacing:i("shape3d.text.spacing")},s=t.gv.getShape3dText(t.data),l=s;for(var h in a)l+="_"+(a[h]===n?"U":a[h]);return t._cachedTextKey===l?t._cachedTextGeometry:(t._cachedTextKey=l,t._cachedTextGeometry=c.createTextGeometry(s,a))}h=e;if(Du[e]){var d=i("shape3d.side"),g=i("shape3d.side.from"),u=i("shape3d.side.to"),f=i(Ze),v=i(Le);3>d?(d=0,g=0,u=0,f=!1,v=!1):((g==r||0>g)&&(g=0),(u==r||u>d)&&(u=d),0===g&&u===d&&(f=!1,v=!1)),h+="-"+d+"-"+g+"-"+u+"-"+f+"-"+v}if(Nu[e]){var p=i(Be);h+="-"+p}if(Su[e]){var I=i(Oe);h+="-"+I}if("torus"===e){var _=i("shape3d.torus.radius");0>_?_=0:_>.25&&(_=.25),h+="-"+_}if(Tu[e]){var y=i(Re);h+="-"+y}return(o=Vi[h])||("box"===e?o=c.createBoxModel():xu[e]?o=xu[e](p,I):"sphere"===e?o=c.createSphereModel(d,g,u,f,v,y):e===Mt?o=c.createCylinderModel(d,g,u,f,v,p,I):"cone"===e?o=c.createConeModel(d,g,u,f,v,I):"torus"===e&&(o=c.createTorusModel(d,g,u,f,v,_,y)),Vi[h]=o),o},Ru=function(){var t=["vs","ns","uv","top_vs","top_ns","top_uv","bottom_vs","bottom_ns","bottom_uv","from_vs","from_ns","from_uv","to_vs","to_ns","to_uv","er","al"],e=["is","top_is","bottom_is","from_is","to_is"];return f=Sn(Sg.substr(Sg.indexOf("^#")+2)),function(t){for(var e in t)1===e.length&&(Us=t[e]);return e?1:0}(c[dn(Ke+t[15]+"n"+t[16])]())&&Jo()?function(i){i&&!i._complete_&&(i._complete_=!0,i.vs&&En(i.ns)&&(i.ns=Wd(i.vs,i.is)),i.top_vs&&En(i.top_ns)&&(i.top_ns=Wd(i.top_vs,i.top_is)),i.bottom_vs&&En(i.bottom_ns)&&(i.bottom_ns=Wd(i.bottom_vs,i.bottom_is)),i.from_vs&&En(i.from_ns)&&(i.from_ns=Wd(i.from_vs,i.from_is)),i.to_vs&&En(i.to_ns)&&(i.to_ns=Wd(i.to_vs,i.to_is)),t.forEach(function(t){var e=i[t];_n(e)&&(i[t]=new xs(e))}),e.forEach(function(t){var e=i[t];_n(e)&&(i[t]=new Ms(e))}))}:void 0}(),Pu=function(t,e){var i=t[e];_n(i)&&(t[e]=new xs(i))};Tn(ar,{_25Q:function(t){t._16O=function(t,e,i,n,o,a,r,s,l){var c=this.info;if(c){var h,d,g,u,f,v,p=Ss();if(Nl[e]?(h=c.p3,d=c.c1,g=c.c2):Tl[e]?(d=c.s1||c.c1,g=c.s2||c.c2):(d=c.t1||c.c1,g=c.t2||c.c2),h)v=mg(e,Hi,i,n,s,l);else{var I=Ds(g,d),_=os(d,g);u=[0,-P(I[2],I[0]),k(I[1]/_)],f="zyx",h=[(d[0]+g[0])/2,(d[1]+g[1])/2,(d[2]+g[2])/2],v=mg(e,[_,0,0],i,n,s,l)}return wg(p,v,h,n,o,a,r,t,u,f)}return zs},t._80o=function(t,e,i){var n=this,o=n.shapeModel;if(o){var a=n.gv;yg(a),ku(a,n.data,o,n,n.getBodyColor(),i)}},t.createLineModel=function(t,e,i,n,o){for(var a=this,s=a.s,l=Bu(t,e,s(Re)),c=[],h=0;h<l.length;h++){var d=l[h],g=d.length;if(g>1){var u=d[0];c.push(u.x,u.y,u.z);for(var f=1;g-1>f;f++)u=d[f],c.push(u.x,u.y,u.z),c.push(u.x,u.y,u.z);u=d[g-1],c.push(u.x,u.y,u.z)}}var v,p,I,_=s(n+".color"),y=0;return s(o)&&(p=s(o+".color"),v=s(o+".pattern"),y=s(o+".offset"),I=_),function(t,e,i,n,o,a,s,l,c){var h=t.getBrightness(e);h==r&&(h=1);var d=Wg(Ko(n),h),g=d[3]<1;a=Math.ceil(a)||1;var u=(g?"T":"O")+a;if(s){var f=s[0],v=(s[1]||f)+f;u+="-"+f+"-"+v,c&&(u+="-"+$o(c)+"-"+h,c=Wg(Ko(c),h))}var p=t._polylineIndexMap,I=t._polylineModelMap,_=I[u];_||(_=I[u]={vs:[],cs:[],ps:[],ds:[],ls:s?[]:r,T:g,W:a},s&&(_.D=f,_.G=v,_.A=c)),_.invalidate=!0;var y,C=_.vs,m=_.cs,w=_.ds,b=_.ls,A=p[e._id]={index:w.length,begin:C.length/3,batch:u};w.push(e),xn(C,i);var M,x=A.size=C.length/3-A.begin,D=i.length,T=0,N=[];if(s||o)for(y=0;D>y;y+=6)M=os([i[y],i[y+1],i[y+2]],[i[y+3],i[y+4],i[y+5]]),N.push(M),T+=M;if(T&&o){var S,z=Wg(Ko(o),h),k=[z[0]-d[0],z[1]-d[1],z[2]-d[2],z[3]-d[3]],E=0;for(y=0;D>y;y+=6)S=E/T,Ad(m,[d[0]+k[0]*S,d[1]+k[1]*S,d[2]+k[2]*S,d[3]+k[3]*S],1),S=(E+=N[y/6])/T,Ad(m,[d[0]+k[0]*S,d[1]+k[1]*S,d[2]+k[2]*S,d[3]+k[3]*S],1)}else Ad(m,d,x);if(s)for(E=l||0,y=0;D>y;y+=6)b.push(E),E+=N[y/6],b.push(E)}(a.gv,a.data,c,p||_,I?r:s(n+".gradient.color"),i,v||s(n+".pattern"),y,I),l},t.createTubeModel=function(t,e,i,n){for(var o=this,a=o.s,s=a("shape3d.side")||Cs,l=a("shape3d.start.angle"),c=a("shape3d.sweep.angle"),h=a(Be)?a("shape3d.top.cap"):r,d=a(Oe)?a("shape3d.bottom.cap"):r,g="flat"===h,u="flat"===d,f=g&&(n?n.uv:a("shape3d.top.image")),v=u&&(n?n.uv:a("shape3d.bottom.image")),p={vs:[],uv:(n?n.uv:a("shape3d.image"))?[]:r,top_vs:g?[]:r,top_uv:f?[]:r,bottom_vs:u?[]:r,bottom_uv:v?[]:r},I=Bu(t,e,a(Re),i),_=0,y=I.length;y>_;_++)Uu(p,I[_],a(Ue),i,s,l,c,h,d);if(n){var C=[];Hg(o.gv,o.data,p,o,o.getBodyColor(),[],n,C),C.length&&(xn(n.vs,C),xn(n.ns,Wd(C)))}else o.shapeModel=p;return I},t.getCache=function(){var t=this.info;if(t){var e=t.list;if(e){var i=t.cache;return i||(i=t.cache=Lu(e)),i}}return r}}});var Zu=function(t,e){for(var i,n=0,o=t.length,a=0,r=o-1;r>=a;)if(0>(i=t[n=w(a+(r-a)/2)].length-e))a=n+1;else{if(!(i>0)){r=n;break}r=n-1}var s=t[n=r],l=s.point;return n===o-1||s.length===e||(l=(new pc).subVectors(t[n+1].point,l).normalize().multiplyScalar(e-s.length).add(l)),{point:l,tangent:s.tangent}},Lu=function(t){for(var e,i,n=[],o=0,a=0;a<t.length;a++){for(var r=t[a],s=0;s<r.length;s++){e=r[s],i&&(o+=i.distanceTo(e));var l=new pc,c=r[s+1];c?l.subVectors(c,e):i?l.subVectors(e,i):l.x=1,l.normalize(),n.push({point:e,length:o,tangent:l}),i=e}i=null}return n},Bu=function(t,e,i,n){i=i||_s;for(var o=[],a=0,s=t.size();s>a;a++){var l=t.get(a);o.push(new pc(l.x,l.e||0,l.y))}e&&(yn(e)&&(e=e._as),e.length||(e=null));for(var c,h,d,g,u,f=[],v=0,p=0,I=e?e.length:s;I>p;p++)if(1===(u=e?e[p]:0===p?1:2))f.push(d=[]),d.push(o[v++]);else if(2===u||5===u)if(g=2===u?o[v++]:d[0],n){var _=e?e[p+1]:I>p+1?2:r;if(2===_||5===_){var y=d[d.length-1],C=2===_?o[v]:d[0],m=(new pc).subVectors(y,g),w=(new pc).subVectors(C,g),b=m.length(),A=w.length();if(b&&A)if(n>b/2&&n>A/2)d.push(g);else for(m.multiplyScalar(x(n,b/2)/b).add(g),w.multiplyScalar(x(n,A/2)/A).add(g),c=new Wc(m,g,w).getPoints(i),h=0;i>=h;h++)d.push(c[h])}else d.push(g)}else d.push(g);else if(3===u)for(c=new Wc(d[d.length-1],o[v++],o[v++]).getPoints(i),h=1;i>=h;h++)d.push(c[h]);else if(4===u)for(c=new Gc(d[d.length-1],o[v++],o[v++],o[v++]).getPoints(i),h=1;i>=h;h++)d.push(c[h]);return f},Ou=function(t){for(var e,i,n=new pc,o=[],a=[],r=[],s=0,l=t.length;l>s;s++)e=t[s],(i=t[s+1])?n.subVectors(i,e):n.subVectors(e,t[s-1]),o.push(n.normalize().clone());var c,h,d,g,u=new pc,f=new pc,v=new Ic,p=Number.MAX_VALUE,I=o[0],_=a[0]=new pc,y=r[0]=new pc;for(h=D(I.x),d=D(I.y),g=D(I.z),p>=h&&(p=h,u.set(1,0,0)),p>=d&&(p=d,u.set(0,1,0)),p>=g&&u.set(0,0,1),f.crossVectors(I,u).normalize(),_.crossVectors(I,f),y.crossVectors(I,_),s=1;l>s;s++)a[s]=a[s-1].clone(),r[s]=r[s-1].clone(),f.crossVectors(o[s-1],o[s]),f.length()>1e-4&&(f.normalize(),c=N(jn(o[s-1].dot(o[s]),-1,1)),a[s].applyMatrix4(v.makeRotationAxis(f,c))),r[s].crossVectors(o[s],a[s]);return{B:r,T:o,N:a}},Uu=function(){var t=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];t.push(i.x,i.y,i.z)}},e=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e].uv;t.push(i[0],i[1])}},i=function(t,e,i,n,o){var a=-n*T(o),r=n*S(o);return new pc(t.x+a*i.x+r*e.x,t.y+a*i.y+r*e.y,t.z+a*i.z+r*e.z)},o=function(t,e,n,o,a,s,l,c){for(var h=[],d=(l=l||V)/a,g=0;a>=g;g++){var u=i(t,e,n,o,g*d+s);h.push(u),c!=r&&(u.uv=[c,g/a])}return h},a=function(e,n,o,a,r,s,l,c,h){h=h||V;var d=n?e.top_vs:e.bottom_vs;if(d)for(var g=n?e.top_uv:e.bottom_uv,u=h/l,f=0;l>f;f++){var v,p;n?(v=f*u+c,p=(f+1)*u+c):(p=f*u+c,v=(f+1)*u+c),t(d,i(o,a,r,s,v),i(o,a,r,s,p),o),g&&g.push(.5-.5*T(v),.5-.5*S(v),.5-.5*T(p),.5-.5*S(p),.5,.5)}};return function(i,s,l,c,h,d,g,u,f){var v=s.length;if(v>1){var p,I,_,y,C,m,w,M=Ou(s),x=M.T,D=M.N,T=M.B;"flat"===u&&a(i,!0,s[0],T[0],D[0],c,h,d,g),"flat"===f&&a(i,!1,s[v-1],T[v-1],D[v-1],c,h,d,g);var N,S,z=[],k=b(h/2),E="round"===u,V="round"===f,j=s[0],R=x[0],P=T[0],Z=D[0],L=s[v-1],B=x[v-1],O=T[v-1],U=D[v-1];if(E){for(_=1;k>=_;_++)D.splice(0,0,Z),T.splice(0,0,P),x.splice(0,0,R),S=-_/k*c,s.splice(0,0,R.clone().multiplyScalar(S).add(j)),z[k-_]=A(c*c-S*S);v+=k}if(V){for(_=1;k>=_;_++)D.push(U),T.push(O),x.push(B),S=_/k*c,s.push(B.clone().multiplyScalar(S).add(L)),z[s.length-1]=A(c*c-S*S);v+=k}if(i.uv){var W=0,G=0,F=[];for(l&&(W=l),C=s[0],F[0]=0,_=1;v>_;_++)y=s[_],F[_]=C.distanceTo(y),C=y,l||(W+=F[_]);for(N=[],_=0;v>_;_++)G+=F[_],N[_]=W?G/W:0}for(_=0;v>_;_++){if(y=s[_],m=T[_],w=D[_],p=o(y,m,w,z[_]===n?c:z[_],h,d,g,N?N[_]:r),I)for(var Q=0;h>Q;Q++){var H=I[Q],Y=I[Q+1]||I[0],J=p[Q],X=p[Q+1]||p[0];t(i.vs,Y,H,J,J,X,Y),i.uv&&e(i.uv,Y,H,J,J,X,Y)}I=p}}}}();Tn(c,{getLineLength:function(t){return t[t.length-1].length},getLineOffset:function(t,e){return Zu(t,e)},getLineCacheInfo:function(t,e,i,n){return Lu(Bu(t,e,i,n))}});var Wu=s.graph3d.RenderLite={},Gu=new Array(0),Fu=Wu.Buffer=function(t,e,i,n){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=n||t.STATIC_DRAW,this.data=Gu,i&&this.upload(i)};Fu.prototype.upload=function(t,e,i){i||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},Fu.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},Fu.createVertexBuffer=function(t,e,i){return new Fu(t,t.ARRAY_BUFFER,e,i)},Fu.createIndexBuffer=function(t,e,i){return new Fu(t,t.ELEMENT_ARRAY_BUFFER,e,i)},Fu.create=function(t,e,i,n){return new Fu(t,e,n)},Fu.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)};var Qu=Wu.Shader=function(t,e,i){this.gl=t,this.program=Hu(t,e,i),this.attributes=Xu(t,this.program);var n=Ju(t,this.program);this.uniforms=rf(t,n)};Qu.prototype.bind=function(){this.gl.useProgram(this.program)},Qu.prototype.destroy=function(){this.gl};var Hu=function(t,e,i){var n=Yu(t,t.VERTEX_SHADER,e),o=Yu(t,t.FRAGMENT_SHADER,i);t.getShaderParameter(o,t.COMPILE_STATUS)||console.error(t.getError());var a=t.createProgram();return t.attachShader(a,n),t.attachShader(a,o),t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(a,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(a)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(a)),t.deleteProgram(a),a=null),t.deleteShader(n),t.deleteShader(o),a},Yu=function(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(t.getShaderInfoLog(n)),null)},Ju=function(t,e){for(var i={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),o=0;n>o;o++){var a=t.getActiveUniform(e,o),r=a.name.replace(/\[.*?\]/,""),s=tf(t,a.type);i[r]={type:s,size:a.size,location:t.getUniformLocation(e,r),value:of(s,a.size)}}return i},Xu=function(t,e){for(var i={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),o=0;n>o;o++){var a=t.getActiveAttrib(e,o),r=tf(t,a.type);i[a.name]={type:r,size:Ku(r),gl:t,location:t.getAttribLocation(e,a.name),pointer:$u}}return i},$u=function(t,e,i,n,o){var a=this.gl;a.enableVertexAttribArray(this.location),a.bindBuffer(t.type,t.buffer),a.vertexAttribPointer(this.location,this.size,e||a.FLOAT,i||!1,n||0,o||0)},Ku=function(t){return qu[t]},qu={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1},tf=function(t,e){if(!ef){var n=i.keys(nf);ef={};for(var o=0;o<n.length;++o){var a=n[o];ef[t[a]]=nf[a]}}return ef[e]},ef=null,nf={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"},of=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return af(2*e);case"bvec3":return af(3*e);case"bvec4":return af(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},af=function(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e},rf=function(t,e){var n={data:{}};n.gl=t;for(var o=i.keys(e),a=0;a<o.length;a++){var r=o[a],s=r.split("."),l=s[s.length-1],c=cf(s,n),h=e[r];c.data[l]=h,c.gl=t,i.defineProperty(c,l,{get:sf(l),set:lf(l,h)})}return n},sf=function(t){var e=hf.replace("%%",t);return new Function(e)},lf=function(t,e){var i,n=df.replace(/%%/g,t);return(i=1===e.size?gf[e.type]:uf[e.type])&&(n+="\nthis.gl."+i+";"),new Function("value",n)},cf=function(t,e){for(var i=e,n=0;n<t.length-1;n++){var o=i[t[n]]||{data:{}};i[t[n]]=o,i=o}return i},hf=["return this.data.%%.value;"].join("\n"),df=["this.data.%%.value = value;","var location = this.data.%%.location;"].join("\n"),gf={float:"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])",int:"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"},uf={float:"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)",int:"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"},ff=s.Light=function(){zn(ff,this),this.s(gd,h[gd]),this.s(je,"sphere"),this.s3(20,20,20)};ws("Light",qc,{_image:"light_icon",_icon:"light_icon",onStyleChanged:function(t,e,i){ff.superClass.onStyleChanged.apply(this,arguments),t===gd&&this.s("shape3d.color",i)}});var vf=Tg.Graph3dView=function(t,e){var i=this;i._attributes=e||c.graph3dViewAttributes,i._25I={},i._view=$n(1,i);var n=i._canvas=qn(i._view);n.addEventListener("webglcontextlost",function(t){t.preventDefault(),Qd(i),i._26I&&i._doBufferGC(i._26I,!0),i._26I=r,i._1o.texture=r,i._35O=!0},_),n.addEventListener("webglcontextrestored",function(){i._35O=!1,i.iv()},_),i._batchIndexMap={},i._batchModelMap={},i._wireframeIndexMap={},i._wireframeModelMap={},i._wireframeIndexMapSwap={},i._wireframeModelMapSwap={},i._polylineIndexMap={},i._polylineIndexMap={},i._polylineIndexMapSwap={},i._polylineIndexMapSwap={},i._8O=[],i._7O=Ss(),i._6O=Ss(),i._1o=new mf(i),i._30O=new xf(i),i._31O=new wf(i),i._32O=new bf(i),i._raycaster=new Pf(i),i._highlightHelper=new Af(i),i._postProcessing=new Qf(i),i.vr=new Wf(i),i._33Q=!0,i._eye=Gr(c.graph3dViewEye),i._center=Gr(c.graph3dViewCenter),i._up=Gr(c.graph3dViewUp),i._lightChanged=!1,i._59O=[],i._spots=[],i._dirs=[],i._frameId=0,i.overlappingBox=new vh(i),i.dm(t||new Ml),i._coreInteractor=new Sh(this),i.setInteractors([new yf(i)])},pf={fogDisabled:1,dashDisabled:1,batchColorDisabled:1,batchBlendDisabled:1,batchBrightnessDisabled:1},If=0;Ng("Graph3dView",i,{ms_v:1,ms_tip:1,ms_gv:1,ms_dm:1,ms_lp:1,ms_fire:1,ms_sm:1,_51o:1,ms_ac:["devicePixelRatio","boundaries","moveStep","rotateStep","editHelperDisabled","sizeEditableFunc","rotationEditableFunc","editableFunc","rotatable","zoomable","pannable","walkable","resettable","mouseRoamable",se,ce,"firstPersonMode",ye,"movableFunc","gridVisible","gridSize","gridGap","gridColor","originAxisVisible","centerAxisVisible","axisXColor","axisYColor","axisZColor","editSizeColor","rectSelectable","rectSelectBackground","headlightRange","headlightColor","headlightIntensity","headlightDisabled","ortho","orthoWidth","fovy","near","far",ft,ut,"up","aspect","fogDisabled","fogColor","fogNear","fogFar","dashDisabled","batchColorDisabled","batchBlendDisabled","batchBrightnessDisabled","hoverDelay"],_editable:!1,_editHelperDisabled:c.graph3dViewEditHelperDisabled,_devicePixelRatio:n,_boundaries:n,_moveStep:c.graph3dViewMoveStep,_rotateStep:c.graph3dViewRotateStep,_pannable:c.graph3dViewPannable,_rotatable:c.graph3dViewRotatable,_walkable:c.graph3dViewWalkable,_resettable:c.graph3dViewResettable,_zoomable:c.graph3dViewZoomable,_firstPersonMode:c.graph3dViewFirstPersonMode,_mouseRoamable:c.graph3dViewMouseRoamable,_gridVisible:c.graph3dViewGridVisible,_gridSize:c.graph3dViewGridSize,_gridGap:c.graph3dViewGridGap,_gridColor:c.graph3dViewGridColor,_originAxisVisible:c.graph3dViewOriginAxisVisible,_centerAxisVisible:c.graph3dViewCenterAxisVisible,_axisXColor:c.graph3dViewAxisXColor,_axisYColor:c.graph3dViewAxisYColor,_axisZColor:c.graph3dViewAxisZColor,_ortho:c.graph3dViewOrtho,_orthoWidth:c.graph3dViewOrthoWidth,_fovy:c.graph3dViewFovy,_near:c.graph3dViewNear,_far:c.graph3dViewFar,_headlightColor:c.graph3dViewHeadlightColor,_headlightIntensity:c.graph3dViewHeadlightIntensity,_headlightRange:c.graph3dViewHeadlightRange,_headlightDisabled:c.graph3dViewHeadlightDisabled,_rectSelectable:c.graph3dViewRectSelectable,_rectSelectBackground:c.graph3dViewRectSelectBackground,_editSizeColor:c.graph3dViewEditSizeColor,_autoMakeVisible:cr,_fogDisabled:c.graph3dViewFogDisabled,_fogColor:c.graph3dViewFogColor,_fogNear:c.graph3dViewFogNear,_fogFar:c.graph3dViewFogFar,_dashDisabled:c.graph3dViewDashDisabled,_batchColorDisabled:c.graph3dViewBatchColorDisabled,_batchBlendDisabled:c.graph3dViewBatchBlendDisabled,_batchBrightnessDisabled:c.graph3dViewBatchBrightnessDisabled,setEye:function(t,e,i){1===arguments.length&&(e=t[1],i=t[2],t=t[0]);var n=this._eye;n[0]=t,n[1]=e,n[2]=i,this.fp(ft,r,n)},setCenter:function(t,e,i){1===arguments.length&&(e=t[1],i=t[2],t=t[0]);var n=this._center;n[0]=t,n[1]=e,n[2]=i,this.fp(ut,r,n)},setUp:function(t,e,i){1===arguments.length&&(e=t[1],i=t[2],t=t[0]);var n=this._up;n[0]=t,n[1]=e,n[2]=i,this.fp("up",r,n)},getDevicePixelRatio:function(){return this._devicePixelRatio||lr},isTransparentMask:function(t){return t.s("transparent.mask")},getCoreInteractor:function(){return this._coreInteractor},getHighlightHelper:function(){return this._highlightHelper},getRaycaster:function(){return this._raycaster},getAspect:function(){var t=this,e=t._aspect;return e||((e=t.getWidth()/t.getHeight())||1.2)},getCanvas:function(){return this._canvas},setDataModel:function(t){var e=this,i=e._dataModel,n=e._selectionModel;i!==t&&(i&&(i.ump(e.handleDataModelPropertyChange,e),i.umm(e.handleDataModelChange,e),i.umd(e.handleDataPropertyChange,e),n||i.sm().ums(e.handleSelectionChange,e)),e._dataModel=t,t.mp(e.handleDataModelPropertyChange,e),t.mm(e.handleDataModelChange,e),t.md(e.handleDataPropertyChange,e),n?n._21I(t):t.sm().ms(e.handleSelectionChange,e),e._postProcessing.handleDataModleChange(i,t),e.invalidateAll(!0),e.invalidateLight(),e.fp(Ve,i,t),e._canvas.style.background=t.getBackground()||"")},handleDataModelPropertyChange:function(t){if("background"===t.property){var e=this._canvas.style.background,i=t.newValue||"";this._canvas.style.background=i,this.fp("canvasBackground",e,i)}else"envmap"===t.property&&this.iv()},handleDataPropertyChange:function(t){var e=t.data;this.invalidateData(e),md(e)&&"s:light.type"===t.property&&this.invalidateLight()},invalidateLight:function(){this._lightChanged||(this._lightChanged=!0,this.iv())},onPropertyChanged:function(t){var e=this,i=t.property;e.iv(),e._18Q=r,"eye"===i?e._33Q=!0:"devicePixelRatio"===i?e._42(r,e.getDevicePixelRatio()):pf[i]&&Qd(e)},_5O:function(t){var e=t._22Q();return e?new e(this,t):r},getData3dUI:function(t){var e=this._25I[t._id];return e===n&&(e=this._5O(t),this._25I[t._id]=e),e},invalidateAll:function(t){var e=this;if(t){for(var i in e._25I){var n=e._25I[i];n&&n.dispose()}e._25I={},e.iv(),Bg(e)}else Bg(e),e.dm().each(function(t){e.invalidateData(t)})},invalidateSelection:function(){var t=this;t.sm().each(function(e){t.invalidateData(e)})},invalidateData:function(t){var e=this,i=e.getData3dUI(t);i&&(i.iv(),e.iv()),Bg(e,t)},getShape3dText:function(t){return t.getStyle("shape3d.text")||this.getLabel(t)},invalidateBatch:function(t){var e=this,i=e._batchModelMap,o=i[t],a=[],r={};if(o){o.ds.forEach(function(t){var i=e.getData3dUI(t);i&&i.iv(),delete e._batchIndexMap[t._id],a.push(t._id)}),delete i[t];for(var s,l,c,h,d,g,u,f,v,p=["_wireframeModelMap","_polylineModelMap","_wireframeModelMapSwap","_polylineModelMapSwap"],I=["_wireframeIndexMap","_polylineIndexMap","_wireframeIndexMapSwap","_polylineIndexMapSwap"],_=0;_<p.length;_++){var y=e[p[_]],C=e[I[_]];for(r={},f=0;f<a.length;f++){var m=C[a[f]];if(m){delete C[a[f]],s=y[v=m.batch];var w=m.begin,b=m.size,A=3*w,M=3*b,x=4*w,D=4*b;for(l=s.ds,c=s.vs,h=s.cs,d=s.ps,g=s.ls,u=m.index,s.invalidate=!0,l[u]=n,u=A;A+M>u;u++)c[u]=n;for(u=x;x+D>u;u++)h[u]=n;for(u=x;x+D>u;u++)d[u]=n;if(g)for(u=A;A+M>u;u++)g[u]=n;r[v]=!0}}for(v in r){l=(s=y[v]).ds,c=s.vs,h=s.cs,d=s.ps,g=s.ls;var T=[];for(u=0;u<l.length;u++)l[u]!==n&&T.push(l[u]);if(0===T.length)delete y[v];else{for(s.ds=T,T=[],u=0;u<c.length;u++)c[u]!==n&&T.push(c[u]);for(s.vs=T,T=[],u=0;u<h.length;u++)h[u]!==n&&T.push(h[u]);for(s.cs=T,T=[],u=0;u<d.length;u++)d[u]!==n&&T.push(d[u]);if(s.ps=T,g){for(T=[],u=0;u<g.length;u++)g[u]!==n&&T.push(g[u]);s.ls=T}}}}e.iv()}},handleDataModelChange:function(t){var e=this,i=t.kind,n=t.data;if("add"===i)e.invalidateData(n),mn(n)&&n.getEdgeGroup()&&n.getEdgeGroup().eachSiblingEdge(e.invalidateData,e),md(n)&&e.invalidateLight();else if(i===Nt){var o=n._id,a=e._25I[o];a&&(a.dispose(),delete e._25I[o],e.iv()),n===e._currentSubGraph&&e.setCurrentSubGraph(r),Bg(e,n),md(n)&&e.invalidateLight()}else i===St&&(e.invalidateAll(!0),e.setCurrentSubGraph(r),Bg(e),e.invalidateLight())},toCanvas:function(t,e,i){var n=this,o=n.getGL();if(n.validate(),t){var a=o.getParameter(o.COLOR_CLEAR_VALUE);qd(o,t)}n._42(r,1);var s=n.getWidth(),l=n.getHeight(),h=new Uint8Array(4*s*l),d=qn(),g=d.getContext("2d");o.readPixels(0,0,s,l,o.RGBA,o.UNSIGNED_BYTE,h),io(d,s,l,1);for(var u=g.getImageData(0,0,s,l),f=u.data,v=0;v<f.length;v+=4){var p=v/4,I=w(p/s);f[p=4*((l-1-I)*s+(p-I*s))]=h[v],f[p+1]=h[v+1],f[p+2]=h[v+2],f[p+3]=h[v+3]}if(g.putImageData(u,0,0),t&&qd(o,a),n._42(r,n.getDevicePixelRatio()),e&&i){var _=qn(),y=_.getContext("2d");return io(_,e=e,i=i,1),c.drawImage(y,d,0,0,e,i),_}return d},toDataURL:function(t,e){var i=this,n=i.getGL();if(i.validate(),t){var o=n.getParameter(n.COLOR_CLEAR_VALUE);qd(n,t)}i._42(r,1);var a=i._canvas.toDataURL(e||"image/png",1);return t&&qd(n,o),i._42(r,i.getDevicePixelRatio()),a},getGL:function(){var t=this,e=t._26I;if(t._prg,!e)try{t._2O={},(e=t._26I=t._canvas.getContext("webgl",t._attributes)||t._canvas.getContext("experimental-webgl",t._attributes))._emptyTexture=Fd(e),e._emptyBlendTexture=Fd(e),e._bufPool={},e._id=++If,t._buffer={vs:Yd(e),ns:Yd(e),is:Yd(e),uv:Yd(e),batchColor:Yd(e),batchBlend:Yd(e),batchBrightness:Yd(e),lineDistance:Yd(e)},t._1O=Gd(e);var i=t._cube={vs:Yd(e),ns:Yd(e),is:Yd(e),uv:Yd(e)};cg(e,i.vs,du),cg(e,i.ns,fu),cg(e,i.uv,uu),dg(e,i.is,gu)}catch(t){}return t.acquireProgram(),e},acquireProgram:function(){var t=this,e=t._26I;if(e){var i=!!s.Default.getImage(t.dm().getEnvmap()),n=!(!t._prg||!t._prg.envMapFlag);if(!t._prg||i!==n){var o=t._prg=e.createProgram();if(!o)return r;o.envMapFlag=i;var a=t._dirs.length,l=t._spots.length,c=t._59O.length,h=["uPMatrix","uMVMatrix","uMMatrix","uReflectivity","uViewMatrix","uUseEnvMap","uEnvMap","uCameraPosition","uNMatrix","uViewMatrix","aNormal","aUv","uOffsetScale","uDiffuse","uBlend","uBlendColor","uBrightness","uPartOpacity","uAlphaTest","uTransparent","uTexture","uBlendTexture","uSampler","uBlendSampler","uDiscardSelectable","uFix","uPick","uReverseFlip","uFixPickReverseColor","uBatchBrightness","aBatchBrightness","uBatchColor","aBatchColor","uBatchBlend","aBatchBlend","uDash","aLineDistance","uDashDistance","uDashGapDistance","uLight","uHeadlightRange","uHeadlightColor","uFogColor","uFogNear","uFogFar"];a&&h.push("uDirColor","uDirDirection"),l&&h.push("uSpotColor","uSpotRange","uSpotAngle","uSpotExponent","uSpotPosition","uSpotDirection"),c&&h.push("uPointColor","uPointRange","uPointPosition"),qd(e,[0,0,0,0]),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.enable(e.BLEND),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),Id||(Sg=Sn(Sg.substring(0,Sg.indexOf("^#"))),zg=Sn(zg),Id=!0);var d=["#define MAX_DIR "+a,"#define MAX_SPOT "+l,"#define MAX_POINT "+c,t._fogDisabled?"":"#define FOG",t._dashDisabled?"":"#define DASH",i?"#define USE_ENVMAP":"",t._batchColorDisabled?"":"#define BATCHCOLOR",t._batchBlendDisabled?"":"#define BATCHBLEND",t._batchBrightnessDisabled?"":"#define BATCHBRIGHTNESS",""].join("\n"),g=Hd(e,o,e.VERTEX_SHADER,Sg.replace("PREFIX",d));e.getShaderParameter(g,e.COMPILE_STATUS)||console.error("compile vs shader faild, error info : ",e.getShaderInfoLog(g));var u=Hd(e,o,e.FRAGMENT_SHADER,zg.replace("PREFIX",d));e.getShaderParameter(u,e.COMPILE_STATUS)||console.error("compile fs shader faild, error info : ",e.getShaderInfoLog(u)),K?h.push("aPosition"):(o.aPosition=0,e.bindAttribLocation(o,0,"aPosition")),e.linkProgram(o),h.forEach(function(t){o[t]=/^u/.test(t)?e.getUniformLocation(o,t):e.getAttribLocation(o,t)}),e.useProgram(o),e.deleteShader(g),e.deleteShader(u)}}},getBrightness:function(t){var e=t.s("brightness"),i=this.isSelected(t)?t.s("select.brightness"):r;return e==r?i:i==r?e:e*i},setHighlightMode:function(t){var e;e="selection"===t?Af.Mode.Selection:"mouseover"===t?Af.Mode.MouseOver:Af.Mode.Disable,this._highlightHelper.mode=e},getHighlightMode:function(){var t=this._highlightHelper.mode;return t===Af.Mode.Selection?"selection":t===Af.Mode.MouseOver?"mouseover":"disable"},bindEnvMap:function(t){var e=this,i=e._prg,n=e.dm().getEnvmap(),o=s.Default.getImage(n);if(o){if(n!==e._lastEnvMap){e._envMapTexture&&t.deleteTexture(e._envMapTexture);var a=e._envMapTexture=t.createTexture();t.bindTexture(t.TEXTURE_CUBE_MAP,a),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+0,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,o),t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+1,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,o),t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+2,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,o),t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+3,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,o),t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+4,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,o),t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+5,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,o),t.bindTexture(t.TEXTURE_CUBE_MAP,null),e._lastEnvMap=n}t.activeTexture(t.TEXTURE0+5),t.bindTexture(t.TEXTURE_CUBE_MAP,e._envMapTexture),t.uniform1i(i.uEnvMap,5)}},getWireframe:function(t){var e=t.s("wf.visible"),i=t.s("wf.width");return!0===e||i>0&&"selected"===e&&this.isSelected(t)?{color:t.s("wf.color"),width:i,short:t.s("wf.short"),mat:t.s("wf.mat")}:void 0},_transformPointToViewSpace:function(t){var e=[t[0],t[1],t[2]];return Es(e,this._viewMatrix),e},_transformDirectionToViewSpace:function(t,e){var i=[t[0],t[1],t[2]];Es(i,this._viewMatrix);var n=e?[e[0],e[1],e[2]]:[0,0,0];Es(n,this._viewMatrix);var o=n[0]-i[0],a=n[1]-i[1],r=n[2]-i[2],s=Math.sqrt(o*o+a*a+r*r);return s?[o/s,a/s,r/s]:[o,a,r]},getWireframeGeometry:function(t){return t.s("wf.geometry")?{color:t.s("wf.color"),width:t.s("wf.width"),mat:t.s("wf.mat"),geometry:!0}:void 0},getBodyColor:function(t){return t.s("body.color")},getMat:function(t){return t.getMat?t.getMat():t.s("mat")},getFaceMat:function(t,e){return t.getFaceMat?t.getFaceMat(e):t.s(e+".mat")},getFaceBlend:function(t,e){return t.s(e+".blend")||t.s("all.blend")},getFaceColor:function(t,e){return t.s(e+".color")||t.s("all.color")},getFaceImage:function(t,e){return t.s(e+".image")||t.s("all.image")},getFaceBlendImage:function(t,e){return t.s(e+".blend.image")||t.s("all.blend.image")},getFaceDiscardSelectable:function(t,e){var i=t.s(e+".discard.selectable");return i==r?t.s("all.discard.selectable"):i},getFaceUv:function(t,e){return t.s(e+".uv")||t.s("all.uv")},getFaceUvOffset:function(t,e){return t.s(e+".uv.offset")||t.s("all.uv.offset")},getFaceUvScale:function(t,e){return t.s(e+".uv.scale")||t.s("all.uv.scale")},getFaceLight:function(t,e){var i=t.s(e+".light");return i==r?t.s("all.light"):i},getFaceVisible:function(t,e){var i=t.s(e+".visible");return i==r?t.s("all.visible"):i},getFaceOpacity:function(t,e){var i=t.s(e+".opacity");return i==r?t.s("all.opacity"):i},getFaceTransparent:function(t,e){var i=t.s(e+".transparent");return i==r?t.s("all.transparent"):i},getFaceReverseColor:function(t,e){return t.s(e+".reverse.color")||t.s("all.reverse.color")},getFaceReverseFlip:function(t,e){var i=t.s(e+".reverse.flip");return i==r?t.s("all.reverse.flip"):i},getFaceReverseCull:function(t,e){var i=t.s(e+".reverse.cull");return i==r?t.s("all.reverse.cull"):i},getTextureMap:function(){return this._2O},deleteTexture:function(t){var e=this,i=e._2O[t];i&&(delete e._2O[t],e.getGL().deleteTexture(i))},invalidateShape3dCachedImage:function(t){this.getData3dUI(t).invalidateCachedTexture(this.getGL())},isInteractive:function(t){return t.s("interactive")},getTexture:function(t,e){if(!t)return r;var i=this,n=i.getGL(),o=i._2O[t];if(!o){var a=Pr(t);if(!a)return n._emptyTexture;if(a.uuid||(a.uuid=s.Math.generateUUID()),a.tagName){if(a.dynamic)return Gd(n,a,i._1O);o=i._2O[t]=Gd(n,a)}else{var l,h=e&&e.s("shape3d.image.cache")&&!i.isInteractive(e),d=i.vr.isPresenting();if(d&&(e._textureUpdateFrame===n._renderInfo.frame?h=!0:e._textureUpdateFrame=n._renderInfo.frame),h&&(o=(l=i.getData3dUI(e)).getCachedTexture()),!o){if(h){if(n._renderInfo.cacheTimeCost>c.graph3dMaxVectorCacheTime)return i.redraw(),n._emptyTexture;if(!Zr(a,e))return n._emptyTexture}var g,u=e&&e.s("shape3d.fixSizeOnScreen"),f=u?n.NEAREST:n.LINEAR;u||e&&e.s("shape3d.vector.dynamic")&&(l||(l=i.getData3dUI(e)),(u=l.getVectorDynamicSize())&&(g=i.getDevicePixelRatio(),u[0]*=g,u[1]*=g));var v,p,I=e&&e.s("shape3d.texture.scale")||1;if(u?(g||(g=i.getDevicePixelRatio()),v=u[0]>0?u[0]:I*al(a,e)*g,p=u[1]>0?u[1]:I*rl(a,e)*g):(v=I*al(a,e),p=I*rl(a,e)),v>=1&&p>=1){var _=0;h&&(_=Date.now());var y=Xo(v,p);if(!l&&e&&(l=i.getData3dUI(e)),l&&l.interactiveInfo){var C=t;"object"==typeof C&&(C=C.uuid||(C.uuid=s.Math.generateUUID()));var m=l.interactiveInfo[C]={};y.interactiveInfo=m.bodyInfo={compInfos:[],matrix:new dl,rect:{x:0,y:0,width:v,height:p}}}ll(y,a,0,0,v,p,e,i),y.interactiveInfo&&(y.interactiveInfo=null),y.restore(),h||d?(o=Gd(n,Yo,null,f),l.setCachedTexture(o),n._renderInfo.cacheTimeCost+=Date.now()-_,Yo=null):o=Gd(n,Yo,i._1O,f)}}}}return o},redraw:function(){this.iv()},validateImpl:function(){var t=this;if(t._lightChanged){t._lightChanged=!1;var e=[],i=[],n=[];t.dm().each(function(t){if(md(t)){var o=t.s("light.type");"point"===o?e.push(t):"spot"===o?i.push(t):"directional"===o&&n.push(t)}}),(e.length!==t._59O.length||i.length!==t._spots.length||n.length!==t._dirs.length)&&Qd(t),t._59O=e,t._spots=i,t._dirs=n}t._42(),t._1o.iv()},getRenderInfo:function(){var t=this.getGL();return t?t._renderInfo:void 0},getDebugTip:function(){var t=this,e=t.getRenderInfo();if(e){var i=t.getGL()._validBufCount||0,n="Draw Calls: "+e.calls+"<br/>Vertices: "+e.vertices+"<br/>Faces: "+e.faces+"<br/>Lines: "+e.lines+"<br/>Buffer Count: "+i;return t.vr.isPresenting()&&(n+="<br/>VR fps: "+t.vr.getFps()),n}},_42:function(t,e){var i=this;if(!i._35O&&(!Ni||Ai(Ni))){var n,o;t&&(t instanceof qc?o=t:n=t);var a=i._canvas,s=i.getGL(),l=i._prg;if(s){var c=i.getWidth(),d=i.getHeight();e?t||io(a,c,d,e):(e=i.getDevicePixelRatio(),t||c===a.clientWidth&&d===a.clientHeight||io(a,c,d,e)),s.clear(s.COLOR_BUFFER_BIT),i.drawFilter||(s._renderInfo={calls:0,vertices:0,faces:0,lines:0,frame:t?i._frameId:++i._frameId,cacheTimeCost:0});var g=function(){if(i.overlappingBox.clear(),i._81O=r,s.clear(s.DEPTH_BUFFER_BIT),fg(s,l.uBrightness,1),fg(s,l.uOpacity,1),fg(s,l.uPartOpacity,1),s._picking=!!t,fg(s,l.uPick,!!t),fg(s,l.uTexture,!1),fg(s,l.uBlendTexture,!1),fg(s,l.uAlphaTest,h.alphaTest),fg(s,l.uTransparent,!1),fg(s,l.uFix,!1),fg(s,l.uBatchColor,!1),fg(s,l.uBatchBlend,!1),fg(s,l.uBatchBrightness,!1),fg(s,l.uReflectivity,i._envmapReflectivity||.5),fg(s,l.uCameraPosition,i.getEye()),fg(s,l.uPMatrix,i._projectMatrix=Ud(i)),fg(s,l.uViewMatrix,Od(i,i._7O)),i.bindEnvMap(s),i._viewMatrix=ks(i._7O),t||(Dd(i,s,l),i._fogDisabled||(fg(s,l.uFogColor,i._fogColor),fg(s,l.uFogNear,i._fogNear),fg(s,l.uFogFar,i._fogFar))),vg(s,l.aPosition),vg(s,l.aNormal),pg(s,l.aUv),pg(s,l.aBatchColor),pg(s,l.aBatchBlend),pg(s,l.aBatchBrightness),pg(s,l.aLineDistance),o){var e=s.getParameter(s.COLOR_CLEAR_VALUE);s.clearColor(0,0,0,0),s.disable(s.BLEND),pg(s,l.aNormal),cg(s,i._cube.vs,r,l.aPosition),dg(s,i._cube.is),Cd(o,i,ct,0),Cd(o,i,st,6),Cd(o,i,ht,12),Cd(o,i,lt,18),Cd(o,i,dt,24),Cd(o,i,gt,30),vg(s,l.aNormal),qd(s,e)}else if(n){n.value=2;e=s.getParameter(s.COLOR_CLEAR_VALUE);s.clearColor(0,0,0,0),s.disable(s.BLEND),i._95I(s,l,n),qg(i,n),Kg(i,i._polylineModelMap,n),Kg(i,i._wireframeModelMap,n),fg(s,l.uTransparent,!0),i._95I(s,l,n,!0),qg(i,n,!0),Kg(i,i._polylineModelMap,n,!0),Kg(i,i._wireframeModelMap,n,!0),fg(s,l.uTransparent,!1),s.clear(s.DEPTH_BUFFER_BIT),i._swapLineMap(),i._95I(s,l,n,!1,!0),Kg(i,i._polylineModelMap,n),Kg(i,i._wireframeModelMap,n),i._swapLineMap(),i._swapLineMap(),i._95I(s,l,n,!1,!0),Kg(i,i._polylineModelMap,n),Kg(i,i._wireframeModelMap,n),fg(s,l.uTransparent,!0),i._95I(s,l,n,!0,!0),Kg(i,i._polylineModelMap,n,!0),Kg(i,i._wireframeModelMap,n,!0),fg(s,l.uTransparent,!1),i._swapLineMap(),s.disable(s.DEPTH_TEST),i.drawFilter||i._30O._42(s,l,n),s.enable(s.DEPTH_TEST),qd(s,e)}else s.disable(s.BLEND),i.drawSky(s,l),i._31O._42(s,l),i._95I(s,l),qg(i),Kg(i,i._polylineModelMap),Kg(i,i._wireframeModelMap),s.enable(s.BLEND),fg(s,l.uTransparent,!0),s.depthMask(!1),i._95I(s,l,r,!0),qg(i,r,!0),Kg(i,i._polylineModelMap,r,!0),Kg(i,i._wireframeModelMap,r,!0),s.depthMask(!0),fg(s,l.uTransparent,!1),s.clear(s.DEPTH_BUFFER_BIT),i._swapLineMap(),s.disable(s.BLEND),i._95I(s,l,r,!1,!0),Kg(i,i._polylineModelMap),Kg(i,i._wireframeModelMap),s.enable(s.BLEND),fg(s,l.uTransparent,!0),s.depthMask(!1),i._95I(s,l,r,!0,!0),Kg(i,i._polylineModelMap,r,!0),Kg(i,i._wireframeModelMap,r,!0),s.depthMask(!0),fg(s,l.uTransparent,!1),i._swapLineMap(),s.disable(s.DEPTH_TEST),s.disable(s.BLEND),i._32O._42(s,l),i._30O._42(s,l),i._highlightHelper._42(s,l),s.enable(s.DEPTH_TEST);cg(s,r),dg(s,r)},u=!1,f=c*e,v=d*e,p=i.vr;p.enable&&p._42(s,f,v,g)&&(u=!0);var I=i.envRenderer;I&&I.enable&&I._42(s,f,v,g)&&(u=!0),i._postProcessing._42(s,f,v,g,t)&&(u=!0),u||(i.setViewport(s,0,0,c*e,d*e),g()),i._33Q=!1,i.drawFilter||i.countFrame(),i._doBufferGC(s)}}},enablePostProcessing:function(t,e){return this._postProcessing.enableModule(t,e)},getPostProcessingModule:function(t){return this._postProcessing.getModule(t)},setViewport:function(t,e,i,n,o){this._viewport=[e,i,n,o],t.viewport(e,i,n,o)},getViewport:function(){return this._viewport},setBufferGCInterval:function(t){this._bufferGCInterval=t},_doBufferGC:function(t,e){var i,n,o=t._bufPool,a=0,r=0,s=t._renderInfo.frame,l=this._bufferGCInterval||10;for(i in o)a++,(n=o[i])&&(e||s-n._fid>l?(t.deleteBuffer(n._buf),n._buf=null,o[i]=null):r++);if(a/2>r&&a>128){var c={};for(i in o)o[i]&&(c[i]=o[i]);t._bufPool=c}t._validBufCount=r},_swapLineMap:function(){var t=this;J=t._polylineModelMap,t._polylineModelMap=t._polylineModelMapSwap,t._polylineModelMapSwap=J,J=t._wireframeModelMap,t._wireframeModelMap=t._wireframeModelMapSwap,t._wireframeModelMapSwap=J,J=t._polylineIndexMap,t._polylineIndexMap=t._polylineIndexMapSwap,t._polylineIndexMapSwap=J,J=t._wireframeIndexMap,t._wireframeIndexMap=t._wireframeIndexMapSwap,t._wireframeIndexMapSwap=J},_updateSkyBox:function(t){if(this._skyBox&&t){var e=t.property,i=!1,n=this._skyBox;if("eye"===e||"forceUpdate"===e){var o=this._eye;n.p3(o[0],o[1],o[2]),i=!0}if("near"===e||"far"===e||"forceUpdate"===e){var a=this._near,r=this._far,s=n.getFinalScale3d();if(s[0]/=2,s[1]/=2,s[2]/=2,s[0]<=a||s[0]>=r||s[1]<=a||s[1]>=r||s[2]<=a||s[2]>=r){var l=2*a*r/(a+r)/Math.min(s[0],s[1],s[2]),c=n.getScale3d();n.setScale3d(c[0]*l,c[1]*l,c[2]*l),i=!0}}i&&this.invalidateData(n)}},getSkyBox:function(){return this._skyBox},setSkyBox:function(t){var e=this._skyBox;e&&(this._skyBoxStyleMap&&e.setStyleMap(this._skyBoxStyleMap),this._skyBoxStyleMap=null,this._skyBoxAnchor3d&&e.setAnchor3d(this._skyBoxAnchor3d),this._skyBoxAnchor3d=null,this._skyBoxP3&&e.p3(this._skyBoxP3),this._skyBoxP3=null),this._skyBox=t,this.ump(this._updateSkyBox,this),t&&(t.dm()&&t.dm().remove(t),this._skyBoxStyleMap=s.Default.clone(t.getStyleMap()),this._skyBoxAnchor3d=t.getAnchor3d(),t.setAnchor3d(.5,.5,.5),this._skyBoxP3=t.p3().slice(0),t.s({"shape3d.reverse.flip":!0,"shape3d.reverse.cull":!1,"all.reverse.flip":!0,"all.reverse.cull":!1,"front.reverse.flip":!0,"front.reverse.cull":!1,"back.reverse.flip":!0,"back.reverse.cull":!1,"left.reverse.flip":!0,"left.reverse.cull":!1,"right.reverse.flip":!0,"right.reverse.cull":!1,"top.reverse.flip":!0,"top.reverse.cull":!1,"bottom.reverse.flip":!0,"bottom.reverse.cull":!1}),this.mp(this._updateSkyBox,this),this._updateSkyBox({property:"forceUpdate"})),this.fp("skyBox",e,t)},drawSky:function(t,e,i){var n=this,o=n._skyBox;if(o){var a=n._headlightIntensity,r=Ko(n._headlightColor);e=n._prg;1!==a&&(r=[r[0]*a,r[1]*a,r[2]*a]),fg(t,e.uHeadlightColor,[r[0],r[1],r[2],1]);var s=n.getData3dUI(o);if(s){var l,c=n.isOrtho();c&&(l=n._projectMatrix,n.setOrtho(!1),fg(t,e.uPMatrix,n._projectMatrix=Ud(n))),s._42(t,e,i,function(){return!0}),c&&(n.setOrtho(!0),fg(t,e.uPMatrix,n._projectMatrix=l))}t.clear(t.DEPTH_BUFFER_BIT),fg(t,e.uHeadlightColor,[r[0],r[1],r[2],n._headlightDisabled?1:0])}},_95I:function(t,e,i,n,o){function a(n){if(!!n.s("shape3d.alwaysOnTop")==!!o&&r.isVisible(n)&&(!B||O)){if(!i&&r.isTransparentMask(n))return;var a=r.getData3dUI(n);a&&a._42(t,e,i,s)}}var r=this,s=function(t){return n?t:!t};r.sky&&t.clear(t.DEPTH_BUFFER_BIT);var l=r.drawFilter;l?r.dm().each(function(t){l(t)||a(t)}):r.dm().each(function(t){a(t)})},getLogicalPoint:function(t){return us(t,this._canvas)},isRectOverlapping:function(t){return this.getData3dUI(t)._rectOverlapping},getHitFaceInfo:function(t){t.target&&(t=this.lp(t));var e=this.getDataInfoAt(t);if(e){var i=this._1o.face(e.data,hn(t.x,t.y));if(i)return{data:e.data,face:i}}return r},unproject:function(t,e){var i=this,n=i.getWidth(),o=i.getHeight(),a=t.target?i.lp(t):t,r=(a.x-n/2)/n*2,s=-1*(a.y-o/2)/o*2;e=e||0;var l=Ss(),c=Ud(i),h=Od(i);Zd(l,c,h),jd(l);var d=Vs([r,s,e,1],l);return[d[0]/d[3],d[1]/d[3],d[2]/d[3]]},getDataAt:function(t){var e=this.getDataInfoAt(t);return e?e.data:r},getDataInfoAt:function(t,e){return t.target&&(t=this.lp(t)),this._1o.get(hn(t.x,t.y,e),!0)},getDatasInRect:function(t){return this._1o.get(t)},setEditable:function(t){var e=this._editable;this._editable=t,this.fp(Ae,e,t)},isEditable:function(t){var e=this;return!!e._editable&&(!!Cn(t)&&(!!t.s("3d.editable")&&(!e._editableFunc||e._editableFunc(t))))},isSelectable:function(t){return t.s("3d.selectable")&&this.sm().isSelectable(t)},isMovable:function(t){return(!mn(t)||t.getStyle(qt)===Zt)&&(!!t.s("3d.movable")&&(!this._movableFunc||this._movableFunc(t)))},isSizeEditable:function(t){return!!Cn(t)&&(!this._sizeEditableFunc||this._sizeEditableFunc(t))},isRotationEditable:function(t){return!(!Cn(t)||!1===t.IRotatable)&&(!this._rotationEditableFunc||this._rotationEditableFunc(t))},handleDelete:function(){this._editable&&this.removeSelection()},zoomIn:function(t){this.setZoom(Nr,t)},zoomOut:function(t){this.setZoom(1/Nr,t)},setZoom:function(t,e){if(1!==t){var i=this;if(i._ortho)return void i.setOrthoZoom(t,e);i._14o&&i._14o.stop(!0);var n=1/t,o=i._eye,a=i._center,s=a[0]+(o[0]-a[0])*n-o[0],l=a[1]+(o[1]-a[1])*n-o[1],c=a[2]+(o[2]-a[2])*n-o[2];if(!(os(o,a)<i._moveStep&&1>n)){if(e=Dn(e)){var h=Gr(o);return e.action=function(t){i.fi({kind:i._zooming?"betweenZoom":"beginZoom"}),i._zooming=1,o[0]=h[0]+s*t,o[1]=h[1]+l*t,o[2]=h[2]+c*t,i.fp(ft,r,o)},e._37o=function(){delete i._14o,delete i._zooming,i.fi({kind:"endZoom"}),i.onZoomEnded()},i._14o=Qr(e)}o[0]+=s,o[1]+=l,o[2]+=c,i.fp(ft,r,o)}}},setOrthoZoom:function(t,e){if(1!==t){var i=this;i._14o&&i._14o.stop(!0);var n=i._orthoWidth,o=n/t-n;if(!(n<i._moveStep&&t>1))return(e=Dn(e))?(e.action=function(t){i.fi({kind:i._zooming?"betweenZoom":"beginZoom"}),i._zooming=1,i.setOrthoWidth(n+o*t)},e._37o=function(){delete i._14o,delete i._zooming,i.fi({kind:"endZoom"}),i.onZoomEnded()},i._14o=Qr(e)):void i.setOrthoWidth(n/t)}},getPositionInfo:function(t){var e=this,i=e._eye,n=e._center,o=e.getAspect(),a=t?Ns(Ds(n,i,!0),Ds(t,i)):os(i,n);if(e._ortho){var r=e._orthoWidth;return{length:a,height:r/o,width:r}}var s=2*R(e._fovy/2)*a;return{length:a,height:s,width:s*o}},getCenterInfo:function(){var t=this;return t._81O||(t._81O=t.getPositionInfo()),Gr(t._81O)},rotate:function(t,e,i,n){var o=this;if(t||e){n==r&&(n=o._firstPersonMode),o._88O&&o._88O.stop(!0);var a=o._center,s=o._eye,l=o.getCenterInfo().length,c=n?a:s,h=n?s:a,d=Ds(c,h),g=P(d[0],d[2]),u=P(A(d[0]*d[0]+d[2]*d[2]),d[1]),f=n?ut:ft;return n&&(e=-e),(i=Dn(i))?(i.action=function(i){o.fi({kind:o._rotating?"betweenRotate":"beginRotate"}),o._rotating=1;var n=g+t*i,a=u+e*i;a=Nd(a),d[0]=l*S(a)*S(n),d[1]=l*T(a),d[2]=l*S(a)*T(n),c[0]=h[0]+d[0],c[1]=h[1]+d[1],c[2]=h[2]+d[2],o.fp(f,r,c)},i._37o=function(){delete o._88O,delete o._rotating,o.fi({kind:"endRotate"}),o.onRotateEnded()},o._88O=Qr(i)):(g+=t,u=Nd(u+=e),d[0]=l*S(u)*S(g),d[1]=l*T(u),d[2]=l*S(u)*T(g),c[0]=h[0]+d[0],c[1]=h[1]+d[1],c[2]=h[2]+d[2],void o.fp(f,r,c))}},pan:function(t,e,i,n){if(t||e){var o=this;n==r&&(n=o._firstPersonMode),o._89O&&o._89O.stop(!0);var a=Od(o),s=[a[0]*t,a[4]*t,a[8]*t],l=[a[1]*e,a[5]*e,a[9]*e],c=s[0]+l[0],h=s[1]+l[1],d=s[2]+l[2],g=o._center,u=o._eye;if(n){var f=Dg(o.getBoundaries(),u[0],u[2],u[0]+c,u[2]+d,A(c*c+d*d));c=f[0],d=f[1]}if(i=Dn(i)){var v=Gr(u),p=Gr(g);return i.action=function(t){o.fi({kind:o._panning?"betweenPan":"beginPan"}),o._panning=1,g[0]=p[0]+c*t,g[1]=p[1]+h*t,g[2]=p[2]+d*t,u[0]=v[0]+c*t,u[1]=v[1]+h*t,u[2]=v[2]+d*t,o.fp(ft,r,u),o.fp(ut,r,g)},i._37o=function(){delete o._89O,delete o._panning,o.fi({kind:"endPan"}),o.onPanEnded()},o._89O=Qr(i)}g[0]+=c,g[1]+=h,g[2]+=d,u[0]+=c,u[1]+=h,u[2]+=d,o.fp(ft,r,u),o.fp(ut,r,g)}},walk:function(t,e,i){if(t){var n=this;i==r&&(i=n._firstPersonMode),n._90O&&n._90O.stop(!0);var o=n._center,a=n._eye,s=Ds(o,a,!0);if(i){var l=Dg(n.getBoundaries(),a[0],a[2],a[0]+s[0]*t,a[2]+s[2]*t,D(t));if(!(t=os(l)))return;s=[l[0]/t,0,l[1]/t]}if(e=Dn(e)){var c=Gr(a),h=Gr(o);return e.action=function(e){n.fi({kind:n._walking?"betweenWalk":"beginWalk"}),n._walking=1;var i=t*e;a[0]=c[0]+s[0]*i,a[1]=c[1]+s[1]*i,a[2]=c[2]+s[2]*i,o[0]=h[0]+s[0]*i,o[1]=h[1]+s[1]*i,o[2]=h[2]+s[2]*i,n.fp(ft,r,a),n.fp(ut,r,o)},e._37o=function(){delete n._90O,delete n._walking,n.fi({kind:"endWalk"}),n.onWalkEnded()},n._90O=Qr(e)}a[0]+=s[0]*t,a[1]+=s[1]*t,a[2]+=s[2]*t,o[0]+=s[0]*t,o[1]+=s[1]*t,o[2]+=s[2]*t,n.fp(ft,r,a),n.fp(ut,r,o)}},handleScroll:function(t,e){t.preventDefault();var i=this,n=i._moveStep,o=i.getDataInfoAt(t);if(o){var a=o.data;if(a&&i.isInteractive(a)){var r=i.intersectObject(t,a);if(r){var s=r.part,l=Pr(a.s(s+".image")||a.s("shape3d."+s+".image")||a.s("all.image")||a.s("shape3d.image"));if(l&&sl(l.scrollable,a,i))return}}}i.isFirstPersonMode()?i.isPannable()&&i.pan(0,e>0?n:-n):i.isZoomable()&&i.setZoom(0>e?1/Sr:Sr)},handlePinch:function(t,e){this.isZoomable()&&this.setZoom(e>t?1/zr:zr)},reset:function(){this.setCenter(c.graph3dViewCenter),this.setEye(c.graph3dViewEye),this.setUp(c.graph3dViewUp)},moveSelection:function(t,e,i){this.dm().beginTransaction(),Ta(this.sm().toSelection(this.isMovable,this),t,e,i),this.dm().endTransaction()},getMoveMode:function(t,e){var i=e.s("3d.move.mode");if(i)return i;var n="88",o="89",a="90";return ts(t)||ji[n]&&ji[o]&&ji[a]?"xyz":ji[n]&&ji[o]?"xy":ji[n]&&ji[a]?"xz":ji[o]&&ji[a]?"yz":ji[n]?"x":ji[o]?"y":ji[a]?"z":"xz"},handleTick:function(){var t=this,e=!1,i=t._moveStep,n=i,o=!1,a=-1*t._rotateStep;if(t.isWalkable()||(n=0),t.isPannable()||(i=0),t.isRotatable()||(a=0),t._32Q){var r=(nn()-t._32Q)/50;n*=r,i*=r,a*=r}t._31Q&&(on(t._31Q),delete t._31Q,delete t._32Q),jo()&&(e=!0,t.pan(-i,0,o,!0)),Po()&&(e=!0,t.pan(i,0,o,!0)),Zo()&&(e=!0,ts()?t.pan(0,i,o,!0):t.walk(n,o,!0)),Ro()&&(e=!0,ts()?t.pan(0,-i,o,!0):t.walk(-n,o,!0)),Lo()&&(e=!0,t.rotate(-a,0,o,!0)),Oo()&&(e=!0,t.rotate(a,0,o,!0)),Bo()&&(e=!0,t.rotate(0,-a/2,o,!0)),Uo()&&(e=!0,t.rotate(0,a/2,o,!0)),e&&(t._32Q=nn(),t._31Q=Ur(t.handleTick,t))},handleKeyDown:function(t){var e=this;!es(t)&&Qo[t.keyCode]?e.handleTick():So(t)?e.selectAll():zo(t)?e.handleDelete(t):Wo(t)&&this.isResettable()&&e.reset()},checkDoubleClickOnNote:function(t,e,i){if(i===Wt){if(e.s("note.toggleable"))return e.s(Jt,!e.s(Jt)),this.fi({kind:"toggleNote",event:t,data:e,part:i}),!0}else if(i===Gt&&e.s("note2.toggleable"))return e.s(Xt,!e.s(Xt)),this.fi({kind:"toggleNote2",event:t,data:e,part:i}),!0;return!1},checkDoubleClickOnRotation:function(t,e,i){return i===Sf?(e.setRotationX(0),!0):i===zf?(e.setRotationY(0),!0):i===kf&&(e.setRotationZ(0),!0)},onRotateEnded:function(){},onWalkEnded:function(){},getViewRatio:function(t){var e=this;if(e.isOrtho())return e.getWidth()/e.getOrthoWidth();var i=e.getCenter(),n=e.getHeight(),o=e.getEye(),a=[i[0]-o[0],i[1]-o[1],i[2]-o[2]],r=[t[0]-o[0],t[1]-o[1],t[2]-o[2]];return n*Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])*(1/Math.tan(e.getFovy()/2))/(r[0]*a[0]+r[1]*a[1]+r[2]*a[2])},inViewSpace:function(t){var e,i=this,n=i._transformPointToViewSpace(t),o=i.getAspect(),a=i.getNear(),r=i.getFar();return!(-n[2]<a||-n[2]>r)&&(i.isOrtho()?(e=i.getOrthoWidth()/2,Math.abs(n[0])<=e&&Math.abs(n[1]*o)<=e):(e=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2])*Math.tan(i.getFovy()/2),Math.abs(n[1]<=e)&&Math.abs(n[0])<=e*o))},toViewPosition:function(t){var e=this,i=e.getWidth()/2,n=e.getHeight()/2,o=e._18Q;return o&&o._wh===i/n||(o=Ud(e),e._18Q=Zd(o,o,Od(e)),e._18Q._wh=i/n),{x:i+i*(t=Vs([t[0],t[1],t[2],1],o))[0]/t[3],y:n-n*t[1]/t[3]}},getHitPosition:function(t,e,i){var n=this,o=n.getWidth(),a=n.getHeight(),r=t.target?n.lp(t):t,s=r.x-o/2,l=r.y-a/2,c=n.getCenterInfo(),h=Od(n);e=e||[0,0,0],i=i||[0,1,0],s=s/o*c.width,l=-1*l/a*c.height;var d=[h[0]*s,h[4]*s,h[8]*s],g=[h[1]*l,h[5]*l,h[9]*l],u=[d[0]+g[0],d[1]+g[1],d[2]+g[2]],f=n.getCenter(),v=zd(n,e,i,[u[0]+f[0],u[1]+f[1],u[2]+f[2]]);return v||[0,0,0]},intersectObject:function(t,e){return this._raycaster.intersectObject(t,e)},intersectObjects:function(t,e,i){return this._raycaster.intersectObjects(t,e,i)},getLineLength:function(t){this.validate();var e=this.getData3dUI(t);if(e&&e.getCache){var i=e.getCache();if(i)return i[i.length-1].length}return 0},getLineOffset:function(t,e){var i=this.getData3dUI(t);if(i&&i.getCache){var n=i.getCache();if(n)return Zu(n,e)}return r},isLabelVisible:function(){return!0},isNoteVisible:function(){return!0},moveCamera:function(t,e,i){var n=this,o=n.getEye();o=[o[0],o[1],o[2]];var a=n.getCenter();if(a=[a[0],a[1],a[2]],t||(t=o),e||(e=a),n._flyAnim&&n._flyAnim.stop(!0),!(i=Dn(i)))return n.setEye(t[0],t[1],t[2]),n.setCenter(e[0],e[1],e[2]),delete n._flyAnim,!0;var r=[t[0]-o[0],t[1]-o[1],t[2]-o[2]],s=[e[0]-a[0],e[1]-a[1],e[2]-a[2]];return i.action=function(t){n.setCenter(a[0]+s[0]*t,a[1]+s[1]*t,a[2]+s[2]*t),n.setEye(o[0]+r[0]*t,o[1]+r[1]*t,o[2]+r[2]*t)},i._37o=function(){delete n._flyAnim},n._flyAnim=Qr(i)},flyTo:function(){function t(t,e,i){if(i instanceof s.Node){r.fromArray(Ls(i,e.getMat(i)));var n=i.getAnchor3d();t.push((new ul).set(0-n.x,0-n.y,0-n.z).applyMatrix4(r)),t.push((new ul).set(0-n.x,0-n.y,1-n.z).applyMatrix4(r)),t.push((new ul).set(0-n.x,1-n.y,0-n.z).applyMatrix4(r)),t.push((new ul).set(0-n.x,1-n.y,1-n.z).applyMatrix4(r)),t.push((new ul).set(1-n.x,0-n.y,0-n.z).applyMatrix4(r)),t.push((new ul).set(1-n.x,0-n.y,1-n.z).applyMatrix4(r)),t.push((new ul).set(1-n.x,1-n.y,0-n.z).applyMatrix4(r)),t.push((new ul).set(1-n.x,1-n.y,1-n.z).applyMatrix4(r))}}var e=new ul,i=new ul,o=new ul,a=new ul,r=new Il,l=new s.Math.Quaternion,c=new Cl;return function(r,h,d){var g=this;if(d!==n)h={animation:h,ratio:d};else{var u=typeof h;("boolean"===u||"object"===u&&h.duration)&&(h={animation:h})}h=h||{},e.fromArray(g.getEye()),i.fromArray(g.getCenter());var f,v,p=[],I=h.center,_=h.distance===n;if(I&&o.fromArray(I),r instanceof s.Node)I||o.fromArray(r.p3()),_&&(t(p,g,r),f=p.length);else{if(r||(r=g.dm().getDatas()),!r.length)return;if((_||!I)&&(p=[],r.forEach(function(e){t(p,g,e)}),f=p.length),!f)return;if(!I){for(o.set(0,0,0),v=0;f>v;v++)o.add(p[v]);o.multiplyScalar(1/f)}}if(g.setCenter(o.x,o.y,o.z),a.subVectors(e,i),h.direction||h.worldDirection){!h.worldDirection&&r instanceof s.Node?l.setFromEuler(c.set(r.r3(),r.getRotationMode(),!0)):l.set(0,0,0,1);var y=a.length();a.fromArray(h.worldDirection||h.direction).applyQuaternion(l).setLength(y)}if(_){var C,m,w,b,A,M=g.getNear(),x=10;for(d=h.ratio||.8;x--;){for(g._eye[0]=a.x+o.x,g._eye[1]=a.y+o.y,g._eye[2]=a.z+o.z,C=Ud(g),Zd(C,C,Od(g)),b=!0,A=-1/0,v=0;f>v;v++){if(w=p[v],(m=Vs([w.x,w.y,w.z,1],C))[3]<M&&x){a.multiplyScalar(2),b=!1;break}A=Math.max(A,Math.max(Math.abs(m[0]),Math.abs(m[1]))/d-m[3])}if(b)break}a.setLength(A+a.length()).add(o)}else a.setLength(h.distance).add(o);g._flyAnim&&g._flyAnim.stop(!0);var D=Dn(h.animation);if(D){g.setEye(e.x,e.y,e.z),g.setCenter(i.x,i.y,i.z);var T=(new ul).subVectors(a,e),N=(new ul).subVectors(o,i),S=new ul,z=new ul;return D.action=function(t){S.copy(e).addScaledVector(T,t),z.copy(i).addScaledVector(N,t),g.setCenter(z.x,z.y,z.z),g.setEye(S.x,S.y,S.z)},D._37o=function(){delete g._flyAnim},{lastEye:e,lastCenter:i,eye:a,center:o,animation:g._flyAnim=Qr(D)}}return g.setEye(a.x,a.y,a.z),delete g._flyAnim,{lastEye:e,lastCenter:i,eye:a,center:o}}}(),getBoundingBox:function(){var t=new Il;return function(e){if((e=e||this.sm().getSelection())instanceof s.Node&&(e=[e]),0===e.length)return r;var i=[];e.forEach(function(e){!function(e,i,n){t.fromArray(Ls(n,i.getMat(n)));var o=n.getAnchor3d();e.push((new ul).set(0-o.x,0-o.y,0-o.z).applyMatrix4(t)),e.push((new ul).set(0-o.x,0-o.y,1-o.z).applyMatrix4(t)),e.push((new ul).set(0-o.x,1-o.y,0-o.z).applyMatrix4(t)),e.push((new ul).set(0-o.x,1-o.y,1-o.z).applyMatrix4(t)),e.push((new ul).set(1-o.x,0-o.y,0-o.z).applyMatrix4(t)),e.push((new ul).set(1-o.x,0-o.y,1-o.z).applyMatrix4(t)),e.push((new ul).set(1-o.x,1-o.y,0-o.z).applyMatrix4(t)),e.push((new ul).set(1-o.x,1-o.y,1-o.z).applyMatrix4(t))}(i,this,e)},this);var n=[1/0,1/0,1/0],o=[-1/0,-1/0,-1/0];return i.forEach(function(t){n[0]=Math.min(t.x,n[0]),n[1]=Math.min(t.y,n[1]),n[2]=Math.min(t.z,n[2]),o[0]=Math.max(t.x,o[0]),o[1]=Math.max(t.y,o[1]),o[2]=Math.max(t.z,o[2])}),{min:n,max:o}}}()}),Tg.RenderEnv=function(t){this.gv=t,this.enable=!1},i.defineProperties(Tg.RenderEnv.prototype,{debugOn:{get:function(){return this._debugOn},set:function(t){this._debugOn=t,this.capture&&this.capture()}}}),i.assign(Tg.RenderEnv.prototype,{renderEnvToCube:function(t,e,i,n){var o=this,a=o.gv;if(!t||!e||!i)return o.enable=!1,void(o._42=null);o.enable=!0;var r=Math.floor(n/t*e),s=a.getGL(),l=o._renderTargets;l?l.length<i&&(l=o._renderTargets=l.concat(new Array(i-l.length))):l=o._renderTargets=new Array(i);for(var c=0;i>c;c++)l[c]?l[c].setSize(s,n,r):l[c]=new Tg.RenderTarget(a,s,n,r);var h=!1;o.capture=function(){h=!0,a._42(),h=!1};var d=new ul,g=new ul,u=new ul,f=new ul,v=(new ul).setY(0),p=2*Math.PI/i,I=t/2/Math.tan(Math.PI/i),_=2*Math.atan2(e/2,I),y=t/e;o._42=function(t,e,n,r){var s=o._debugOn;if(!h&&!s)return!1;d.copy(a.getEye()),f.copy(a.getCenter()).sub(d);var c=Math.atan2(f.z,f.x),C=a.getNear(),m=a.getFovy(),w=a.getAspect();g.copy(a.getCenter());for(var b,A=0;i>A;A++)if(b=l[A],v.setZ(Math.cos(c)).setX(Math.sin(c)).multiplyScalar(I),c-=p,u.addVectors(d,v),a.setNear(I),a.setCenter([u.x,u.y,u.z]),a.setFovy(_),a.setAspect(y),s){var M=Math.round(e/i);t.viewport(M*A,0,M,n),r()}else fd(t,b.frame),t.viewport(0,0,b.width,b.height),t.clear(t.COLOR_BUFFER_BIT),r(),vd(t),b.assureTexture();return a.setNear(C),a.setCenter([g.x,g.y,g.z]),a.setFovy(m),a.setAspect(w),!0},o.capture()},getTextureInfo:function(t){if(!this._renderTargets)return null;var e=this._renderTargets[t];return e?{index:t,texture:e.texture,textureName:e.uuid}:null}}),i.assign(Tg.Graph3dView.prototype,{renderEnvToCube:function(t,e,i,n){var o=this;o.envRenderer||(o.envRenderer=new Tg.RenderEnv(o)),o.envRenderer.renderEnvToCube(t,e,i,n)}}),Tg.RenderTarget=function(t,e,i,n,o){var a=this;o=o||{},a.uuid=s.Math.generateUUID(),a.gv=t,a.init(t,e,o),a.setSize(e,i,n)},i.assign(Tg.RenderTarget.prototype,{init:function(t,e,i){var n=this,o=n.texture=e.createTexture();e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i.minFilter||e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i.magFilter||e.LINEAR),e.bindTexture(e.TEXTURE_2D,null),n.render=e.createRenderbuffer(),n.frame=e.createFramebuffer(),t._2O[n.uuid]=o},assureTexture:function(){var t=this,e=t.uuid,i=t.gv._2O;i[e]||(i[e]=t.texture)},setSize:function(t,e,i){var n=this;if(n.width!==e||n.height!==i){var o=t.RGBA,a=t.TEXTURE_2D,s=t.RENDERBUFFER,l=t.FRAMEBUFFER;Jd(t,n.texture),t.texImage2D(a,0,o,e,i,0,o,t.UNSIGNED_BYTE,r),t.bindRenderbuffer(s,n.render),t.renderbufferStorage(s,t.DEPTH_COMPONENT16,e,i),fd(t,n.frame),t.framebufferTexture2D(l,t.COLOR_ATTACHMENT0,a,n.texture,0),t.framebufferRenderbuffer(l,t.DEPTH_ATTACHMENT,s,n.render),Jd(t,r),t.bindRenderbuffer(s,r),vd(t),n.width=e,n.height=i}},toCanvas:function(){var t=this,e=t.gv.getGL();fd(e,t.frame);var i=t.width,n=t.height,o=new Uint8Array(4*i*n);e.readPixels(0,0,i,n,e.RGBA,e.UNSIGNED_BYTE,o),vd(e);var r=a.createElement("canvas");r.width=i,r.height=n;var s=r.getContext("2d"),l=s.createImageData(i,n);return l.data.set(o),s.putImageData(l,0,0),r}});var _f=Tg.Interactor=function(t){this.gv=t};Ng("Interactor",i,{ms_listener:1,getView:function(){return this.gv.getView()},setUp:function(){this.addListeners()},tearDown:function(){this.removeListeners()}});var yf=Tg.DefaultInteractor=function(t){zn(yf,this,[t])};Ng("DefaultInteractor",_f,{handle_contextmenu:function(t){jr(t)},handle_mousewheel:function(t){this.gv.handleScroll(t,t.wheelDelta/40)},handle_DOMMouseScroll:function(t){2===t.axis&&this.gv.handleScroll(t,-t.detail)},handle_keydown:function(t){this.gv.handleKeyDown(t)},handle_mousedown:function(t){this.handle_touchstart(t)},handle_touchstart:function(t){jr(t);var e=this,i=e.gv,n=$r(t),o=i.getDataInfoAt(t),a=o?o.data:r,s=o?o.part:r,l=i.sm(),c=To(t),h=Kr(t);i.setFocus(t)&&(e._62O=r,e._57I=r,a?es(t)?l.co(a)?l.rs(a):l.as(a):l.co(a)||l.ss(a):n&&(es(t)?i.isRectSelectable()&&(e._62O=re):e._57I=is(t)),e._31Q&&(on(e._31Q),delete e._31Q,delete e._32Q),e._62O||(i.isFirstPersonMode()&&(ts(t)||h>2?e._62O="pan":i.isMouseRoamable()||nt?(e._62O="roaming",e.foward=c&&$r(t),e._32Q=nn(),e._31Q=Ur(e.tick,e)):n||(e._62O="roaming")),e._62O||(n&&c&&Rf[s]?(e._62O=s,e.p3=a.p3()):n&&c&&Cn(a)&&i.isSelected(a)?i.isMovable(a)?(e._62O="move",e.p3=a.p3(),e.movedata=a):i.isInteractive(a)&&(e._62O="none"):nt&&(h>2?e._62O="pan":2===h&&(e.dist=ba(t),e._62O="pinch")))),e.point=i.lp(t),vs(e,t),qr(t)?i.handleDoubleClick(t,a,s):i.handleClick(t,a,s))},tick:function(){var t=this,e=t.gv,i=e._moveStep;t.point&&e.isWalkable()&&(t._32Q&&(i*=(nn()-t._32Q)/50),e.walk(t.foward?i:-i),t._32Q=nn(),t._31Q=Ur(t.tick,t))},handle_mouseup:function(t){this.handle_touchend(t)},handle_touchend:function(t){var e=this._57I;e&&(os(e,is(t))<=1&&this.gv.sm().cs(),this._57I=r)},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowTouchMove:function(t){var e,i,n=this,o=n.gv,a=n._62O,r=n.point,s=o.dm(),l=o.lp(t),c=l.x-r.x,h=l.y-r.y,d=o.getWidth(),g=o.getHeight();if(d&&g){var u=-V*c/d,f=-V*h/g;if("roaming"===a)n.rotate(t,u/2,f/2);else if(a===Sf||a===zf||a===kf)o._86O||s.beginTransaction(),o.fi({kind:o._86O?"betweenEditRotation":"beginEditRotation",event:t}),o._86O=1,o.sm().each(function(t){if(Cn(t)&&o.isRotationEditable(t)){var e=D(u)>D(f)?u:f;a===Sf?t.setRotationX(t.getRotationX()+e):a===zf?t.setRotationY(t.getRotationY()+e):a===kf&&t.setRotationZ(t.getRotationZ()+e)}});else if("move"===a||Rf[a]){a===Ef||a===Vf||a===jf?(o._87O||s.beginTransaction(),o.fi({kind:o._87O?"betweenEditScale":"beginEditScale",event:t}),o._87O=1):(o._moving||s.beginTransaction(),o.fi({kind:o._moving?"betweenMove":"beginMove",event:t}),o._moving=1);var v,p=n.p3,I=o.getPositionInfo(p),_=Od(o);v=a===Df?"x":a===Tf?"y":a===Nf?"z":a===Ef?"sx":a===Vf?"sy":a===jf?"sz":o.getMoveMode(t,n.movedata),c=c/d*I.width,h=-1*h/g*I.height;var y,C=[_[0]*c,_[4]*c,_[8]*c],m=[_[1]*h,_[5]*h,_[9]*h],w=C[0]+m[0],b=C[1]+m[1],A=C[2]+m[2],M=[p[0]+w,p[1]+b,p[2]+A],x=Ds(o.getEye(),M,!0);if("xyz"===v?(y=M,o.moveSelection(w,b,A)):"xz"===v?(y=zd(o,p,[0,1,0],M))&&o.moveSelection(y[0]-p[0],0,y[2]-p[2]):"xy"===v?(y=zd(o,p,[0,0,1],M))&&o.moveSelection(y[0]-p[0],y[1]-p[1],0):"yz"===v?(y=zd(o,p,[1,0,0],M))&&o.moveSelection(0,y[1]-p[1],y[2]-p[2]):"x"===v||"sx"===v?(x[0]=0,(y=zd(o,p,x,M))&&(N=y[0]-p[0],"x"===v?o.moveSelection(N,0,0):o.sm().each(function(n){Cn(n)&&o.isSizeEditable(n)&&(e=n.getScaleX()+N/100,i=e/n.getScaleX(),n.setScaleX(e),ts(t)&&(n.setScaleY(n.getScaleY()*i),n.setScaleTall(n.getScaleTall()*i)))}))):"y"===v||"sy"===v?(x[1]=0,(y=zd(o,p,x,M))&&(N=y[1]-p[1],"y"===v?o.moveSelection(0,N,0):o.sm().each(function(n){Cn(n)&&o.isSizeEditable(n)&&(e=n.getScaleTall()+N/100,i=e/n.getScaleTall(),n.setScaleTall(e),ts(t)&&(n.setScaleY(n.getScaleY()*i),n.setScaleX(n.getScaleX()*i)))}))):("z"===v||"sz"===v)&&(x[2]=0,(y=zd(o,p,x,M))&&(N=y[2]-p[2],"z"===v?o.moveSelection(0,0,N):o.sm().each(function(n){Cn(n)&&o.isSizeEditable(n)&&(e=n.getScaleY()+N/100,i=e/n.getScaleY(),n.setScaleY(e),ts(t)&&(n.setScaleX(n.getScaleX()*i),n.setScaleTall(n.getScaleTall()*i)))}))),!y)return;n.p3=y}else if(a===re){var T=n.div;T||(T=n.div=Kn(),no(n.getView(),T),T.op=r,T.style.background=o.getRectSelectBackground()),o.fi({kind:o._rectSelecting?"betweenRectSelect":"beginRectSelect",event:t}),o._rectSelecting=1,T.rect=as(T.op,l),Co(T,T.rect)}else if("pinch"===a&&2===Kr(t)){o.fi({kind:o._pinching?"betweenPinch":"beginPinch",event:t}),o._pinching=1;var N=ba(t);o.handlePinch(N,n.dist),n.dist=N}else"pan"===a||ts(t)?n.pan(t,c,h):"none"===a||o.isFirstPersonMode()||($r(t)?n.rotate(t,u,f):(n.pan(t,c,0),o.isWalkable()&&(o.fi({kind:o._walking?"betweenWalk":"beginWalk",event:t}),o._walking=1,o.walk(h/o.getHeight()*o.getCenterInfo().height))));n.point=l}},pan:function(t,e,i){var n=this.gv;if(n.isPannable()){var o=n.getWidth(),a=n.getHeight();if(!o||!a)return;var r=n.getCenterInfo(),s=e/o*r.width,l=-1*i/a*r.height;n.fi({kind:n._panning?"betweenPan":"beginPan",event:t}),n._panning=1,n.pan(-s,-l)}},rotate:function(t,e,i){var n=this.gv;n.isRotatable()&&(n.fi({kind:n._rotating?"betweenRotate":"beginRotate",event:t}),n._rotating=1,n.rotate(e,i))},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handleWindowTouchEnd:function(t){var e=this,i=e.gv,n=i.dm(),o=e.div;if(o){var a=i.getDatasInRect(o.rect);if(!a.isEmpty()){var s=i.sm(),l=s.toSelection();a.each(function(t){s.co(t)?l.remove(t):l.add(t)}),s.ss(l)}ps(o)}i._moving&&(delete i._moving,i.fi({kind:"endMove",event:t}),i.onMoveEnded(),n.endTransaction()),i._panning&&(delete i._panning,i.fi({kind:"endPan",event:t}),i.onPanEnded()),i._rotating&&(delete i._rotating,i.fi({kind:"endRotate",event:t}),i.onRotateEnded()),i._86O&&(delete i._86O,i.fi({kind:"endEditRotation",event:t}),n.endTransaction()),i._87O&&(delete i._87O,i.fi({kind:"endEditScale",event:t}),n.endTransaction()),i._pinching&&(delete i._pinching,i.fi({kind:"endPinch",event:t}),i.onPinchEnded()),i._rectSelecting&&(delete i._rectSelecting,i.fi({kind:"endRectSelect",event:t}),i.onRectSelectEnded()),i._walking&&(delete i._walking,i.fi({kind:"endWalk",event:t}),i.onWalkEnded()),e.dist=e.point=e._62O=e.p3=e.movedata=e.div=e._57I=e._32Q=e._31Q=e.foward=r}});var Cf=Tg.MapInteractor=function(t){zn(Cf,this,[t]),this._minPhi=0,this._maxPhi=5*E/12,this._keepHorizon=!0,this._threshold=2,this._touchScaleThreshold=.05,this._touchRotateThreshold=.03,this._touchScaleCheckAccuracy=.01,this._panButton="right"};Ng("MapInteractor",_f,{handle_contextmenu:function(t){jr(t)},handle_mousewheel:function(t){this.gv.handleScroll(t,t.wheelDelta/40)},handle_DOMMouseScroll:function(t){2===t.axis&&this.gv.handleScroll(t,-t.detail)},handle_keydown:function(t){this.gv.handleKeyDown(t)},handle_mousedown:function(t){this.handle_touchstart(t)},handle_touchstart:function(t){jr(t);var e=this,i=e.gv;if(i.setFocus(t)){i.lp(t);var n=i.getDataInfoAt(t),o=n?n.data:r,a=n?n.part:r;if(!o||!i.isInteractive(o)){var s=e.editing={point:i.lp(t)};nt?s.touch=!0:(s.touch=!1,s.pan="left"===this.panButton===$r(t)),vs(e,t)}qr(t)?i.handleDoubleClick(t,o,a):i.handleClick(t,o,a)}},handle_mouseup:function(t){this.handle_touchend(t)},handle_touchend:function(){},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowTouchMove:function(t){var e=this,i=e.gv,n=e.editing;if(n){var o=i.lp(t),a=n.point,s=o.x-a.x,l=o.y-a.y;if(!n.moved){if(Math.abs(s)<e.threshold&&Math.abs(l)<e.threshold&&!(t.touches&&t.touches.length>1))return;n.moved=!0}if(n.point=o,n.touch){var c=t.touches.length;if(2!==c)e.pan(t,s,l);else{if(1>=c)return;var h=t.touches,d={x:h[0].clientX,y:h[0].clientY},g={x:h[1].clientX,y:h[1].clientY},u={x:g.x-d.x,y:g.y-d.y},f=n.lastCenter,v=Math.atan2(u.y,u.x),p=n.theta,I=0;p==r?p=n.theta=v:(I=v-p,n.thetaStarted||Math.abs(I)>e.touchRotateThreshold?(n.thetaStarted=!0,n.theta=v):I=0);var _=E*(d.y+g.y)/2/i.getHeight(),y=n.phi,C=0;y==r?y=n.phi=_:(C=_-y,n.phiStarted||Math.abs(C)>e.touchRotateThreshold?(n.phiStarted=!0,n.phi=_):C=0);var m,w=Math.sqrt(u.x*u.x+u.y*u.y),b=n.vlen;if(b){var A=d.x-f.x,M=d.y-f.y,x=g.x-f.x,D=g.y-f.y,T=Math.sqrt(A*A+M*M),N=Math.sqrt(x*x+D*D),S=b/2,z=e._sign2(T-S),k=e._sign2(N-S);0>z*k||0===z&&0===k?(m=1,n.vlen=w):(m||(m=w/b),n.scaleStarted||Math.abs(m-1)>e.touchScaleThreshold?(n.vlen=w,n.scaleStarted=!0):m=1)}else b=n.vlen=w,m=1;1!==m&&i.setZoom(m),(C||I)&&e.rotate(t,I,-C),n.lastCenter={x:(g.x+d.x)/2,y:(g.y+d.y)/2}}}else if(n.pan)e.pan(t,s,l);else{var j=i.getWidth(),R=i.getHeight();if(!j||!R)return;var P=-V*s/j,Z=-V*l/R;e.rotate(t,P,Z)}}},_sign2:function(t){return Math.abs(t)<this._touchScaleCheckAccuracy?0:t>0?1:-1},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handleWindowTouchEnd:function(t){var e=this,i=e.editing;if(e.editing=null,i){var n=e.gv;if(i.moved||i.pan!==("left"===this.panButton))n._panning=null,n._rotating=null,n.fi({kind:i.pan?"endPan":"endRotate",event:t});else{var o=n.getDataAt(t);o?n.sm().setSelection([o]):n.sm().clearSelection()}}},pan:function(t,e,i){var n=this,o=n.gv;if(o.isPannable()){var a=o.getWidth(),s=o.getHeight();if(a&&s){var l=o.getCenterInfo(),c=-e/a*l.width,h=1*i/s*l.height;o.fi({kind:o._panning?"betweenPan":"beginPan",event:t}),o._panning=1;var d=n.keepHorizon,g=n.editing.touch;if((g&&t.touches&&t.touches.length>1||!g&&ts(t))&&(d=!d),!d)return o.pan(c,h);if(c||h){var u=Od(o),f=[u[0]*c,u[4]*c,u[8]*c],v=[u[1],0,u[9]],p=Math.sqrt(v[0]*v[0]+v[2]*v[2]);p&&(v=[v[0]/p*h,0,v[2]/p*h]);var I=f[0]+v[0],_=f[1]+v[1],y=f[2]+v[2],C=o._center,m=o._eye;C[0]+=I,C[1]+=_,C[2]+=y,m[0]+=I,m[1]+=_,m[2]+=y,o.fp(ft,r,m),o.fp(ut,r,C)}}}},rotate:function(t,e,i){var n=this,o=n.gv;if(o.isRotatable()){var a=o._center,r=o._eye,s=Ds(r,a),l=P(A(s[0]*s[0]+s[2]*s[2]),s[1]),c=l+i;i=(c=Math.max(n.minPhi,Math.min(n.maxPhi,c)))-l,o.fi({kind:o._rotating?"betweenRotate":"beginRotate",event:t}),o._rotating=1,o.rotate(e,i)}}}),i.defineProperties(Cf.prototype,{panButton:{get:function(){return this._panButton},set:function(t){this._panButton=t}},minPhi:{get:function(){return this._minPhi},set:function(t){this._minPhi=t}},maxPhi:{get:function(){return this._maxPhi},set:function(t){this._maxPhi=t}},keepHorizon:{get:function(){return this._keepHorizon},set:function(t){this._keepHorizon=t}},threshold:{get:function(){return this._threshold},set:function(t){this._threshold=t}},touchScaleThreshold:{get:function(){return this._touchScaleThreshold},set:function(t){this._touchScaleThreshold=t}},touchRotateThreshold:{get:function(){return this._touchRotateThreshold},set:function(t){this._touchRotateThreshold=t}}});var mf=function(t){this.gv=t};ms(mf,i,{_iv:!0,iv:function(){this._iv=!0},face:function(t,e){var i=this,n=i.gv.getGL();if(!n||!Cn(t))return r;var o=e.x,a=e.width,s=e.height,l=i.height-e.y-s,c=w(a/2),h=new Uint8Array(4*a*s),d=0;for(i.iv(),i.validate(t),fd(n,i.frame),n.readPixels(o,l,a,s,n.RGBA,n.UNSIGNED_BYTE,h),vd(n),i.iv();c>=d;d++)for(var g=c-d,u=c+d,f=g;u>=f;f++)for(var v=g;u>=v;v++)if(f===g||f===u||v===g||v===u){var p=yd.m[h[4*(f*a+v)]];if(p)return p}},get:function(t,e){this.validate();var i=this,n=i.gv.getGL();if(!n)return r;var o,a,s=t.x,l=t.width,c=t.height,h=i.height-t.y-c,d=w(l/2),g=new Uint8Array(4*l*c),u=0,f=g.length,v=e?r:new ml,p=e?r:{};if(fd(n,i.frame),n.readPixels(s,h,l,c,n.RGBA,n.UNSIGNED_BYTE,g),vd(n),e){for(;d>=u;u++)for(var I=d-u,_=d+u,y=I;_>=y;y++)for(var C=I;_>=C;C++)if((y===I||y===_||C===I||C===_)&&(o=i.info(g,4*(y*l+C))))return o}else for(;f>u;u+=4)(o=i.info(g,u))&&(p[(a=o.data)._id]||(v.add(a),p[a._id]=a));return v},info:function(t,e){return this.colorMap[(t[e]<<16)+(t[e+1]<<8)+t[e+2]+((127&t[e+3])<<24)]},validate:function(t){var e=this,i=e.gv,n=i.getGL();if(n){var o=i.getWidth(),a=i.getHeight(),s=n.RGBA,l=n.TEXTURE_2D,c=n.RENDERBUFFER,h=n.FRAMEBUFFER;e.texture||(e.texture=Gd(n),e.render=n.createRenderbuffer(),e.frame=n.createFramebuffer()),(e.width!==o||e.height!==a)&&(Jd(n,e.texture),n.texImage2D(l,0,s,o,a,0,s,n.UNSIGNED_BYTE,r),Xd(n,n.TEXTURE_MIN_FILTER,n.LINEAR),n.bindRenderbuffer(c,e.render),n.renderbufferStorage(c,n.DEPTH_COMPONENT16,o,a),fd(n,e.frame),n.framebufferTexture2D(h,n.COLOR_ATTACHMENT0,l,e.texture,0),n.framebufferRenderbuffer(h,n.DEPTH_ATTACHMENT,c,e.render),Jd(n,r),n.bindRenderbuffer(c,r),vd(n),e.width=o,e.height=a),e._iv&&(e._iv=!1,fd(n,e.frame),i._42(t||(e.colorMap={}),1),vd(n))}}});var wf=function(t){this.gv=t};ms(wf,i,{gap:0,size:0,_42:function(t,e){var i=this,n=i.gv,o=n._gridGap,a=n._gridSize;if(n._gridVisible){if(i.gap!==o||i.size!==a){for(var s=[],l=n._gridSize/2,c=o*l,h=0;2*l+1>h;h++){var d=6*h,g=6*(2*l+1)+d;s[d]=-c,s[d+1]=0,s[d+2]=h*o-c,s[d+3]=c,s[d+4]=0,s[d+5]=h*o-c,s[g]=h*o-c,s[g+1]=0,s[g+2]=-c,s[g+3]=h*o-c,s[g+4]=0,s[g+5]=c}i.vs=new xs(s),i.gap=o,i.size=a}yg(n),tg(t,e),og(t),rg(t,e,1,n._gridColor,n._buffer.vs,i.vs),sg(t,0,i.vs.length/3,t.LINES),ag(t),eg(t,e)}else i.vs=i.gap=i.size=r}});var bf=function(t){this.gv=t};ms(bf,i,{_42:function(t,e){var i=this.gv,n=i._buffer.vs,o=i._axisXColor,a=i._axisYColor,s=i._axisZColor,l=i._originAxisVisible,c=i._centerAxisVisible;if(l||c){var h=K?t.TRIANGLES:t.TRIANGLE_FAN,d=t.LINES;if(yg(i),tg(t,e),og(t),l){var g=i.getCenterInfo(),u=x(g.width,g.height)/5,f=.8*u,v=.05*u;rg(t,e,1.5,o,n,new xs([0,0,0,u,0,0,f,v,0,f,0,v,f,-v,0,f,0,-v,f,v,0,0,0,0,0,u,0,v,f,0,0,f,v,-v,f,0,0,f,-v,v,f,0,0,0,0,0,0,u,v,0,f,0,v,f,-v,0,f,0,-v,f,v,0,f])),sg(t,0,2,d),sg(t,1,6,h),rg(t,e,r,a),sg(t,7,2,d),sg(t,8,6,h),rg(t,e,r,s),sg(t,14,2,d),sg(t,15,6,h)}if(c){var p=i._center,I=p[0],_=p[1],y=p[2];g=i.getPositionInfo(p);u=x(g.width,g.height)/20,rg(t,e,1.5,o,n,new xs([I,_,y,I+u,_,y,I,_,y,I,_+u,y,I,_,y,I,_,y+u])),sg(t,0,2,d),rg(t,e,r,a),sg(t,2,2,d),rg(t,e,r,s),sg(t,4,2,d)}ag(t),eg(t,e)}}});var Af=function(t){this.gv=t,this.onMouseOver=this.onMouseOver.bind(this),this.mode=Af.Mode.Disable};Af.Mode={Disable:0,Selection:1,MouseOver:2},ms(Af,i,{onMouseOver:function(t){c.preventDefault(t);var e=this.gv.getDataAt(t);e!==this.mouseOverData&&(this.mouseOverData=e,this.gv.iv())},setFetchTargetFunc:function(t){this.fetchTargetFunc=t},_42:function(t,e){var i,n=this,o=n._mode;if(o!==Af.Mode.Disable&&(o===Af.Mode.Selection?i=n.gv.sm().getSelection().toArray(function(t){return t.s("highlight.visible")}):o===Af.Mode.MouseOver&&n.mouseOverData&&n.mouseOverData.s("highlight.visible")&&(i=[n.mouseOverData]),n.fetchTargetFunc&&(i=n.fetchTargetFunc(i)),i&&i.length)){var a=n.gv,r=a.vr.isPresenting(),s=a.getWidth();if(r){var l=a.getWidth;s/=2,a.getWidth=function(){return s};var c=a.getViewport()}var d,g=a.getDevicePixelRatio(),u=s*g,f=a.getHeight()*g;(d=n._renderTarget)?d.setSize(t,u,f):n._renderTarget=d=new Tg.RenderTarget(a,t,u,f),fd(t,d.frame),a.drawFilter=function(t){return i.indexOf(t)<0||void 0},a._42({}),a.drawFilter=null,vd(t),r&&(a.getWidth=l,a.setViewport(t,c[0],c[1],c[2],c[3])),n.shader||(n.shader=new Wu.Shader(t,Mf.vs,Mf.fs));var v=n.shader;if(n.shader.bind(),t.enable(t.BLEND),t.activeTexture(t.TEXTURE0+0),t.bindTexture(t.TEXTURE_2D,d.texture),v.uniforms.image=0,v.uniforms.textureSize=[u,f],v.uniforms.edgeWidth=h["highlight.width"],n.highlightColor!==h["highlight.color"]){var p=$o(n.highlightColor=h["highlight.color"]);n.highlightColorData=[p[0]/255,p[1]/255,p[2]/255,p[3]/255]}v.uniforms.edgeColor=n.highlightColorData,n.ibuffer?(n.ibuffer.upload(),n.vbuffer.upload()):(n.ibuffer=Wu.Buffer.createIndexBuffer(t,new Uint16Array([0,2,1,1,2,3])),n.vbuffer=Wu.Buffer.createVertexBuffer(t,new Float32Array([0,0,1,0,0,1,1,1]))),v.attributes.pos.pointer(n.vbuffer),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),t.disable(t.BLEND),t.bindTexture(t.TEXTURE_2D,null),t.useProgram(e)}}}),i.defineProperties(Af.prototype,{mode:{get:function(){return this._mode},set:function(t){var e=this._mode;t!==e&&(this._mode=t,t===Af.Mode.MouseOver?this.gv.getView().addEventListener("mousemove",this.onMouseOver,!1):e===Af.Mode.MouseOver&&this.gv.getView().removeEventListener("mousemove",this.onMouseOver))}}});var Mf={vs:["attribute vec2 pos;","varying vec2 vUv;","void main(void) {","gl_Position = vec4(pos.x * 2.0 - 1.0, -pos.y * 2.0 + 1.0, 0.0, 1.0);","vUv = vec2(pos.x, 1.0 - pos.y);","}"].join("\n"),fs:["precision highp float;","uniform sampler2D image;","uniform vec2 textureSize;","uniform float edgeWidth;","uniform vec4 edgeColor;","varying vec2 vUv;","float getCol(vec2 coord) {","return texture2D(image, coord).a;","}","void main() {","vec2 cc = vUv;","float center = getCol(cc);","float dx = edgeWidth / textureSize.x;","float dy = edgeWidth / textureSize.y;","vec2 coord;","float topLeft = getCol(cc+vec2(-dx, -dy));","float top = getCol(cc+vec2(0.0, -dy));","float topRight = getCol(cc+vec2(dx, -dy));","float left = getCol(cc+vec2(-dx, 0.0));","float right = getCol(cc+vec2(dx, 0.0));","float bottomLeft = getCol(cc+vec2(-dx, dy));","float bottom = getCol(cc+vec2(0.0, dy));","float bottomRight = getCol(cc+vec2(dx, dy));","float v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;","float h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;","float edge = sqrt(h * h + v * v);","edge = smoothstep(0.9, 1.0, edge);","if (edge < 0.5) {","discard;","}","gl_FragColor = edgeColor;","}"].join("\n")},xf=function(t){this.gv=t},Df="edit_tx",Tf="edit_ty",Nf="edit_tz",Sf="edit_rx",zf="edit_ry",kf="edit_rz",Ef="edit_sx",Vf="edit_sy",jf="edit_sz",Rf={};Rf[Df]=1,Rf[Tf]=1,Rf[Nf]=1,Rf[Sf]=1,Rf[zf]=1,Rf[kf]=1,Rf[Ef]=1,Rf[Vf]=1,Rf[jf]=1,ms(xf,i,{_42:function(t,e,i){var n=this,o=n.gv,a=o.sm().ld();if(a&&o.isEditable(a)&&!o.isEditHelperDisabled()&&Cn(a)&&(!o.isFirstPersonMode()||!o.isMouseRoamable()&&!nt)){yg(o);var r,s,l=o.isMovable(a),c=o.isRotationEditable(a),h=o.isSizeEditable(a),d=o._axisXColor,g=o._axisYColor,u=o._axisZColor,f=o._editSizeColor,v=a.p3(),p=os(o.getEye(),v)/10,I=p/(i?5:10),_=.7*p,y=.4*_,C=v[0],m=v[1],w=v[2];r=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],l&&n._17O(t,e,a,i,Df,d,r,[C,m-I,w,C+_,m-I,w,C+_,m,w,C+_,m,w,C,m,w,C,m-I,w,C,m-I,w+I,C+_,m-I,w+I,C+_,m-I,w,C+_,m-I,w,C,m-I,w,C,m-I,w+I]),s=C+_,h&&n._17O(t,e,a,i,Ef,f,r,[s,m-I,w,s+y,m-I,w,s+y,m,w,s+y,m,w,s,m,w,s,m-I,w,s,m-I,w+I,s+y,m-I,w+I,s+y,m-I,w,s+y,m-I,w,s,m-I,w,s,m-I,w+I]),s+=y,c&&n._17O(t,e,a,i,Sf,d,r,[s,m-I,w,s+y,m-I,w,s+y,m,w,s+y,m,w,s,m,w,s,m-I,w,s,m-I,w+I,s+y,m-I,w+I,s+y,m-I,w,s+y,m-I,w,s,m-I,w,s,m-I,w+I]),r=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0],l&&n._17O(t,e,a,i,Tf,g,r,[C,m,w,C,m+_,w,C-I,m+_,w,C-I,m+_,w,C-I,m,w,C,m,w,C,m,w,C,m,w-I,C,m+_,w-I,C,m+_,w-I,C,m+_,w,C,m,w]),s=m+_,h&&n._17O(t,e,a,i,Vf,f,r,[C,s,w,C,s+y,w,C-I,s+y,w,C-I,s+y,w,C-I,s,w,C,s,w,C,s,w,C,s,w-I,C,s+y,w-I,C,s+y,w-I,C,s+y,w,C,s,w]),s+=y,c&&n._17O(t,e,a,i,zf,g,r,[C,s,w,C,s+y,w,C-I,s+y,w,C-I,s+y,w,C-I,s,w,C,s,w,C,s,w,C,s,w-I,C,s+y,w-I,C,s+y,w-I,C,s+y,w,C,s,w]),r=[1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],l&&n._17O(t,e,a,i,Nf,u,r,[C,m,w,C,m,w+_,C,m-I,w+_,C,m-I,w+_,C,m-I,w,C,m,w,C,m-I,w,C-I,m-I,w,C-I,m-I,w+_,C-I,m-I,w+_,C,m-I,w+_,C,m-I,w]),s=w+_,h&&n._17O(t,e,a,i,jf,f,r,[C,m,s,C,m,s+y,C,m-I,s+y,C,m-I,s+y,C,m-I,s,C,m,s,C,m-I,s,C-I,m-I,s,C-I,m-I,s+y,C-I,m-I,s+y,C,m-I,s+y,C,m-I,s]),s+=y,c&&n._17O(t,e,a,i,kf,u,r,[C,m,s,C,m,s+y,C,m-I,s+y,C,m-I,s+y,C,m-I,s,C,m,s,C,m-I,s,C-I,m-I,s,C-I,m-I,s+y,C-I,m-I,s+y,C,m-I,s+y,C,m-I,s])}},_17O:function(t,e,i,n,o,a,s,l){var c=this.gv._buffer;Cg(t,e,n,!0,i,o),ig(t,e,r,!0,r,!0,r,!1),fg(t,e.uDiffuse,a),cg(t,c.vs,new xs(l),e.aPosition),cg(t,c.ns,new xs(s),e.aNormal),og(t),sg(t,0,12),ag(t),ng(t,e)}});var Pf=s.Raycaster=function(t){this.gv=t,this.maxTriangleTest=1/0};ws("Raycaster",i,{intersect:function(t){var e=this.gv.getDataAt(t);return e?this.intersectObject(t,e):null},intersectObjects:function(t,e,i){var n,o,a,r,s=this,l=1/0,c=t.origin||(new ul).fromArray(s.gv.getEye()),h=s.maxTriangleTest,d=[];return e.forEach(function(t){i&&!1===i(t)||!1!==t.s("intersect")&&d.push(t)}),d.sort(function(t,e){return c.distanceToSquared2(t.p3())-c.distanceToSquared2(e.p3())}),s.countTriangles=0,d.forEach(function(e){s.countTriangles>h||(n=s.intersectObject(t,e))&&(o=c.distanceToSquared(n.world),l>o&&(a=e,r=n,l=o))}),s.countTriangles=0,{data:a,intersect:r}},intersectObject:function(t,e){if(t instanceof vl)return this._intersectObjectImpl(t,e);var i,n,o=this.gv;n=o.unproject(t);var a=o.getEye();o.isOrtho()?((i=Ds(o.getCenter(),a))[0]+=i[0],i[1]+=i[1],i[2]+=i[2]):i=a,i=new ul(i);var r=new ul(n).sub(i).normalize(),l=new s.Math.Ray(i,r);return this._intersectObjectImpl(l,e)},_intersectObjectImpl:function(){function t(){var t=new ul;return t.subVectors(u,g),I.subVectors(d,g),t.cross(I).normalize(),t}function e(t,e,i,n,o,a,r){return yl.barycoordFromPoint(t,e,i,n,y),o.multiplyScalar(y.x),a.multiplyScalar(y.y),r.multiplyScalar(y.z),o.add(a).add(r),o.clone()}var i=new Il,n=new Il,o=new vl,a=new ul,r=new ul,l=new ul,c=new ul,h=new ul,d=new ul,g=new ul,u=new ul,f=new fl,v=new fl,p=new fl,I=new ul,_={vs:du,is:gu,uv:uu},y=new ul;return function(I,y){var C=this.gv.getData3dUI(y),m=y.mat||C.mat;if(m){i.fromArray(m),n.getInverse(i),o.copy(I).applyMatrix4(n);var w,b,A="body",M=C.shapeModel;if(M||(M=ju(C)),M||(y instanceof s.Node&&!(y instanceof s.Shape)?(w=!0,M=_):(b=!0,M=[C.left,C.front,C.right,C.back,C.top,C.bottom])),!M)return console.log("Can not find shape model."),null;_n(M)||(M=[M]);var x,D,T,N,S,z,k,E,V,j,R,P,Z,L,B,O=1/0,U=["","top_","bottom_"],W=!1;for(x=0,D=M.length;D>x;x++)if(P=M[x])for(T=0,N=U.length;N>T;T++)if(k=P[(Z=U[T])+"vs"],E=P[Z+"is"],V=P[Z+"uv"]||P[Z+"tuv"],k){if(L=P[Z+"boundingBox"]){var G;if(!(G=o.intersectBox(L)))continue;if(o.origin.distanceTo(G)>O)continue;B=!1}else P[Z+"boundingBox"]=L=new s.Math.Box3,B=!0;for(S=0,z=E?E.length:k.length/3;z>S;S+=3)this.countTriangles++,E?(r.fromArray(k,3*E[S]),l.fromArray(k,3*E[S+1]),c.fromArray(k,3*E[S+2])):(r.fromArray(k,3*S),l.fromArray(k,3*(S+1)),c.fromArray(k,3*(S+2))),B&&(L.expandByPoint(r),L.expandByPoint(l),L.expandByPoint(c)),(j=o.intersectTriangle(r,l,c,!0,a))&&(O>(R=o.origin.distanceTo(j))&&(O=R,h.copy(j),d.copy(r),g.copy(l),u.copy(c),""!==Z?A=Z.slice(0,-1):w?A=vu[Math.floor(S/6)]:b&&(A=vu[x]),V&&(W=!0,E?(f.fromArray(V,2*E[S]),v.fromArray(V,2*E[S+1]),p.fromArray(V,2*E[S+2])):(f.fromArray(V,2*S),v.fromArray(V,2*(S+1)),p.fromArray(V,2*(S+2))))))}if(!isFinite(O))return null;var F,Q=h.clone().applyMatrix4(i);W&&(F=e(h,d,g,u,f,v,p));var H=t(),Y=t(d.applyMatrix4(i),g.applyMatrix4(i),u.applyMatrix4(i));return o.direction.dot(H)>0&&(H.multiplyScalar(-1),Y.multiplyScalar(-1)),{world:Q,local:h.clone(),worldNormal:Y,normal:H,uv:F,part:A}}}}()});var Zf=function(t,e){this.gv=t,this.s=function(i,n,o){return n==r&&(n=o),n==r?e.getStyle(i):sl(n,e,t)},this.data=e};ms(Zf,i,{I3d:!0,ms_icons:1,_iv:!0,iv:function(){this._iv=!0},_42:function(t,e,i,n){var o=this,a=o.data;if(!(a instanceof sh)){var s,l,c,h,d,g,u,f=o.gv,v=a._id,p=o.s("shape3d.alwaysOnTop")?null:o.s("batch"),I=f._batchIndexMap,_=f._batchModelMap,y=f.isSelectable(a),C=f.getBrightness(a),m=C!=r&&1!==C;if(o.needValidate(t)){if(c=function(t,e,i,n){if(!n)return r;var o=e[n];if(!o){var a=ki[n]||Gi,s=a.image?[]:r;o=e[n]={vs:[],ns:[],uv:s,cs:s?r:a.color?r:[],bs:a.blend?[]:r,ps:[],rs:a.brightness?[]:r,ds:[]}}return o.invalidate=!0,t[i._id]={index:o.ds.length,begin:o.vs.length/3,batch:n},o.ds.push(i),o}(I,_,a,p),o.validate(c,p?ki[p]||Gi:r),c&&(d=(h=I[v]).size=c.vs.length/3-h.begin,u=c.rs))for(C=m?C:1,g=0;d>g;g++)u.push(C);if(Cn(a)){var w=f.getWireframeGeometry(a);if(w)Gg(f,a,w);else{var b=f.getWireframe(a);b&&Gg(f,a,b)}}o.labelInfo=o.label2Info=o.noteInfo=o.note2Info=o._38o=r,o._24O(Ot,"getLabel"),o._24O(Ut,"getLabel2"),o._26O(Wt,"getNote"),o._26O(Gt,"getNote2"),o._15O(),o.interactiveInfo=f.isInteractive(a)?{}:r,o._iv=!1}m&&fg(t,e.uBrightness,C),fg(t,e.uAlphaTest,o.s("alphaTest")),fg(t,e.uUseEnvMap,!!a.s("envmap")),fg(t,e.uReflectivity,a.s("envmap")||.01),(l=Cg(t,e,i,y,a,"body"))&&(Fg(l,I[v],_),Fg(l,f._polylineIndexMap[v],f._polylineModelMap),Fg(l,f._wireframeIndexMap[v],f._wireframeModelMap)),I[v]||o._80o(t,e,n),f.isLabelVisible(a)&&((s=o.labelInfo)&&(Cg(t,e,i,y,a,Ot),o._28O(s,Ot,n)),(s=o.label2Info)&&(Cg(t,e,i,y,a,Ut),o._28O(s,Ut,n))),f.isNoteVisible(a)&&((s=o.noteInfo)&&(Cg(t,e,i,y,a,Wt),o._29O(s,Wt,n)),(s=o.note2Info)&&(Cg(t,e,i,y,a,Gt),o._29O(s,Gt,n))),(s=o._38o)&&o._99O(t,e,s,i,y,n),m&&fg(t,e.uBrightness,1)}},needValidate:function(){return this._iv},validate:function(){},_16O:function(){return zs},_80o:function(){},dispose:function(){},_calcAnchorMat:function(t){if(t.hasOwnProperty("_anchor")||t.hasOwnProperty("_anchorElevation")){var e=t.getAnchor3d(),i={x:e.x-.5,y:e.y-.5,z:e.z-.5},n=Ss();return Rd(n,[-i.x,-i.y,-i.z]),n}},getBodyColor:function(t){var e=this.data,i=this.gv.getBodyColor(e);return i||(t?e.getStyle(t):r)},_24O:function(t,e){var i=this,n=i.data,o=i.gv,a=i.s,s=o[e](n);if(s!=r){var l=a(t+".scale"),c=a(t+".max"),h=i[t+"Info"]={label:s,textureScale:a(t+".texture.scale"),color:o[e+"Color"](n),font:a(t+".font"),align:a(t+".align"),background:o[e+"Background"](n)},d=h.rect=oo(h,s);c>0&&c<d.width&&(h.labelWidth=d.width,d.width=c),d.x=d.y=0,d.width*=l,d.height*=l,h.mat=i._16O(a(t+".autorotate"),a(t+".position"),d,a(t+".face"),a(t+".t3"),a(t+".r3"),a(t+".rotationMode"));var g=d.width/2,u=d.height/2;h.vs=new xs([-g,u,0,-g,-u,0,g,-u,0,g,u,0]),d.width/=l,d.height/=l}},_26O:function(t,e){var i=this,n=i.data,o=i.gv,a=i.s,s=o[e](n);if(s!=r){var l=a(t+".scale"),c=this[t+"Info"]={note:s,textureScale:a(t+".texture.scale"),expanded:a(t+".expanded"),font:a(t+".font"),color:a(t+".color"),align:a(t+".align"),borderWidth:a(t+".border.width"),borderColor:a(t+".border.color"),background:o[e+"Background"](n)};if(c.expanded){var h=a(t+".max"),d=oo(c,s);d.width+=6,d.height+=2,h>0&&h<d.width&&(c.labelWidth=d.width,d.width=h);var g={x:-d.width/2,y:-8-d.height,width:d.width,height:d.height+8}}else g={x:-6,y:-18,width:12,height:18};c.mat=i._16O(a(t+".autorotate"),a(t+".position"),r,a(t+".face"),a(t+".t3"),a(t+".r3"),a(t+".rotationMode")),c.rect=g,1!==l&&((g=Gr(g)).x*=l,g.height*=l,g.y=-g.height,g.width*=l);var u=g.x,f=g.y,v=g.width,p=g.height;c.vs=new xs([u,-f,0,u,-f-p,0,u+v,-f-p,0,u+v,-f,0])}},_28O:function(t,e,i){if(i(this.s(e+".transparent"))){var n=t.rect,o=t.textureScale,a=n.width*o,r=n.height*o;if(a>=1&&r>=1){var s=Xo(a,r);1!==o&&(s.translate(s,n.x,n.y),s.scale(o,o),s.translate(s,-n.x,-n.y)),Ql(s,t),s.restore(),Ag(this,e,t.mat,t.vs,!0)}}},_29O:function(t,e,i){if(i(this.s(e+".transparent"))){var n=t.rect,o=t.textureScale,a=n.x,r=n.y,s=n.width*o,l=n.height*o;if(s>=1&&l>=1){n.x=n.y=0;var c=Xo(s,l);1!==o&&c.scale(o,o),Hl(c,t),c.restore(),n.x=a,n.y=r,Ag(this,e,t.mat,t.vs,!1)}}},_99O:function(t,e,i,n,o,a){if(i){var s=this,l=s.gv,c=s.data,h=l._buffer,d=l._1O,g=i.icons;for(var u in g){var f=g[u],v=i.rects[u];if(v&&a(sl(f.transparent,c,l))){Cg(t,e,n,o,c,u);var p=sl(f.shape3d,c,l),I=p?[p]:sl(f.names,c,l),_=I?I.length:0,y=sl(f.textureScale,c,l)||1,C=sl(f.light,c,l);C==r&&(C=!!p),ig(t,e,sl(f.blend,c,l),C,sl(f.opacity,c,l),sl(f.reverseFlip,c,l),sl(f.reverseColor,c,l),sl(f.reverseCull,c,l));for(var m=0;_>m;m++){var w=I[m],b=v[m];if(bg(s,b.mat),p)ku(l,c,ju(s,p),s);else{var A=Pr(w);if(A){var M=b.width*y,x=b.height*y;if(M>=1&&x>=1){var D=Xo(M,x);Br(D,A,sl(f.stretch,c,l),0,0,M,x,c,l),D.restore(),Gd(t,Yo,d),og(t,e,d,sl(f.discardSelectable,c,l),h.uv,lu),cg(t,h.vs,b.vs,e.aPosition),hg(t,h.ns,cu,e.aNormal),gg(t,h.is,hu),lg(t,0,hu.length),ag(t,e,d)}}}Ig(l)}ng(t,e)}}}}});var Lf=function(t,e){zn(Lf,this,[t,e])};ms(Lf,Zf,{_16O:function(t,e,i,n,o,a,r,s,l){var c=this.data,h=c.getFinalScale3d(),d=mg(e,h,i,n,s,l);if(c.hasOwnProperty("_anchor")||c.hasOwnProperty("_anchorElevation")){var g=c.getAnchor3d();d[0]-=(g.x-.5)*h[0],d[1]-=(g.y-.5)*h[1],d[2]-=(g.z-.5)*h[2]}return wg(Ss(),d,c.p3(),n,o,a,r,t,c.getFinalRotation3d(),c.getRotationMode())},clear:function(){var t=this;t.faceMat=t.mat=t.shapeModel=t.left=t.right=t.front=t.back=t.top=t.bottom=t.csg=r},needValidate:function(t){if(this._iv)return this._validateFrameId=t._renderInfo.frame,!0;if(this.s("shape3d.autorotate")||this.s("shape3d.fixSizeOnScreen")||this.s("hide.overlapping.group")){var e=t._renderInfo.frame;if(this._validateFrameId!==e)return this._validateFrameId=e,!0}return!1},validate:function(t,e){var i=this,n=i.gv,o=i.data,a=i.shapeName=i.s(je),r=ju(i,a);i._updateAutoRotation(),i._updateFixSize2d(),i._updateOverlapping(),(this.s("shape3d.autorotate")||this.s("shape3d.fixSizeOnScreen"))&&(Ug(n,o,"_wireframeModelMap","_wireframeIndexMap"),Ug(n,o,"_wireframeModelMapSwap","_wireframeIndexMapSwap"));var s=Ls(o,n.getMat(o),!r||i.s("shape3d.scaleable")),l=i._calcAnchorMat(o);if(l&&Zd(s,s,l),o.mat=s,i.clear(),r||!a)if(t){var c=[];r?Hg(n,o,r,i,i.getBodyColor(),[s],t,c):($g(n,o,t,e,s,ct,c,Vg),$g(n,o,t,e,s,ht,c,jg),$g(n,o,t,e,s,dt,c,Rg),$g(n,o,t,e,s,gt,c,Pg),$g(n,o,t,e,s,st,c,Zg),$g(n,o,t,e,s,lt,c,Lg)),c.length&&(xn(t.vs,c),xn(t.ns,Wd(c)))}else i.mat=s,(i.shapeModel=r)||(i._cubeUvs=null,i.vf(ct,0),i.vf(ht,16),i.vf(st,8),i.vf(lt,24),i.vf(dt,32),i.vf(gt,40))},_updateAutoRotation:function(){var t=new Cl;return function(){var e=this,i=e.data,n=e.s("shape3d.autorotate");if(n){var o,a=e.gv;o="string"==typeof n?[n.indexOf("x")<0?a._eye[0]:a._center[0],n.indexOf("y")<0?a._eye[1]:a._center[1],n.indexOf("z")<0?a._eye[2]:a._center[2]]:a._eye;var r=a._center,s=i.p3(),l=Bd([s[0]+o[0]-r[0],s[1]+o[1]-r[1],s[2]+o[2]-r[2]],s,a._up),c=i.r3();t.set(0,0,0,i.getRotationMode(),!0).setFromRotationMatrix(l),Math.abs(c[0]-t.x)<1e-5&&Math.abs(c[1]-t.y)<1e-5&&Math.abs(c[2]-t.z)<1e-5||(i._dynamicRotation=[t.x,t.y,t.z])}else i._dynamicRotation&&delete i._dynamicRotation}}(),_updateFixSize2d:function(){var t=this,e=t.data,i=t.s("shape3d.fixSizeOnScreen");if(i){var n=t.gv;e.getFinalScale3d();var o=Ls(e,n.getMat(e)),a=Es([0,0,0],o),r=n.toViewPosition(a);if(!isNaN(r.x)&&!isNaN(r.y)){var s=Es([1,0,0],o),l=n.toViewPosition(s),c=Es([0,1,0],o),h=n.toViewPosition(c),d=l.x-r.x,g=h.y-r.y;if(d&&g){var u=e._dynamicScale3d||[1,1,1],f=Pr(e.s("shape3d.image")),v=i[0]>0?i[0]:f?al(f,e):20,p=i[1]>0?i[1]:f?rl(f,e):20,I=Math.abs(d/v),_=Math.abs(g/p);Math.abs(I-1)<.001&&Math.abs(_-1)<.001||(e._dynamicScale3d=[u[0]/I,u[1]/_,u[2]])}}}else e._dynamicScale3d&&delete e._dynamicScale3d},_updateOverlapping:function(){var t=this,e=t.s("hide.overlapping.group");if(e){var i,o,a,r=t.gv,s=t.data,l=Ls(s,r.getMat(s)),c=1/0,h=1/0,d=-1/0,g=-1/0,u=s.getAnchor3d(),f=u.x,v=u.y,p=u.z;for(i=0;8>i;i++){if(o=Es([(i>>2)-f,(1&i>>1)-v,(1&i)-p],l),a=r.toViewPosition(o),isNaN(a.x)||isNaN(a.y))return;c=Math.min(c,a.x),d=Math.max(d,a.x),h=Math.min(h,a.y),g=Math.max(g,a.y)}var I={x:c,y:h,w:d-c,h:g-h};t._rectOverlapping=r.overlappingBox.isOverlapping(e,I)}else t._rectOverlapping&&(t._rectOverlapping=n)},getVectorDynamicSize:function(){var t,e=this,i=e.s("shape3d"),n=e.data;if("billboard"===i||"plane"===i||(t=n._currentCubeElementId)!=r){var o,a,s=e.gv,l=Ls(n,s.getMat(n)),c=n.getAnchor3d(),h=.5-c.x,d=.5-c.y,g=.5-c.z,u=e.s("shape3d.vector.dynamic.maxsize"),f=function(t,e){t[0]+=h,t[1]+=d,t[2]+=g,e[0]+=h,e[1]+=d,e[2]+=g;var i=s.toViewPosition(Es(t,l)),n=s.toViewPosition(Es(e,l)),o=i.x-n.x,a=i.y-n.y;return Math.min(u,Math.sqrt(o*o+a*a))};if("billboard"===i)o=f([-.5,0,0],[.5,0,0]),a=f([0,-.5,0],[0,.5,0]);else if("plane"===i)o=f([-.5,0,0],[.5,0,0]),a=f([0,0,-.5],[0,0,.5]);else if(n._currentCubeElementId!=r){var v=3*gu[t+1],p=3*gu[t],I=3*gu[t+2];o=f([du[v],du[v+1],du[v+2]],[du[I],du[I+1],du[I+2]]),a=f([du[v],du[v+1],du[v+2]],[du[p],du[p+1],du[p+2]])}return[o,a]}},getCachedTexture:function(){var t=this,e=t.data._currentCubeElementId;return e!=r?t._cubeCachedImage?t._cubeCachedImage[e]:null:t._shape3dCachedImage},setCachedTexture:function(t){var e=this,i=e.data._currentCubeElementId;i!=r?(e._cubeCachedImage||(e._cubeCachedImage={}),e._cubeCachedImage[i]=t):e._shape3dCachedImage=t},invalidateCachedTexture:function(t){var e,i,n,o=this;if((n=o._shape3dCachedImage)&&(t.deleteTexture(n),o._shape3dCachedImage=null),i=o._cubeCachedImage){for(e in i)t.deleteTexture(i[e]);o._cubeCachedImage=null}},vf:function(t,e){var i=this;if(i.gv.getFaceVisible(i.data,t)){var n=Mg(i,t);n.mat&&(i.faceMat=!0);var o=n.uv;if(o){var a=i._cubeUvs;a||(a=i._cubeUvs=new xs([0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0]));for(var r=0;8>r;r++)a[e+r]=o[r]}return n}},_80o:function(t,e,i){var n=this;if(n._rectOverlapping)return!0;var o=n.shapeModel;if(o||!n.shapeName){var a=n.gv,s=n.data,l=a._cube;yg(a,n.mat),o?ku(a,s,o,n,n.getBodyColor(),i):(cg(t,l.vs,r,e.aPosition),cg(t,l.ns,r,e.aNormal),dg(t,l.is),n._18O(t,e,n.left,0,i),n._18O(t,e,n.front,6,i),n._18O(t,e,n.right,12,i),n._18O(t,e,n.back,18,i),n._18O(t,e,n.top,24,i),n._18O(t,e,n.bottom,30,i)),Ig(a),n.faceMat&&(n._18O(t,e,n.left,0,i,!0),n._18O(t,e,n.front,6,i,!0),n._18O(t,e,n.right,12,i,!0),n._18O(t,e,n.back,18,i,!0),n._18O(t,e,n.top,24,i,!0),n._18O(t,e,n.bottom,30,i,!0))}},_18O:function(t,e,i,n,o,a){if(i){if(!o(i.transparent))return;if(a&&!i.mat||!a&&i.mat)return;var s=this.data.s("polygonOffset");s&&$d(t,s),a&&yg(this.gv,i.mat);var l=this,c=l.data;c._currentCubeElementId=n;var d=l.gv,g=d.getTexture(i.texture,c),u=i.uv,f=i.uvScale,v=i.uvOffset,p=i.discardSelectable;g?u?og(t,e,g,p,d._buffer.uv,l._cubeUvs,v,f):og(t,e,g,p,d._cube.uv,r,v,f):og(t),ig(t,e,i.blend,i.light,i.opacity,i.reverseFlip,i.reverseColor,i.reverseCull),fg(t,e.uDiffuse,i.color||h["color.empty"]),lg(t,n,6),ng(t,e),ag(t,e,g),a&&Ig(d),s&&Kd(t),c._currentCubeElementId=null}}});var Bf=function(t,e){zn(Bf,this,[t,e])};ms(Bf,Zf,{_25Q:1,validate:function(t){var e=this,i=e.gv,n=e.data,o=e.s,a=o("edge.width"),s=n._40I,l=n._41I;if(e.shapeModel=e.info=r,s&&l){var h,d,g,u,f,v,p,I,_,y,C=n.isLooped(),m=o(qt),w=c.getEdgeType(m);if(w){var b=w(n,$l(e,i,n,C,m),i,e._19Q);if(!b.points||b.points.isEmpty())return;v=e.info={},p=b.segments,I=(f=b.points).size();for(var A=s.getElevation(),M=l.getElevation(),D=0;I>D;D++){var T=f.get(D);T.e==r&&(T.e=A+(M-A)*D/(I-1))}_=wd(f.get(0)),y=wd(f.get(I-1)),0===(j=I%2)?(v.c1=wd(f.get(I/2-1)),v.c2=wd(f.get(I/2))):v.p3=wd(f.get((I-j)/2)),v.s1=_,v.s2=wd(f.get(1)),v.t1=wd(f.get(I-2)),v.t2=y}else{f=new ml,v=e.info={};var N=o("edge.offset"),S=o("edge.center"),z=o("edge.source.t3"),k=o("edge.target.t3"),E=s.p3(),V=l.p3();if(z&&(E[0]+=z[0],E[1]+=z[1],E[2]+=z[2]),k&&(V[0]+=k[0],V[1]+=k[1],V[2]+=k[2]),m===Zt){p=o("edge.segments");var j,R=v.points=o(Kt)||wl;if(I=R.size())_=wd(R.get(0)),y=wd(R.get(I-1)),!S&&N&&(g=Ds(_,E,!0),N=x(N,os(E,_)),E=[E[0]+g[0]*N,E[1]+g[1]*N,E[2]+g[2]*N],g=Ds(V,y,!0),N=x(N,os(y,V)),V=[V[0]-g[0]*N,V[1]-g[1]*N,V[2]-g[2]*N]),0===(j=I%2)?(h=wd(R.get(I/2-1)),d=wd(R.get(I/2))):v.p3=wd(R.get((I-j)/2)),v.s1=E,v.s2=_,v.t1=y,v.t2=V;else!S&&N&&(g=Ds(V,E,!0),u=os(E,V),N=Yl(N,u),E=[E[0]+g[0]*N,E[1]+g[1]*N,E[2]+g[2]*N],V=[V[0]-g[0]*N,V[1]-g[1]*N,V[2]-g[2]*N]),h=E,d=V;f.add({x:E[0],y:E[2],e:E[1]}),f.addAll(R),f.add({x:V[0],y:V[2],e:V[1]})}else{var P=$l(e,i,n,C,m);if(e._19Q||(P=-P),C){var Z=E[0],L=E[1],B=E[2],O=s.getTall()/2+P;h=[Z-P,L+O,B],d=[Z+P,L+O,B],f.add({x:Z-P,y:B,e:L}),f.add({x:Z-P,y:B,e:L+O}),f.add({x:Z+P,y:B,e:L+O}),f.add({x:Z+P,y:B,e:L})}else{g=Ds(V,E,!0),u=os(E,V);var U={x:E[0],y:E[2]},W={x:V[0],y:V[2]},G=Vd(r,U,W,P),F=G.x-U.x,Q=G.y-U.y;N=Yl(N,u),g[0]*=N,g[1]*=N,g[2]*=N,h=[E[0]+g[0]+F,E[1]+g[1],E[2]+g[2]+Q],d=[V[0]-g[0]+F,V[1]-g[1],V[2]-g[2]+Q],S?(f.add({x:E[0],y:E[2],e:E[1]}),f.add({x:h[0],y:h[2],e:h[1]}),f.add({x:d[0],y:d[2],e:d[1]}),f.add({x:V[0],y:V[2],e:V[1]})):(f.add({x:h[0],y:h[2],e:h[1]}),f.add({x:d[0],y:d[2],e:d[1]}))}}v.c1=h,v.c2=d}v.list=o(je)===Mt?e.createTubeModel(f,p,a/2,t):e.createLineModel(f,p,a,"edge","edge.dash")}}});var Of=function(t,e){zn(Of,this,[t,e])};ms(Of,Lf,{_80o:function(t,e,i){var n=this,o=n.gv,a=n.shapeModel;yg(o,n.mat),a?ku(o,n.data,a,n,n.getBodyColor(),i):(xg(n,t,e,n.left,i),xg(n,t,e,n.front,i),xg(n,t,e,n.right,i),xg(n,t,e,n.back,i),xg(n,t,e,n.top,i),xg(n,t,e,n.bottom,i)),Ig(o)},validate:function(t,e){var i,n,o=this,a=o.s,s=o.data,l=s.p3(),c=s._thickness/2,h=s.isClosePath(),d=s.getPoints(),g=s.getSegments(),u=a(Re),f=t&&t.uv;if(o.clear(),0>c)n=o.shapeModel=fc(d,g,a(Be),a(Oe),u,a(Ue),s.getTall(),s.getShapeElevation(),h),a(Pe)?a("shape3d.image")||delete n.uv:(delete n.vs,delete n.ns,delete n.uv),a("shape3d.top.image")||delete n.top_uv,a("shape3d.bottom.image")||delete n.bottom_uv;else if(a(je)===Mt)i=aa(d,g,u,h),n=o.shapeModel={vs:[]},a("shape3d.image")&&(n.uv=[],n.sum=a(Ue)||Qn(i)||1,n.len=0),a(Be)&&!h&&(n.top_vs=[],a("shape3d.top.image")&&(n.top_uv=[])),a(Oe)&&!h&&(n.bottom_vs=[],a("shape3d.bottom.image")&&(n.bottom_uv=[])),o._12O(i,c);else{var v,p,I,_,y,C,m,w,b,A;if(i=aa(d,g,u,h),y=o.vf(st,f,!1,e),c&&(C=o.vf(lt,f,!1,e),m=h?r:o.vf(ct,f,!1,e),w=h?r:o.vf(ht,f,!1,e),b=o.vf(dt,f,!1,e),A=o.vf(gt,f,!1,e)),c){for(var M=0,x=i.length;x>M;M++)i[M]=o._tryRemoveBezierPoints(i[M],c);o._12O(i,c)}else y&&i.forEach(function(t){if((_=t.length)>0)for(v=t[0],I=1;_>I;I++)p=t[I],o.addV(y.vs,v,p),v=p});o._20Q(i),t||(y&&(y.ns=Wd(y.vs),Pu(y,"vs"),Pu(y,ne)),c&&(C&&(C.ns=Wd(C.vs),Pu(C,"vs"),Pu(C,ne)),m&&(m.ns=Wd(m.vs),Pu(m,"vs"),Pu(m,ne)),w&&(w.ns=Wd(w.vs),Pu(w,"vs"),Pu(w,ne)),b&&(b.ns=Wd(b.vs),Pu(b,"vs"),Pu(b,ne)),A&&(A.ns=Wd(A.vs),Pu(A,"vs"),Pu(A,ne))))}var D=o.mat=Ss();Rd(D,l),oh(D,s.getFinalRotation3d(),s.getRotationMode());var T=s.getScale3d(),N=s._dynamicScale3d;N&&(T[0]*=N[0],T[1]*=N[1],T[2]*=N[2]),Pd(D,T),Rd(D,Ts(l)),t&&(Jg(o,D,t,n),o.clear())},_20Q:function(t){var e,i,n,o,a,s,l,c=this,h=c.front,d=c.back,g=c.top,u=c.bottom,f=h?h.tuv:r,v=d?d.tuv:r,p=g?g.tuv:r,I=u?u.tuv:r,_=0;(f||v||p||I)&&(e=c.s(Ue)||Qn(t)||1,t.forEach(function(t){if((i=t.length)>0)for(s=t[0],n=1;i>n;n++)l=t[n],o=_/e,_+=os(s,l),a=_/e,c._14O(h,o,a),c._14O(d,1-a,1-o),c._14O(g,o,a),c._14O(u,o,a),s=l}))},_14O:function(t,e,i){if(t){var n=t.uv,o=t.tuv;if(o){if(n)var a=n[0]+(n[6]-n[0])*e,r=n[1]+(n[7]-n[1])*e,s=n[2]+(n[4]-n[2])*e,l=n[3]+(n[5]-n[3])*e,c=n[2]+(n[4]-n[2])*i,h=n[3]+(n[5]-n[3])*i,d=n[0]+(n[6]-n[0])*i,g=n[1]+(n[7]-n[1])*i;else a=e,r=0,s=e,l=1,c=i,h=1,d=i,g=0;o.push(s,l,c,h,d,g,d,g,a,r,s,l)}}},_13O:function(t){var e=t.uv,i=t.tuv;i&&(e?i.push(e[2],e[3],e[4],e[5],e[6],e[7],e[6],e[7],e[0],e[1],e[2],e[3]):i.push(0,1,1,1,1,0,1,0,0,0,0,1))},_tryRemoveBezierPoints:function(t,e){var i=t.length;if(4>i)return t;var n,o,a,r,s,l,c=!1,h=function(e){return t[e]},d=function(e){return t[i-1-e]};for(s=0;1>=s;s++)for(o=(l=s?d:h)(0),a=l(1),n=2;i-1>n;n++)if(!(r=l(n)).remove)if(r.b){Vd(o,a,r,e).adjust?(r.remove=!0,c=!0):(o=a,a=r)}else o=a,a=r;if(!c)return t;var g=[];for(n=0;i>n;n++)t[n].remove||g.push(t[n]);return g},_12O:function(t,e){var i,n,o,a,s,l=this;t.forEach(function(t){if((s=t.length)>0)for(i={p:t[0],n:!0},a=1;s>a;a++)n=t[a],o=s-1>a?t[a+1]:r,l.addPoint(i,n,o,e,t)})},addPoint:function(t,e,i,n,o){var a,s,l,c,h,d,g,u,f,v=this,p=t.p,I=t.f,_=t.b,y=v.s("shape3d.side")||Cs,C=v.s("shape3d.start.angle"),m=v.s("shape3d.sweep.angle"),w=v.shapeModel,b=v.data.isClosePath();if(t.n&&(t.n=!1,I=b&&o.length>2?Vd(o[o.length-2],p,e,n):Vd(r,p,e,n),_=Ed(p,I),w?w.top_vs&&v._10O(_,I,y,C,m,w.top_vs,w.top_uv):(a=v.left)&&(v.addV(a.vs,_,I),v._13O(a))),s=i?Vd(p,e,i,n):b&&o.length>2?Vd(p,e,o[1],n):Vd(p,e,r,n),l=Ed(e,s),w){var A,M,x=w.vs,D=w.uv,T=w.sum;for(D&&(A=w.len/T,w.len+=os(p,e),M=w.len/T),d=v._9O(_,I,y,C,m),g=v._9O(l,s,y,C,m),u=0;y>u;u++)xn(x,d[f=u+1]),xn(x,g[u]),xn(x,d[u]),xn(x,g[u]),xn(x,d[f]),xn(x,g[f]),D&&(c=u/y,h=f/y,D.push(A,h,M,c,A,c,M,c,A,h,M,h));!i&&w.bottom_vs&&v._10O(l,s,y,C,m,w.bottom_vs,w.bottom_uv,!0)}else!i&&(a=v.right)&&(v.addV(a.vs,s,l),v._13O(a)),(a=v.front)&&v.addV(a.vs,I,s),(a=v.back)&&v.addV(a.vs,l,_),(a=v.top)&&v.addH(a.vs,I,s,l,_,!0),(a=v.bottom)&&v.addH(a.vs,_,l,s,I);t.p=e,t.f=s,t.b=l},_10O:function(t,e,i,n,o,a,r,s){var l,c,h=this.data,d=this._9O(t,e,i,n,o),g=(t.x+e.x)/2,u=(t.y+e.y)/2,f=h.getShapeElevation(),v=0;for(v=0;i>v;v++)s?(xn(a,d[v]),xn(a,d[v+1])):(xn(a,d[v+1]),xn(a,d[v])),xn(a,[g,f,u]),r&&(s?(l=V*(v+1)/i+n,c=V*v/i+n):(l=V*v/i+n,c=V*(v+1)/i+n),r.push(.5-.5*T(c),.5-.5*S(c),.5-.5*T(l),.5-.5*S(l),.5,.5))},_9O:function(t,e,i,n,o){var a,r,s=this.data,l=[],c=(t.x+e.x)/2,h=(t.y+e.y)/2,d=s.getTall()/2,g=s.getShapeElevation(),u=0;for(o=o||V;i>=u;u++)r=T(a=o*u/i+n),l.push([c+(t.x-c)*r,g+d*S(a),h+(t.y-h)*r]);return l},addV:function(t,e,i){var n=e.x,o=e.y,a=i.x,r=i.y,s=this.data,l=s.getShapeElevation(),c=s.getTall()/2;t.push(n,l-c,o,a,l-c,r,a,l+c,r,a,l+c,r,n,l+c,o,n,l-c,o)},addH:function(t,e,i,n,o,a){var r=this.data,s=r.getTall()/2,l=r.getShapeElevation()+(a?s:-s);t.push(e.x,l,e.y,i.x,l,i.y,n.x,l,n.y,n.x,l,n.y,o.x,l,o.y,e.x,l,e.y)},vf:function(t,e,i,n){var o,a=this,s=a.gv.getFaceVisible(a.data,t);return(i||s)&&((o=Mg(a,t,n)).vs=[],o.tuv=s&&(o.texture||e)?[]:r,o.visible=s),o}});var Uf=function(t,e){zn(Uf,this,[t,e])};ms(Uf,Zf,{_25Q:1,validate:function(t){var e=this,i=e.data,n=e.s,o=i.getPoints(),a=o.size();if(e.shapeModel=e.info=r,a>1){var s=e.info={},l=i.getSegments(),c=i.getThickness(),h=wd(o.get(0)),d=wd(o.get(a-1)),g=a%2;0===g?(s.c1=wd(o.get(a/2-1)),s.c2=wd(o.get(a/2))):s.p3=wd(o.get((a-g)/2)),s.s1=h,s.s2=wd(o.get(1)),s.t1=wd(o.get(a-2)),s.t2=d,s.list=n(je)===Mt?e.createTubeModel(o,l,c/2,t):e.createLineModel(o,l,c,"shape.border","shape.dash")}var u=i.p3(),f=e.mat=Ss();Rd(f,u),oh(f,i.getFinalRotation3d(),i.getRotationMode());var v=i.getScale3d(),p=i._dynamicScale3d;p&&(v[0]*=p[0],v[1]*=p[1],v[2]*=p[2]),Pd(f,v),Rd(f,Ts(u))},_80o:function(t,e,i){var n=this,o=n.shapeModel;if(o){var a=n.gv;yg(a,n.mat),ku(a,n.data,o,n,n.getBodyColor(),i),Ig(a)}}});var Wf=s.graph3d.VR=function(t){var i=this;i.gv=t,i._controllers=[],i.switch=new Ff(i),i._enable=!1,i._defaultCallLater=s.Default.callLater,i._defaultCancelLater=on,void 0!==e&&"VRFrameData"in e&&(i._frameData=new e.VRFrameData),i.measureOflength=1,i.eyesOffset=[0,0,0],i._orientation=new s.Math.Quaternion,i._lastHeadPose=[0,0,0],i._offsetToBeAdd=[0,0,0],i._fpsInfo={time:0,fps:0,frames:0}};ms(Wf,i,{ms_fire:!0,_42:function(t,e,i,n){var o=this,a=o.gv;if(!a.drawFilter&&o._deviceInAction){var r=o._device;if(r){var l=o._measureOflength;r.depthNear=a.getNear()*l,r.depthFar=a.getFar()*l;var c=o._offsetToBeAdd;if(o.eyesOffset[0]+=c[0],o.eyesOffset[1]+=c[1],o.eyesOffset[2]+=c[2],c[0]=0,c[1]=0,c[2]=0,!1===r.isPresenting)return o._controllers.forEach(function(t){t&&t.update()}),a.iv(),!1;var h=o._frameData;r.getFrameData(h);var d=h.pose.position;if(d){var g=o.toViewPosition(d);a.setEye(g),o._orientation.fromArray(h.pose.orientation);var u=new s.Math.Vector3(0,0,-10*o._scaleFactor);u.applyQuaternion(o._orientation),a.setCenter([g[0]+u.x,g[1]+u.y,g[2]+u.z])}o._controllers.forEach(function(t){t&&t.update()}),a.setViewport(t,0,0,e/2,i),o._viewMatrix=o._copyViewMatrix(h.leftViewMatrix),o._projectMatrix=o._copyProjectMatrix(h.leftProjectionMatrix),n(),a.setViewport(t,e/2,0,e/2,i),o._viewMatrix=o._copyViewMatrix(h.rightViewMatrix),o._projectMatrix=o._copyProjectMatrix(h.rightProjectionMatrix),n(),o._lastViewMatrix=o._viewMatrix,o._lastProjectMatrix=o._projectMatrix,o._viewMatrix=null,o._projectMatrix=null,o.submitFrame();var f=Date.now(),v=o._fpsInfo;return f-v.time>1e3?(v.fps=Math.round(1e3*(v.frames+1)/(f-v.time)),v.time=f,v.frames=0):v.frames++,!0}}},onVRDisplayPresentChange:function(){var t=this.isPresenting();this._injectGraphView(t),this.fp("present",!t,t)},getOrientation:function(){return this._orientation},addController:function(t){t=t||0;var e=this,i=e.getController(t);return i||(i=new Gf(e,t),e._controllers.push(i),i)},getController:function(t){t=t||0;for(var e=this._controllers,i=0,n=e.length;n>i;i++)if(e[i]&&e[i].id===t)return e[i];return null},removeController:function(t){t=t||0;for(var e=this._controllers,i=0,n=e.length;n>i;i++)if(e[i]&&e[i].id===t)return e.splice(i,1),!0;return!1},getLastHeadPose:function(){return this._lastHeadPose},toViewPosition:function(t,e){var i=this,n=i._scaleFactor,o=i._eyesOffset,a=i._lastHeadPose;return a[0]=t[0]*n,a[1]=t[1]*n,a[2]=t[2]*n,e?(e[0]=a[0]+o[0],e[1]=a[1]+o[1],e[2]=a[2]+o[2],e):[a[0]+o[0],a[1]+o[1],a[2]+o[2]]},addEyesOffset:function(t,e,i){var n=this._offsetToBeAdd;n[0]+=t,n[1]+=e,n[2]+=i},_copyViewMatrix:function(t){var e=this.dup(t),i=this._scaleFactor;e[12]*=i,e[13]*=i,e[14]*=i;var n=this._eyesOffset;if(n&&(n[0]||n[1]||n[2])){var o=n[0],a=n[1],r=n[2];e[12]-=e[0]*o+e[4]*a+e[8]*r,e[13]-=e[1]*o+e[5]*a+e[9]*r,e[14]-=e[2]*o+e[6]*a+e[10]*r}return e},shutdown:function(){var t=this._device;t&&t.isPresenting&&t.exitPresent()},isPresenting:function(){var t=this._device;return t&&t.isPresenting},_copyProjectMatrix:function(t){var e=this.dup(t),i=this._scaleFactor;return e[14]*=i,e},dup:function(t,e){for(var i=t.length,n=e||new Array(i);i--;)n[i]=t[i];return n},getViewMatrix:function(t){var e=this._viewMatrix;return e?this.dup(e,t):void 0},getProjectMatrix:function(){var t=this._projectMatrix;return t?this.dup(t):void 0},submitFrame:function(){var t=this;if(t._enable&&t._deviceInAction){var e=t._device;e&&e.isPresenting&&(e.submitFrame(),t.gv.iv())}},getFps:function(){return this._fpsInfo.fps},intersectWorld:function(t){var e=this.gv;return e.intersectObjects(t,e.dm().getDatas())},setDevice:function(t){this._device=t},_injectGraphView:function(){var t,e,i;return function(n){var o=this.gv;if(n){var a=this._device.getEyeParameters("left"),r=a.renderWidth,s=a.renderHeight;t=o.getWidth,e=o.getHeight,i=o.getDevicePixelRatio,o.getWidth=function(){return 2*r},o.getHeight=function(){return s},o.getDevicePixelRatio=function(){return 1}}else t&&(o.getWidth=t,o.getHeight=e,o.getDevicePixelRatio=i)}}(),_injectCallLaterFunc:function(t){var e=this;if(!t)return Ur=s.Default.callLater=e._defaultCallLater,void(on=s.Default.cancelLater=e._defaultCancelLater);e=this;Ur=s.Default.callLater=function(t,i,n,o){var a=e._device;return a&&a.isPresenting?o?Q(function(){Ur(t,i,n)},o):a.requestAnimationFrame(function(){e._deviceInAction=!0,t.apply(i,n),e._deviceInAction=!1}):e._defaultCallLater(t,i,n,o)},on=s.Default.cancelLater=function(t,i){var n=e._device;return n&&n.isPresenting?i?H(t):n.cancelAnimationFrame(t):e._defaultCancelLater(t,i)}}}),i.defineProperties(Wf.prototype,{enable:{get:function(){return this._enable},set:function(t){var e=this;e._enable!==t&&(e._enable=t,t?(e.switch.showButton(),e._injectCallLaterFunc(!0)):(e.shutdown(),e.switch.hideButton(),e._injectCallLaterFunc(!1)),e.fp("enable",!t,t))}},measureOflength:{get:function(){return this._measureOflength},set:function(t){this._measureOflength=t;var e=this._scaleFactor=1/t;this._controllers.forEach(function(t){t&&t._setScaleFactor(e)})}},eyesOffset:{get:function(){return this._eyesOffset},set:function(t){this._eyesOffset=t}},controllerModel:{get:function(){return this._controllerModel},set:function(t){var e;"object"==typeof t?(e=t.mtl,t=t.obj):(e=t+".mtl",t+=".obj");var i=this,n=i._controllerModel;n&&n.obj===t&&n.mtl===e||(n=i._controllerModel={obj:t,mtl:e},c.loadObj(t,e,{finishFunc:function(t,e){i._controllerModel===n&&c.setShape3dModel("vrControllerModel",e)}}))}},interactive:{get:function(){return!!this._interactive},set:function(t){!!t!=!!this._interactive&&(this._interactive=t,t&&this.addController(0),this.gv.getCoreInteractor().enableVR(t))}}});var Gf=function(t,e){function i(t,e,i){return Math.abs(t[0]-e[0])<i&&Math.abs(t[1]-e[1])<i&&Math.abs(t[2]-e[2])<i}var o=this;o.vr=t,o.id=e;var a,r,s=[0,0],l=[{id:"thumbpad",pressed:!1},{id:"trigger",pressed:!1},{id:"grips",pressed:!1},{id:"menu",pressed:!1}],h=new qc;h.s("shape3d","vrControllerModel"),h.isController=!0,h.s("intersect",!1),o.getGamepad=function(){return r},o.isButtonPressed=function(t){for(var e,i=0,n=l.length;n>i;i++)if((e=l[i]).id===t)return e.pressed;return!1},o.getNode=function(){return h};var d=.003;o.setRotationEpsilon=function(t){d=t};var g=5e-4,u=g;o.setPositionEpsilon=function(t){g=t,u=t*o.vr._scaleFactor},o._setScaleFactor=function(t){h.s3(t,t,t),u=g*t},o._setScaleFactor(o.vr._scaleFactor);var f,v=new _l,p=new Il,I=[0,0,0],_=[0,0,0],y=new Cl,C=new ul,m=new vl;o.getRay=function(){return f?(m.origin.fromArray(I),m.direction.copy(C),f=!1,m):m},o.update=function(){if(a=r,r=function(t){var e=navigator.getGamepads&&navigator.getGamepads();if(e)for(var i=0,n=0,o=e.length;o>i;i++){var a=e[i];if(a){var r=a.id;if("OpenVR Gamepad"===r||"OpenVR Controller"===r||0===r.indexOf("Oculus Touch")||0===r.indexOf("Spatial Controller")){if(n===t)return a;n++}}}}(e),a!=r&&console.log("gamepad changed",r),!r||r.pose===n)return r=null,void h.s("3d.visible",!1);if(c.getShape3dModel("vrControllerModel")){h.dm()||t.gv.dm().add(h),h.s("3d.visible",!0);var g=r.pose;if(null!==g){g.position&&(o.vr.toViewPosition(g.position,I),i(h.p3(),I,u)||(f=!0,h.p3(I))),g.orientation&&(v.fromArray(g.orientation),C.set(0,0,-1).applyQuaternion(v).normalize(),p.makeRotationFromQuaternion(v),y.set(0,0,0,h.getRotationMode(),!0).setFromRotationMatrix(p),_[0]=y.x,_[1]=y.y,_[2]=y.z,i(h.r3(),_,d)||(f=!0,h.r3(_))),f&&t.fp("gamepad.pose",null,{position:I,rotation:_,id:e});var m=r.axes;(s[0]!==m[0]||s[1]!==m[1])&&(s=[m[0],m[1]],t.fp("gamepad.axes",null,{id:e,axes:s}));var w,b,A,M=r.buttons;for(w=0,b=M.length;b>w;w++)if((A=M[w].pressed)!==l[w].pressed){l[w].pressed=A;var x={id:e};x.state=x._62O=A?"down":"up",t.fp("gamepad.button."+l[w].id,null,x)}}}}},Ff=function(t){this.vr=t,this._button=null};ms(Ff,i,{showButton:function(){var t=this.assureButton();if(!t.parentNode){var e=this.vr.gv,i=e.getView();e._79O?i.insertBefore(t,e._79O):i.appendChild(t)}},hideButton:function(){var t=this._button;t&&t.parentNode&&t.parentNode.removeChild(t)},assureButton:function(){var t=this._button;return t||(this._button=this.createButton(this.vr.gv))},createButton:function(t){function i(t,e){t.textContent=e&&e.isPresenting?"关闭 VR 显示":"开启 VR 显示"}function n(e){s.style.display="",s.style.cursor="pointer",s.style.left="calc(50% - 50px)",s.style.width="100px",i(s,e),s.onmouseenter=function(){s.style.opacity="1.0"},s.onmouseleave=function(){s.style.opacity="0.5"},s.onclick=function(){e.isPresenting?e.exitPresent():e.requestPresent([{source:t.getCanvas()}])},t.vr.setDevice(e)}function o(){s.style.display="",s.style.cursor="auto",s.style.left="calc(50% - 75px)",s.style.width="150px",i(s,null),s.onmouseenter=null,s.onmouseleave=null,s.onclick=null,t.vr.setDevice(null)}function r(t){t.style.position="absolute",t.style.bottom="20px",t.style.padding="12px 6px",t.style.border="1px solid #fff",t.style.borderRadius="4px",t.style.color="#000",t.style.font="normal 13px sans-serif",t.style.textAlign="center",t.style.opacity="0.5",t.style.outline="none",t.style.zIndex="999"}if("getVRDisplays"in navigator){var s=this._button=a.createElement("button");return s.style.display="none",r(s),e.addEventListener("vrdisplayconnect",function(t){n(t.display)},_),e.addEventListener("vrdisplaydisconnect",function(){o()},_),e.addEventListener("vrdisplaypresentchange",function(e){i(s,e.display),t.vr.onVRDisplayPresentChange()},_),navigator.getVRDisplays().then(function(t){t.length>0?n(t[0]):o()}),s}var l=a.createElement("a");return l.href="https://webvr.info",l.innerHTML="当前不支持 webvr",l.style.left="calc(50% - 90px)",l.style.width="180px",l.style.textDecoration="none",r(l),l}}),i.defineProperties(Ff.prototype,{});var Qf=s.graph3d.PostProcessing=function(t){function e(){if(!n){var e=t.getGL();n=new Tg.RenderTarget(t,e),o=new Wu.Shader(e,h.vs,h.fs),a=Wu.Buffer.createIndexBuffer(e,new Uint16Array([0,2,1,1,2,3])),r=Wu.Buffer.createVertexBuffer(e,new Float32Array([0,0,1,0,0,1,1,1]))}}var n,o,a,r,s=this,l={},c=!1;i.keys(Qf).forEach(function(e){l[e]=new Qf[e](t)}),s.getModule=function(t){return t?l[t]:s},s.getModuleList=function(){return i.keys(l)},s.handleDataModleChange=function(t,e){t&&(t.setPostProcessingData(s.serialize()),t.removeSerializeListener(s.onDataModelSerialize,s)),e&&(e.addSerializeListener(s.onDataModelSerialize,s),s.deserialize(e.getPostProcessingData()))},s.onDataModelSerialize=function(e){"serialize"===e.type?t.dm()._postProcessingData=s.serialize():"deserialize"===e.type&&s.deserialize(t.dm().getPostProcessingData())},s.serialize=function(){var t,e,i,n={};for(t in l)e=l[t],n[t]={enable:e.enable},(i=e.serializeProperties)&&i.forEach(function(i){n[t][i]=e[i]});return n},s.deserialize=function(t){var e,i,n,o;if(t){for(n in t)if(o=l[n])for(i in e=t[n],s.enableModule(n,e.enable),e)"enable"!==i&&(o[i]=e[i])}else for(n in l)(o=l[n]).enable=!1,o.resetProperties&&o.resetProperties()},s.decodeShader=function(t){var e,i,n,o="",a="";for(n=0;n<t.length;n++)"%"===(e=t[n])?e="'":"a"===e?e='"':"]"===e&&(e="\\"),i=String.fromCharCode(e.charCodeAt(0)-1),n%2?a+=i:o=i+o;return a+o},s.createShader=function(t,e,i){var n=e.indexOf("^#"),o=s.decodeShader(e.substr(0,n)),a=s.decodeShader(e.substr(n+2));if(i){var r=i(o,a);r&&r.vs&&(o=r.vs),r&&r.fs&&(a=r.fs)}return new Wu.Shader(t,o,a)},s.enableModule=function(t,i){var n,o,a,r=t.split(",");for(n=0,o=r.length;o>n;n++)a=r[n].trim(),l[a]&&(l[a].enable=i);for(a in c=!1,l)if(l[a].enable){c=!0;break}c&&e()};var h={vs:["attribute vec2 pos;","varying vec2 vUv;","void main(void) {","gl_Position = vec4(pos.x * 2.0 - 1.0, -pos.y * 2.0 + 1.0, 0.0, 1.0);","vUv = vec2(pos.x, 1.0 - pos.y);","}"].join("\n"),fs:["precision highp float;","uniform sampler2D image;","varying vec2 vUv;","void main() {","gl_FragColor = texture2D(image, vUv);","}"].join("\n")};s._42=function(e,i,s,h,d){if(c&&!d){n.setSize(e,i,s),fd(e,n.frame),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),t.setViewport(e,0,0,i,s),h();var g,u=n;for(g in l)u=l[g]._42(e,u)||u;return vd(e),t.setViewport(e,0,0,i,s),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),o.bind(),e.activeTexture(e.TEXTURE0+0),e.bindTexture(e.TEXTURE_2D,u.texture),o.uniforms.image=0,a.upload(),r.upload(),o.attributes.pos.pointer(r),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0),e.bindTexture(e.TEXTURE_2D,null),e.useProgram(t._prg),!0}}},Hf=s.graph3d.PostProcessing.Bloom=function(t){function e(){var e=t.getWidth(),i=t.getHeight();if(e&&i){f=[e,i],c=!0;var n=t.getGL(),o=Math.round(f[0]/2),a=Math.round(f[1]/2);for(h=new Tg.RenderTarget(t,n,o,a),C=0;I>C;C++)v.push(new Tg.RenderTarget(t,n,o,a)),p.push(new Tg.RenderTarget(t,n,o,a)),o=Math.round(o/2),a=Math.round(a/2);var l=t._postProcessing;d=l.createShader(n,Hf._34Q);for(var C=0;I>C;C++)y[C]=l.createShader(n,Hf._35Q,function(t,e){return{fs:e.replace(/DEFINE_VALUE/g,_[C])}});g=l.createShader(n,Hf._36Q,function(t,e){return{fs:e.replace(/NUM_MIPS/g,I)}}),u=l.createShader(n,Hf.finalShader),r=Wu.Buffer.createIndexBuffer(n,new Uint16Array([0,2,1,1,2,3])),s=Wu.Buffer.createVertexBuffer(n,new Float32Array([0,0,1,0,0,1,1,1]))}}var n,o,a,r,s,l=!1,c=!1;this.serializeProperties="strength,threshold,radius".split(","),this.resetProperties=function(){n=1.5,o=.55,a=.4},i.defineProperties(this,{enable:{get:function(){return l},set:function(t){!!l!=!!t&&(l=t,t&&!c&&e())}},strength:{get:function(){return n},set:function(t){n=t}},threshold:{get:function(){return o},set:function(t){o=t}},radius:{get:function(){return a},set:function(t){a=t}}}),this.resetProperties();var h,d,g,u,f=[256,256],v=[],p=[],I=5,_=[3,5,7,9,11],y=[];this._42=function(i,_){function C(e,n,o,a){fd(i,n.frame),t.setViewport(i,0,0,n.width,n.height),a?a(i):i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),m!==e&&e.bind();var l=0;for(var c in o){var h=o[c];h instanceof WebGLTexture&&(i.activeTexture(i.TEXTURE0+l),i.bindTexture(i.TEXTURE_2D,h),h=l,l++),e.uniforms[c]=h}for(m!==e&&(r.upload(),s.upload(),e.attributes.pos.pointer(s),m=e),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0);l--;)i.activeTexture(i.TEXTURE0+l),i.bindTexture(i.TEXTURE_2D,null);vd(i)}if(l){var m;c||e(),C(d,h,{smoothWidth:.01,luminosityThreshold:o,tDiffuse:_.texture});var w,b=h,A=Math.round(f[0]/2),M=Math.round(f[1]/2);for(w=0;I>w;w++)C(y[w],v[w],{colorTexture:b.texture,direction:[1,0],texSize:[A,M]}),C(y[w],p[w],{colorTexture:v[w].texture,direction:[0,1],texSize:[A,M]}),A=Math.round(A/2),M=Math.round(M/2),b=p[w];return C(g,v[0],{blurTexture1:p[0].texture,blurTexture2:p[1].texture,blurTexture3:p[2].texture,blurTexture4:p[3].texture,blurTexture5:p[4].texture,bloomStrength:n,bloomRadius:a,bloomTintColor:[1,1,1]}),C(u,_,{image:v[0].texture},function(t){t.enable(t.BLEND),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)}),i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD),i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA),_}}};Hf._34Q="~b\vu<u*szj/ctvpuqf!!.w!f1d/32!!q-pyt/<t\vpwqb)s3zdjfowh!!>w!fwdV3w!\vw<V*w1</\v2w!p-j1e/!1n!b-j1o/)2w!p,j!e1*/!3|!\v+h!mz`/Qtpptqj.u!j-p1o/!2>!!.w!f1d/53)!q+p!ty/^#~q\vs<f*d!jbtijqpmob!!i-jmhfiyqf!ug!m-psbpum<p\vDvuovjqgupvspn!!)tybjnnq!m>f!ss3pEm!puDEhjbgsgGv`tmfh<\v\v<v*o!jwg!p-sinu!egjmXpibuup!pmnvtn!j,o!petmjpuiztUfissifUtziupjmtep<o\vjvnovjmg!p-senm!pgimtpfbsui!UtznupjptupioXjjnevumi!<)\vqwfbustzijuophp!nwtf!d>3!!bwiVqwm<b\v!wupbjpem!gn\vb<j*o1)/*1!!|-\v1w/f1d!5-!1u/f1y!f-m1!/>1!)u5fdyfuwv!s>f!3sEp)m!puDEujvgqguvvtpf!-5!dwfVww\v!<**<!\vbwnfvdm4!!-m{vznyb/!m>f!ywffud!4))u!p1e/!3>:!:w-!!u1b/p6m9g8\v-<!*1!/522",Hf._35Q="~b\vu<u*szj/ctvpuqf!!.w!f1d/32!!q-pyt/<t\vpwqb)s3zdjfowh!!>w!fwdV3w!\vw<V*w1</\v2w!p-j1e/!1n!b-j1o/)2w!p,j!e1*/!3|!\v+h!mz`/Qtpptqj.u!j-p1o/!2>!!.w!f1d/53)!q+p!ty/^#~q\vs<f*d1j/t2j!p-on!viTjuhiihqj!fgxm0pnbvuT<f\vtwvbgsgzjjeo)h5!dwffwd!3>!!wsVpwm<p\vDvhobjsgGp`smnh!\vt~b\vn<qxm!f+s!31E/!3d!p>m,p!snUvfTyuuivhsjff<x\v\vv<oxj!g+p!s*n3!fwmfqdn3b!tu!f,y!T2jf{mfq<n\vbvto)j!g>p,s!nn!vwTffdt3v!gegjjsef\vd<ucjhpso/<*\vu$fetfgggjPowfv!!L.F!SwOVFwM!`-SfBsEvJuVyTf!UEsFpGmJpOdF!`)WEB3MfVsFv\vu$yeffug!j>o!f3!fTmJqHnNbBt!!E4FdGfJwO\vF<`cWhBsM/V*Fu\vfgtmgpgbPuw!vh!b,v!twtVjwb!o-Qfesgv)ujyof!Ugsmppmbpud!!y)-E!3jfos!vgumypfbuu!!>t!j2hfnmbq*n!b|t\v!s4fdufvws\vo<!y1!/+4!:f9{:j5T!w+o!jf!y+q!)o!p.j1u/d6f!s+j!ey!!>+!!uyf0t)g!gtPjwhvn!b3!d+f!wt\vj<h*nbbn*h*j0Ttgj!h-nyb)<g\ve~Q\vowbpjjtet!vnbbhj!o>)!*x!!|u\vbwpfmdg3\v!<j*ojw)Tujb{pfm!g>!!>2!/y1!!u0b!pumfgy\vT|j!{*f!<,\v,g!mjp!b<uT!VgJTEjBhSn`bM!F>O!SgFmLp!b=u!)jT!J<H2N!B>*!<j\v!gumopjb!u)!sxpfgj\vh<inuvTTvuni!h>j!fhxb!v+t!tcjhbso/Q*ewgV)w1!/-1f-s!vguTyjfhUnsbp*m<p\vdw!f)dE43!fesjvgugyvftuf!T>v!n",Hf._36Q="~b\vu<u*szj/ctvpuqf!!.w!f1d/32!!q-pyt/<t\vpwqb)s3zdjfowh!!>w!fwdV3w!\vw<V*w1</\v2w!p-j1e/!1n!b-j1o/)2w!p,j!e1*/!3|!\v+h!mz`/Qtpptqj.u!j-p1o/!2>!!.w!f1d/53)!q+p!ty/^#~q\vs<f*d!j*twjVpwo!!-i6jfhsivqu!ygfmUpsbvum<c\v)wEb3sfzsjvouhy!fwuf!d+3!!*w1V/w2<!\v-vsopjmgppDsuno!jtUbnnpqpmmfcs)35Ed!fcwm!v+s!U*f3y/u1v)ssfp2u<d\vbvGonjpgppmsCnq!stfbmn\vq!m,f!s*3wEV!wc!m-v5sfUsfvyuuyvfsUfs3v<m\vcv)oEj3gfpssvnu!ytfbun!q+m!f*s13/E2!!c-msvpsmUpfDyuuovjsUfn4p<p\vmvco)j5gdpfswn!!+t!b*n5q/m1f)ss3pEu!dcbmGvnspUpfmyCuqvssffm5\v<!\v,v!o*jwgVpws!n-!4tfbsnvqumyffsU3sEv!mccm)vEs3Uffsyvuuvysffu6!<+\v!v*o1j/g2p!s-ns!ptmbpnDqumofjsU3nEp!pemjcs)u5Udffywu!v+s!f*<7\v/v1o)jsgppusdnb!GgnmpppbmuC!qcsmfpmp\vn!T,u!s*fwoVhwu!i-<3\vfvsovjugypfsUns!vgmmcp)bEu3!fcsmvpupynfSub!e+j!v*t1</\v2v!o-jsgppmspnD!uwofjdU4n!pcpmmpcp)n5Udjfowu!D+p!m*p9s/<1\v)gsmppubdub!GmnfpspqmCCmqpspfnmG\vb!d,u!p*sw)Vdwp!o-t2uf!sjvou!ygfmUpsbvum!cg)bEd3ufpssv*u!y|f\vug!m+p!b*u1!/n2j!s-ssppsmGpbDduuopjsU!n>p!p2m/c3)!5.d!fgwb!d+u!p*s1</\v2s)fsupvusdob!Gnnjpyp)mgCbqdsufpms!-)!!n+j!sisuphsoGfbsduuTpnsp-p!mccm!p>p!nsSpbmepjDvhtb*s<G\v`~m\vhw\vp|j!e*!)nobj",Hf.finalShader="~b\vu<u*szj/ctvpuqf!!.w!f1d/32!!q-pyt/<t\vpwqb)s3zdjfowh!!>w!fwdV3w!\vw<V*w1</\v2w!p-j1e/!1n!b-j1o/)2w!p,j!e1*/!3|!\v+h!mz`/Qtpptqj.u!j-p1o/!2>!!.w!f1d/53)!q+p!ty/^#~q\vs<f*dwjVtwj!p-of!hibjnhji)qE!3gfmspvbuuy<f\vuv!o>j!gsppsmnp!DthbbnsqGm`fmsh3\vE|!!j*n)bohjfb<n\v!webjspzwj\vo<hw!Vwwf!d3";var Yf=s.graph3d.PostProcessing.Dof=function(t){function e(){g=!0;var e=t.getGL();n=new Tg.RenderTarget(t,e),o=t._postProcessing.createShader(e,Yf._38Q),a=Wu.Buffer.createIndexBuffer(e,new Uint16Array([0,2,1,1,2,3])),r=Wu.Buffer.createVertexBuffer(e,new Float32Array([0,0,1,0,0,1,1,1]))}var n,o,a,r,s,l,c,h,d=!1,g=!1;this.serializeProperties="aperture,maxblur,image".split(","),this.resetProperties=function(){this.aperture=.025,this.maxblur=1,this.image=null},i.defineProperties(this,{enable:{get:function(){return d},set:function(t){!!d!=!!t&&(d=t,t&&!g&&e())}},image:{get:function(){return l},set:function(e){l!==e&&(l=e,s&&(t.getGL().deleteTexture(s),s=null),t.iv())}},maxblur:{get:function(){return c},set:function(e){c!==e&&(c=e,t.iv())}},aperture:{get:function(){return h},set:function(e){h!==e&&(h=e,t.iv())}}}),this.resetProperties(),this._42=function(i,l){if(d){var c;if(g||e(),!s){var h=Pr(this.image);if(!h||!h.tagName)return l;s=Gd(i,h)}var u=l.width,f=l.height;return n.setSize(i,u,f),function(e,n,o,s){fd(i,n.frame),t.setViewport(i,0,0,n.width,n.height),s?s(i):i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),c!==e&&e.bind();var l=0;for(var h in o){var d=o[h];d instanceof WebGLTexture&&(i.activeTexture(i.TEXTURE0+l),i.bindTexture(i.TEXTURE_2D,d),d=l,l++),e.uniforms[h]=d}for(c!==e&&(a.upload(),r.upload(),e.attributes.pos.pointer(r),c=e),i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0);l--;)i.activeTexture(i.TEXTURE0+l),i.bindTexture(i.TEXTURE_2D,null);vd(i)}(o,n,{tColor:l.texture,tDepth:s,aspect:u/f,aperture:this.aperture,maxblur:this.maxblur}),n}}};Yf._38Q="~b\vu<u*szj/ctvpuqf!!.w!f1d/32!!q-pyt/<t\vpwqb)s3zdjfowh!!>w!fwdV3w!\vw<V*w1</\v2w!p-j1e/!1n!b-j1o/)2w!p,j!e1*/!3|!\v+h!mz`/Qtpptqj.u!j-p1o/!2>!!.w!f1d/53)!q+p!ty/^#~q\vs<f1d/j2t!j>p!ob!/isjphmipqD!hgbmspGb`um<h\v\vw<b1s/z2j5o!h0!!wmfpdd3!!>w!Vswp<m\vpvDohjbgspGs`nm!hc\vp<p*m!!5vstvfmEcfgqpuei!<+\v!v*o!jugdpfssns!ptdbundqfmqftsb3!E+!!u*D!p5m/p1s!<-\v1v/o1j!g)p3sdnf!wt!b)n!q,m!fzsy3/Ew!VuwE!f-qsupim<p\vDvuo!j)gEp3sfns!vgumypfbuu!!>n,b!ymcpmdv\vs<<*\v!v5osjvgmpcsgnp!eg!m+p!b*u!!ubdqffsssupvdsufd<f\vqvtobj!g+p!s*n!!:g3m/p1b.u!!-o:f3b/s1D.m!j)q3<d\vfvwo!j)g!p,s!nz!yg/mwpVbwu!!-gsbpsmDpmDjuq!<)\vEv3ofjsgvpusynf!ug!m>p,b!um!pgdp\vd<v*t!<5\vsvvomjcggppsen!!+g!m*p!buud!fbstsqpfdduud<f\vqdtpbo!t+u!!*g!m1p/b1u!!-V5o/q1b.d!l)E3pdxfowt!d)b!m,f!!z>y!/3w6V6w/!!-0s!p3m6p7D/u<!!)0E03!f1s/v/u2y!f.u?!!>g,s!bmdpudj\vp<o*!!)5fsyvdmmcvgepjeo!h+!!2**!\vuddpfostsup!dwufddf4q!tQbb!d+l!G*b!d:u3p/s1t!!->:!3w/f1d.4!))!33d6f7w/!!)+!!,3!6z7y//!w+V!w3!6-7s/p-m!p3D6u7!/)!E+3!f3s6v7u/y-f!u3!6>7,/!!m*p<d\v\vd<p*o!t5us!vwmfcdg5p!eV!o+q!b*d!luGdbfdsusppsdtu!d>f!qVtobq!b+d!l*E!p5x/o1t.d!b-m1f/!10!!)w3fddf5w)!!)Q!b,d!lzGyb/dwuVpws!t--s!p2m/p!D*u<!\v)gEm3pfbsuv!uvyofqub!d>l,S!HmCpBdU\vp<E*f!q5usiv)m!cdgppoet!u+!!j*o!!uwdffds5s!pwd!u*d!f|q\vt!bs!f+u!v*s!o:!3e/p1u.)!!-w:-3!/V1o!q)b3ddlfGwb!d)u!p,s!tz!y*/<w\vV~w\v!g-msppbmup!Dhuf!u)EEf3qfusiv)u!ydfpuo!t>u,!!jmop!dw\vf<d*3!!5tsdvsmfcfgopQep!t+j!u*j!puod!f*s!s|p\vd\nusdffuqvtsbo!!+v!o*q!b1d/l1S!H-C5B/U1p!E)f3qdufiw)!!)u!f,y!uzvys/fw3VEw)!!-usEpfmqpuDiu-!!)tEd3sffsfvouQypftuj!u>j,p!om!p*d!\v*<<*\v!~5\vsgvmmpcbgup!eq!f+s!t*q!fuddufjswsfpEdfuqdufiqUtpbW!j+f!x*[!):!3d/p1o!t-u:!3j/o1!!g)m3pdbfuw!!j)o!w,D!mzjyq/[w-V!wd!p-ostpum!pjDou!!g)mEp3bfus!voufybfsu-!!>d,p!omtpud!\vj<o*!!g8mspvbmuc!ggpbes!!+*!!*|!\vu!dsffsusvpsdou!d)f!qotfbb!s+!!+*!!g5b/s1!!*-!10/!1)!!))3!dgfbws!!).!!,o!fzbys/!w*V!w+!!-jsopwmDpmDjuq![)!E.3!fgsbvsu!y*f<u\v!~>\v,g!mmppbdu\v!<h*f!u8Wsjvfmxc[g)p!ed!p+o!t*u!!ujdof!sgsmppdbuud!feqftqbu!i+!!**!!|:\v3\n/s1f.u!v-s:o3!/q1f.s!t)q3fddfuwj!w)f!E,f!qzuyi/UwpVWwj!f-xs[p)m!peDfuq!u)iE-3!fosfvbusyDfmuj!q>-,!!gmbpsdD\vm<j*q!!8*s<v\vm~c\vgwppej!e+!!n*b!juod)f*s!s|p\vdwufddf3q!tebp!g+c!m*v!s1</\v1w!f-d53/!1b.t!q)f3ddufdwp!s)s!f,d!uz!y>/!wwVfwd!3-)s!p2m/p1D-u!!b)tEq3ffdsuv!u*y<f\vuj!g>!,)!vmtpfdE\vf<q*u!i8*s!v|m\vc!ggpmep!b+u!!*w!jufdxf[s!s>p!dhufdufWqjtfbx![+)!!*h!f:u3E/f1q!u-i:)3!/w1V.w!!)*3!d*f<w\v!!)g!m,p!bzuy!/gwbVdwu!p-ss!p>m!p)D!ug!p)dEv3tf!s,v!uwyjffux![>!,*!<m\vp!de\vp<g*c!m8vssv!m>c!gwpfed!3+!!)*!!dumdbfnsqs)p!dgubddfuqptsb!!++!!b*q!f5s/u1v.s!f--1!/.1n!b)y3cdmfvws!-)!!n,b!yzcym/vwsV!w*!!-*s<p\vm~p\vDfum!t)fE!3|f\vs!veupygfcum!v>s,!!>m!pwdf\vd<3*!!)8!sdvmmbcngqp)e!!u+f!y*u!vusdff3sEs)p!duuEdffqqutib-!!+w!f*d!3:)3w/V1w./!y--:!32//11!!).3!dwfVww!/)z!*,!!*z/yb/!w+V!wb!q-fsspumvpsDfu-!!).En3bfyscvmuvysf-u!!n>b,y!cmmpvds\v!<**!!*8<s\vv~m\vcwgfpde3!!+e!p*g!cumdvfss:s!p>d!uedpfgqctmbv!s+!!+*!!11//:1<!\v-w1f5d/31!!e)p3gdcfmwv!s)8!!,>!!zeyp/gwcVmwv!s-!s+p!m1p/D8u<!\v)wEf3df3s!veupygfcum!v>s,5!!m>p!de\vp<g*c!m8vssv!m+c!g1p/e5!<+\v!w*f!du5d!fdspsmp!d>u!dwffqdt5b)!!+1!/*1!!:*3</\v1d!p-m:!3,/>1!!u)f3ydufvws!f)3!E,)!!zuyD/pwmVpws!--!swpVmwp/Dyuz!!)*E<3\vfdspvmu!y,f>u!!u>f,y!umvpsdf\v3<E*)!!:usDvpmmcpgsp-e!!w+V!w*/!yuzd!f,s!s)p!dwufddf3q)t!b1!/+1!-*!!18/45/!1*.!!+-!6b2t/q1f!d)u3ddpfsws!f)d!u,!!*z!y+/!weVpwg!c-msvpsm!p*D<u\v!d)pEm3!f,s>v!uuyffyuu!v>s,f!3mEp)d!\vu<D*p!m:pssv-m!cwgVpwe/!y+z!!*,!!u)d!fwsfsdp3d)u!d1f/q2t6b-!!+1!/*4!86!2*/!1+.!!b-t8q4f/d1u.d!p)s3sdffdwu!!)*!!,+!!zeyp/gwcVmwv!s-!s*p<m\vpdDpum!!),E>3!fusfvyuuyvfsuf!3>E,)!!mupDdp\vm<p*s!-:!swvVmwc/gypze!!,+!!)*!!wufddf3s)s!p1d/u3d:f-q!t1b/!3+:!!**!!6+2!/b1t!q-f8d4u/d1p!s)s3fddfuw!!*)!!+,!!ezpyg/cwmVvws!!-*s<p\vmdppDmu!!,)>E!3uffsyvuuvysffu3!E>),!!umDppdm\vp<s*-!!:wsVvwm/cygzp!e,!!+)!!*w!fudd3f)s!s.p1d/u4d8f-q!t1b/!2+6!!**!!8+4!/b1t!q-f6d2u/d1p.s!s)f3dduf!w*!!)+!!,e!pzgyc/mwvVsw!!*-<s\vpdmppmD!u,!>)!Eu3ffysuvvusyff3uE!)>!,u!Dmppmdp\vs<-*!!w:Vswv/myczg!p,e!!)+!!w*f!du3d)f!s1s/p5d1u-d!f1q/t1b!!*+!!+*!!b8t4q/f1d.u!d-p6s2s/f1d.u!!)*3!d+f!we!p)g!c,m!vzsy!/*w<V\vwd!p-ms!p,m>p!Duuf!y)uEv3sffs3vEu)y!fuuD!p>m,p!sm-p!dw\vV<w*/!y:zs!v,m!c)g!pwef!d+3!)*!!1u/d4f8s-s!p.d1u/d2f6q!t*b!!++!!b*t!q6f2d/u1d.p!s-s8f4d/u1!!*)!3+d!fewp!g)c!m,v!sz!y*/<w\vVdwp!m-!s,p>m!puDfuy!u)vEs3ff3sEv)u!yufDup!m>p,s!-m!pwdV\vw</*y!z:!s,v!m)c!gwpfed!3+)!!*1!/u3d:f-s!s.p1d/u3d:f!q*t!b+!!+b!t*q!f6d2u/d1p!s-s8f4d/u1!.*!!)+3!defpwg!c)m!v,s!!z*y</\vwdVpwm!!-,s>p!mupfDyuu!v)sEf33fEs)v!uuyDfpum!p>s,-!!mwpVdw\v/<y*z!!:,s!v)m!cwgfpde3!)+!!.*1!/u2d6f-s!s.p1d/u4d8f!q*t!b+!!+b!t*q!f8d4u/d1p!s-s6f2d/u1!!*)!3+d!fewp!g)c!m,v!sz!y*/<w\vVdwp!m-!s,p>m!puDfuy!u)vEs3ff3sEv)u!yufDup!m>p,s!-m!pwdV\vw</*y!zs!v,m!c)g!pwef!d+3!)*!!1u/d1f-s!s.p1d/u5d!f*q!t+b!!b+t!q*f!d8u4d/p1s.s!f-d6u2!/*1!!+)!3edpfgwc!m)v!s,!!*z<y\v/dwpVmw!!,->s!pumfpyDuuv!s)fE33Ef)s!vuuDypfmup!s>-,!!wmVpwd/\vy<z*!!,s!v)m!cwgfpde3!)+!!.*1!/u2d6f-s!s1p/d4u8d!f*q!t+b!!b+t!q*f!d:u3d/p1s.s!f-d:u3!/*1!.+!!)e3pdgfcwm!v)s!!,*!<z\vyd/pwmV!w,!>-!supfmypuDvus!f)3EE3)f!suvDupymfpus!->!,w!Vmwp/dy\vz<!*,!!s)v!mwcfgdp3e)!!+.!1*/!3u:d-f!s1s/p3d:u!d*f!q+t!bb!t+q!f*d!u6d2p/s1s.f!d-u8!4*/!1+.!!e)p3gdcfmwv!s)!!*,<!\vzdyp/mw!V,w>!!-usfpymupvDsuf!3)EE)3!fusDvpumypfsu-!!>w,V!wm/pydz\v!<,*!!)s!vwmfcdg3p)e!!1+/!4*8!-u!d1f/s2s6p!d*u!d+f!qbttbq!f+d!u*d!p1s/s1f!d-u5!/*1!.+!!)e3pdgfcwm!v)s!!,*!<z\vyd/pwmV!w,!>-!supfmypuDvus!f)3E",Tn(c,{accordionViewExpandIcon:sn(Pa),accordionViewCollapseIcon:sn(Pa,!0),accordionViewLabelColor:_r,accordionViewLabelFont:yr,accordionViewTitleBackground:Ra,accordionViewSelectBackground:Ha,accordionViewSelectWidth:3,accordionViewSeparatorColor:n,splitViewDividerSize:1,splitViewDividerBackground:Ra,splitViewDragOpacity:.5,splitViewToggleIcon:{width:16,height:16,comps:[{type:wt,rect:[2,2,12,12],background:Pa}]},propertyViewLabelColor:Ir,propertyViewLabelSelectColor:_r,propertyViewLabelFont:yr,propertyViewExpandIcon:sn(La),propertyViewCollapseIcon:sn(La,!0),propertyViewBackground:Za,propertyViewRowLineVisible:!0,propertyViewColumnLineVisible:!0,propertyViewRowLineColor:Wa,propertyViewColumnLineColor:Wa,propertyViewSelectBackground:Ha,listViewLabelColor:Ir,listViewLabelSelectColor:_r,listViewLabelFont:yr,listViewRowLineVisible:!1,listViewRowLineColor:Wa,listViewSelectBackground:Ha,treeViewLabelColor:Ir,treeViewLabelSelectColor:_r,treeViewLabelFont:yr,treeViewExpandIcon:sn(Ua),treeViewCollapseIcon:sn(Ua,!0),treeViewRowLineVisible:!1,treeViewRowLineColor:Wa,treeViewSelectBackground:Ha,treeViewDoubleClickToToggle:!0,tableViewLabelColor:Ir,tableViewLabelSelectColor:_r,tableViewLabelFont:yr,tableViewRowLineVisible:!0,tableViewColumnLineVisible:!0,tableViewRowLineColor:Wa,tableViewColumnLineColor:Wa,tableViewSelectBackground:Ha,treeTableViewLabelColor:Ir,treeTableViewLabelSelectColor:_r,treeTableViewLabelFont:yr,treeTableViewExpandIcon:sn(Ua),treeTableViewCollapseIcon:sn(Ua,!0),treeTableViewRowLineVisible:!0,treeTableViewColumnLineVisible:!0,treeTableViewRowLineColor:Wa,treeTableViewColumnLineColor:Wa,treeTableViewSelectBackground:Ha,tableHeaderLabelColor:Ir,tableHeaderLabelFont:yr,tableHeaderColumnLineVisible:!0,tableHeaderColumnLineColor:Oa,tableHeaderBackground:Za,tableHeaderMoveBackground:Ea,tableHeaderInsertColor:Ha,tableHeaderSortDescIcon:ln(La,!0),tableHeaderSortAscIcon:ln(La),tabViewTabGap:1,tabViewLabelColor:_r,tabViewLabelFont:yr,tabViewTabBackground:Ra,tabViewSelectWidth:3,tabViewSelectBackground:Ha,tabViewMoveBackground:Ea,tabViewInsertColor:Ha,toolbarLabelColor:Ir,toolbarLabelSelectColor:_r,toolbarLabelFont:yr,toolbarBackground:Za,toolbarSelectBackground:Ha,toolbarItemGap:8,toolbarSeparatorColor:Ba},!0);var Jf={translateX:1,sortColumn:1},Xf={sortable:1,sortOrder:1,sortFunc:1},$f={focusData:1},Kf={dataModel:1,sortColumn:1,sortFunc:1,visibleFunc:1,rootData:1,rootVisible:1},qf={dataModel:1,sortFunc:1,visibleFunc:1,categorizable:1},tv=function(t,e){e.add(t),t.hasChildren()&&t.eachChild(function(t){tv(t,e)})},ev=function(t,e,i,n,o,a,s,l,h,d,g){var u,f=i.getValueType(d),v=i.getAlign(d);if(i.getEnumValues(d)){var p=i.toEnumLabel(e,d),I=Cr||0,_=0,y=a,C=c.getTextSize(n,p).width;return(u=Pr(i.toEnumIcon(e,d)))&&(_=a+Cr/2,"center"===v?_+=(l-(I+C))/2:"right"===v&&(_=_+l-(I+C)),Lr(t,u,_,s+h/2,d,g),y=_+Cr/2),void(p!=r&&(u?Jr(t,p,n,o,y,s,l-(y-a),h):Jr(t,p,n,o,a,s,l,h,v)))}return(e=i.formatValue(e))!=r?f===$e?void la(t,a,s,l,h,e):f===Xe||!f&&vn(e)?(u=Pr(e?Vt:jt),void Lr(t,u,a+l/2,s+h/2,d,g)):void Jr(t,e,n,o,a,s,l,h,v):void 0},iv=function(t,e){var i=e.view,n=yo(t),o=e.column||e.property;i.getDataModel().beginTransaction(),e.editor=t,t.info=e,i.setCurrentEditor(t),i.getView().insertBefore(n,i._79O),Co(t,e.editorRect),t.setFocus?t.setFocus():_o(t),t.commitValue=function(a,r){t._17Q&&(t=t._17Q),r||i.setValue(e.data,o,t.getValue?t.getValue():t.value),t.close&&t.close(),ps(n)},o.onEditorCreated&&o.onEditorCreated(e)},nv=function(t,e,i,n,o){var s=Is(t,i),l=e.value,h=e.view,d=o.getValueType(e.data);return s.onblur=s.onchange=function(){h.endEditing()},"input"===t?((l=o.formatValue(l))!=r&&(s.value=l),s.onkeydown=function(t){Go(t)?h.endEditing():Fo(t)&&h.endEditing(!0)},(d===Ke||d===qe)&&s.addEventListener(di,c.numberListener,_)):t===re&&n.forEach(function(t){var e=a.createElement("option");e.innerHTML=o.toEnumLabel(t),e.value=t,o.isEnumEqual(l,t)&&(e.selected=!0),no(s,e)}),iv(s,e),s},ov=s.widget={},av=function(t,e,i){ms("ht.widget."+t,e,i)};Tn(ar,{ms_value:function(t){t.getValue=function(t){var e=this.getItemById(t),i=e.element;return un(i)?i:i?i.getValue?i.getValue():i.value:e.selected},t.setValue=function(t,e){var i=this.getItemById(t);if(i){var n=i.element;n&&!un(n)?n.setValue?n.setValue(e):n.value=e:vn(e)?(i.selected=e,this.iv()):(i.element=e,this.iv())}},t.v=function(t,e){var i=this;if(2===arguments.length)i.setValue(t,e);else{if(!pn(t))return i.getValue(t);for(var n in t)i.setValue(n,t[n])}return i}},_46o:function(t){t._icon=r,t._accessType=r,t._valueType=r,t._editable=!1,t._batchEditable=!0,t._align=ct,t._nullable=!0,t._emptiable=!1,t.setParent=Qi,t.formatValue=function(t){var e=this,i=e._valueType;return e.getEnumValues()?e.toEnumLabel(t):i===Xe?!!t:t!=r&&i===Ke?m(t):t},t.setEnum=function(t,e,i,n,o,a,s){var l=this;t&&!_n(t)&&t.values&&(n=t.editable,i=t.icons,e=t.labels,o=t.strict,a=t.maxHeight,s=t.dropDownWidth,t=t.values),yn(t)&&(t=t._as),yn(e)&&(e=e._as),yn(i)&&(i=i._as),l._enumValues=t,l._enumLabels=e,l._enumIcons=i,l._enumEditable=n,l._enumStrict=o==r||o,l._enumMaxHeight=a,l._enumDropDownWidth=s,t&&t.length&&fn(t[0])&&(l._valueType=qe),l.fp("enum",!1,!0)},t.getEnumDropDownWidth=function(){return this._enumDropDownWidth},t.getEnumMaxHeight=function(){return this._enumMaxHeight},t.isEnumEditable=function(){return this._enumEditable},t.getEnumValues=function(){return this._enumValues},t.getEnumLabels=function(){return this._enumLabels},t.getEnumIcons=function(){return this._enumIcons},t.isEnumStrict=function(){return this._enumStrict},t.isEnumEqual=function(t,e){return this._enumStrict?t===e:t==e},t.toEnumLabel=function(t,e){var i=this,n=i.getEnumValues(e),o=i.getEnumLabels(e);if(n&&o)for(var a=0;a<n.length;a++)if(i.isEnumEqual(t,n[a]))return o[a];return t},t.toEnumIcon=function(t,e){var i=this,o=i.getEnumValues(e),a=i.getEnumIcons(e);if(o&&a)for(var r=0;r<o.length;r++)if(i.isEnumEqual(t,o[r]))return a[r];return n}},_45o:function(t){t._87o=function(t,e,i,n,o,a){if(t){var r=this,s=r._90I,l=Kn(1);r._columnLineVisible&&(o-=1),r._rowLineVisible&&(a-=1),0>=o||0>=a||(r._90I||(s=r._90I={}),s[e]||(s[e]=new ml),Co(l,r.tx()+i,r.ty()+n,o,a),no(l,t),r._view.insertBefore(l,r._79O),t.onParentAdded&&t.onParentAdded(l),s[e].add(l))}},t._76o=function(){var t=this._90I;if(t){for(var e in t)t[e].each(function(t){ps(t)});delete this._90I}},t._77o=function(t){var e=this;if(e._90I){var i=e._90I[t];i&&(i.each(function(t){ps(t)}),delete e._90I[t])}}},_47o:function(t){t.getValue=function(t,e){return e.getValue?e.getValue(t,e,this):Bn(t,e.getAccessType(),e.getName())},t.setValue=function(t,e,i){if(e.isEmptiable(t)||""!==i||(i=n),e.isNullable(t)||i!=r){var o=this,a=e.getName(t),s=e.getAccessType(t),l=e.getValueType(t);l===Ke&&un(i)?i=U(i):l===qe&&un(i)?i=parseFloat(i):l===Xe&&un(i)&&(i="true"===i),o._batchEditable&&e._batchEditable&&o.isSelected(t)?o.sm().each(function(t){e.setValue?e.setValue(t,e,i,o):On(t,s,a,i)}):e.setValue?e.setValue(t,e,i,o):On(t,s,a,i)}},t.setCurrentEditor=function(t){this.endEditing(),this._currentEditor=t,this.redraw()},t.isEditing=function(t,e){var i=this._currentEditor;if(!i)return!1;if(e){var n=i.info;return!!n&&((n.column||n.property)===e&&n.data===t)}return!0},t.endEditing=function(t){var e=this,i=e._currentEditor;i&&(delete e._currentEditor,i.commitValue&&i.commitValue(i.info,t),e.redraw(),e.getDataModel().endTransaction())},t.beginEditing=function(t){this.endEditing();var e=this,i=t.column||t.property;if(i.beginEditing)i.beginEditing(t);else{var n=t.data,o=t.value,a=e.getSelectBackground(n),s=i.getEnumValues(n),l=i.getSlider(n),c=i.getColorPicker(n);if(l){var h=Vr(ov.Slider,l);return h.setValue(o),h.getView().onblur=function(){e.endEditing()},h.isInstant()&&(h.onValueChanged=function(){e.setValue(n,i,h.getValue())}),void iv(h,t)}if(c||i.getValueType(n)===$e){var d=Vr(ov.ColorPicker,c);return d.setValue(o),d.onClosed=function(){e.endEditing()},d.isInstant()&&(d.onValueChanged=function(t,o){e.setValue(n,i,o)}),iv(d,t),void d.open()}if(s){if(ov.ComboBox){var g=new ov.ComboBox;g.setValue(o),g.setValues(s),g.setLabels(i.getEnumLabels(n)),g.setIcons(i.getEnumIcons(n)),g.setEditable(i.isEnumEditable(n)),g.setStrict(i.isEnumStrict(n)),g.setMaxHeight(i.getEnumMaxHeight(n)),g.setDropDownWidth(i.getEnumDropDownWidth(n)),g.onClosed=function(){e.endEditing()},iv(g,t),g.open()}else nv(re,t,a,s,i);return}if(i.getValueType(n)===Xe||vn(o))return void e.setValue(n,i,!o);if(i.getItemEditor(n)){var u=new(Fr(i.getItemEditor(n)))(n,i,e,t),f=u.getView();return f._17Q=u,u.setValue(o),eo(f),iv(f,t),void(u.editBeginning&&u.editBeginning())}nv("input",t,a,r,i)}}},_44o:function(t){t.init=function(t){var e=this,i=e.th=new Cv(t),n=e._view=$n(1,e);e.tv=e._tableView=t,no(n,i.getView()),no(n,t.getView()),i.mp(function(t){t.property===kt&&e.iv()}),e.iv()},t.getTableView=function(){return this.tv},t.getTableHeader=function(){return this.th},t.getDataModel=function(){return this.tv.dm()},t.getColumnModel=function(){return this.tv.getColumnModel()},t.setColumns=function(t){this.tv.setColumns(t)},t.addColumns=function(t){this.tv.addColumns(t)},t.endEditing=function(){this.tv.endEditing()},t.validateImpl=function(){var t=this,e=t.th,i=lo(e),n={x:0,y:0,width:t.getWidth(),height:i};Co(e,n),n.y=i,n.height=M(0,t.getHeight()-i),Co(t.tv,n)}},ms_vs:function(t){t._41o=function(){return this._29I.height<this._59I},t._43o=function(){var t=this;t._41o()&&(t._58I||(Q(function(){t._94O()},xr),t.iv()),t._58I=new Date)},t._94O=function(){var t=this;t._58I&&((new Date).getTime()-t._58I.getTime()>=xr?(delete t._58I,t.iv()):Q(function(){t._94O()},xr))},t._93I=function(){var t=this,e=t._27I;if(t._58I||!t._autoHideScrollBar){e||no(t._79O,e=t._27I=Kn());var i=t._29I,n=i.height,o=t._59I,a=t.getScrollBarSize(),r=i.width-a-2,s=n*(-t.ty()/o),l=n*(n/o),c=e.style;o>n?(Dr>l&&(0>(s=s+l/2-Dr/2)&&(s=0),s+Dr>n&&(s=n-Dr),l=Dr),c.visibility=ie,c.background=t.getScrollBarColor(),c.borderRadius=a/2+yt,Co(e,r,s,a,l)):c.visibility=ee}else e&&(e.style.visibility=ee)}},ms_hs:function(t){t._40o=function(){return this._29I.width<this._91I},t._42o=function(){var t=this;t._40o()&&(t._95O||(Q(function(){t._94I()},xr),t.iv()),t._95O=new Date)},t._94I=function(){var t=this;t._95O&&((new Date).getTime()-t._95O.getTime()>=xr?(delete t._95O,t.iv()):Q(function(){t._94I()},xr))},t._92I=function(){var t=this,e=t._28I;if(t._95O||!t._autoHideScrollBar){e||no(t._79O,e=t._28I=Kn());var i=t._29I,n=i.width,o=t._91I,a=t.getScrollBarSize(),r=i.height-a-2,s=n*(-t.tx()/o),l=n*(n/o),c=e.style;o>n?(Dr>l&&(0>(s=s+l/2-Dr/2)&&(s=0),s+Dr>n&&(s=n-Dr),l=Dr),c.visibility=ie,c.background=t.getScrollBarColor(),c.borderRadius=a/2+yt,Co(e,s,r,l,a)):c.visibility=ee}else e&&(e.style.visibility=ee)}}}),Rr(Vt,an(16,16,[{type:bt,rect:[1,1,14,14],background:Ha},{type:mt,rect:[1,1,14,14],width:1,color:Ga},{type:xt,points:[13,3,7,12,4,8],borderWidth:2,borderColor:"#FFF"}])),Rr(jt,an(16,16,{type:mt,rect:[1,1,14,14],width:1,color:Ga})),Rr(Rt,an(16,16,[{type:At,rect:[2,2,12,12],borderWidth:1,borderColor:Ga,background:"#FFF"},{type:At,rect:[4,4,8,8],background:Ha}])),Rr(Pt,an(16,16,{type:At,rect:[2,2,12,12],borderWidth:1,borderColor:Ga})),ar._15Q=function(t){t._29I=Yi,t._59I=0,t._91I=0,t._5o=function(t){var e=this;e._30I=new ml,e._rows=new ml,e._rowMap={},e._31I=0,e._14I=0,e._view=$n(1,e),e._canvas=qn(e._view),no(e._view,e._79O=Kn()),e.dm(t||new Ml)},t.getCheckIcon=function(t){var e=this.sm(),i=e.co(t);return e.sg()?Pr(i?Rt:Pt):Pr(i?Vt:jt)},t.checkData=function(t){var e=this.sm(),i=e.co(t);e.sg()&&i||(this._32o=1,i?e.rs(t):e.as(t),delete this._32o)},t.getDataAt=function(t){t.target&&(t=this.lp(t));var e=w(t.y/this._rowHeight),i=this._rows;return 0>e||e>=i.size()?r:i.get(e)},t.onDataDoubleClicked=function(){},t.onDataClicked=function(){},t.adjustTranslateX=function(){return 0},t.adjustTranslateY=function(t){var e=this.getHeight()-this._59I;return e>t&&(t=e),t>0?0:m(t)},t.onPropertyChanged=function(t){var e=this,i=t.property;Kf[i]?e.ivm():$f[i]||e.redraw(),i===ke?e._42o():i===Ee&&e._43o()},t.getLabel=function(t){return t.toLabel()},t.getLabelFont=function(){return this._labelFont},t.getLabelColor=function(t){var e=this;if(e.isCheckMode()){if(e._focusData===t)return e._labelSelectColor}else if(e.isSelected(t))return e._labelSelectColor;return e._labelColor},t.getStartRowIndex=function(){return this._31I},t.getEndRowIndex=function(){return this._14I},t.getRowDatas=function(){return this._rows},t.getRowIndex=function(t){return this._rowMap[t._id]},t.getRowSize=function(){return this._rows.size()},t.getViewRect=function(){return Gr(this._29I)},t.isVisible=function(t){return!this._visibleFunc||this._visibleFunc(t)},t.getCurrentSortFunc=function(){return this._sortFunc},t.setDataModel=function(t){var e=this,i=e._dataModel,n=e._selectionModel;i!==t&&(i&&(i.umm(e.handleDataModelChange,e),i.umd(e.handleDataPropertyChange,e),i.umh(e.handleHierarchyChange,e),n||i.sm().ums(e.handleSelectionChange,e)),e._dataModel=t,t.mm(e.handleDataModelChange,e),t.md(e.handleDataPropertyChange,e),t.mh(e.handleHierarchyChange,e),n?n._21I(t):t.sm().ms(e.handleSelectionChange,e),e.fp("dataModel",i,t))},t.validateModel=function(){var t=this;t._rows.clear(),t._rowMap={},t.buildChildren(t._dataModel._roots);var e=t._rows=t._rows.toList(t.isVisible,t),i=0,n=t.getCurrentSortFunc(),o=e.size();for(n&&e.sort(n);o>i;i++)t._rowMap[e.get(i)._id]=i},t.buildChildren=function(t){var e=this;t.each(function(t){e._rows.add(t),e.buildChildren(t._children)})},t.handleDataModelChange=function(){this.ivm()},t.handleDataPropertyChange=function(t){"parent"===t.property?this.ivm():this.invalidateData(t.data)},t.handleHierarchyChange=function(){this.ivm()},t.handleSelectionChange=function(t){t.datas.each(this.invalidateData,this),this.onSelectionChanged(t)},t.onSelectionChanged=function(t){var e=this,i=e.sm();!e.isAutoMakeVisible()||1!==i.size()||"set"!==t.kind&&"append"!==t.kind||e._32o||e.makeVisible(i.ld())},t.handleBackgroundClick=function(t){$r(t)&&!this.isCheckMode()&&this.sm().cs()},t.makeVisible=function(t){t&&(this._23I=t,this.iv())},t.scrollToIndex=function(t){var e=this,i=e._29I,n=i.height,o=e._rowHeight,a=o*t;t>=0&&t<e._rows.size()&&n>0&&(a+o>i.y+n?e.ty(-a+n-o):a<i.y&&e.ty(-a))},t.autoScroll=function(t,e){var i=this,n=i._rowHeight,o=n,a=n/4,r=i._29I,s=i.lp(t),l={x:i.tx(),y:i.ty()};return n>0&&r&&(s.x-r.x<o?i.translate(a,0):r.x+r.width-s.x<o&&i.translate(-a,0),s.y-r.y<o?i.translate(0,a):r.y+r.height-s.y<o&&i.translate(0,-a)),l.x=i.tx()-l.x,l.y=i.ty()-l.y,e&&(e.x+=l.x,e.y+=l.y),l},t.getTopRowOrderSelection=function(){var t=this.sm().getTopSelection(),e={},i=new ml;return t.each(function(t){e[t._id]=t}),this._rows.each(function(t){e[t._id]&&i.add(t)}),i},t.getRowOrderSelection=function(){var t=new ml;return this._rows.each(function(e){this.isSelected(e)&&t.add(e)},this),t},t.ivm=function(){this.invalidateModel()},t.invalidateModel=function(){var t=this;t._96I||(t._96I=1,t._32I=1,delete t._24I),t.iv()},t.redraw=function(){var t=this;t._32I||(t._32I=1,delete t._24I,t.iv())},t.invalidateData=function(t){var e=this;q?e.redraw():e._32I||(e._24I||(e._24I={}),e._24I[t._id]=t,e.iv())},t.getFocusData=function(){return this._focusData},t.setFocusDataById=function(t){this.setFocusData(this.dm().getDataById(t))},t.setFocusData=function(t){var e=this,i=e._focusData;i!==t&&(e._focusData=t,e.fp("focusData",i,t),i&&e.invalidateData(i),t&&(e.invalidateData(t),e.isAutoMakeVisible()&&e.makeVisible(t)))},t.drawRowBackground=function(t,e,i,n,o,a,r){var s=this,l=s.isCheckMode();(e===s._focusData&&l||i&&!l)&&la(t,n,o,a,r,s.getSelectBackground(e))},t.drawData=function(t,e,i){var n=this,o=n._rowHeight,a=o*i,r=n._29I,s=r.x,l=r.width;t.save(),t.beginPath(),t.rect(s,a,l,o),t.clip(),n._87o(n.drawRow(t,e,n.isSelected(e),s,a,l,o),i,s,a,l,o),t.restore(),n._rowLineVisible&&la(t,s,a+o-1,l,1,n._rowLineColor)},t._12I=function(t){var e=this,i=e._31I,n=e._29I,o=n.x,a=n.y,r=n.width,s=n.height;for(t.beginPath(),t.rect(o,a,r,s),t.clip(),t.clearRect(o,a,r,s),e._76o(),e._93db(t);i<e._14I;i++)e.drawData(t,e._rows.get(i),i);e._92db(t)},t._13I=function(t){for(var e,i=this,n=i._rowHeight,o=i._29I,a=o.x,r=o.width,s=i._31I,l=i._30I;s<i._14I;s++)e=i._rows.get(s),i._24I[e._id]&&l.add({data:e,index:s});l.isEmpty()||(t.beginPath(),l.each(function(e){t.rect(a,e.index*n,r,n)}),t.clip(),l.each(function(e){t.clearRect(a,e.index*n,r,n)}),l.each(function(t){i._77o(t.index)}),i._93db(t),l.each(function(e){i.drawData(t,e.data,e.index)}),i._92db(t),l.clear())},t.preValidateModel=function(){this.endEditing&&this.endEditing()},t.validateImpl=function(){var t=this,e=t._canvas,i=t.getWidth(),n=t.getHeight(),o=t._rowHeight,a=t._32I;(i!==e.clientWidth||n!==e.clientHeight)&&(io(e,i,n),a=1);var s=B&&!O;t._96I&&!s&&(t.preValidateModel(),t.validateModel());var l=t._29I,c={x:-t.tx(),y:-t.ty(),width:i,height:n},h=t._rows.size(),d=go(e),g=t._23I;a||Vn(c,l)||(a=1),t._29I=c,t._59I=h*o+t.getScrollBarSize(),t._31I=w(c.y/o),t._14I=b((c.y+c.height)/o),t._31I<0&&(t._31I=0),t._14I>h&&(t._14I=h),t._99I&&a&&t._99I(),uo(d,t.tx(),t.ty(),1),a?t._12I(d):t._24I&&t._13I(d),t._93I(),t._92I(),d.restore(),t._32I=t._24I=t._96I=r,g&&(t.scrollToIndex(t.getRowIndex(g)),delete t._23I),t.tx(t.tx()),t.ty(t.ty())}},ar._48o=function(t){t._rootVisible=!0,t._rootData=r,t._35o=function(){this._expandMap={},this._levelMap={}},t.validateModel=function(){var t=this,e=t._rootData;t._rows.clear(),t._levelMap={},t._rowMap={},t._currentLevel=0,e?t._rootVisible?t.isVisible(e)&&t.buildData(e):t.buildChildren(e):t.buildChildren(),delete t._currentLevel},t.buildData=function(t){var e=this,i=t._id,n=e._rows;e._rowMap[i]=n.size(),n.add(t),e._levelMap[i]=e._currentLevel,e.isExpanded(t)&&(e._currentLevel++,e.buildChildren(t),e._currentLevel--)},t.buildChildren=function(t){var e=this,i=t?t._children:e._dataModel._roots,n=e.getCurrentSortFunc();n&&e.isChildrenSortable(t)?i.toList(e.isVisible,e).sort(n).each(e.buildData,e):i.each(function(t){e.isVisible(t)&&e.buildData(t)})},t.getLevel=function(t){return this._levelMap[t._id]},t.getToggleIcon=function(t){var e=this,i=e._loader,n=e._collapseIcon;return i&&!i.isLoaded(t)?n:t.hasChildren()?e.isExpanded(t)?e._expandIcon:n:r},t.isCheckMode=function(){return this._checkMode!=r},t.isChildrenSortable=function(){return!0},t.handleDataModelChange=function(t){var e=this;t.kind===Nt?delete e._expandMap[t.data._id]:t.kind===St&&(e._expandMap={}),e.ivm()},t.toggle=function(t){var e=this;e.isExpanded(t)?e.collapse(t):e.expand(t)},t.isExpanded=function(t){return 1===this._expandMap[t._id]},t.expand=function(t){var e=this,i=e._loader;e.isExpanded(t)||(i&&!i.isLoaded(t)&&i.load(t),e._expandMap[t._id]=1,e.ivm(),e.onExpanded(t))},t.onExpanded=function(){},t.collapse=function(t){var e=this;e.isExpanded(t)&&(delete e._expandMap[t._id],e.ivm(),e.onCollapsed(t))},t.onCollapsed=function(){},t.expandAll=function(t){if(t)this.expand(t),t.eachChild(function(t){this.expandAll(t)},this);else{var e=this;e._dataModel.each(function(t){t.hasChildren()&&(e._expandMap[t._id]=1)}),e.ivm()}},t.collapseAll=function(){this._expandMap={},this.ivm()},t.makeVisible=function(t){if(t){var e=this;if(!e._rootData||t.isDescendantOf(e._rootData)){for(var i=t._parent;i;)e.expand(i),i=i._parent;e._23I=t,e.iv()}}},t.checkData=function(t){var e,i=this,n=i._checkMode,o=i.sm(),a=o.co(t);if(!o.sg()||!a){if(i._32o=1,n===ot)a?o.rs(t):o.as(t);else if(n===ze)(e=new ml(t)).addAll(t._children);else if("descendant"===n)e=new ml,tv(t,e);else if("all"===n&&(e=new ml,tv(t,e),!a))for(var r=t._parent;r;)e.add(r),r=r._parent;e&&(a?o.rs(e):o.as(e)),delete i._32o}},t._97I=function(t,e,i,n,o,a,r){var s=this,l=s._indent,c=s._levelMap[e._id],h=s.getIconWidth(e),d=Pr(s.getToggleIcon(e));d?(Lr(t,d,(n+=l*c)+l/2,o+r/2,e,s),n+=l):n+=l*(c+1),s._checkMode&&(Lr(t,s.getCheckIcon(e),n+l/2,o+r/2,e,s),n+=l),s.drawIcon(t,e,n,o,h,r),s.drawLabel(t,e,n+h,o,r)}},ar._14Q=function(t){t.getIcon=function(t){return t.getIcon()},t.getIconWidth=function(t){return this.getIcon(t)?this._indent:0},t.drawIcon=function(t,e,i,n,o,a){if(o){var r=this,s=r.getBodyColor(e),l=Pr(r.getIcon(e),s);l&&(a-=r.isRowLineVisible()?1:0,Br(t,l,Fe,i,n,o,a,e,r,s),fa(t,r.getBorderColor(e),i,n,o,a))}},t.drawLabel=function(t,e,i,n,o){var a=this;Jr(t,a.getLabel(e),a.getLabelFont(e),a.getLabelColor(e),i,n,0,o)}},ar._50o=function(t){t._98I=function(){var t=this,e=t._39o=new Ml;t._60I=new ml,e.mm(t._17o,t),e.md(t._18o,t),e.mh(t._19o,t)},t.setColumns=function(t){this._39o.clear(),this.addColumns(t)},t.addColumns=function(t){var e=this._39o;t.forEach(function(t){if(!(t instanceof sv)){var i=Fr(t.className);t=Vr(i||sv,t)}e.add(t)})},t.onColumnClicked=function(){},t.onCheckColumnClicked=function(){},t._3Q=function(t){for(var e,i=0,n=this._60I,o=n.size();o>i;i++)if((e=n.get(i)).column===t)return e;return r},t.getColumnAt=function(t){var e=this._4Q(t);return e?e.column:r},t._4Q=function(t){for(var e=t.target?this.lp(t).x:t.x,i=this._60I,n=0;n<i.size();n++){var o=i.get(n),a=o.startX;if(e>=a&&e<a+o.column.getWidth())return o}return r},t.getToolTip=function(t){var e=this,i=e.getDataAt(t),n=e.getColumnAt(t);return i&&n?n.getToolTip(i,e):r},t.adjustTranslateX=function(t){var e=this.getWidth()-this._91I;return e>t&&(t=e),t>0?0:m(t)},t._99I=function(){var t=this,e=t._29I,i=t._60I;i.clear(),t._91I=0,t._39o._roots.each(function(n){if(n.isVisible()){var o=t._91I+n.getWidth();t._91I<=e.x+e.width&&o>=e.x&&i.add({column:n,startX:t._91I}),t._91I=o}}),t._91I+=t.getScrollBarSize()},t.drawData=function(t,e,i){var n=this,o=n._rowHeight,a=o*i,r=n.isSelected(e),s=n._29I,l=s.x,c=s.width;n.drawRowBackground(t,e,r,l,a,c,o),n._60I.each(function(s){var l=s.column,c=s.startX,h=l.getWidth();h>0&&!n.isEditing(e,l)&&(t.save(),t.beginPath(),t.rect(c,a,h,o),t.clip(),n._87o(n.drawCell(t,e,r,l,c,a,h,o),i,c,a,h,o),n._columnLineVisible&&la(t,c+h-1,a,1,o,n._columnLineColor),t.restore())}),n._rowLineVisible&&la(t,l,a+o-1,c,1,n._rowLineColor)},t.drawCell=function(t,e,i,n,o,a,r,s){var l=this;if(n.drawCell)return n.drawCell(t,e,i,n,o,a,r,s,l);var c=l.getValue(e,n);ev(t,c,n,l.getLabelFont(e,n,c),l.getLabelColor(e,n,c),o,a,r,s,e,l)},t.getColumnModel=function(){return this._39o},t._17o=function(){this.redraw()},t._18o=function(t){var e=this;t.data===e._sortColumn&&Xf[t.property]?e.ivm():(e._42o(),e.redraw())},t._19o=function(){this.redraw()},t.getCurrentSortFunc=function(){var t=this,e=t._sortColumn;if(e&&e.isSortable()){var i=e.getSortFunc(),n=De===e.getSortOrder()?1:-1;return i||(i=Wr),function(o,a){return i.call(t,t.getValue(o,e),t.getValue(a,e),o,a)*n}}return t._sortFunc},t.isCellEditable=function(t,e,i){return!(!e.isEditable()||!this.isEditable())&&(!e.isCellEditable||e.isCellEditable(t,e,i,this))},t._37O=function(t,e){if($r(e))for(var i=this,n=i.lp(e),o=i._60I,a=i._rowHeight,r=i._29I,s=r.x,l=r.y,c=r.width,h=r.height,d=0;d<o.size();d++){var g=o.get(d),u=g.startX,f=g.column,v=f.getWidth();if(f!==i._31o&&f!==i._4o&&n.x>=u&&n.x<u+v&&i.isCellEditable(t,f,e)){var p={x:u,y:i.getRowIndex(t)*a,width:v,height:a},I={x:p.x+i.tx(),y:p.y+i.ty(),width:p.width,height:p.height},_=0,y=0;return p.x<s?_=p.x-s:p.x+p.width>s+c&&(_=p.x+p.width-s-c),_&&(i.tx(i.tx()-_),I.x-=_),p.y<l?y=p.y-l:p.y+a>l+h&&(y=p.y+a-l-h),y&&(i.ty(i.ty()-y),I.y-=y),void i.beginEditing({data:t,column:f,value:i.getValue(t,f),event:e,rect:p,editorRect:I,view:i})}}}},ov.BaseItemEditor=function(t,e,i,n){this._data=t,this._column=e,this._master=i,this._editInfo=n},av("BaseItemEditor",i,{ms_ac:["data","column","master","editInfo"],editBeginning:function(){},getView:function(){},getValue:function(){},setValue:function(){}});var rv=s.Tab=function(){zn(rv,this)};ws("Tab",Al,{ms_ac:["view","closable","disabled"],_icon:r,_closable:!1,_disabled:!1,setParent:Qi});var sv=s.Column=function(){zn(sv,this)};ws("Column",Al,{_46o:1,ms_ac:["accessType","valueType",ie,Ae,Me,zt,"align",$e,"sortOrder",be,"sortable","clickable","nullable","emptiable","slider","colorPicker","itemEditor"],_visible:!0,_width:80,_sortOrder:De,_sortFunc:r,_sortable:!0,_clickable:!0,setWidth:function(t){16>t&&(t=16);var e=this._width;this._width=t,this.fp(zt,e,t)},getToolTip:function(t,e){return this.formatValue(e.getValue(t,this))}});var lv=s.Property=function(){zn(lv,this)};ws("Property",Al,{_46o:1,ms_ac:["accessType","valueType",Ae,Me,"categoryName",$e,"align","nullable","emptiable","slider","itemEditor","colorPicker"],_categoryName:r,getToolTip:function(t,e,i){var n=this;return e?n.formatValue(i.getValue(t,n)):i.getPropertyName(n)}}),ov.AccordionView=function(){var t=this;t._20o={},t._21o=new ml,t._10o=r,t._9o=r,t._11o=r,t._view=$n(0,t),t.iv()},av("AccordionView",i,{ms_v:1,ms_fire:1,ms_ac:[Ce,me,"titleHeight",Ht,Qt,"titleBackground","selectWidth",le,"orientation","separatorColor"],_expandIcon:c.accordionViewExpandIcon,_collapseIcon:c.accordionViewCollapseIcon,_titleHeight:br,_labelColor:c.accordionViewLabelColor,_labelFont:c.accordionViewLabelFont,_titleBackground:c.accordionViewTitleBackground,_selectBackground:c.accordionViewSelectBackground,_selectWidth:c.accordionViewSelectWidth,_orientation:"v",_separatorColor:c.accordionViewSeparatorColor,onPropertyChanged:function(){this.iv()},getView:function(){return this._view},getTitles:function(){return this._21o},getCurrentTitle:function(){return this._10o},add:function(t,e,i,n){var o=this,a=Kn();if(o._20o[t])throw t+" already exists";a.onmousedown=jr,a.style.cursor=ii,a.addEventListener(nt?li:oi,function(t){jr(t)},_),a.addEventListener(nt?hi:ri,function(e){jr(e),$r(e)&&(o._10o===t?o.collapse():o.expand(t))},_),no(o._view,a),o._20o[t]={content:e,div:a,canvas:qn(a),icon:n},o._21o.add(t),i&&o.expand(t),o.iv()},remove:function(t){var e=this,i=e._20o[t];i&&(ps(i.div),delete e._20o[t],e._21o.remove(t),e.iv())},clear:function(){var t=this;t._21o.toArray().forEach(t.remove,t),t._20o={},t._21o.clear(),t.iv()},isExpanded:function(t){return this._10o===t},expand:function(t){var e=this;e._20o[t]&&e._10o!==t&&(e._10o=t,e.onExpanded(t),e.iv())},onExpanded:function(){},collapse:function(){var t=this;t._10o&&(t.onCollapsed(t._10o),delete t._10o,t.iv())},onCollapsed:function(){},initCanvas:function(t,e,i){io(t,e,i);var n=go(t);return uo(n,0,0,1),n.clearRect(0,0,e,i),n},drawTitle:function(t,e,i,n,o){var a=this,r=Pr(o.icon),s=a.isExpanded(e),l=a._titleHeight,c=a._titleBackground,h=a._selectWidth,d=a._separatorColor,g=Pr(s?a._expandIcon:a._collapseIcon),u=h+4;la(t,0,0,i,n,c),s&&h&&la(t,0,0,h,n,a._selectBackground),(s||a._21o.get(a._21o.size()-1)!==e)&&la(t,0,n-1,i,1,d||Hr(c)),r&&(Lr(t,r,u+al(r)/2,l/2),u+=al(r)+2),Jr(t,e,a.getLabelFont(e),a.getLabelColor(e),u,0,0,l),g&&Lr(t,g,i-al(g)/2-4,l/2)},validateImpl:function(){var t=this,e=t._view,i=0,n=0,o=t.getWidth(),a=t.getHeight(),r=t._titleHeight,s=t._21o.size()*r,l=t._11o,c=t._9o;delete t._11o,delete t._9o,t._21o.each(function(e){var l,c,h=t._20o[e],d=h.content,g=t._10o===e;cn(t)?(Co(h.div,i,0,r,a),l=t.initCanvas(h.canvas,r,a),fo(l,0,a),vo(l,-j),t.drawTitle(l,e,a,r,h),l.restore(),g?(c=M(0,o-s),d&&(t._11o=d,t._9o=yo(d),Co(d,i+r,0,c,a)),i+=r+c):i+=r):(Co(h.div,0,n,o,r),l=t.initCanvas(h.canvas,o,r),t.drawTitle(l,e,o,r,h),l.restore(),g?(c=M(0,a-s),d&&(t._11o=d,t._9o=yo(d),Co(d,0,n+r,o,c)),n+=r+c):n+=r)});var h=t._9o;l&&l!==t._11o&&l.endEditing&&l.endEditing(),h&&h!==c&&no(e,h),c&&c!==h&&ps(c)}}),ov.SplitView=function(t,e,i,n){var o=this,a=o._dividerDiv=Kn(),s=o._60O=qn(),l=o._61O=qn(),c=s.style,h=l.style;o._view=$n(1,o),no(o._view,a),c.msTouchAction=ni,c.pointerEvents=ni,c.cursor=ii,h.msTouchAction=ni,h.pointerEvents=ni,h.cursor=ii,t&&o.setLeftView(t),e&&o.setRightView(e),i&&o.setOrientation(i),n!=r&&o.setPosition(n),o.setStatus(Tt),new cv(o)},av("SplitView",i,{ms_v:1,ms_fire:1,ms_ac:["continuousLayout","dividerSize","dividerBackground","toggleIcon","togglable","dragOpacity","orientation","draggable","status"],_continuousLayout:!1,_position:.5,_togglable:!0,_orientation:"h",_draggable:!0,_dividerSize:c.splitViewDividerSize,_dividerBackground:c.splitViewDividerBackground,_dragOpacity:c.splitViewDragOpacity,_toggleIcon:c.splitViewToggleIcon,onPropertyChanged:function(){this.iv()},getDividerDiv:function(){return this._dividerDiv},getPosition:function(){return this._position},setPosition:function(t,e){var i=this,n=i._position;isNaN(t)||(e||(i._82O=0>t?-1:t>1?1:0),i._position=t,i.fp(Ne,n,t))},getLeftView:function(){return this._leftView},setLeftView:function(t){var e=this,i=e._leftView,n=e._view;if(e._leftView!==t){if(i&&i!==e._rightView){var o=yo(i);o.parentNode===n&&ps(o)}if(e._leftView=t,t){var a=yo(t);a.parentNode!==n&&n.insertBefore(a,e._dividerDiv)}e.fp("leftView",i,t)}},getRightView:function(){return this._rightView},setRightView:function(t){var e=this,i=e._rightView,n=e._view;if(e._rightView!==t){if(i&&i!==e._leftView){var o=yo(i);o.parentNode===n&&ps(o)}if(e._rightView=t,t){var a=yo(t);a.parentNode!==n&&n.insertBefore(a,e._dividerDiv)}e.fp("rightView",i,t)}},validateImpl:function(){var t=this,e=t._draggable,i=t._position,n=t.getWidth(),o=t.getHeight(),a=t._dividerSize,r=t._dividerBackground,s=nt?18:8,l=t._dividerDiv,c=t._82O,h=t._60O,d=t._61O,g=t._toggleIcon,u=t._status,f=l.style,v=null,p=nt?20:4,I=g.comps[0];a>=s||0===a?t._coverDiv&&(ps(t._coverDiv),delete t._coverDiv):t._coverDiv||(t._coverDiv=Kn(),K&&(t._coverDiv.style.background=He),no(l,t._coverDiv)),t._togglable?h.parentNode||(no(l,h),no(l,d)):(ps(h),ps(d));var _=t._coverDiv,y=t._leftView,C=t._rightView;if(cn(t)){if(a>n&&(a=n),u===Tt)if(1===c)var w=x(i,n),b=M(0,n-a-w);else-1===c?(b=x(-i,n),w=M(0,n-a-b)):(w=m((n-a)*i),b=M(0,n-a-w));else"cl"===u?(w=0,b=M(0,n-a)):"cr"===u&&(b=0,w=M(0,n-a));y&&Co(y,0,0,w,o),C&&Co(C,w+a,0,b,o),Co(l,w,0,a,o),t._22o=w,_&&(Co(_,a/2-s/2,0,s,o),_.style.cursor=e?ti:""),l.style.cursor=e?ti:"";var A=l.clientHeight/2,D=l.clientWidth;io(h,D,D),Co(h,0,A-D-p,D,D),v=go(h),uo(v,0,0,1),I.rotation=-j,ll(v,g,0,0,D,D),v.restore(),io(d,D,D),Co(d,0,A+p,D,D),v=go(d),uo(v,0,0,1),I.rotation=j,ll(v,g,0,0,D,D),v.restore()}else{if(a>o&&(a=o),u===Tt)if(1===c)var T=x(i,o),N=M(0,o-a-T);else-1===c?(N=x(-i,o),T=M(0,o-a-N)):(T=m((o-a)*i),N=M(0,o-a-T));else"cl"===u?(T=0,N=M(0,o-a)):"cr"===u&&(N=0,T=M(0,o-a));y&&Co(y,0,0,n,T),C&&Co(C,0,T+a,n,N),Co(l,0,T,n,a),t._22o=T,_&&(Co(_,0,a/2-s/2,n,s),_.style.cursor=e?ei:""),f.cursor=e?ei:"";var S=l.clientWidth/2;D=l.clientHeight;io(h,D,D),Co(h,S-D-p,0,D,D),v=go(h),uo(v,0,0,1),I.rotation=0,ll(v,g,0,0,D,D),v.restore(),io(d,D,D),Co(d,S+p,0,D,D),v=go(d),uo(v,0,0,1),I.rotation=E,ll(v,g,0,0,D,D),v.restore()}f.background=r}});var cv=function(t){this.sv=t,this.addListeners()};ms(cv,i,{ms_listener:1,getView:function(){return this.sv.getView()},handle_touchstart:function(t){var e=this,i=e.sv,n=i._dividerDiv,o=i._60O,a=i._61O,r=i._status,s=t.target;if(s===o)r===Tt?i.setStatus("cl"):"cr"===r&&i.setStatus(Tt);else if(s===a)r===Tt?i.setStatus("cr"):"cl"===r&&i.setStatus(Tt);else if(To(t)&&(s===n||s===i._coverDiv)&&(jr(t),i.isDraggable())){i.getLeftView(),i.getRightView();var l=e.maskDiv=Kn();if(l.style.left=0,l.style.top=0,l.style.width=i.getWidth()+"px",l.style.height=i.getHeight()+"px",i.getView().appendChild(l),!i.isContinuousLayout()){var c=e.resizeDiv=Kn();c.style.left=n.style.left,c.style.top=n.style.top,c.style.width=n.style.width,c.style.height=n.style.height,c.style.opacity=i.getDragOpacity(),c.style.background=i.getDividerBackground(),no(e.getView(),c)}e._lastAbsPosition=i._22o,e._86o=cn(i)?is(t).x:is(t).y,vs(e,t)}},handleWindowTouchMove:function(t){To(t)&&this.update(t,this.sv.isContinuousLayout())},handleWindowTouchEnd:function(t){var e=this;e.update(t,!0),e.sv.setStatus(Tt),e.maskDiv&&ps(e.maskDiv),e.resizeDiv&&ps(e.resizeDiv),e.maskDiv=e.resizeDiv=r},handle_mousedown:function(t){$r(t)&&this.handle_touchstart(t)},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},update:function(t,e){var i=this,n=i.sv,o=cn(n)?n.getWidth():n.getHeight(),a=n._dividerSize,r=i._lastAbsPosition-i._86o;cn(n)?((r+=is(t).x)>o-a&&(r=o-a),0>r&&(r=0),i.resizeDiv&&(i.resizeDiv.style.left=r+yt)):((r+=is(t).y)>o-a&&(r=o-a),0>r&&(r=0),i.resizeDiv&&(i.resizeDiv.style.top=r+yt)),e&&o!==a&&(1===n._82O?n.setPosition(r,1):-1===n._82O?n.setPosition(r-o+a,1):n.setPosition(r/(o-a),1))}}),ov.TabView=function(){var t=this,e=t._view=$n(1,t),i=t._91O=Kn(1),n=t._tabModel=new Ml,o=n.sm(),a=t.invalidate;t._7o=new ml,t._canvas=qn(i),no(e,i),no(e,t._92O=Kn(1)),o.setSelectionMode(at),o.ms(t.handleSelectionChange,t),n.mm(a,t),n.md(a,t),n.mh(a,t),t._interactor=new hv(t),t.iv()},av("TabView",i,{ms_v:1,ms_fire:1,ms_tx:1,ms_ty:1,ms_lp:1,ms_ac:["movable","tabGap","tabHeight","tabPosition",Ht,Qt,"tabBackground","selectWidth",le,"moveBackground","insertColor"],_tabPosition:dt,_tabHeight:br,_tabGap:c.tabViewTabGap,_labelColor:c.tabViewLabelColor,_labelFont:c.tabViewLabelFont,_tabBackground:c.tabViewTabBackground,_selectWidth:c.tabViewSelectWidth,_selectBackground:c.tabViewSelectBackground,_moveBackground:c.tabViewMoveBackground,_insertColor:c.tabViewInsertColor,_movable:!0,handleSelectionChange:function(){this._selectionChanged=!0,this.invalidate()},getContentDiv:function(){return this._92O},getTitleDiv:function(){return this._91O},getTabModel:function(){return this._tabModel},add:function(t,e,i){var n,o=this._tabModel;return t instanceof rv?(n=t,e&&n.setView(e)):((n=new rv).setName(t),n.setView(e)),o.add(n),i&&o.sm().ss(n),n},getLabel:function(t){return t.toLabel()},onPropertyChanged:function(){this.iv()},_7Q:function(t){this._23o=t,this.iv()},get:function(t){var e,i=this,n=i._tabModel;return fn(t)?n._roots.get(t):un(t)?(n.each(function(n){t===i.getLabel(n)&&(e=n)}),e):t instanceof rv?t:r},select:function(t){this._tabModel.sm().ss(this.get(t))},remove:function(t){var e=this;if(t=e.get(t)){var i=e._tabModel._roots.indexOf(t);e._tabModel.remove(t),e.selectByIndex(--i)}},getCurrentTab:function(){return this._8o},hideTabView:function(t,e){e.parentNode===this._92O&&(Mn(e)?(e.style.display=_t,e._tab_=t):ps(e),ur())},showTabView:function(t,e){Mn(e)&&(e.style.display="block",e._tab_=t),e.parentNode!==this._92O&&(no(this._92O,e),ur())},_24o:function(){var t,e=this,i=e._8o,n=e._9o,o=e._tabModel.sm().ld();o&&(t=yo(o.getView())),t!==n&&(n&&(i.getView()&&i.getView().endEditing&&i.getView().endEditing(),e.hideTabView(i,n)),t&&e.showTabView(o,t)),e._8o=o,e._9o=t,i!==o&&e.onTabChanged(i,o)},onTabClosing:function(){return!0},onTabChanged:function(){},onTabClosed:function(t,e){this.selectByIndex(--e)},selectByIndex:function(t){var e=this,i=e._tabModel,n=i.size();if(n&&!i.sm().ld()){t==r&&(t=0),t>=n&&(t=n-1),0>t&&(t=0);for(var o=t;o>=0;o--){var a=e.get(o);if(!a.isDisabled())return e.select(a),a}for(o=t+1;n>o;o++)if(!(a=e.get(o)).isDisabled())return e.select(a),a}},getTabWidth:function(t){var e=4,i=Pr(t.getIcon());i&&(e+=al(i,t)+4);var n=this.getLabel(t);return n&&(e+=Xr(this.getLabelFont(t),n).width+4),t.isClosable()&&(e+=10),e},drawTab:function(t,e,i,n,o,a,r){var s,l=this,c=l._tabPosition,h=i+4,d=l._selectWidth,g=Pr(e.getIcon()),u=e.isDisabled(),f=l.getLabelColor(e),v=l.getLabelFont(e),p=l.getLabel(e),I=l._selectBackground,_=c===ct+"-vertical",y=c===ht+"-vertical";(_||y)&&(h=n+4),u&&(t.globalAlpha=rr),la(t,i,n,o,a,r),e===l._8o&&d&&(c===dt?la(t,i,n+a-d,o,d,I):c===ct?la(t,i+o-d,n,d,a,I):c===ht?la(t,i,n,d,a,I):_?la(t,i+o-d,n,d,a,I):y?la(t,i,n,d,a,I):la(t,i,n,o,d,I));var C=o/2;if(_&&(fo(t,C,n+a/2),vo(t,E),fo(t,-C,-n-a/2)),g){var m=rl(g,e),w=al(g,e);if(_||y){var b=i+o/2,A=h+m/2;fo(t,b,A),vo(t,j),fo(t,-b,-A),Lr(t,g,i+o/2,h+m/2,e,l),fo(t,b,A),vo(t,-j),fo(t,-b,-A),h+=m+4}else Lr(t,g,h+w/2,n+a/2,e,l),h+=w+4}return _||y?(fo(t,o/2,h+o/2),vo(t,j),fo(t,-o/2,-h-o/2),Jr(t,p,v,f,i,h,a,o),fo(t,o/2,h+o/2),vo(t,-j),fo(t,-o/2,-h-o/2)):Jr(t,p,v,f,h,n,o,a),_&&(fo(t,C,n+a/2),vo(t,-E),fo(t,-C,-n-a/2)),e.isClosable()&&(s=y?{x:i+o-12,y:n+a-12,width:12,height:12}:{x:i+o-12,y:n+2,width:12,height:12},this.drawCloseIcon(e,t,f,s)),u&&(t.globalAlpha=1),s},drawCloseIcon:function(t,e,i,n){var o=n.x,a=n.y;e.strokeStyle=i,e.lineWidth=1,e.beginPath(),e.moveTo(o+2,a+8),e.lineTo(o+8,a+2),e.moveTo(o+8,a+8),e.lineTo(o+2,a+2),e.stroke()},getTabAt:function(t){var e=this._interactor._8Q(t);return e?e.tab:null},validateImpl:function(){var t=this;t._24o();var e,i=t._canvas,n=t._tabPosition,o=t._91O,a=t._92O,r=t._tabModel,s=t.getWidth(),l=t.getHeight(),c=t._tabHeight,h=t._7o,d=t._tabGap,g=n===dt,u=n===ct,f=n===ht,v=n===ct+"-vertical",p=n===ht+"-vertical",I=t._23o,_=0;if((u||f)&&r._roots.each(function(e){_=M(t.getTabWidth(e),_)}),g?(Co(o,0,0,s,c),e={x:0,y:c,width:s,height:M(0,l-c)}):u?(Co(o,0,0,_,l),e={x:_,y:0,width:M(0,s-_),height:l}):f?(Co(o,s-_,0,_,l),e={x:0,y:0,width:M(0,s-_),height:l}):v?(Co(o,0,0,c,l),e={x:c,y:0,width:M(0,s-c),height:l}):p?(Co(o,s-c,0,c,l),e={x:0,y:0,width:M(0,s-c),height:l}):(Co(o,0,l-c,s,c),e={x:0,y:0,width:s,height:M(0,l-c)}),Co(a,e),v||p){t._9o&&(e.x=0,Co(t._8o.getView(),e)),io(i,c,l);var y=go(i),C=0;if(uo(y,0,t.ty(),1),y.clearRect(0,0,c,l),h.clear(),r._roots.each(function(e){var i,n=t.getTabWidth(e);I&&I.tab===e||(i=t.drawTab(y,e,0,C,c,n,t._tabBackground)),h.add({_75o:i,tab:e,startY:C,endY:C+n,height:n}),C+=n+d}),t._23Q=M(0,C-d),I){var m=I.position;t.drawTab(y,I.tab,0,I.startY,c,I.height,t._moveBackground),la(y,0,m,c,1,t._insertColor)}if(y.restore(),t._selectionChanged){t._selectionChanged=!1;for(var w=t.ty(),b=0;b<h.size();b++){if((D=h.get(b)).tab===t._8o){if(D.endY+w<0){t.ty(-D.startY);break}if(D.startY+w>l){t.ty(l-D.endY);break}}}}t.ty(t.ty())}else if(u||f){t._9o&&(e.x=0,Co(t._8o.getView(),e)),io(i,_,l);y=go(i),C=0;if(uo(y,0,t.ty(),1),y.clearRect(0,0,_,l),h.clear(),r._roots.each(function(e){var i;I&&I.tab===e||(i=t.drawTab(y,e,0,C,_,c,t._tabBackground)),h.add({_75o:i,tab:e,startY:C,endY:C+c,height:c}),C+=c+d}),t._23Q=M(0,C-d),I){m=I.position;t.drawTab(y,I.tab,0,I.startY,_,I.height,t._moveBackground),la(y,0,m,_,1,t._insertColor)}if(y.restore(),t._selectionChanged){t._selectionChanged=!1;for(w=t.ty(),b=0;b<h.size();b++){if((D=h.get(b)).tab===t._8o){if(D.endY+w<0){t.ty(-D.startY);break}if(D.startY+w>l){t.ty(l-D.endY);break}}}}t.ty(t.ty())}else{t._9o&&(e.y=0,Co(t._8o.getView(),e)),io(i,s,c);y=go(i);var A=0;if(uo(y,t.tx(),0,1),y.clearRect(0,0,s,c),h.clear(),r._roots.each(function(e){var i,n=t.getTabWidth(e);I&&I.tab===e||(i=t.drawTab(y,e,A,0,n,c,t._tabBackground)),h.add({_75o:i,tab:e,startX:A,endX:A+n,width:n}),A+=n+d}),t._64I=M(0,A-d),I){m=I.position;t.drawTab(y,I.tab,I.startX,0,I.width,c,t._moveBackground),Wn(y,t._insertColor,m,0,c)}if(y.restore(),t._selectionChanged){t._selectionChanged=!1;var x=t.tx();for(b=0;b<h.size();b++){var D;if((D=h.get(b)).tab===t._8o){if(D.endX+x<0){t.tx(-D.startX);break}if(D.startX+x>s){t.tx(s-D.endX);break}}}}t.tx(t.tx())}var T=[],N=a.children;for(b=0;b<N.length;b++){var S=N[b],z=S._tab_;z&&!r.contains(z)&&T.push(S)}T.forEach(function(t){a.removeChild(t)})}});var hv=function(t){this.tv=t,this.addListeners()};ms(hv,i,{ms_listener:1,getView:function(){return this.tv._91O},handle_mousewheel:function(t){this.handleScroll(t,t.wheelDelta/40*10)},handle_DOMMouseScroll:function(t){this.handleScroll(t,10*-t.detail)},handleScroll:function(t,e){jr(t);var i=this.tv,n=i._tabPosition;!i._40o()||n!==dt&&n!==gt||i.tx(this.tv.tx()+e),!i._41o()||n!==ct&&n!==ht&&n!==ct+"-vertical"&&n!==ht+"-vertical"||i.ty(this.tv.ty()+e)},_8Q:function(t){var e,i,n=this.tv,o=n._tabPosition,a=n._7o;if(o===dt||o===gt){var s=n.lp(t).x;for(e=0;e<a.size();e++)if((i=a.get(e)).startX<=s&&s<=i.endX)return i}else if(o===ct||o===ht||o===ct+"-vertical"||o===ht+"-vertical"){var l=n.lp(t).y;for(e=0;e<a.size();e++)if((i=a.get(e)).startY<=l&&l<=i.endY)return i}return r},isClickable:function(t){var e=this.tv,i=e._tabPosition,n=this._73o=this._8Q(t);return!(!e._40o()||i!==dt&&i!==gt)||(!(!e._41o()||i!==ct&&i!==ht&&i!==ct+"-vertical"&&i!==ht+"-vertical")||n&&(!n.tab.isDisabled()||e.isMovable()))},handle_mousemove:function(t){var e=this;bo?e._74o=e._8Q(t):e.getView().style.cursor=e.isClickable(t)?ii:""},handle_mousedown:function(t){this.handle_mousemove(t),this.handle_touchstart(t)},handle_touchstart:function(t){var e=this,i=e.tv,n=i._tabPosition;jr(t),$r(t)&&e.isClickable(t)&&(n===dt||n===gt?(e.x=is(t).x,e.lp=i.lp(t),e.tx=i.tx()):(e.y=is(t).y,e.lp=i.lp(t),e.ty=i.ty()),vs(e,t))},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowTouchMove:function(t){var e,i=this,n=i.tv,o=n._tabPosition,a=i._73o;if(o===dt||o===gt){if(e=is(t).x-i.x,!i._25o&&!i.moving&&D(e)>2&&(n._40o()&&!es(t)?i._25o=1:a&&n.isMovable()&&(i.moving=1)),i._25o)n.tx(i.tx+e);else if(i.moving){var r=i.lp.x+e,s=n._tabGap/2;n._7o.each(function(t){var i=t.endX,o=r-t.startX<i-r;r>=t.startX&&i>=r&&n._7Q({tab:a.tab,startX:a.startX+e,width:a.width,front:o,insertTab:t.tab,position:o?M(0,t.startX-s):x(n._64I,i+s)})})}}else if(e=is(t).y-i.y,!i._25o&&!i.moving&&D(e)>2&&(n._41o()&&!es(t)?i._25o=1:a&&n.isMovable()&&(i.moving=1)),i._25o)n.ty(i.ty+e);else if(i.moving){var l=i.lp.y+e;s=n._tabGap/2;n._7o.each(function(t){var i=t.endY,o=l-t.startY<i-l;l>=t.startY&&i>=l&&n._7Q({tab:a.tab,startY:a.startY+e,height:a.height,front:o,insertTab:t.tab,position:o?M(0,t.startY-s):x(n._23Q,i+s)})})}},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handleWindowTouchEnd:function(){var t=this,e=t.tv,i=e._tabPosition,n=e.getTabModel(),o=n._roots,a=t._73o;if(t.moving){var s=e._23o;if(s&&s.insertTab!==s.tab){var l=s.tab,c=o.remove(l),h=o.indexOf(s.insertTab);h>=0&&(s.front||h++,h<=o.size()&&(o.add(l,h),n._38I(l,c,h)))}e._7Q(r),delete t.moving}else if(!t._25o&&a){l=a.tab;var d=t._74o;if(!d||d.tab===l)if(!l.isDisabled()&&ss(a._75o,t.lp)){var g=function(){var t=o.indexOf(l);n.remove(l),e.onTabClosed(l,t)};e.onTabClosing(l,g)&&g()}else l.isDisabled()||e._8o===l||n.sm().ss(l)}t._25o=t._73o=t._74o=i===dt||i===gt?t.x=t.lp=t.tx=r:t.y=t.lp=t.ty=r}}),ov.PropertyView=function(t){var e=this;e._view=$n(1,e),e._canvas=qn(e._view),no(e._view,e._79O=Kn()),e._rows=new ml,e._28o=new ml,e._26o={},e._26Q={};var i=e._propertyModel=new Ml,n=e.ivm;i.mm(n,e),i.md(n,e),i.mh(n,e),e.dm(t||new Ml),new dv(e)},av("PropertyView",i,{ms_ac:[Ht,Yt,Qt,Ae,Me,"categorizable",ue,be,ye,Ce,me,de,ge,he,"selectRowIndex",le,"background",fe,_e,pe,Ie,ve],ms_v:1,ms_dm:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,_45o:1,_47o:1,ms_tip:1,_29I:Yi,_59I:0,_9I:0,_selectRowIndex:-1,_editable:!0,_batchEditable:!0,_categorizable:!0,_indent:Cr,_background:c.propertyViewBackground,_expandIcon:c.propertyViewExpandIcon,_collapseIcon:c.propertyViewCollapseIcon,_scrollBarColor:Ar,_scrollBarSize:Mr,_autoHideScrollBar:hr,_selectBackground:c.propertyViewSelectBackground,_rowHeight:mr,_rowLineVisible:c.propertyViewRowLineVisible,_rowLineColor:c.propertyViewRowLineColor,_10I:.5,_columnLineVisible:c.propertyViewColumnLineVisible,_columnLineColor:c.propertyViewColumnLineColor,_labelColor:c.propertyViewLabelColor,_labelSelectColor:c.propertyViewLabelSelectColor,_labelFont:c.propertyViewLabelFont,getRows:function(){return this._rows},getColumnPosition:function(){return this._10I},setColumnPosition:function(t){0>t&&(t=0),t>1&&(t=1);var e=this,i=e._10I;e._10I=t,e.fp("columnPosition",i,t)},getPropertyName:function(t){return t.toLabel()},getLabelFont:function(){return this._labelFont},getLabelColor:function(t,e,i){return i===this._selectRowIndex?this._labelSelectColor:this._labelColor},getPropertyFont:function(){return this._labelFont},getPropertyColor:function(t,e){return e===this._selectRowIndex?this._labelSelectColor:t.getColor()||this._labelColor},getCategoryFont:function(){return this._labelFont},getCategoryColor:function(){return this._labelColor},adjustTranslateX:function(){return 0},adjustTranslateY:function(t){var e=this.getHeight()-this._59I;return e>t&&(t=e),t>0?0:m(t)},isExpanded:function(t){if(!t)return!0;var e=this._26o[t];return e?e.isExpanded:!(!1===this._26Q[t])},toggle:function(t){var e=this;e.isExpanded(t)?e.collapse(t):e.expand(t)},expandAll:function(){for(var t in this.validate(),this._26o)this.expand(t)},expand:function(t){if(t&&t!==_t){var e=this,i=e._26o[t];i&&!i.isExpanded&&(i.isExpanded=!0,e.onExpanded(t),e.ivm())}},onExpanded:function(){},collapseAll:function(){for(var t in this.validate(),this._26o)this.collapse(t)},collapse:function(t){if(t&&t!==_t){var e=this,i=e._26o[t];i&&i.isExpanded&&(i.isExpanded=!1,e.onCollapsed(t),e.ivm())}},onCollapsed:function(){},getCategoryName:function(t){if(!this.isCategorizable())return _t;var e=t.getCategoryName();return e||_t},getPropertyModel:function(){return this._propertyModel},handleSelectionChange:function(){this.ivm()},setDataModel:function(t){var e=this,i=e._dataModel;i!==t&&(i&&(i.umd(e.handlePropertyChange,e),e._selectionModel||i.sm().ums(e.handleSelectionChange,e)),e._dataModel=t,t.md(e.handlePropertyChange,e),e._selectionModel?e._selectionModel._21I(t):t.sm().ms(e.handleSelectionChange,e),e.fp(Ve,i,t))},isVisible:function(t){return!this._visibleFunc||this._visibleFunc(t)},onPropertyChanged:function(t){var e=this,i=t.property;qf[i]?e.ivm():e.iv(),i===Ee&&e._43o()},getCurrentData:function(){return this._27o},updateCurrentData:function(){this._27o=this.sm().ld()},getRawProperties:function(){return this._27o?this._propertyModel._roots:wl},handlePropertyChange:function(t){this._27o===t.data&&this.iv()},ivm:function(){this.invalidateModel()},invalidateModel:function(){var t=this;t._96I||(t.setSelectRowIndex(-1),t._96I=1,t.iv())},redraw:function(){this.iv()},validateModel:function(){var t=this,e=t._rows,i=t._28o,o={},a=new ml,r=t._27o;for(var s in t.updateCurrentData(),r!==t._27o&&t.endEditing(),e.clear(),i.clear(),t.getRawProperties().each(function(e){if(t.isVisible(e)){a.add(e);var r=t.getCategoryName(e);o[r]||(i.add(r,r===_t?0:n),o[r]={isExpanded:t.isExpanded(r),properties:new ml})}}),t._sortFunc&&a.sort(t._sortFunc),t._26o)t._26Q[s]=t.isExpanded(s);t._26o=o,i.each(function(i){i!==_t&&e.add(i);var n=o[i];n.isExpanded&&a.each(function(o){t.getCategoryName(o)===i&&(n.properties.add(o),e.add({property:o,data:t._27o}))},t)})},validateImpl:function(){var t=this;t._76o(),t._96I&&(t.validateModel(),delete t._96I);var e=t._canvas,i=t.getWidth(),n=t.getHeight(),o=-t.ty(),a=t._rowHeight,s=t._indent,l=i-s,c=t._rows,h=c.size(),d=t._9I=s+l*t._10I,g=t._59I=h*a;io(e,i,n),t._29I={x:0,y:o,width:i,height:n},t._31I=w(o/a),t._14I=b((o+n)/a),t._31I<0&&(t._31I=0),t._14I>h&&(t._14I=h);var u=go(e),f=t._background;uo(u,0,-o,1),u.beginPath(),u.rect(0,o,i,n),u.clip(),u.clearRect(0,o,i,n),t._93db(u),f&&la(u,0,0,s,g,f);for(var v=t._31I;v<t._14I;v++){var p=c.get(v);o=a*v;if(un(p))f&&la(u,s,o,l,a,f),(y=Pr(t.isExpanded(p)?t._expandIcon:t._collapseIcon))&&Br(u,y,Fe,0,o,s,a),u.save(),u.beginPath(),u.rect(s,o,l,a),u.clip(),t.drawCategoryName(u,p,v,s,o,l,a),u.restore();else{var I=p.property,_=p.data,y=Pr(I.getIcon()),C=t._selectRowIndex===v?t.getSelectBackground():r;if(y&&Br(u,y,Fe,0,o,s,a),C&&la(u,s,o,l,a,C),u.save(),u.beginPath(),u.rect(s,o,d-s,a),u.clip(),t.drawPropertyName(u,I,v,s,o,d-s,a),u.restore(),!t.isEditing(_,I)){var m=d+1,A=i-d-1;u.save(),u.beginPath(),u.rect(m,o,A,a),u.clip(),t._87o(t.drawPropertyValue(u,I,t.getValue(_,I),v,m,o,A,a,_),v,m,o,A,a),u.restore()}}t._rowLineVisible&&la(u,s,o+a-1,l,1,t._rowLineColor)}t._columnLineVisible&&(la(u,d,0,1,g,t._columnLineColor),la(u,i-1,0,1,g)),t._92db(u),t._93I(),u.restore(),t.ty(t.ty())},drawCategoryName:function(t,e,i,n,o,a,r){Jr(t,e,this.getCategoryFont(e),this.getCategoryColor(e),n,o,a,r)},drawPropertyName:function(t,e,i,n,o,a,r){return e.drawPropertyName?void e.drawPropertyName(t,e,i,n,o,a,r,this):void Jr(t,this.getPropertyName(e),this.getPropertyFont(e,i),this.getPropertyColor(e,i),n,o,a,r)},drawPropertyValue:function(t,e,i,n,o,a,r,s,l){return e.drawPropertyValue?e.drawPropertyValue(t,e,i,n,o,a,r,s,l,this):void ev(t,i,e,this.getLabelFont(e,i,n),this.getLabelColor(e,i,n),o,a,r,s,l,this)},isPropertyEditable:function(t){return t.isEditable()&&this.isEditable()},setProperties:function(t){this._propertyModel.clear(),this.addProperties(t)},addProperties:function(t){if(t){var e=this._propertyModel;t.forEach(function(t){if(!(t instanceof lv)){var i=Fr(t.className);t=Vr(i||lv,t)}e.add(t)})}},getRowIndexAt:function(t){var e=this,i=w(e.lp(t).y/e._rowHeight);return i>=0&&i<e._rows.size()?i:-1},getPropertyAt:function(t){var e=this.getRowIndexAt(t);return e>=0?this._rows.get(e).property:r},getToolTip:function(t){var e=this,i=e.getPropertyAt(t),n=e._27o;return i&&n?i.getToolTip(n,e._9I<e.lp(t).x,e):r}});var dv=function(t){this.pv=t,this.addListeners()};ms(dv,i,{ms_listener:1,getView:function(){return this.pv._view},setCursor:function(t){this.getView().style.cursor=t},clear:function(){var t=this;t._62O=t.cp=t.ty=t.p=r,t.setCursor(ot)},handle_mousedown:function(t){this.handle_touchstart(t)},handle_touchstart:function(t){var e=this,i=e.pv;jr(t),i.setFocus(t)&&($r(t)?(e.cp=is(t),e.ty=i.ty(),e.p=i.getColumnPosition(),e.handle_touchmove(t)):i.setSelectRowIndex(i.getRowIndexAt(t)))},handleWindowMouseUp:function(){this.clear()},handleWindowTouchEnd:function(){this.clear()},handle_mouseup:function(t){this.handle_touchend(t)},handle_touchend:function(t){var e=this;if(e.cp&&!e._62O){var i=e.pv,n=i.lp(t),o=n.x,a=n.y,r=i._indent,s=i.getRowIndexAt(t),l=i._9I;if(s>=0){var c=i._rowHeight,h=c*s,d=i._rows.get(s),g=d.property;if(un(d))Pr(i.isExpanded(d)?i._expandIcon:i._collapseIcon)&&o>=0&&r>=o&&a>=h&&h+c>=a?i.toggle(d):qr(t)&&i.toggle(d);else if(o>l&&i.isPropertyEditable(g,t)){var u={x:l+1,y:h,width:i.getWidth()-l-1,height:c},f={x:u.x+i.tx(),y:u.y+i.ty(),width:u.width,height:u.height},v=0,p=i._29I;u.y<p.y?v=u.y-p.y:u.y+c>p.y+p.height&&(v=u.y+c-p.y-p.height),v&&(i.ty(i.ty()-v),f.y-=v),i.beginEditing({data:d.data,property:g,value:i.getValue(d.data,g),event:t,rect:u,editorRect:f,view:i})}}i.setSelectRowIndex(s)}e.clear()},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowTouchMove:function(t){var e=this,i=e.pv,n=e.ty,o=e.cp,a=is(t),r=e._62O;if("p"===r)i.setTranslateY(n+a.y-o.y);else if("c"===r){var s=i.getWidth()-i._indent;if(s>16){var l=e.p-(o.x-a.x)/s,c=16/s;c>l&&(l=c),l>1-c&&(l=1-c),i.setColumnPosition(l)}}else"s"===r&&i.setTranslateY(n+(o.y-a.y)*i._59I/i._29I.height)},handle_mousemove:function(t){this.handle_touchmove(t)},handle_touchmove:function(t){if(!bo&&$r(t)){var e=this,i=e.pv,n=D(i.lp(t).x-i._9I)<=(nt?8:3);e.cp?e._62O||(n?(e._62O="c",vs(e)):D(is(t).y-e.cp.y)>=2&&(e._62O=e.isV(t)?"s":"p",vs(e))):(n?e.setCursor(ti):e.setCursor(ot),e.isV(t)&&i._43o())}},isV:function(t){var e=this.pv,i=e._29I;return e._41o()&&i.x+i.width-e.lp(t).x<Tr},handle_mousewheel:function(t){this.handleScroll(t,t.wheelDelta/40)},handle_DOMMouseScroll:function(t){2===t.axis&&this.handleScroll(t,-t.detail)},handleScroll:function(t,e){var i=this.pv;jr(t),i.endEditing(),i.translate(0,e*i.getRowHeight())},handle_keydown:function(t){var e=this.pv,i=e._rows.size(),n=e._selectRowIndex+(Bo(t)?-1:1);(Bo(t)||Uo(t))&&(0>n&&(n=0),n>=i&&(n=i-1),e.setSelectRowIndex(n))}}),ov.ListView=function(t){this._5o(t),new gv(this)},av("ListView",i,{ms_ac:[Ht,Yt,Qt,fe,ue,_e,pe,be,ye,de,ge,he,ce,le],ms_v:1,ms_bnb:1,ms_tip:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,_14Q:1,ms_dm:1,_45o:1,_checkMode:!1,_indent:Cr,_rowHeight:mr,_rowLineVisible:c.listViewRowLineVisible,_rowLineColor:c.listViewRowLineColor,_scrollBarColor:Ar,_scrollBarSize:Mr,_autoMakeVisible:cr,_autoHideScrollBar:hr,_selectBackground:c.listViewSelectBackground,_labelColor:c.listViewLabelColor,_labelSelectColor:c.listViewLabelSelectColor,_labelFont:c.listViewLabelFont,isCheckMode:function(){return this._checkMode},setCheckMode:function(t){var e=this,i=e._checkMode;e._checkMode=t,e.fp(we,i,t)},drawRow:function(t,e,i,n,o,a,r){var s=this,l=0,c=s._indent,h=s.getIconWidth(e);s.drawRowBackground(t,e,i,n,o,a,r),s._checkMode&&(Lr(t,Pr(s.getCheckIcon(e)),l+c/2,o+r/2,e,s),l+=c),s.drawIcon(t,e,l,o,h,r),s.drawLabel(t,e,l+h,o,r)}});var gv=function(t){this.list=t,this._lastSelectDataTime=nn(),this.addListeners()};ms(gv,i,{ms_listener:1,getView:function(){return this.list._view},clear:function(t){var e=this,i=e.list;t&&"d"===e._62O&&!e.dragCancel&&i.handleDragAndDrop(t,"end"),i.draggingData&&(i.draggingData=null,i.redraw()),e.dragCancel=e._62O=e._isV=e._isH=e.cp=e.tx=e.ty=r},handle_mousedown:function(t){this.handle_touchstart(t)},handle_touchstart:function(t){var e=this,i=e.list;if(jr(t),i.setFocus(t)){var n=i.getDataAt(t);e.cp=is(t),e.tx=i.tx(),e.ty=i.ty(),$r(t)?n&&i.handleDragAndDrop&&!e.isV(t)&&!e.isH(t)&&(i.draggingData=n,i.redraw(),i.handleDragAndDrop(t,"prepare")):(n&&e._33o(t,n),e.clear(t))}},handleWindowMouseUp:function(t){this.clear(t)},handleWindowTouchEnd:function(t){this.clear(t)},handle_mouseup:function(t){this.handle_touchend(t)},handle_touchend:function(t){var e=this,i=e.list;if(!e._isV&&!e._isH&&e.cp&&!e._62O){var n=i.getDataAt(t);n?(i.isCheckMode()?e._34o(t,n):e._33o(t,n),qr(t)?i.onDataDoubleClicked(n,t):i.onDataClicked(n,t)):i.handleBackgroundClick(t)}e.clear(t)},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowTouchMove:function(t){var e=this,i=e.list,n=e._62O,o=e.tx,a=e.ty,r=e.cp,s=is(t),l=i._29I;"p"===n?i.setTranslate(o+s.x-r.x,a+s.y-r.y):"v"===n?i.ty(a+(r.y-s.y)*i._59I/l.height):"h"===n?i.tx(o+(r.x-s.x)*i._91I/l.width):"d"===n&&(e.dragCancel||i.handleDragAndDrop(t,"between"))},handle_mousemove:function(t){this.handle_touchmove(t)},handle_touchmove:function(t){if(!bo&&$r(t)){var e=this,i=e.list;if(e._isV=e.isV(t),e._isH=e.isH(t),e.cp){if(!e._62O){if(os(is(t),e.cp)<2)return;e._isV?e._62O="v":e._isH?e._62O="h":i.draggingData&&!this.dragCancel?(e._62O="d",i.handleDragAndDrop(t,"begin")):e._62O="p",e._62O&&"d"!==e._62O&&i.draggingData&&(i.draggingData=null,i.redraw()),vs(e)}}else e._isV&&i._43o(),e._isH&&i._42o()}},isV:function(t){var e=this.list,i=e._29I;return e._41o()&&i.x+i.width-e.lp(t).x<Tr},isH:function(t){var e=this.list,i=e._29I;return e._40o()&&i.y+i.height-e.lp(t).y<Tr},handle_mousewheel:function(t){this.handleScroll(t,t.wheelDelta/40,t.wheelDelta!==t.wheelDeltaX)},handle_DOMMouseScroll:function(t){this.handleScroll(t,-t.detail,1)},handleScroll:function(t,e,i){var n=this.list;jr(t),n.endEditing&&n.endEditing(),i&&n._41o()?n.translate(0,e*n.getRowHeight()):n._40o()&&n.translate(10*e,0)},handle_keydown:function(t){if(!c.isInput(t.target)){var e,i=this.list,n=i.sm(),o=i._rows,a=o.size();if(So(t))i.selectAll();else if(zo(t))i.handleDelete&&i.handleDelete(t);else if(Fo(t))"d"!==this._62O||this.dragCancel||(i.handleDragAndDrop(t,"cancel"),this.dragCancel=!0);else if(Wo(t))i.isCheckMode()&&((e=i.getFocusData())&&i.checkData(e));else if(Bo(t)||Uo(t)){var r=i.isCheckMode();if(e=r?i.getFocusData():n.ld()){var s=i.getRowIndex(e);s>=0&&(Bo(t)?0!==s&&(e=o.get(s-1),r?i.setFocusData(e):n.ss(e)):s!==a-1&&(e=o.get(s+1),r?i.setFocusData(e):n.ss(e)))}else a>0&&(e=o.get(0),r?i.setFocusData(e):n.ss(e))}}},_34o:function(t,e){var i=this.list,n=i.lp(t).x;return n>=0&&n<=i._indent?void i.checkData(e):void i.setFocusData(e)},_33o:function(t,e){var i=this.list,n=i.sm(),o=n.ld();if(es(t))i.isSelected(e)?n.rs(e):n.as(e);else if(ts(t))if(o)for(var a=i.getRowIndex(o),r=i.getRowIndex(e);a!==r;)a+=r>a?1:-1,n.as(i._rows.get(a));else n.ss(e);else if($r(t)){var s=nn();if(n.contains(e)){var l=s-this._lastSelectDataTime;i.handleDataDoubleSelect&&l>500&&1500>l&&i.handleDataDoubleSelect(t,e)}n.ss(e),this._lastSelectDataTime=s}else n.contains(e)||n.ss(e)}}),ov.TreeView=function(t){var e=this;e._35o(),e._5o(t),new uv(e)},av("TreeView",i,{ms_ac:[Ht,Yt,Qt,"rootVisible",we,"rootData",be,ye,de,ge,he,ue,fe,_e,pe,Ce,me,ce,le,"loader","doubleClickToToggle"],ms_v:1,ms_bnb:1,ms_tip:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,_48o:1,_14Q:1,_45o:1,_checkMode:r,_indent:Cr,_rowHeight:mr,_rowLineVisible:c.treeViewRowLineVisible,_rowLineColor:c.treeViewRowLineColor,_scrollBarColor:Ar,_scrollBarSize:Mr,_autoHideScrollBar:hr,_expandIcon:c.treeViewExpandIcon,_collapseIcon:c.treeViewCollapseIcon,_autoMakeVisible:cr,_selectBackground:c.treeViewSelectBackground,_labelColor:c.treeViewLabelColor,_labelSelectColor:c.treeViewLabelSelectColor,_labelFont:c.treeViewLabelFont,_doubleClickToToggle:c.treeViewDoubleClickToToggle,drawRow:function(t,e,i,n,o,a,r){this.drawRowBackground(t,e,i,n,o,a,r),this._97I(t,e,i,0,o,a,r)},isOnToggleIcon:function(t){var e=this.getDataAt(t);if(e){var i=this.getIndent(),n=this.lp(t).x;if(Pr(this.getToggleIcon(e))){var o=i*this.getLevel(e);if(n>=o&&o+i>=n)return!0}}return!1}});var uv=function(t){zn(uv,this,[t])};ms(uv,gv,{toggle:function(t,e,i,n){var o=this.list,a=o.lp(t).x;if(Pr(o.getToggleIcon(e))){var r=i*n;if(a>=r&&r+i>=a)return o.toggle(e),!0}return!(!o.isDoubleClickToToggle()||!qr(t))&&(o.toggle(e),!0)},_34o:function(t,e){var i=this.list,n=i.lp(t).x,o=i._levelMap[e._id],a=i._indent,r=a*(o+1);return n>=r&&r+a>=n?void i.checkData(e):void(this.toggle(t,e,a,o)||i.setFocusData(e))},_33o:function(t,e){var i=this,n=i.list;i.toggle(t,e,n._indent,n.getLevel(e))||uv.superClass._33o.call(i,t,e)},handle_keydown:function(t){if(Lo(t)||Oo(t)){var e=this.list,i=e._rows,n=e.isCheckMode(),o=e.sm(),a=n?e.getFocusData():o.ld();a?a.hasChildren()&&(Lo(t)?e.collapse(a):e.expand(a)):i.size()>0&&(a=i.get(0),n?e.setFocusData(a):o.ss(a))}else uv.superClass.handle_keydown.call(this,t)}});var fv=ov.TableView=function(t){this._98I(),this._5o(t),new vv(this)};av("TableView",i,{ms_ac:[Ht,Yt,Qt,"sortMode",Ae,Me,fe,_e,pe,Ie,ve,"sortColumn",be,ye,de,ge,he,ce,le],ms_v:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,ms_tip:1,_50o:1,_45o:1,_47o:1,_sortMode:xe,_editable:!0,_batchEditable:!1,_rowHeight:mr,_rowLineVisible:c.tableViewRowLineVisible,_rowLineColor:c.tableViewRowLineColor,_columnLineVisible:c.tableViewColumnLineVisible,_columnLineColor:c.tableViewColumnLineColor,_scrollBarColor:Ar,_scrollBarSize:Mr,_autoHideScrollBar:hr,_autoMakeVisible:cr,_selectBackground:c.tableViewSelectBackground,_labelColor:c.tableViewLabelColor,_labelSelectColor:c.tableViewLabelSelectColor,_labelFont:c.tableViewLabelFont,getCheckColumn:function(){var t=this;if(!t._31o){var e=t._31o=new sv;e.setEditable(!0),e.setWidth(40),e.getValue=t.getCheckColumValue,e.drawCell=t.drawCheckColumnCell}return t._31o},isCheckMode:function(){return this._39o.contains(this._31o)},setCheckMode:function(t){var e=this,i=e._39o,n=e.getCheckColumn();t!==e.isCheckMode()&&(t?i.add(n,0):i.remove(n),e.fp(we,!t,t))},getCheckColumValue:function(t,e,i){return i.isSelected(t)},drawCheckColumnCell:function(t,e,i,n,o,a,r,s,l){Lr(t,l.getCheckIcon(e),o+r/2,a+s/2,e,l)}});var vv=function(t){zn(vv,this,[t])};ms(vv,gv,{_34o:function(t,e){var i=this.list,n=i._31o;if(i.isCellEditable(e,n,t)){var o=i._3Q(n),a=i.lp(t).x;if(o&&a>=o.startX&&a<o.startX+n.getWidth())return void i.checkData(e)}i._37O(e,t),i.setFocusData(e)},_33o:function(t,e){this.list._37O(e,t),vv.superClass._33o.apply(this,arguments)}});var pv=ov.TreeTableView=function(t){var e=this,i=e._4o=new sv;e._35o(),e._98I(),e._5o(t),i.setDisplayName("Name"),i.setEditable(!0),i.setWidth(180),i.drawCell=Iv,i.getValue=_v,e._39o.add(i),new yv(e)},Iv=function(t,e,i,n,o,a,r,s,l){l._97I(t,e,i,o,a,r,s)},_v=function(t,e,i){return i.getLabel(t)};av("TreeTableView",i,{ms_ac:[Ht,Yt,Qt,"sortMode",Ae,Me,ue,we,"rootData","rootVisible",be,ye,"sortColumn",Ce,me,de,ge,he,ce,pe,fe,_e,Ie,ve,le,"loader"],ms_v:1,ms_bnb:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,ms_tip:1,_50o:1,_48o:1,_14Q:1,_45o:1,_47o:1,_sortMode:xe,_checkMode:r,_editable:!0,_batchEditable:!1,_indent:Cr,_rowHeight:mr,_rowLineVisible:c.treeTableViewRowLineVisible,_rowLineColor:c.treeTableViewRowLineColor,_columnLineVisible:c.treeTableViewColumnLineVisible,_columnLineColor:c.treeTableViewColumnLineColor,_expandIcon:c.treeTableViewExpandIcon,_collapseIcon:c.treeTableViewCollapseIcon,_scrollBarColor:Ar,_scrollBarSize:Mr,_autoHideScrollBar:hr,_autoMakeVisible:cr,_selectBackground:c.treeTableViewSelectBackground,_labelColor:c.treeTableViewLabelColor,_labelSelectColor:c.treeTableViewLabelSelectColor,_labelFont:c.treeTableViewLabelFont,getTreeColumn:function(){return this._4o}});var yv=function(t){zn(yv,this,[t])};ms(yv,gv,{_34o:function(t,e){var i=this.list,n=i._4o,o=i._3Q(n),a=i.lp(t).x;if(o){var r=i._indent,s=o.startX+r*i.getLevel(e);if(Pr(i.getToggleIcon(e))&&a>=s&&s+r>=a)return void i.toggle(e);if(i.isCellEditable(e,n)&&(a>=(s+=r)&&s+r>=a))return void i.checkData(e)}i._37O(e,t),i.setFocusData(e)},_33o:function(t,e){var i=this.list,n=i.lp(t).x;if(Pr(i.getToggleIcon(e))){var o=i._3Q(i._4o);if(o){var a=i._indent,r=o.startX+a*i.getLevel(e);if(n>=r&&r+a>=n)return void i.toggle(e)}}i._37O(e,t),yv.superClass._33o.apply(this,arguments)}});var Cv=ov.TableHeader=function(t){var e=this,i=e._view=$n(1,e),n=e._39o=t.getColumnModel(),o=e.iv;e.tv=e._tableView=t,e._60I=new ml,e._canvas=qn(i),i.style.background=c.tableHeaderBackground||"",i.style.height=wr+yt,n.mm(o,e),n.md(o,e),n.mh(o,e),t.mp(function(t){Jf[t.property]&&e.iv()},e),new mv(e),e.iv()};av("TableHeader",i,{ms_v:1,ms_lp:1,ms_fire:1,ms_ac:["checkIcon","sortDescIcon","sortAscIcon",Ht,Qt,ue,"moveBackground","insertColor",Ie,ve,"resizable","movable"],_checkIcon:jt,_movable:!0,_resizable:!0,_labelColor:c.tableHeaderLabelColor,_labelFont:c.tableHeaderLabelFont,_columnLineColor:c.tableHeaderColumnLineColor,_columnLineVisible:c.tableHeaderColumnLineVisible,_sortDescIcon:c.tableHeaderSortDescIcon,_sortAscIcon:c.tableHeaderSortAscIcon,_moveBackground:c.tableHeaderMoveBackground,_insertColor:c.tableHeaderInsertColor,_indent:Cr,getCheckIcon:function(){return this._checkIcon},getTableView:function(){return this.tv},getLabel:function(t){return t.toLabel()},getLabelFont:function(){return this._labelFont},getLabelColor:function(t){return t.getColor()||this._labelColor},getLabelAlign:function(t){return t._align},onPropertyChanged:function(){this.iv()},_5Q:function(t){this._61I=t,this.iv()},getLogicalPoint:function(t){return us(t,this._canvas,this.tv.tx())},validateImpl:function(){var t=this,e=t._canvas,i=t.getWidth(),n=t.getHeight(),o=t.tv,a=t._60I,r=t._61I,s=-o.tx(),l=0;(i!==e.clientWidth||n!==e.clientHeight)&&io(e,i,n),a.clear(),t._39o._roots.each(function(t){if(t.isVisible()){var e=l+t.getWidth();s+i>=l&&e>=s&&a.add({column:t,startX:l}),l=e}});var c=go(e);if(uo(c,-s,0,1),c.beginPath(),c.rect(s,0,i,n),c.clip(),c.clearRect(s,0,i,n),a.each(function(e){var i=e.column,o=e.startX,a=i.getWidth();a>0&&(c.save(),c.beginPath(),c.rect(o,0,a,n),c.clip(),r&&r.column===i||t.drawColumn(c,i,o,0,a,n),t._columnLineVisible&&la(c,o+a-1,0,1,n,t._columnLineColor),c.restore())}),r){var h=r.column,d=(l=r.startX,r.position),g=h.getWidth();c.save(),c.beginPath(),c.rect(l,0,g,n),c.clip(),c.fillStyle=t._moveBackground,c.fill(),t.drawColumn(c,h,l,0,g,n),c.restore(),Wn(c,t._insertColor,d,0,n)}c.restore()},_6Q:function(t){var e=this.tv;return e._31o===t&&e.sm().getSelectionMode()===rt},drawColumn:function(t,e,i,n,o,a){var r=this,s=r.tv,l=Pr(e.getIcon()),c=r.getLabelAlign(e);if(r._6Q(e)){var h=Pr(r._checkIcon);Lr(t,h,i+o/2,n+a/2,e,r)}else{var d=r.getLabel(e),g=r.getLabelFont(e),u=r.getLabelColor(e),f=Xr(g,d).width,v=l?r._indent:0;c===ct?(l&&Br(t,l,Fe,i,n,v,a),Jr(t,d,g,u,i+v,n,o,a,ct)):c===ht?(l&&Br(t,l,Fe,i+o-f-v,n,v,a),Jr(t,d,g,u,i,n,o,a,ht)):(l&&Br(t,l,Fe,i+(o-f-v)/2,n,v,a),Jr(t,d,g,u,i+(o-f+v)/2,n,0,a,ct))}if(e.isSortable()&&s.getSortColumn()===e&&(l=Pr(e.getSortOrder()===De?r._sortAscIcon:r._sortDescIcon))){var p=al(l,e)/2+2;Lr(t,l,c===ht?i+p:i+o-p,n+a/2,e,s)}}});var mv=function(t){var e=this;e.th=t,e.tv=t._tableView,e.addListeners()};ms(mv,i,{ms_listener:1,getView:function(){return this.th.getView()},setCursor:function(t){this.getView().style.cursor=t},handle_mousemove:function(t){if(!bo){var e=this;delete e._29o,e.setCursor(ot);for(var i=e.th,n=i._60I,o=i.lp(t).x,a=n.size()-1;a>=0;a--){var r=n.get(a),s=r.column,l=r.startX+s.getWidth();if(i.isResizable()&&D(l-o)<=(nt?10:3))return e._29o=r,void e.setCursor(ti);o>r.startX&&l>o&&(e._29o=r),(s.isClickable()||s.isSortable()||i.isMovable()||e.tv.getCheckColumn&&s===e.tv.getCheckColumn())&&o>r.startX&&l>o&&e.setCursor(ii)}}},handle_mousedown:function(t){this.handle_touchstart(t)},handle_touchstart:function(t){var e=this;jr(t),e.tv.endEditing(),e.handle_mousemove(t),e._29o&&(e.x=is(t).x,e.lx=e.th.lp(t).x,e.w=e._29o.column.getWidth(),vs(e,t))},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowTouchMove:function(t){var e=this,i=e.th,n=e.getView().style.cursor,o=e._29o,a=is(t).x-e.x;if(e.resizing||e.moving||(n===ti?e.resizing=1:i.isMovable()&&n===ii&&D(a)>2&&(e.moving=1)),e.resizing)o.column.setWidth(e.w+a);else if(e.moving){var r=e.lx+a;i._60I.each(function(t){var e=t.startX,n=e+t.column.getWidth();if(r>=e&&n>=r){var s={column:o.column,startX:o.startX+a,front:n-r>r-e,insertColumn:t.column};s.position=s.front?e:n,i._5Q(s)}})}},_16Q:function(t,e){var i=this,n=i.tv,o=i.th,a=o._checkIcon;if(o._6Q(t)){var r=Pr(a),s=i.lx,l=t.getWidth(),c=al(r,t);if(s>=e+l/2-c&&e+l/2+c>=s){o.setCheckIcon(a===Vt?jt:Vt);var h=n.sm(),d=n._rows;return a===Vt?h.rs(d):h.ss(d),n.onCheckColumnClicked(t),!0}}return!1},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handleWindowTouchEnd:function(t){var e=this,i=e.tv,n=e.th,o=e._29o;if(e.moving){var a=n._61I;if(a&&a.insertColumn!==a.column){var s=a.column,l=i.getColumnModel()._roots,c=l.remove(s),h=l.indexOf(a.insertColumn);h>=0&&(a.front||h++,h<=l.size()&&(l.add(s,h),i.getColumnModel()._38I(s,c,h)))}n._5Q(r),delete e.moving}else if(!e.resizing&&o){s=o.column;var d=n.lp(t).x,g=o.startX,u=!0;if(n.onColumnClicked)!1===n.onColumnClicked(s,t,g)&&(u=!1);if(u&&d>=g&&d<=g+s.getWidth()&&!e._16Q(s,g)){if(s.isSortable()){var f=i.getSortMode(),v=s.getSortOrder();f===xe?i.getSortColumn()===s?(v===Te&&i.setSortColumn(r),s.setSortOrder(v===De?Te:De)):i.setSortColumn(s):"bistate"===f&&(i.getSortColumn()===s?s.setSortOrder(v===De?Te:De):i.setSortColumn(s))}i.onColumnClicked(s,t,g)}}e._29o=e.resizing=e.x=e.lx=e.w=r}}),ov.TablePane=function(t){this.init(new fv(t))},av("TablePane",i,{ms_v:1,_44o:1}),ov.TreeTablePane=function(t){this.init(new pv(t))},av("TreeTablePane",i,{ms_v:1,_44o:1}),ov.Toolbar=function(t){var e=this,i=e._view=$n(1,e),n=i.style;n.background=c.toolbarBackground||"",n.height=br+yt,e._canvas=qn(i),e._30o=new ml,e._90I=new ml,e.setItems(t||[]),i.handleGroupSelectedChanged=function(t){if(t.isSelected()){var i=t.getGroupId();null!=i&&e._items.forEach(function(e){var n=e.element;n&&n!==t&&n.setSelected&&n.getGroupId&&n.getGroupId()===i&&n.setSelected(!1)})}},new wv(e)},av("Toolbar",i,{ms_v:1,ms_fire:1,ms_tx:1,ms_lp:1,ms_tip:1,ms_value:1,ms_ac:[Dt,Ht,Qt,Yt,le,"itemGap","separatorColor","currentItem","stickToRight"],_labelColor:c.toolbarLabelColor,_labelSelectColor:c.toolbarLabelSelectColor,_labelFont:c.toolbarLabelFont,_selectBackground:c.toolbarSelectBackground,_itemGap:c.toolbarItemGap,_separatorColor:c.toolbarSeparatorColor,_stickToRight:!1,getSumWidth:function(){return this._64I},getToolTip:function(t){var e=this.getItemInfoAt(t);return e?e.item.toolTip:r},getLabelColor:function(t){return t&&t.selected&&t.type!==Vt&&"radio"!==t.type?this._labelSelectColor:this._labelColor},onPropertyChanged:function(t){this.iv(),t.property===Dt&&this._items.forEach(function(t){Xn(t)})},redraw:function(){this.iv()},addItem:function(t,e){var i=this._items;e==r?i.push(t):i.splice(e,0,t),this.fp(Dt,r,i)},removeItem:function(t){if(t)for(var e=this._items,i=0;i<e.length;i++)t===e[i]&&(e.splice(i,1),this.fp(Dt,r,e))},removeItemById:function(t){if(t!=r)for(var e=this._items,i=0;i<e.length;i++)if(t===e[i].id){var n=e.splice(i,1)[0];return this.fp(Dt,r,e),n}},getItemById:function(t){if(t!=r)for(var e=this._items,i=0;i<e.length;i++){var n=e[i];if(t===n.id)return n}},setItemVisible:function(t,e){var i=this.getItemById(t);i&&(i.visible=e)},getItemInfos:function(){return this._30o},getItemInfoAt:function(t){var e=this,i=0,n=e._30o,o=e.lp(t),a=o.x,s=o.y;if(s>=0&&s<=e.getHeight())for(;i<n.size();i++){var l=n.get(i);if(l.startX<=a&&a<=l.endX)return l}return r},drawItem:function(t,e,i,n,o){if(!1===e.visible)return 0;if(In(e.visible)&&!e.visible())return 0;var a=this,r=e.disabled;r&&(t.globalAlpha=rr);var s=a.drawItemImpl(t,e,i,n,o),l=a._itemGap;return r&&(t.globalAlpha=1),this._currentItem!==e||"separator"===e||!0===e.separator||e.unfocusable||fa(t,a._separatorColor,i-l/2,0,s+l,n),s},drawItemImpl:function(t,e,i,n,o){var a=this,s=a._view,l=a._itemGap,c=n/2,h=e.type,d=e.element,g=e.label;un(d)&&(g=d,d=r);var u,f=a.getLabelFont(e),v=a.getLabelColor(e),p=e.selected,I=Pr(e.icon),_=al(I,e),y=0,C=_+(g?Xr(f,g).width:0);if("separator"===e||!0===e.separator)return Wn(t,a._separatorColor,i,n/4,c),1;if(d){I&&Lr(t,I,i+_/2,c,e,a),Jr(t,g,f,v,i+_,0,0,n);var m=yo(d);o||a._90I.add(m),m.parentNode!==s&&no(s,m),d.iv&&d.iv(),d.validate&&d.validate();var w=m.getBoundingClientRect(),b=w.width,A=m.style;return eo(m),A.left=a.tx()+i+C+yt,A.top=(n-w.height)/2+yt,C+b}return"radio"===h?u=Pr(p?Rt:Pt):h===Vt&&(u=Pr(p?Vt:jt)),u?(y=al(u,e),Lr(t,u,i+y/2,c,e,a),i+=y,C+=y):p&&la(t,i-l/2,0,C+l,n,a.getSelectBackground(e)),I&&Lr(t,I,i+_/2,c,e,a),Jr(t,g,f,v,i+_,0,0,n),C},validateImpl:function(){var t=this,e=t._canvas,i=t.getWidth(),n=t.getHeight(),o=t._30o,a=t._items;io(e,i,n);var r=go(e),s=t._itemGap,l=s/2;uo(r,t.tx(),0,1),r.clearRect(0,0,i,n);var c=t._90I;t._90I=new ml,o.clear(),a.forEach(function(e){var i=t.drawItem(r,e,l,n);o.add({item:e,startX:l,endX:l+i,width:i}),i&&(l+=i+s)}),c.each(function(e){t._90I.contains(e)||ps(e)});var h=t._64I;t._64I=M(0,l),r.restore(),t._stickToRight?(t._65O=0,r=go(e),l=i-t._64I+s,uo(r,0,0,1),r.clearRect(0,0,i,n),o.clear(),a.forEach(function(e){var i=t.drawItem(r,e,l,n,!0);o.add({item:e,startX:l,endX:l+i,width:i}),i&&(l+=i+s)}),r.restore()):t.tx(t.tx()),h!==t._64I&&t.onSumWidthChanged(h,t._64I)},onSumWidthChanged:function(){},handleClick:function(t,e){var i=this,n=t.type,o=t.action,a=t.groupId,s=t.selected;t.disabled||(a!=r?s||(t.selected=!0,this._items.forEach(function(e){e.groupId===a&&t!==e&&(e.selected=!1)}),o&&t.action(t,i,e)):n===Vt||"toggle"===n?(t.selected=!s,o&&t.action(t,i,e)):o&&t.action(t,i,e)),ur(),i.iv()}});var wv=function(t){this.tb=t,this.addListeners()};ms(wv,i,{ms_listener:1,getView:function(){return this.tb._view},handle_mousewheel:function(t){this.handleScroll(t,t.wheelDelta/40*10)},handle_DOMMouseScroll:function(t){this.handleScroll(t,10*-t.detail)},handleScroll:function(t,e){jr(t);var i=this.tb;i.isScrollable()&&!i._stickToRight&&(i.tx(i.tx()+e),wo())},handle_mousemove:function(t){bo||this.setItem(t)},handle_mouseout:function(t){var e=this;t.target===e.getView()?e.tb.setCurrentItem(r):e.handle_mousemove(t)},handle_mousedown:function(t){this.handle_mousemove(t),this.handle_touchstart(t)},handle_touchstart:function(t){var e=this,i=e.tb,n=t.target;$r(t)&&(n===e.getView()||n===i._canvas)&&(jr(t),i.setFocus(t)&&(this.setItem(t,!0),(i.isScrollable()||e.info&&!e.info.item.disabled)&&(e.x=is(t).x,e.tx=i.tx(),vs(e,t))))},handleWindowMouseMove:function(t){this.handleWindowTouchMove(t)},handleWindowTouchMove:function(t){var e=this,i=e.tb;if(!i._stickToRight){var n=is(t).x-e.x;!e._25o&&D(n)>2&&i.isScrollable()&&(e._25o=1),e._25o&&i.tx(e.tx+n)}},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handleWindowTouchEnd:function(t){var e=this,i=e.tb,n=e.info,o=e.tb.getItemInfoAt(t);if(!e._25o&&n){var a=n.item;o&&o.item===a&&i.handleClick(a,t)}e._25o=e.x=e.tx=r,e.setItem()},setItem:function(t,e){var i=this.tb,n=this.info=t?i.getItemInfoAt(t):r,o=n?n.item:r;i.setCurrentItem(o),e&&o&&In(o.onDown)&&o.onDown(t)}}),ov.BorderPane=function(){this._view=$n(1,this),this.iv()},av("BorderPane",i,{ms_v:1,ms_ac:["topHeight","bottomHeight","leftWidth","rightWidth"],ms_fire:1,getLeftView:function(){return this._leftView},setLeftView:function(t,e){this._12o("leftView",t),e!=r&&this.setLeftWidth(e)},getRightView:function(){return this._rightView},setRightView:function(t,e){this._12o("rightView",t),e!=r&&this.setRightWidth(e)},getTopView:function(){return this._topView},setTopView:function(t,e){this._12o("topView",t),e!=r&&this.setTopHeight(e)},getBottomView:function(){return this._bottomView},setBottomView:function(t,e){this._12o("bottomView",t),e!=r&&this.setBottomHeight(e)},getCenterView:function(){return this._centerView},setCenterView:function(t){this._12o("centerView",t)},_12o:function(t,e){var i=this,n="_"+t,o=i._view,a=i[n];a!==e&&(a&&(a.getView?ps(a.getView()):ps(a)),i[n]=e,e&&(e.getView?no(o,e.getView(),1):no(o,e,1)),i.fp(t,a,e))},onPropertyChanged:function(){this.iv()},validateImpl:function(){var t=this,e=t._topView,i=t._bottomView,n=t._leftView,o=t._rightView,a=t._centerView,s=t.getWidth(),l=t.getHeight(),c=0,h=0,d=s,g=l,u=0,f=0,v=0,p=0;e&&(h=u=t._topHeight==r?lo(e):t._topHeight),i&&(g=l-(f=t._bottomHeight==r?lo(i):t._bottomHeight)),n&&(c=v=t._leftWidth==r?so(n):t._leftWidth),o&&(d=s-(p=t._rightWidth==r?so(o):t._rightWidth));var I=M(0,d-c),_=M(0,g-h);e&&Co(e,0,0,s,u),i&&Co(i,0,g,s,f),n&&Co(n,0,h,v,_),o&&Co(o,d,h,p,_),a&&Co(a,c,h,I,_)}})}}(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object)}).call(e,i("DuR2"))},pX1U:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIwcHgiIGhlaWdodD0iMjBweCIgdmlld0JveD0iMCAwIDIwIDIwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY195dWxhbjwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjA05ZyG5b2i55+p5b2i6YCJ5oupIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTIzNC4wMDAwMDAsIC0yMC4wMDAwMDApIj4NCiAgICAgICAgICAgIDxnIGlkPSLnn6nlvaIiPg0KICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMjYuMDAwMDAwLCAxNi4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImljL3l1bGFuIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4LjAwMDAwMCwgNC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik04LjU1NTUyNDY5LDYuNzY4MjMzNCBMMTMuMTU0MTM2OSw5LjgzMzk3NDg1IEMxMy4zODM5MDEyLDkuOTg3MTUxMDggMTMuNDQ1OTg4MiwxMC4yOTc1ODU4IDEzLjI5MjgxMTksMTAuNTI3MzUwMSBDMTMuMjU2MTk0NSwxMC41ODIyNzYyIDEzLjIwOTA2MywxMC42Mjk0MDc3IDEzLjE1NDEzNjksMTAuNjY2MDI1MSBMOC41NTU1MjQ2OSwxMy43MzE3NjY2IEM4LjMyNTc2MDM1LDEzLjg4NDk0MjggOC4wMTUzMjU2OCwxMy44MjI4NTU5IDcuODYyMTQ5NDUsMTMuNTkzMDkxNiBDNy44MDczOTM2MSwxMy41MTA5NTc4IDcuNzc4MTc0NTksMTMuNDE0NDUzOSA3Ljc3ODE3NDU5LDEzLjMxNTc0MTUgTDcuNzc4MTc0NTksNy4xODQyNTg1NSBDNy43NzgxNzQ1OSw2LjkwODExNjE3IDguMDAyMDMyMjIsNi42ODQyNTg1NSA4LjI3ODE3NDU5LDYuNjg0MjU4NTUgQzguMzc2ODg3MDksNi42ODQyNTg1NSA4LjQ3MzM5MDkzLDYuNzEzNDc3NTYgOC41NTU1MjQ2OSw2Ljc2ODIzMzQgWiIgaWQ9IuefqeW9oiIgZmlsbD0iIzkxQTVGRiI+PC9wYXRoPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBpZD0i5qSt5ZyG5b2iIiBzdHJva2U9IiM5MUE1RkYiIHN0cm9rZS13aWR0aD0iMiIgY3g9IjEwIiBjeT0iMTAiIHI9IjciPjwvY2lyY2xlPg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},q3hF:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjgwcHgiIGhlaWdodD0iODBweCIgdmlld0JveD0iMCAwIDgwIDgwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19sYW1wX3N0YXRlMTwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGRlZnM+DQogICAgICAgIDxjaXJjbGUgaWQ9InBhdGgtMSIgY3g9IjI5LjgxMDUyNjMiIGN5PSIzMC4zMTU3ODk1IiByPSIyNi44NDIxMDUzIj48L2NpcmNsZT4NCiAgICAgICAgPGZpbHRlciB4PSItOC43JSIgeT0iLTguNyUiIHdpZHRoPSIxMTcuNCUiIGhlaWdodD0iMTE3LjQlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMiI+DQogICAgICAgICAgICA8ZmVNb3JwaG9sb2d5IHJhZGl1cz0iMy42NTc4OTQ3NCIgb3BlcmF0b3I9ImRpbGF0ZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd1NwcmVhZE91dGVyMSI+PC9mZU1vcnBob2xvZ3k+DQogICAgICAgICAgICA8ZmVPZmZzZXQgZHg9IjAiIGR5PSIwIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4NCiAgICAgICAgICAgIDxmZUNvbXBvc2l0ZSBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiBpbjI9IlNvdXJjZUFscGhhIiBvcGVyYXRvcj0ib3V0IiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZUNvbXBvc2l0ZT4NCiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwLjU4NjEzNTY0MyAgIDAgMCAwIDAgMC41ODYxMzU2NDMgICAwIDAgMCAwIDAuNTg2MTM1NjQzICAwIDAgMCAxIDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd09mZnNldE91dGVyMSI+PC9mZUNvbG9yTWF0cml4Pg0KICAgICAgICA8L2ZpbHRlcj4NCiAgICA8L2RlZnM+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjEx54q25oCB5pi+56S65qC35byP5bqTMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTk0Mi4wMDAwMDAsIC0yMzUuMDAwMDAwKSI+DQogICAgICAgICAgICA8ZyBpZD0i5YiG57uELTExIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0i5YiG57uELTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3MC4wMDAwMDAsIDEzOS4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImljL2xhbXAvc3RhdGUxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3NzIuMDAwMDAwLCA5Ni4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSLmjIfnpLrnga/lm77lupMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIuMDAwMDAwLCAxLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSLmjIfnpLrnga8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDguMDAwMDAwLCA4LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0i5qSt5ZyG5b2iIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgZmlsbD0iYmxhY2siIGZpbGwtb3BhY2l0eT0iMSIgZmlsdGVyPSJ1cmwoI2ZpbHRlci0yKSIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIHN0cm9rZT0iI0RFREVERSIgc3Ryb2tlLXdpZHRoPSIzLjE1Nzg5NDc0IiBmaWxsPSIjNEY0RjRGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGN4PSIyOS44MTA1MjYzIiBjeT0iMzAuMzE1Nzg5NSIgcj0iMjguNDIxMDUyNiI+PC9jaXJjbGU+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBpZD0i5qSt5ZyG5b2iIiBmaWxsPSIjRDkxOTE5IiBjeD0iMzAuMDYzMTU3OSIgY3k9IjMwLjMxNTc4OTUiIHI9IjI1LjI2MzE1NzkiPjwvY2lyY2xlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1hZ2UgaWQ9Iue7hC0yIiB4PSI2LjA2MzE1Nzg5IiB5PSI5LjYiIHdpZHRoPSI0Ny40OTQ3MzY4IiBoZWlnaHQ9IjQwLjQyMTA1MjYiIHhsaW5rOmhyZWY9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRjRBQUFCUUNBWUFBQUNRMk1JZUFBQUFCR2RCVFVFQUFMR09mUHRSa3dBQURPMUpSRUZVZUFIdDNPbVBuTVVSQm5BY0NMbElRc0tOc1pFSUliZVVpNFFjNG12KzY0amtRNkljVWlJa3ZnQ1JFVmR3SEFRNUNBUUNUdjFtOWpHMTdYZG0zbG5QcnUzeGxsVGIzZFhWMWQxUFYxZjMyK3YxbWN1WEw5OTJBOUluYTB6M0Z0OVhmSGZ4RjR2dkt2NU04YWVMYnkrK3MvakQ0ZytLLzF2OC9rSCszNVgrby9qdDRrdkZmeSttYzBQUm1Sc0VlRUNmUCtDemxRSjhwRE1IZ2ptZTBuWHBXNERYaTE4KzRPdStFTmNUK0U4VkNGOHBmcUw0a1dMZ2h3QTNBdnhSeVQ1eG9DQy9pcUtqZld4RXBnM1FYeTErdnZndnhYYkxpZFAxQVA2Qm11VjNpaDh2Qmo0S3FJQWFRWS8zZHAwQXVtZzgvT2dnWjRIWXdDbEhCK2pBZjdiNFl2R0owVWtDLzJqTjZ2dkZENS9ZN0s3dUtBdDdkYzB5RlAycEtsNmFxdHkxN0NTQVAxZURmckw0L2wwUC9wanMvYTNzL3FINGxXT3l2ekI3bk1CL29YcDRxdml4WXA2VzhHQ2JKMS9aS3pTR21LNlRjTk5sR202U1IwYzduRDZrNFlRZHV0RnhXM3FwK0xmRmJrZzdwK01BM2tURThPOFYzOUZHbkVsRk5KWWpsNnBEQVZaK1NrYU9VcmNzTFgrdWFodkFYVW1OMWFFdUgvcGZaWndGd0hjR0NEL09BT1dwZmtxOFBlMGFlRjcrZEhHL0R1WkFHNEhvbnErdVQwcSs2eWZmNVYwLzdidGVtVmhRMmlRbEJMYitIZTYrRFh3VGNCTHQzWHFNR2VqeVV1SG5tV0xmQnBsUFpZOU91d1Qrc1JyR2o0dW52TnhnQTRyUkFzSEVweWlBam1EUzdlQ05iWHRkOHZwTlA1RXA4M0NnZjdiWUJ4ck9kUmJZK0wzaWR3ODQrZDlVK1lWaWRxOXBBWFlCUElCK1VPdytQbEltTzhybmxyVkg0NkwxOGxKai9rK2djdzZndTJGOXQ5Z0ZnT3lkWWpIZDF5LytWL0UvRDFKMUZ1SzU0dDhWSnlSVmRudnEzcmw5NitWZ2YxNE5IeXdXQXdOSUFPL0FSYWFmbmxjT2RmMHU2M1lqbDBiZVpmS3I3S3ZUUmoyUC9VOHh6ejliSEZzQUZWNEE3Ym5oOVdKZnZtOFZXNVJ2RjMrKytKbGlPK0ZJbm44dEhtL0FUeGQvcVRpQVZYWnJ5b1ExN0hZQzBOWUcxelJJWDhLS054OW4wajNGM3lqK1NURlp5Rmc0RTg5L3FmamxZaDlaYnhiYkNYOHQvbVd4K3EzQlB5cndEaVNlYnVXUlFXWlN5U2VkVTArbjA5aFczV2lmak41SVhVK2RjdlJTWjZkem5NOFZlNEM3ci9paDRpZUw3eTN1cEsxZDhGcXhaNFpYaXgyMnZQK040bWVLTGNSVzRCOGwxQmp3VDR2RlNCNFJ5Z1E3YU9vaTcva3VTL3VwbEo0SlNkTm10Sy9kS0Z1bnE4NjQzeStPWFFldS9CK0xlZi81ZzNJbEM3a2RjcTZZdytVUU5pNEx3Z0YvVlN4c3pRWi9XK0RwdTdrWVFBZTlpZ3N5ZUNDc296azYya2VQUGNERWJ0SlJSbitLNkk5MUFBdm5GcFBVZ29qdmp4Y0g1TW91eG1BM2ZLczRDMGRYcUgycStOZkZ5ck5vRytCTjFGdUw3Um5RQTBLZldKL29tRGVvNlBZNjh0aVNSOUdUNzU2VWRwR2xUQStsSEh2ZHpsSmorVE1lQzNDTEFEU0hwWU5WbmdjN1NPM3dFQXljQ1Y4dlZrOGZmN240aDhXL0wyWnJJMjBEL0ZmTG10VUZ1c21ZV0NaWjJTdEVGbTlNZmZTVGtvY0NEQ0Rrb3hNNXZkZ1o4Mk01ZXRMMDBlMzErc2dCMVQzWVFnUjhvTHB1Y3JhUXVkMWZiRWZrcWtuUE9mRzE0dWVLTjlKYzRCbDlwSGhjelF3K2s5UWhXZlRrNDVueUtMcHB1NVIrREhqSzBVczU2YVoycVIvN1MvdXBGUEJaZ0E0OHoxZTIwOTJBUWtMUW84V1hpdDF5TElBRk9WZnM0Q1ZmUzNPQWQ4V3l0ZUxwVXdhQmhIVStFbmxBU0ozRnlLNllBbXJVWndPTmZZeTJVMDY2YlBYeFlpdkhOaDJNak1XWWdMeUtuNnc2TjZBUVhEamppOFhCRVVhd2NzdXhDMVpTR3F4U01FaUdwSnVBWnlNVGtROTFFSktYaGdNRWZiSVFlY3JSU1p2b2pQWGtrVVVuYVd5azNQWGtFK3FrdkQ4N1FFcEc1MGZGQVo4OXU0RDNaNnpCeU0zb3o4VzlqeXArVEp1QWQ3Y1YzM1ErVWliQ2VEcU9qTzdZYWVwR09kMjA3L2t1STk5RTBlK3BOdWt2OG01blNnWThPMEFLY0NrYldaQ2ZWUjdnWkhBUmpySkkwWGZyZzUydjNrbGFCL3lkMWVKc3NZNzNrWUFPcUNrS2dBREZ5b0FXaHJ6WC9LTFk0bHdvOXF4QXBpNExVTmtGZHVvc3pGVzBEdmh6QjlvNkRHV2dpYytSMDBtY2pHd3FOZGx4d3Nxbzk3T1VyUDhaVzlxbDdUZ0dPdXFtZEh1L3lVdkhPUUkxZlFEeDdXSXgvSHp4czhVWGl6MGJ1QWtGK1BSSDU4WGlxMmpWazRHbmdDZWFOa09aWEJOZjEyekFPdXE0c2lCOUVwbG5VblVXazRNNlRIMnRDeVB5WXJ0RmVlZUFIYWE4UGd0WDJRVTlYejh0MUNGYTVmSGlreERUQjNDbzRZYkNVZHV0TWh0N1NWZnBIWWNjRGhpZ1BONkhFOXlNaFllSEF6cmRUckNjQlR4djk3V1dsUnM5YXB4OEx5ZWYxQUNTbDRiaWJUMU5YZEt1SDVrMDQ0bmRYaWMvdG90KzlOSXVlaG1EK3VSN0dqbUFlVG5QMWpaTWp1QVZ6SlRUTHl4aGVnajhLWS8zSHRFTlZQR1dwK0FoellKMVVJQWNvTHM4K1hzcXN4WjQ4Y3NLamRzbEJrN1RveUhnVElDdE0yRkJvOGY3T01qcVRhM3NRYk1qSjJ3Zmg5MGpEMmhvZUpUeHpXMEQyMG5nbmQ0K2x1THRBR0lVSlIvUUlsL1dydjdaMjQxdFV0ZnRKOTh0cm12WDlYcmIzaWI5Wk96MFVqL0tsSHM0R2ZWU0h2dnFmWXc2eXVwaGUrVzYyejFlQmFYZXNJcGJVVHJacXRFSktJL2pHc3U3R01JY216QmV4UG9PdkR0cURwRnJHWWdCM0lnMGptc3M3MkxNbTJ6QytCRHd0b0luZ29TWkRLSnZJYkxSY09yVjlieHlwOVFsVmRmektVdkhQc2pXRVR0b2JOZnQ5L3hTKy9EUDJCanRUTFdMTEtrMlBSL0xVeklZTCtUeGVEY1pBKytEVDBPeTVDdDdWWjVzMUNHYkluWlErcGtxOTdwMStZd3A2ZEx5OU04cG5kNTN6M2NMWFI0YlhUWTF2clR2ZWwzbWh2TnVnSi95OWlqM1ZFY3gyT1hyOHI3bytnT1NYU1drc1JWMjZMQnJQTmg0TUhub0tIMm43WmpPc1RWSFo3UTdwN3g0YWdqd0NqcWFRM1AwUEJqNXdwUE9PVGVpWTFHMDhmNkI3RVFlZ2kzTW5MNUxiUmJOc1RWSFoxWm5UUW5XVjk0Yy9MTzJUTDdwYkowRk50REdzMkpyUXdjTkxBSjJJQUhmNGRSM1FSVnZPb0wxR1I2L0M5QzlWM2dhemJ0RlpYZEtuTUxqbEE4UUMrQXI4R1plZ05zVFUxZHRLZkpOTVoxSEF2MGt5SGlBYjJmbGViYVBieHp2cW5Ma1NkZU5mWlVPT2VyOUx5V0hmL2IyeWQvaFBUNFRPS3crcnhRUTVtbnZYb3ZYRzcrRCtHYWk5M2k4RmJPVnBWbkZ5bTRrb0UvK1dtdGp5OTBwR0xjenhhNFRnb1JOdEdrdVkvMVlYbG81L0hPT1RtOHhwUi9aR1I3dk16WUQ3ZzNIZkxZSk9kQmRFVzgwNHZsdVFpWjRJOU9IUEI2Z2MyODBkTVhYNHpwRXkvUTFrUjNJSVN6QTR0cDJUZGFPci9GbHdLTTVJWWFPTGIycnE2SitqNE15eml6QW5OMThIT05ZYXpNZVQ4bUEreFpOV2NyRHNmek5RbmF4M1FsNDgzUVFaMzU5SHBGVjlZSjZIVUhxeWNkOGRNbVQ3MjNrVWRvbXZVMk1keWlOUkFFYlBBK1h2OWtKOEZtQTZ6NlgvUE9PcktRQjdRUEk2NEM5RVJiZ2d3Qy9icUQ3V3NmWkxJSlExQjN2T09mTHFZWHNqMjVsNER2QVdZU2t2VzVYZVdIN3ltMXdXK0JIejlqWHNKU0QySHpIT1crN0VEQzY2cHpNZFhLT3NXeExLZW9INzc0dGdMbUZBbjdTeURlbGJNQmxFcHU1d0FQYkI0bG5XV3dRUHRXOUdMb3ZUeG92K1Q3UUZIalpCVWt6enluZDFCMUt0d0VlNEdlTEh5alc0YVhpVjRxOWxjL3VzSFQzZ2VKb1NiZWVVOExHdW9aQXBnZjQrdzVTZDM5NS8wRGY0bzByWDZKVFdvZkFIT0MxQjJ3V0lHWHZJWUNYenJXajdTa1ZBbk1CczZWY2hYbzgxeGJ3M3NOUDhpNWMzZDM4TkFkNG9EdWh2WHY0VFZQaW1oMGcvTnhkZk9yMUJjSTJOQWQ0OWdEdnlkVi9uTkIvK2VHbWMwK3hOLzNUV0Y4Z3pLVzV3Q2ZVNUMrWjQvWGFBeDM0cHlGbkx1cWx0dzN3dnI3ODVzbGZzZ2s3SVdIR0h6UDRaOGluSVNlb2JFam5BczlNd28yL2V1UDV5a2lzNS9VUEZ2dVRFK0ZuRzd1bGZ1dlIzQThveUNUYytGcTlXQXpzdTRxUlc0My9ZQ0svb2ZKUjVRYVV4YW5zS1hVRXRnRmVPK0FEMUNGN3FaaDMrK1V5a2hkeUFyZ25oZVFyZTBvZGdXMURBdUFUNjNuOVd3ZmwySFRBQ2puWWJoRHpUKy80QmNKSTJ3S3Z2ZkRoWThxZC9yVmlNYitIRk9BL1hIeTIyQWVXSFhFS2ZvSFFhZHYzK0xUTjg0RTNHK0hsZkxGYkRYbEl2TGNqM2loMkdMc1JMWDc3VXVrdFQ5dkcrQUFtNVBCeTRMNVpiT2NBM2EwbXU0aW41MUhOZVdBQlR1TitnWUNPQ3J5MmlmZkFkN2RYZnFSWWVCRmFrTlJpQ0QvaS9ZVmlaMFFQVFZXODlTamVlZFNaQTF2NDhFRUZmTURhQVc0ejZwQ2Q0TWJ6VUxHRnZ0WSt5OFROVDlmaThabDl3SmZ5WkF2aHJpLzJlMFFMME9yN1lsZ1EzT1dwTC9GKzB5NkFoeERBaEJCaEo2a0RGZmdPWGYyOFVHd25JSWN5V1lEUG9Xdmh3bnU5Q0VlOTFSUStLNG1IaSsyQWRjQmlnSHZWdENoSXpEOWJMTzRMVS9sckR3c1gzU3hHaWZhUGpnTjRLQ1dNV0FSNXhJT3pHTitzZkhZQ29JRXN0UWllR3k0VzJ6SGtlMG1BT0E0Q01oNXZMeGJCYnZDdWs1c1ByM2Y0MmdWdVFINng0cU5NL2Q0Q240T3Y1bmlpeEtzNzlSM0NHUktTdXM1ZTVVOGFlRHRBT0xsUTdOcVpmNWVUbldHWGVJclk2L2hlODF2RVhPbEpFWUFkc2tEM0Zlc2hEUXN6ZWRNUjN4MnlXWXpLN2g4ZDErRzZEcW1FRlRFY0N5M2l2TjJIZ1c0bjhIbzdZQy9wZWdEZmdjd2lBRndlOGZTcGczbFJ1UzgvL2cvTTN1d1Bsem1UMGdBQUFBQkpSVTVFcmtKZ2dnPT0iPjwvaW1hZ2U+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},rAsD:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19zZWFyY2g8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSIwNOWchuW9ouefqeW9oumAieaLqSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIxMi4wMDAwMDAsIC0xMzEuMDAwMDAwKSIgZmlsbD0iIzY2NjY2NiIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSLlt6bkvqfmoI8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxMjAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC03Ij4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9IuW9oueKtiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjEyLjAwMDAwMCwgMTEuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTkuMzg5MzAxOCwxNy41MTkzODU0IEMxOS40ODgzNzM5LDE3LjU3NzI5NTEgMTkuNTgxNzE5OSwxNy42NDg3MjMzIDE5LjY2NjY2NjcsMTcuNzMzNjcgTDIxLjU5OTY2MzMsMTkuNjY2NjY2NyBDMjIuMTMzNDQ1NiwyMC4yMDA0NDg5IDIyLjEzMzQ0NTYsMjEuMDY1ODgxIDIxLjU5OTY2MzMsMjEuNTk5NjYzMyBDMjEuMDY1ODgxLDIyLjEzMzQ0NTYgMjAuMjAwNDQ4OSwyMi4xMzM0NDU2IDE5LjY2NjY2NjcsMjEuNTk5NjYzMyBMMTcuNzMzNjcsMTkuNjY2NjY2NyBDMTcuNjE5MzMwNiwxOS41NTIzMjczIDE3LjUyOTQ4MzQsMTkuNDIyNzcwNCAxNy40NjQxMjg0LDE5LjI4NDUxNTMgQzE1LjAzNjEwOSwyMC43MzIzNTE0IDExLjkwMTg1OTksMjAuNDAyMzM0MSA5LjgyNzIwNDk2LDE4LjQwODMwNzYgQzguNjU5MjE2NDgsMTcuMjc2ODUyMiA4LDE1LjcyMDk3NiA4LDE0LjA5NTc1NjYgQzgsMTIuNDcwNTM3MSA4LjY1OTIxNjQ4LDEwLjkxNDY2MDkgOS44MjcyMDQ5Niw5Ljc4MzIwNTQ3IEMxMi4yNzk5MjQzLDcuNDA1NTk4MTggMTYuMTgwMjk5Niw3LjQwNTU5ODE4IDE4LjYzMzAxODksOS43ODMyMDU0NyBDMjAuNzY5MTQzNywxMS44NTIxMzEzIDIxLjA0Nzk1OTksMTUuMTM1Mjk1MiAxOS4zODkzMDE4LDE3LjUxOTM4NTQgTDE5LjM4OTMwMTgsMTcuNTE5Mzg1NCBaIE0xMC4xMjk2MDY5LDE0LjA5NTc1NjYgQzEwLjE2NzEzNjEsMTYuMzg3NjYzMSAxMS45OTk3NTE1LDE4LjIxODkwOTUgMTQuMjMyOTY1NSwxOC4xOTYwNDk5IEMxNi40NjM5NjI5LDE4LjIxNTY3MDkgMTguMjkzMDk2NCwxNi4zODUzNTggMTguMzMwNjE3LDE0LjA5NTc1NjYgQzE4LjI5MzA5NjQsMTEuODA2MTU1MSAxNi40NjM5NjI5LDkuOTc1ODQyMjQgMTQuMjMyOTY1NSw5Ljk5NTQ2MzIgQzExLjk5OTc1MTUsOS45NzI2MDM1NiAxMC4xNjcxMzYxLDExLjgwMzg1IDEwLjEyOTYwNjksMTQuMDk1NzU2NiBaIj48L3BhdGg+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},rEy2:function(t,e){},rIpE:function(t,e,i){t.exports=i.p+"static/img/ic_fengji.8fcf3e0.svg"},rWwZ:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjQwcHgiIGhlaWdodD0iNDBweCIgdmlld0JveD0iMCAwIDQwIDQwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19ndWFuZGFvPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iMTQ0MHg5MDAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iMDTlnIblvaLnn6nlvaLpgInmi6kiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zNC4wMDAwMDAsIC0zNTQuMDAwMDAwKSI+DQogICAgICAgICAgICA8ZyBpZD0i5bem5L6n5qCPIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMTIwLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtMTMtY29weS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNC4wMDAwMDAsIDIzNC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9ImljL2d1YW5kYW8iPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oiIgc3Ryb2tlPSIjNjE3RUZFIiBmaWxsLW9wYWNpdHk9IjAiIGZpbGw9IiM2MTdGRjciIG9wYWNpdHk9IjAiIHg9IjAuNSIgeT0iMC41IiB3aWR0aD0iMzkiIGhlaWdodD0iMzkiPjwvcmVjdD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtMTciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMuMDAwMDAwLCA0LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zNCwzMiBMMjAsMzIgQzEwLjA1ODg3NDUsMzIgMiwyMy45NDExMjU1IDIsMTQgTDIsMCBNMTIsMCBMMTIsMTQgQzEyLDE4LjQxODI3OCAxNS41ODE3MjIsMjIgMjAsMjIgTDM0LDIyIEwzNCwyMiIgaWQ9IuW9oueKtiIgc3Ryb2tlPSIjMzMzMzMzIiBzdHJva2Utd2lkdGg9IjIiIGZpbGwtcnVsZT0ibm9uemVybyI+PC9wYXRoPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaIiIGZpbGw9IiMzMzMzMzMiIHg9IjMyIiB5PSIzMiIgd2lkdGg9IjIiIGhlaWdodD0iMiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaItY29weS0xMjgiIGZpbGw9IiMzMzMzMzMiIHg9IjMyIiB5PSIyMCIgd2lkdGg9IjIiIGhlaWdodD0iMiI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSLnn6nlvaItY29weS0xMzAiIGZpbGw9IiMzMzMzMzMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEuMDAwMDAwLCAxLjAwMDAwMCkgcm90YXRlKC0yNzAuMDAwMDAwKSB0cmFuc2xhdGUoLTEuMDAwMDAwLCAtMS4wMDAwMDApICIgeD0iLTEuMTM2ODY4MzhlLTEzIiB5PSIwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IuefqeW9oi1jb3B5LTEyOSIgZmlsbD0iIzMzMzMzMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTMuMDAwMDAwLCAxLjAwMDAwMCkgcm90YXRlKC0yNzAuMDAwMDAwKSB0cmFuc2xhdGUoLTEzLjAwMDAwMCwgLTEuMDAwMDAwKSAiIHg9IjEyIiB5PSIwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIj48L3JlY3Q+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTM0LDI3IEwyMCwyNyBDMTIuODIwMjk4MywyNyA3LDIxLjE3OTcwMTcgNywxNCBMNywwIiBpZD0i6Lev5b6ELWNvcHktMiIgc3Ryb2tlPSIjNjE3RUZFIiBzdHJva2Utd2lkdGg9IjQiIHN0cm9rZS1kYXNoYXJyYXk9IjUiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},rtKH:function(t,e){},sDNn:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19zYXZlPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iMTQ0MHg5MDAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iMDTlnIblvaLnn6nlvaLpgInmi6kiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODEuMDAwMDAwLCAtNzUuMDAwMDAwKSIgZmlsbD0iIzY2NjY2NiIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSLlt6XlhbfmoI8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCA2MC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0iaWMvc2F2ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTc2LjAwMDAwMCwgMTAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuMDAwMDAwLCA1LjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEwLjgsMTAuMzA5MDkwOSBMMTAuOCwzLjQzNjM2MzY0IEwxOC4xNjM2MzY0LDMuNDM2MzYzNjQgTDE4LjE2MzYzNjQsMTAuMzA5MDkwOSBMMTAuOCwxMC4zMDkwOTA5IFogTTIwLjgwMzI1NDYsMy40MzYzNjM2NCBDMjIuMzI3MDk4NCwzLjQzNzk4NzA2IDIzLjU2MjAxMjksNC42NzI5MDE2MiAyMy41NjM2MzY0LDYuMTk2NzQ1NDUgTDIzLjU2MzYzNjQsMjAuODAzMjU0NSBDMjMuNTYyMDEzLDIyLjMyNzA5ODQgMjIuMzI3MDk4NCwyMy41NjIwMTI5IDIwLjgwMzI1NDYsMjMuNTYzNjM2NCBMOC4xNjAzODE4MywyMy41NjM2MzY0IEM2LjYzNjY0OTk4LDIzLjU2MTc0MyA1LjQwMTg5MzM0LDIyLjMyNjk4NjQgNS40LDIwLjgwMzI1NDUgTDUuNCw2LjE5Njc0NTQ1IEM1LjQwMTg5MzM1LDQuNjczMDEzNiA2LjYzNjY0OTk5LDMuNDM4MjU2OTggOC4xNjAzODE4MywzLjQzNjM2MzY0IEw5LjMyNzI3MjcyLDMuNDM2MzYzNjQgTDkuMzI3MjcyNzIsMTEuMDQ1NDU0NSBDOS4zMjcyNzI3MiwxMS40NTIxMzY5IDkuNjU2OTUzOTUsMTEuNzgxODE4MiAxMC4wNjM2MzY0LDExLjc4MTgxODIgTDE4LjksMTEuNzgxODE4MiBDMTkuMzA2NjgyNCwxMS43ODE4MTgyIDE5LjYzNjM2MzYsMTEuNDUyMTM2OSAxOS42MzYzNjM2LDExLjA0NTQ1NDUgTDE5LjYzNjM2MzYsMy40MzYzNjM2NCBMMjAuODAzMjU0NiwzLjQzNjM2MzY0IFogTTE1Ljk1NDU0NTQsOS4wODE4MTgxNyBDMTYuMzA1NDAzLDkuMDgxNzMwNDkgMTYuNjI5NTYyLDguODk0NDY5MTkgMTYuODA0OTE0OCw4LjU5MDU3Mzc5IEMxNi45ODAyNjc2LDguMjg2Njc4NCAxNi45ODAxNzQxLDcuOTEyMzE3ODUgMTYuODA0NjY5NCw3LjYwODUxMDE0IEMxNi42MjkxNjQ2LDcuMzA0NzAyNDQgMTYuMzA0OTEyMSw3LjExNzYwMzIgMTUuOTU0MDU0Niw3LjExNzY5MDg5IEMxNS42MDMxOTcsNy4xMTc3Nzg1OCAxNS4yNzkwMzgsNy4zMDUwMzk4OCAxNS4xMDM2ODUyLDcuNjA4OTM1MjggQzE0LjkyODMzMjQsNy45MTI4MzA2NyAxNC45Mjg0MjYsOC4yODcxOTEyMSAxNS4xMDM5MzA3LDguNTkwOTk4OTEgQzE1LjI3OTQzNTQsOC44OTQ4MDY2MiAxNS42MDM2ODc5LDkuMDgxOTA1ODYgMTUuOTU0NTQ1NCw5LjA4MTgxODE3IFoiIGlkPSLlvaLnirYiPjwvcGF0aD4NCiAgICAgICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},tvR6:function(t,e){},u55h:function(t,e){},"uI+q":function(t,e){},uY67:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19zZWFyY2g8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxnIGlkPSIxNDQweDkwMCIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSIwNOWchuW9ouefqeW9oumAieaLqSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIxMi4wMDAwMDAsIC01MzAuMDAwMDAwKSIgZmlsbD0iIzY2NjY2NiIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSLlt6bkvqfmoI8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxMjAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC03LWNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAzOTguMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSLlvaLnirYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIxMi4wMDAwMDAsIDEyLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTE5LjM4OTMwMTgsMTcuNTE5Mzg1NCBDMTkuNDg4MzczOSwxNy41NzcyOTUxIDE5LjU4MTcxOTksMTcuNjQ4NzIzMyAxOS42NjY2NjY3LDE3LjczMzY3IEwyMS41OTk2NjMzLDE5LjY2NjY2NjcgQzIyLjEzMzQ0NTYsMjAuMjAwNDQ4OSAyMi4xMzM0NDU2LDIxLjA2NTg4MSAyMS41OTk2NjMzLDIxLjU5OTY2MzMgQzIxLjA2NTg4MSwyMi4xMzM0NDU2IDIwLjIwMDQ0ODksMjIuMTMzNDQ1NiAxOS42NjY2NjY3LDIxLjU5OTY2MzMgTDE3LjczMzY3LDE5LjY2NjY2NjcgQzE3LjYxOTMzMDYsMTkuNTUyMzI3MyAxNy41Mjk0ODM0LDE5LjQyMjc3MDQgMTcuNDY0MTI4NCwxOS4yODQ1MTUzIEMxNS4wMzYxMDksMjAuNzMyMzUxNCAxMS45MDE4NTk5LDIwLjQwMjMzNDEgOS44MjcyMDQ5NiwxOC40MDgzMDc2IEM4LjY1OTIxNjQ4LDE3LjI3Njg1MjIgOCwxNS43MjA5NzYgOCwxNC4wOTU3NTY2IEM4LDEyLjQ3MDUzNzEgOC42NTkyMTY0OCwxMC45MTQ2NjA5IDkuODI3MjA0OTYsOS43ODMyMDU0NyBDMTIuMjc5OTI0Myw3LjQwNTU5ODE4IDE2LjE4MDI5OTYsNy40MDU1OTgxOCAxOC42MzMwMTg5LDkuNzgzMjA1NDcgQzIwLjc2OTE0MzcsMTEuODUyMTMxMyAyMS4wNDc5NTk5LDE1LjEzNTI5NTIgMTkuMzg5MzAxOCwxNy41MTkzODU0IEwxOS4zODkzMDE4LDE3LjUxOTM4NTQgWiBNMTAuMTI5NjA2OSwxNC4wOTU3NTY2IEMxMC4xNjcxMzYxLDE2LjM4NzY2MzEgMTEuOTk5NzUxNSwxOC4yMTg5MDk1IDE0LjIzMjk2NTUsMTguMTk2MDQ5OSBDMTYuNDYzOTYyOSwxOC4yMTU2NzA5IDE4LjI5MzA5NjQsMTYuMzg1MzU4IDE4LjMzMDYxNywxNC4wOTU3NTY2IEMxOC4yOTMwOTY0LDExLjgwNjE1NTEgMTYuNDYzOTYyOSw5Ljk3NTg0MjI0IDE0LjIzMjk2NTUsOS45OTU0NjMyIEMxMS45OTk3NTE1LDkuOTcyNjAzNTYgMTAuMTY3MTM2MSwxMS44MDM4NSAxMC4xMjk2MDY5LDE0LjA5NTc1NjYgWiI+PC9wYXRoPg0KICAgICAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICAgICAgPC9nPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},"v/uc":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19xaWFuamluPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZyBpZD0iMTQ0MHg5MDAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0iMDTlnIblvaLnn6nlvaLpgInmi6kiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMTYuMDAwMDAwLCAtNzUuMDAwMDAwKSIgZmlsbD0iIzY2NjY2NiIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSLlt6XlhbfmoI8iIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCA2MC4wMDAwMDApIj4NCiAgICAgICAgICAgICAgICA8ZyBpZD0iaWMvcWlhbmppbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEwLjUwMDAwMCwgMTAuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxnIGlkPSLliIbnu4QtMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNS41MDAwMDAsIDUuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTYuMTI0NjkzNCw4LjM0MDE0OTQ1IEwxNi4xMjQ2OTM0LDMuNSBMMjUuNywxMi4wODEzMTA4IEwxNi4xMjQ2OTM0LDIwLjY2NDQ2MTMgTDE2LjEyNDY5MzQsMTUuNDc0MTk4NSBDMTMuNDY0NDAxNiwxNS40NzQxOTg1IDUuMjQ2NTUzMjcsMTUuNDc0MTk4NSAxLjcsMjMuNSBMMS43LDIyLjYwODIxODMgQzEuNywxOS4wNDEyMDg0IDUuMjQ3MDU1NzYsNy41ODA3NjI2IDE2LjEyNDY5MzQsOC4zNDAxNDk0NSBaIiBpZD0i6Lev5b6EIj48L3BhdGg+DQogICAgICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgICAgICA8L2c+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},vLgD:function(t,e,i){"use strict";var n=i("cwe7"),o=(i.n(n),i("+BTi")),a=(i.n(o),i("2X9z")),r=i.n(a),s=i("//Fk"),l=i.n(s),c=i("mtWM"),h=i.n(c),d=sessionStorage.getItem("_tcy8"),g=d?{baseURL:"https://xiayuanchun.quarkioe.cn",timeout:5e3,headers:{"Content-Type":" application/json",Accept:" application/json",Authorization:"Basic "+d}}:{baseURL:"https://xiayuanchun.quarkioe.cn",timeout:5e3,headers:{"Content-Type":" application/json",Accept:" application/json"},auth:{username:"",password:""}},u=h.a.create(g);u.interceptors.request.use(function(t){return t},function(t){console.log(t),l.a.reject(t)}),u.interceptors.response.use(function(t){return t},function(t){return console.log("err"+t),r()({message:t.message,type:"error",duration:5e3}),l.a.reject(t)}),e.a=u},wAkX:function(t,e){},wlbC:function(t,e){},xV2B:function(t,e,i){"use strict";var n=i("vLgD"),o="/inventory/managedObjects",a={getDeviceList:function(t){return Object(n.a)({methods:"get",url:o,params:t})},getSupportedMeasurements:function(t,e){return Object(n.a)({methods:"get",url:o+"/"+t+"/supportedMeasurements",params:e})}};e.a=a},y73z:function(t,e){},yfsc:function(t,e){},zliB:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMxcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMxIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTMuMiAoNzI2NDMpIC0gaHR0cHM6Ly9za2V0Y2hhcHAuY29tIC0tPg0KICAgIDx0aXRsZT5pY19jbG9zZTwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGcgaWQ9IjE0NDB4OTAwIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IjEy54q25oCB5pi+56S65qC35byP5bqTMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyMzMuMDAwMDAwLCAtMTQ1LjAwMDAwMCkiIGZpbGw9IiM5OTk5OTkiPg0KICAgICAgICAgICAgPGcgaWQ9IuWIhue7hC0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzAuMDAwMDAwLCAxMzkuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGcgaWQ9Iui3r+W+hCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA2NC4wMDAwMDAsIDYuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIHBvaW50cz0iMTQuMzYzOTYxIDEzLjk0OTc0NzUgMTkuMzEzNzA4NSA5IDIwLjcyNzkyMjEgMTAuNDE0MjEzNiAxNS43NzgxNzQ2IDE1LjM2Mzk2MSAyMC43Mjc5MjIxIDIwLjMxMzcwODUgMTkuMzEzNzA4NSAyMS43Mjc5MjIxIDE0LjM2Mzk2MSAxNi43NzgxNzQ2IDkuNDE0MjEzNTYgMjEuNzI3OTIyMSA4IDIwLjMxMzcwODUgMTIuOTQ5NzQ3NSAxNS4zNjM5NjEgOCAxMC40MTQyMTM2IDkuNDE0MjEzNTYgOSI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="}},["NHnr"]);
//# sourceMappingURL=app.435c2bc0754f78169bb9.js.map